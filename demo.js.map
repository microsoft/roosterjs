{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"roosterjs\"","webpack:///external \"React\"","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/@microsoft/load-themed-styles/lib/index.js","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/CodeElement.ts","webpack:///./demo/scripts/controls/MainPaneBase.tsx","webpack:///./demo/scripts/controls/BuildInPluginState.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/getEditInfoFromImage.ts","webpack:///./demo/scripts/utils/trustedHTMLHandler.ts","webpack:///./demo/scripts/controls/sidePane/SidePanePluginImpl.tsx","webpack:///external \"ReactDOM\"","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/deleteEditInfo.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/types/ImageEditInfo.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/getGeneratedImageSize.ts","webpack:///./packages/roosterjs-editor-plugins/lib/ContentEdit.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/OptionsPane.scss?0256","webpack:///./demo/scripts/controls/editor/Editor.tsx","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/applyChange.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/checkEditInfoState.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/canRegenerateImage.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Resizer.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/getTargetSizeByPercentage.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/isResizedTo.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/getAllFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordCustomData.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/LevelLists.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/constants.ts","webpack:///./demo/scripts/controls/ribbon/Ribbon.tsx","webpack:///./demo/scripts/controls/ribbon/getLastClipboardData.ts","webpack:///./demo/scripts/controls/plugins.ts","webpack:///./node_modules/color/index.js","webpack:///./node_modules/color-name/index.js","webpack:///./node_modules/color-convert/conversions.js","webpack:///./demo/scripts/controls/sidePane/editorOptions/getDefaultContentEditFeatureSettings.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/EditorCode.ts","webpack:///./demo/scripts/controls/MainPane.scss?4cfb","webpack:///./demo/scripts/index.ts","webpack:///./demo/scripts/controls/MainPane.tsx","webpack:///./demo/scripts/controls/contextMenu/ImageEditPlugin.ts","webpack:///./packages/roosterjs-editor-plugins/lib/ImageEdit.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/index.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/ImageEdit.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/generateDataURL.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/saveEditInfo.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Cropper.ts","webpack:///./packages/roosterjs-editor-plugins/lib/pluginUtils/DragAndDropHelper.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Rotator.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/resizeByPercentage.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/resetImage.ts","webpack:///./demo/scripts/controls/contextMenu/ResetListPlugin.ts","webpack:///./demo/scripts/controls/samplepicker/SampleColorPickerPluginDataProvider.tsx","webpack:///./demo/scripts/controls/samplepicker/SampleColorPicker.tsx","webpack:///./demo/scripts/controls/samplepicker/SampleColorPicker.scss?e1e3","webpack:///./demo/scripts/controls/samplepicker/SampleColorPicker.scss","webpack:///(webpack)/buildin/global.js","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/index.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/ContentEdit.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/autoLinkFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/cursorFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/entityFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/listFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/markdownFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/quoteFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/shortcutFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/structuredNodeFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/tableFeatures.ts","webpack:///./demo/scripts/controls/contextMenu/ContextMenuProvider.tsx","webpack:///./demo/scripts/controls/contextMenu/ContextMenuProvider.scss?472b","webpack:///./demo/scripts/controls/contextMenu/ContextMenuProvider.scss","webpack:///./packages/roosterjs-editor-plugins/lib/ContextMenu.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContextMenu/index.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/ContextMenu/ContextMenu.ts","webpack:///./packages/roosterjs-editor-plugins/lib/CustomReplace.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/CustomReplace/index.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/CustomReplace/CustomReplace.ts","webpack:///./packages/roosterjs-editor-plugins/lib/CutPasteListChain.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/CutPasteListChain/index.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/CutPasteListChain/CutPasteListChain.ts","webpack:///./packages/roosterjs-editor-plugins/lib/HyperLink.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/HyperLink/index.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/HyperLink/HyperLink.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Paste.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/index.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/Paste.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/imageConverter/convertPasteContentForSingleImage.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/commonConverter/convertPastedContentForLI.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/excelConverter/convertPastedContentFromExcel.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/pptConverter/convertPastedContentFromPowerPoint.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/convertPastedContentFromWord.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/wordConverter.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordConverterArguments.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/converterUtils.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/lineMerge/handleLineMerge.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/convertPastedContentFromWordOnline.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/ListItemBlock.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Picker.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Picker/index.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Picker/PickerPlugin.ts","webpack:///./packages/roosterjs-editor-plugins/lib/TableResize.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/TableResize/index.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/TableResize/TableResize.ts","webpack:///./node_modules/dompurify/dist/purify.js","webpack:///./packages/roosterjs-editor-plugins/lib/Watermark.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Watermark/index.ts","webpack:///./packages/roosterjs-editor-plugins/lib/plugins/Watermark/Watermark.ts","webpack:///./demo/scripts/controls/editor/Editor.scss?9d0f","webpack:///./demo/scripts/controls/editor/Editor.scss","webpack:///./demo/scripts/controls/PopoutMainPane.tsx","webpack:///./demo/scripts/controls/ribbon/RibbonButton.tsx","webpack:///./demo/scripts/controls/ribbon/RibbonButton.scss?97b7","webpack:///./demo/scripts/controls/ribbon/RibbonButton.scss","webpack:///./demo/scripts/controls/ribbon/ribbonButtons.ts","webpack:///./demo/scripts/controls/ribbon/renderInsertLinkDialog.tsx","webpack:///./demo/scripts/controls/ribbon/InsertLink.scss?1536","webpack:///./demo/scripts/controls/ribbon/InsertLink.scss","webpack:///./demo/scripts/controls/ribbon/renderTableOptions.tsx","webpack:///./demo/scripts/controls/ribbon/TableOptions.scss?5985","webpack:///./demo/scripts/controls/ribbon/TableOptions.scss","webpack:///./demo/scripts/controls/svg/bold.svg","webpack:///./demo/scripts/controls/svg/italic.svg","webpack:///./demo/scripts/controls/svg/underline.svg","webpack:///./demo/scripts/controls/svg/fontname.svg","webpack:///./demo/scripts/controls/svg/fontsize.svg","webpack:///./demo/scripts/controls/svg/textcolor.svg","webpack:///./demo/scripts/controls/svg/backcolor.svg","webpack:///./demo/scripts/controls/svg/capitalization.svg","webpack:///./demo/scripts/controls/svg/bullets.svg","webpack:///./demo/scripts/controls/svg/numbering.svg","webpack:///./demo/scripts/controls/svg/outdent.svg","webpack:///./demo/scripts/controls/svg/indent.svg","webpack:///./demo/scripts/controls/svg/blockquote.svg","webpack:///./demo/scripts/controls/svg/alignleft.svg","webpack:///./demo/scripts/controls/svg/aligncenter.svg","webpack:///./demo/scripts/controls/svg/alignright.svg","webpack:///./demo/scripts/controls/svg/createlink.svg","webpack:///./demo/scripts/controls/svg/unlink.svg","webpack:///./demo/scripts/controls/svg/table.svg","webpack:///./demo/scripts/controls/svg/inlineimage.svg","webpack:///./demo/scripts/controls/svg/superscript.svg","webpack:///./demo/scripts/controls/svg/subscript.svg","webpack:///./demo/scripts/controls/svg/strikethrough.svg","webpack:///./demo/scripts/controls/svg/header.svg","webpack:///./demo/scripts/controls/svg/code.svg","webpack:///./demo/scripts/controls/svg/ltr.svg","webpack:///./demo/scripts/controls/svg/rtl.svg","webpack:///./demo/scripts/controls/svg/undo.svg","webpack:///./demo/scripts/controls/svg/redo.svg","webpack:///./demo/scripts/controls/svg/removeformat.svg","webpack:///./demo/scripts/controls/svg/moon.svg","webpack:///./demo/scripts/controls/sidePane/apiPlayground/ApiPlaygroundPlugin.ts","webpack:///./demo/scripts/controls/sidePane/apiPlayground/ApiPlaygroundPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/apiEntries.ts","webpack:///./demo/scripts/controls/sidePane/apiPlayground/blockElements/BlockElementsPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/blockElements/BlockElementsPane.scss?4dfd","webpack:///./demo/scripts/controls/sidePane/apiPlayground/blockElements/BlockElementsPane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/darkColor/GetDarkColorPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/darkColor/GetDarkColorPane.scss?7670","webpack:///./demo/scripts/controls/sidePane/apiPlayground/darkColor/GetDarkColorPane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/region/GetSelectedRegionsPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/region/GetSelectedRegionsPane.scss?59e5","webpack:///./demo/scripts/controls/sidePane/apiPlayground/region/GetSelectedRegionsPane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/insertContent/InsertContentPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/insertContent/InsertContentPane.scss?b07e","webpack:///./demo/scripts/controls/sidePane/apiPlayground/insertContent/InsertContentPane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/insertEntity/InsertEntityPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/insertEntity/InsertEntityPane.scss?0f9b","webpack:///./demo/scripts/controls/sidePane/apiPlayground/insertEntity/InsertEntityPane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/matchLink/MatchLinkPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/sanitizer/SanitizerPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/sanitizer/SanitizerPane.scss?aa23","webpack:///./demo/scripts/controls/sidePane/apiPlayground/sanitizer/SanitizerPane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/vlist/VListPane.tsx","webpack:///./demo/scripts/controls/sidePane/apiPlayground/vtable/VTablePane.tsx","webpack:///./node_modules/color-string/index.js","webpack:///./node_modules/simple-swizzle/index.js","webpack:///./node_modules/is-arrayish/index.js","webpack:///./node_modules/color-convert/index.js","webpack:///./node_modules/color-convert/route.js","webpack:///./demo/scripts/controls/colorPicker/ColorPicker.tsx","webpack:///./demo/scripts/controls/colorPicker/ColorPicker.scss?ff0a","webpack:///./demo/scripts/controls/colorPicker/ColorPicker.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/vtable/VTablePane.scss?096f","webpack:///./demo/scripts/controls/sidePane/apiPlayground/vtable/VTablePane.scss","webpack:///./demo/scripts/controls/sidePane/apiPlayground/ApiPlaygroundPane.scss?bc97","webpack:///./demo/scripts/controls/sidePane/apiPlayground/ApiPlaygroundPane.scss","webpack:///./demo/scripts/controls/sidePane/editorOptions/EditorOptionsPlugin.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/OptionsPane.tsx","webpack:///./demo/scripts/controls/sidePane/editorOptions/Code.tsx","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/ButtonsCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/DarkModeCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/DefaultFormatCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/ExperimentalFeaturesCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/PluginsCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/ContentEditCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/ContentEditFeaturesCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/HyperLinkCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/PickerPluginCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/WatermarkCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/codes/SimplePluginCode.ts","webpack:///./demo/scripts/controls/sidePane/editorOptions/ContentEditFeatures.tsx","webpack:///./demo/scripts/controls/sidePane/editorOptions/OptionsPane.scss","webpack:///./demo/scripts/controls/sidePane/editorOptions/DefaultFormat.tsx","webpack:///./demo/scripts/controls/sidePane/editorOptions/ExperimentalFeatures.tsx","webpack:///./demo/scripts/controls/sidePane/editorOptions/Plugins.tsx","webpack:///./demo/scripts/controls/sidePane/eventViewer/EventViewPlugin.ts","webpack:///./demo/scripts/controls/sidePane/eventViewer/EventViewPane.tsx","webpack:///./demo/scripts/controls/sidePane/eventViewer/EventViewPane.scss?833e","webpack:///./demo/scripts/controls/sidePane/eventViewer/EventViewPane.scss","webpack:///./demo/scripts/controls/sidePane/formatState/FormatStatePlugin.ts","webpack:///./demo/scripts/controls/sidePane/formatState/FormatStatePane.tsx","webpack:///./demo/scripts/controls/sidePane/formatState/FormatStatePane.scss?b011","webpack:///./demo/scripts/controls/sidePane/formatState/FormatStatePane.scss","webpack:///./demo/scripts/controls/ribbon/RibbonPlugin.ts","webpack:///./demo/scripts/controls/sidePane/snapshot/SnapshotPlugin.tsx","webpack:///./demo/scripts/controls/sidePane/snapshot/SnapshotPane.tsx","webpack:///./demo/scripts/controls/sidePane/snapshot/SnapshotPane.scss?bae5","webpack:///./demo/scripts/controls/sidePane/snapshot/SnapshotPane.scss","webpack:///./demo/scripts/controls/sidePane/snapshot/UndoSnapshots.ts","webpack:///./demo/scripts/controls/MainPane.scss","webpack:///./demo/scripts/controls/sidePane/SidePane.tsx","webpack:///./demo/scripts/controls/sidePane/SidePane.scss?498b","webpack:///./demo/scripts/controls/sidePane/SidePane.scss","webpack:///./demo/scripts/controls/titleBar/TitleBar.tsx","webpack:///./demo/scripts/controls/titleBar/TitleBar.scss?5f71","webpack:///./demo/scripts/controls/titleBar/TitleBar.scss","webpack:///./demo/scripts/controls/svg/iconmonstr-github-1.svg"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","roosterjs","React","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","length","id","_i","push","__assign","assign","arguments","apply","_root","window","global","_styleNonce","CSPSettings","nonce","_themeState","state","__themeState__","theme","undefined","lastStyleElement","registeredStyles","runState","perf","count","duration","flushTimer","buffer","registeredThemableStyles","initializeThemeState","_themeTokenRegex","now","performance","Date","measure","func","start","end","flush","styleArrays","slice","mergedStyleArray","applyThemableStyles","stylesArray","styleRecord","loadStyles","resolveThemableArray","styleString","styleArray","document","head","getElementsByTagName","styleElement","createElement","_a","themable","setAttribute","appendChild","createTextNode","ev","createEvent","initEvent","args","newStyle","dispatchEvent","record","themableStyle","registerStyles","clearStyles","option","clearStylesInternal","records","forEach","parentElement","removeChild","splitStyleArray","currentValue","themeSlot","themedValue","defaultValue","console","DEBUG","warn","rawString","splitStyles","styles","result","pos","tokenMatch","exec","matchIndex","index","substring","lastIndex","loadAsync","styleParts","Array","isArray","setTimeout","configureLoadStyles","loadStylesFn","configureRunMode","loadTheme","themableStyles","reloadStyles","detokenize","encode","src","replace","indent","split","line","props","MainPaneBase","instance","getInstance","Component","UrlPlaceholder","image","obj","json","parse","safeParseJSON","dataset","IMAGE_EDIT_INFO_NAME","widthPx","clientWidth","heightPx","clientHeight","naturalWidth","naturalHeight","leftPercent","rightPercent","topPercent","bottomPercent","angleRad","getInitialEditInfo","policy","trustedTypes","createPolicy","createHTML","input","DOMPurify","sanitize","ADD_TAGS","ADD_ATTR","WHOLE_DOCUMENT","trustedHTMLHandler","componentCtor","pluginName","title","component","createRef","getName","initialize","editor","dispose","getTitle","renderSidePane","updateHash","getComponentProps","ref","setHashPath","path","current","getComponent","callback","ReactDOM","editInfo","beforeCrop","width","height","angle","originalWidth","originalHeight","visibleWidth","visibleHeight","targetWidth","Math","abs","cos","sin","targetHeight","loader","locals","contentDiv","useRef","pluginList","contentEditFeatures","linkTitle","watermarkText","forcePreserveRatio","defaultFormat","experimentalFeatures","getLinkCallback","useCallback","indexOf","url","useEffect","editorInstanceToggleablePlugins","contentEdit","ContentEdit","hyperlink","HyperLink","paste","Paste","watermark","Watermark","imageEdit","preserveRatio","cutPasteListChain","CutPasteListChain","tableResize","TableResize","pickerPlugin","PickerPlugin","elementIdPrefix","changeSource","triggerCharacter","isHorizontal","customReplace","CustomReplace","resetList","contextMenu","ContextMenu","CONTEXT_MENU_DATA_PROVIDER","options","plugins","keys","k","getDarkColor","undoSnapshotService","snapshotService","className","previousSrc","newSrc","initEditInfo","srcChanged","triggerPluginEvent","originalSrc","style","ROTATE_KEYS","CROP_KEYS","ROTATE_CROP_KEYS","ALL_KEYS","areSameNumber","n1","n2","compareTo","some","every","img","canvas","ownerDocument","context","getContext","drawImage","getImageData","Xs","Ys","Resizer","onDragStart","onDragging","e","base","deltaX","deltaY","x","y","ratio","horizontalOnly","verticalOnly","shouldPreserveRatio","shiftKey","newWidth","max","minWidth","newHeight","minHeight","min","rotateCoordinate","hypotenuse","sqrt","atan2","getResizeHandleHTML","borderColor","leftOrRight","topOrBottom","tag","children","actualWidth","actualHeight","floor","resizeBorderColor","percentage","left","top","round","allFeatures","ListFeatures","QuoteFeatures","TableFeatures","StructuredNodeFeatures","AutoLinkFeatures","ShortcutFeatures","CursorFeatures","MarkdownFeatures","EntityFeatures","getAndSetNodeId","wordCustomData","element","getAttribute","nextNodeId","dict","nodeType","listsMetadata","currentUniqueListId","WORD_ORDERED_LIST_SELECTOR","WORD_UNORDERED_LIST_SELECTOR","WORD_ONLINE_IDENTIFYING_SELECTOR","LIST_CONTAINER_ELEMENT_CLASS_NAME","UNORDERED_LIST_TAG_NAME","ORDERED_LIST_TAG_NAME","WAC_IDENTIFY_SELECTOR","onButtonClicked","forceUpdate","render","plugin","getEditor","format","getFormatState","filter","isHidden","button","onClicked","getCustomData","getPlugins","ribbon","formatState","snapshot","editorOptions","eventView","api","bridge","Bridge","includeSidePanePlugins","allPlugins","isDark","onPluginEvent","eventType","setDarkModeState","isDarkModeSupported","setContent","isDarkMode","getContent","colorString","convert","_slice","skippedModels","hashedModelKeys","model","labels","sort","limiters","Color","Error","channels","color","valpha","newArr","zeroArray","splice","alpha","hashedKeys","limit","freeze","getset","channel","modifier","val","maxfn","v","assertArray","arr","string","toJSON","places","self","to","rgb","percentString","percent","array","unitArray","unitObject","g","b","num","Number","toFixed","roundTo","roundToPlace","red","green","blue","hue","saturationl","lightness","saturationv","chroma","gray","white","wblack","cyan","magenta","yellow","black","z","a","keyword","hex","rgbNumber","luminosity","lum","chan","pow","contrast","color2","lum1","lum2","level","contrastRatio","isLight","negate","lighten","hsl","darken","saturate","desaturate","whiten","hwb","blacken","grayscale","fade","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w","w1","w2","newAlpha","raw","cssKeywords","reverseKeywords","hsv","cmyk","xyz","lab","lch","ansi16","ansi256","hcg","apple","h","delta","rdif","gdif","bdif","diff","diffc","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","t1","t2","t3","smin","lmin","hi","f","q","sl","vmin","wh","bl","y2","x2","z2","PI","hr","ansi","mult","rem","toUpperCase","match","char","integer","parseInt","mg","pure","getAllFeatures","reduce","settings","defaultDisabled","buttons","showRibbon","supportDarkMode","darkMode","getCode","expermientalFeatures","code","mount","getElementById","onMouseDown","addEventListener","onMouseMove","onMouseUp","body","userSelect","mouseX","pageX","sidePane","changeWidth","removeEventListener","onShowSidePane","setState","showSidePane","onHideSidePane","location","hash","isPopoutShown","initState","getBuildInPluginState","MainPane","mainPane","noGrow","refCallback","getSidePanePluginArray","sidePaneFullWidth","getAllPluginArray","getSnapshotService","resizer","onClick","resetEditorPlugin","pluginState","updateFormatState","setIsRibbonShown","isShown","setIsDarkModeSupported","isSupported","popout","win","open","write","popoutRoot","ReactDom","unmountComponentAtNode","cloneNode","parent","allowCrop","isFeatureEnabled","getContextMenuItems","node","items","safeInstanceOf","isContentEditable","setEditingImage","canRegenerateImage","resizeByPercentage","resetImage","ImageEdit","default","DirectionRad","DirectionOrder","FeatureToOperationMap","DefaultOptions","minRotateDeg","imageSelector","rotateIconHTML","ImageEditHTMLMap","getCornerResizeHTML","getSideResizeHTML","getRotateHTML","getCropHTML","allowedOperations","onBlur","removeWrapper","wrapper","parentNode","querySelector","position","maxWidth","margin","textAlign","insertBefore","updateWrapper","getImageWrapper","cropContainers","getEditElements","cropOverlays","rotateCenter","rotateHandle","resizeHandles","cropHandles","isCropping","marginHorizontal","marginVertical","cropLeftPx","cropRightPx","cropTopPx","cropBottomPx","getPx","transform","getComputedStyle","setSize","updateHandleCursor","elementClass","doubleCheckResize","getRelativeDistanceToEditor","cosAngle","adjustedDistance","MAX_SAFE_INTEGER","rotateGap","ROTATE_GAP","rotateTop","ROTATE_SIZE","disposer","addDomEventHandler","clearDndHelpers","target","rawEvent","isClicking","matchesSelector","which","preventDefault","type","queryElements","getEntitySelector","entity","operation","toArray","clonedRoot","querySelectorAll","operationOrSelect","selectImage","lastSrc","addUndoSnapshot","select","createWrapper","dndHelpers","createDndHelpers","wrap","verticalAlign","display","Browser","isSafari","rotateHandleBackColor","htmlData","thisOperation","arrayPush","getEntityFromElement","dragAndDrop","commonContext","helper","right","bottom","rotateHandles","radIndex","idx","handleRadIndexCalculator","originalDirection","originalIndex","handles","handle","cursor","imageWidth","imageHeight","translate","toDataURL","ROTATION","sw","nw","ne","se","Cropper","dx","dy","widthPercent","heightPercent","fullWidth","fullHeight","newLeft","crop","newRight","newTop","newBottom","basePercentage","deltaValue","fullValue","currentPercentage","minValue","maxValue","newValue","getCropHandleHTML","layer","dir","getCropHandleHTMLInternal","overlayHTML","containerHTML","getCropHTMLInternal","trigger","onSubmit","handler","stopPropagation","addDocumentEvents","initX","initY","pageY","initValue","removeDocumentEvents","onDragEnd","doc","DEG_PER_RAD","DEFAULT_ROTATE_HANDLE_HEIGHT","Rotator","newX","newY","angleInRad","altKey","angleInDeg","getRotateIconHTML","namespace","attributes","stroke","handleLeft","isDisposed","contains","onload","onerror","removeAttribute","getElementAtCursor","setOrderedListNumbering","prompt","pickableColors","htmlColor","names","componentState","queryString","selectedIndex","colors","cursorX","cursorY","insertColor","span","getDocument","innerText","insertNodeCallback","onInitalize","setIsSuggestingCallback","updateToQuery","mountPoint","onDispose","onIsSuggestingChanged","isSuggesting","updateRender","lowerCaseQuery","toLowerCase","currentSelectedColor","colorName","newIndexOfCurrentSelectedColor","getFocusedPosition","rect","getPositionRect","queryStringUpdated","selectOption","shiftHighlight","isIncrement","onRemove","nodeRemoved","isBackwards","samplePickerContainer","samplePickerColorSwatch","selected","backgroundColor","PureComponent","___CSS_LOADER_API_IMPORT___","Function","settingsOverride","additionalFeatures","features","feature","hasSettingForKey","addContentEditFeature","TRAILING_PUNCTUATION_REGEX","AutoLink","shouldHandleEvent","cacheGetLinkData","handleEvent","event","anchor","linkData","searcher","getContentSearcherOfCursor","textContent","originalUrl","href","normalizedUrl","runAsync","replaceWithNode","clearEventDataCache","UnlinkWhenBackspaceAfterLink","getInlineElementBefore","LinkInlineElement","removeLink","cacheGetEventData","clipboardData","link","matchLink","text","trim","getRangeFromText","word","getWordBefore","trailingPunctuation","str","substr","autoLink","unlinkWhenBackspaceAfterLink","NoCycleCursorMove","allowFunctionKeys","ctrlOrMeta","range","getSelectionRange","collapsed","Position","getStart","isPositionAtBeginning","rtl","isChrome","noCycleCursorMove","ClickOnEntityFeature","cacheGetReadonlyEntityElement","EscapeFromEntityFeature","entityElement","EnterBeforeReadonlyEntityFeature","cacheGetNeighborEntityElement","getEnd","normalize","br","nextSibling","newContainer","block","getBlockElementAtNode","collapseToSingleElement","deleteContents","BackspaceAfterEntityFeature","DeleteBeforeEntityFeature","isNext","collapseOnly","entityNode","offset","isAtEnd","traverser","getBodyTraverser","sibling","currentInlineElement","getNextInlineElement","getPreviousInlineElement","getContainerNode","clickOnEntity","escapeFromEntity","enterBeforeReadonlyEntity","backspaceAfterEntity","deleteBeforeEntity","IndentWhenTab","cacheGetListElement","setIndentation","OutdentWhenShiftTab","MergeInNewLine","li","isPositionAtBeginningOf","previousSibling","blockFormat","region","vList","createVListFromRegion","writeBack","toggleListAndPreventDefault","OutdentWhenBackOn1stEmptyLine","isNodeEmpty","MaintainListChainWhenDelete","nextSibiling","getNextBlockElement","getStartNode","getCacheNextSibiling","chains","getListChains","experimentCommitListChains","OutdentWhenEnterOnEmptyLine","isIE","AutoBullet","isAListPattern","getSubStringBefore","getNearestNonTextInlineElement","insertContent","regions","textBeforeCursor","rangeToDelete","prepareAutoBullet","toggleBullet","toggleNumbering","getSelectedRegions","MaintainListChain","test","VListChain","createListChains","startContainer","endNode","getEndNode","getTagOfNode","getTextContent","isBlockElement","startOffset","listInfo","listElement","focus","autoBullet","indentWhenTab","outdentWhenShiftTab","outdentWhenBackspaceOnEmptyFirstLine","outdentWhenEnterOnEmptyLine","mergeInNewLineWhenBackspaceOnFirstChar","maintainListChain","maintainListChainWhenDelete","generateBasicMarkdownFeature","elementTag","useShiftKey","cacheGetRangeForMarkdownOperation","textContentRange","cloneRange","setStart","setEnd","endContainer","endOffset","elementToWrap","extractContents","nonPrintedSpaceTextNode","insertNode","handleMarkdownEvent","startPosition","endPosition","forEachTextInlineElement","textInlineElement","inlineTextContent","getStartPosition","move","contentIndex","createRange","MarkdownBold","MarkdownItalic","MarkdownStrikethrough","MarkdownInlineCode","markdownBold","markdownItalic","markdownStrikethru","markdownInlineCode","QUOTE_TAG","STRUCTURED_TAGS","UnquoteWhenBackOnEmpty1stLine","childOfQuote","cacheGetQuoteChild","splitQuote","UnquoteWhenEnterOnEmptyLine","quote","childNodes","splitBalancedNodeRange","unwrap","unquoteWhenBackspaceOnEmptyFirstLine","unquoteWhenEnterOnEmptyLine","createCommand","winKey","macKey","action","commands","toggleBold","toggleItalic","toggleUnderline","undo","redo","changeFontSize","DefaultShortcut","cacheGetCommand","command","metaKey","ctrlKey","cmd","isMac","defaultShortcut","CHILD_PARENT_TAG_MAP","TD","TH","LI","CHILD_SELECTOR","InsertLineBeforeStructuredNodeFeature","cacheGetStructuredElement","div","getPreviousBlockElement","insertLineBeforeStructuredNodeFeature","TabInTable","cacheGetTableCell","shift","td","vtable","VTable","step","row","col","cells","table","editTable","cell","getCell","UpDownInTable","isUp","hasShiftKey","selection","defaultView","getSelection","targetTd","anchorNode","anchorOffset","newPos","isVoidHtmlElement","setBaseAndExtent","firstTd","tabInTable","upDownInTable","onDismiss","menu","menuItem","container","dismiss","isMenuShowing","allowDefaultMenu","initContainer","makeReplacement","sourceString","replacementHTML","matchSourceCaseSensitive","defaultReplacements","replacements","updateReplacements","newReplacements","longestReplacementLength","replacement","replacementEndCharacters","endChars","Set","lastChar","add","toLocaleLowerCase","toLocaleUpperCase","getReplacementEndCharacters","isInIME","has","stringToSearch","getMatchingReplacement","matchingText","matchingRange","parsingSpan","innerHTML","getTrustedHTMLHandler","nodeToInsert","lowerCaseStringToSearch","sourceMatch","replacementMatch","onDrop","cacheListChains","isCut","expectedChangeSource","getTooltipCallback","onLinkClick","trackedLink","onMouse","tryGetHref","setEditorDomAttribute","updateLinkHrefIfShouldUpdate","resetLinkTracking","mouseover","mouseout","blur","isContentEditValue","shouldCheckUpdateLink","originalHref","doesLinkDisplayMatchHref","srcElement","isFirefox","isCtrlOrMetaPressed","isCharacterValue","updateLinkHref","escapedDisplay","rule","RegExp","unknownTagReplacement","htmlAttributes","fragment","sanitizingOption","wacListElements","el","isWordOnlineWithList","additionalTagReplacements","htmlFirstLevelChildTags","html","DOMParser","parseFromString","moveChildNodes","isPureLiNode","childNode","nodeValue","firstChild","changeElementTag","LAST_TD_END_REGEX","LAST_TR_END_REGEX","LAST_TR_REGEX","LAST_TABLE_REGEX","excelHandler","htmlBefore","trMatch","tableMatch","chainSanitizerCallback","elementCallbacks","borderStyle","border","wordConverter","createWordConverter","elements","wordConverterArgs","createWordConverterArguments","processNodesDiscovery","processNodeConvert","nextUniqueId","numBulletsConverted","numNumberedConverted","createCustomData","nodes","currentIndex","lists","listItems","currentListIdsByLevels","createLevelLists","lastProcessedItem","LINE_BREAKS","getOrCreateListForNode","metadata","listMetadata","recurringGetOrCreateListAtNode","possibleList","getRealPreviousSibling","lastChild","newList","tagName","listId","getObject","uniqueListId","setObject","convertListIfNeeded","cleanupListIgnore","levels","nodesToRemove","child","isEmptySpan","fixWordListComments","isIgnoreNode","getListItemMetadata","listAttribute","getStyleValue","listProps","wordListId","originalNode","isFakeBullet","fakeBullet","getFakeBulletText","removeComments","nextElement","endComment","j","getRealNextSibling","newSpan","prevSibling","isEmptyTextNode","styleName","getStyles","resetCurrentLists","ll","itemMetadata","levelInfo","ignore","numberOfItems","secondFakeBullet","firstFakeBullet","last","processBlock","checkAndAddBr","root","isFirst","blockElement","getNextLeafSibling","getPreviousLeafSibling","ContentTraverser","createBodyTraverser","blocks","currentBlockElement","insertConvertedListToDoc","convertedListElement","listItemBlock","insertPositionNode","startElement","replaceRegex","prevParent","splitParentNode","nextParent","sanitizeListItemContainer","curListItemBlock","listElements","curItem","listItemContainers","lastItemInCurBlock","getFirstLeafNode","endElement","createListItemBlock","getListItemBlocks","itemBlock","collapseNodes","section","flattenListBlock","listItemContainer","listType","getContainerListType","itemLevel","listRootElement","itemToInsert","curListLevel","lastElementChild","lastChildTag","firstElementChild","insertListItem","parentContainer","listItem","ESC_CHAR_CODE","LEFT_ARROW_CHAR_CODE","UP_ARROW_CHAR_CODE","RIGHT_ARROW_CHAR_CODE","DOWN_ARROW_CHAR_CODE","DELETE_CHAR_CODE","UNIDENTIFIED_CODE","dataProvider","pickerOptions","isPendingInputEventHandling","htmlNode","wordToReplace","getWord","lastKnownRange","setIsSuggesting","handleAutoComplete","willHandleEventExclusively","onContentChanged","eventHandledOnKeyDown","isAndroidKeyboardEvent","currentInputLength","calcInputLength","onKeyDownEvent","onAndroidInputEvent","shouldHandleKeyUpEvent","onKeyUpDomEvent","onScroll","scrollContainer","setLastKnownRange","setAriaOwns","setAriaActiveDescendant","cancelDefaultKeyDownEvent","stopImmediatePropagation","getIdValue","getNamedItem","getWordBeforeCursor","replaceNode","currentNode","replacementNode","deleteNode","getRangeUntilAt","startPos","endPos","textInline","hasMatched","nodeContent","nodeIndex","getEndPosition","isModifierKey","trimmedWordBeforeCursor","wordBeforeCursorWithoutTriggerChar","wordBeforeCursor","blockSuggestions","setCursorPoint","rangeNode","nodeBeforeCursor","setRangeStart","nodeBeforeNodeBeforeCursor","getBoundingClientRect","getClientRects","detach","targetPoint","bufferZone","keyboardEvent","getSelectedIndex","tryRemoveNode","nodeAfterCursor","getInlineElementAfter","nodeId","newInputLength","inputType","wordBeforCursor","getInlineElementBeforeCursor","inlineElementBefore","inlineElementAfter","PartialInlineElement","wordFromRange","wordFromCache","nodeOffset","lastIndexOf","suggestionsLabel","suggestionLabelPrefix","charCode","getHorizontalDistance","toLeft","tableRectMap","currentCellsToResize","nextCellsToResize","resizingState","insertingState","onMouseOutInserter","setCurrentInsertTd","cacheRects","setCurrentTable","isRTL","currentTable","setTableResizer","rows","tr","tdRect","normalizeRect","verticalInserterTd","preTd","previousElementSibling","setCurrentTd","horizontalInserterTd","insertTd","currentInsertTd","normalizeTableCellSize","edit","startResizingTable","resizingVtable","currentTableVerticalBorder","currentTableHorizontalBorder","startResizeCells","startHorizontalResizeCells","currentTd","startVerticalResizeCells","getCellsWithBorder","frameAnimateResizeCells","resizeCells","resizeTable","mouseY","ratioX","ratioY","shouldResizeX","shouldResizeY","boxSizing","wordBreak","whiteSpace","resizeRows","forEachCellOfCurrentRow","canResizeColumns","resizeColumns","isShiftPressed","endResizeCells","setupResizerContainer","onMouseMoveDisposer","removeResizerContainer","resizerContainer","updateCursor","insertOnNewLine","replaceSelection","tableResizerContainer","tableRect","inserter","createInserter","inserterBackgroundColor","getDefaultFormat","inserterColor","outerDivStyle","HORIZONTAL_INSERTER","VERTICAL_INSERTER","resizerPosX","horizontalResizer","verticalResizer","createCellsResizer","hasChildNodes","tableResizer","createTableResizer","TABLE_RESIZER_LENGTH","horizontal","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","seal","_ref","Reflect","construct","fun","thisValue","Func","arr2","from","_toConsumableArray","arrayForEach","unapply","arrayPop","pop","stringToLowerCase","String","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","typeErrorCreate","TypeError","_len2","_key2","thisArg","_len","_key","addToSet","set","lcElement","clone","newObject","lookupGetter","prop","desc","svg","svgFilters","svgDisallowed","mathMl","mathMlDisallowed","html$1","svg$1","mathMl$1","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","_typeof","iterator","constructor","_toConsumableArray$1","getGlobal","_createTrustedTypesPolicy","suffix","currentScript","hasAttribute","policyName","html$$1","_","createDOMPurify","version","removed","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","Text","Comment","ElementPrototype","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","emptyHTML","RETURN_TRUSTED_TYPE","_document","implementation","createNodeIterator","createDocumentFragment","importNode","documentMode","hooks","createHTMLDocument","MUSTACHE_EXPR$$1","ERB_EXPR$$1","DATA_ATTR$$1","ARIA_ATTR$$1","IS_SCRIPT_OR_DATA$$1","ATTR_WHITESPACE$$1","IS_ALLOWED_URI$$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","CONFIG","formElement","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","namespaceURI","parentTagName","Boolean","commonSvgAndHTMLElements","_forceRemove","outerHTML","remove","_removeAttribute","attribute","getAttributeNode","_initDocument","dirty","leadingWhitespace","matches","dirtyPayload","documentElement","createDocument","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","elm","nodeName","_isNode","_executeHook","entryPoint","hook","_sanitizeElements","allowedTags","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","nextNode","importedNode","oldNode","returnNode","toStaticHTML","nodeIterator","serializedHTML","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","factory","showHideWatermark","hasFocus","watermarks","isShowing","removeWatermark","isEmpty","insertEntity","fontSize","textColors","lightModeColor","darkModeColor","applyFormat","spellcheck","onExecute","onHideDropDown","onShowDropDown","preserveOnClickAway","isDropDownShown","stopShadowEdit","isImageButton","textButton","checked","dropDownButton","disabled","isDisabled","dropDownItems","DropDown","dropDown","dropDownRenderer","DropDownItem","itemName","displayName","buttonOnClick","onMouseOver","startShadowEdit","dropDownItem","bold","isBold","italic","isItalic","underline","isUnderline","fontName","setFontName","Arial","Calibri","Tahoma","setFontSize","textColor","setTextColor","backColor","setBackgroundColor","capitalization","changeCapitalization","sentence","lowercase","uppercase","capitalize","bullet","isBullet","numbering","isNumbering","outdent","blockQuote","toggleBlockQuote","isBlockQuote","alignLeft","setAlignment","alignCenter","alignRight","insertLink","unlink","0","insertImage","fileInput","accept","file","files","click","superscript","toggleSuperscript","isSuperscript","subscript","toggleSubscript","isSubscript","strikethrough","toggleStrikethrough","isStrikeThrough","header","toggleHeader","toggleCodeBlock","ltr","setDirection","clearFormat","autodetect","dark","alert","original","merge","export","clear","onOk","createLink","txtUrl","txtDisplayText","colSpan","buttonRow","componentDidMount","displayText","InsertLink","cols","onInsertTable","insertTable","close","TableOptions","pane","onChange","componentClass","paneName","apiEntries","empty","sanitizer","matchlink","vlist","more","checkGetBlocks","update","onGetBlocks","setBlocks","htmlFor","isNodeBlockElement","renderBlock","onDoubleClick","collapse","triggerContentChangedEvent","isNodeBlock","fontStyle","lightColor","onInputChange","darkColor","lightBackground","darkBackground","clearAll","Region","selectRegion","getSelectedBlockElementsInRegion","NodeName","rootNode","nodeBefore","nodeAfter","mouseOver","hover","mouseOut","classNames","onMouseOut","regionNode","setPosition","entityType","styleInline","styleBlock","isReadonly","isBlock","onGetEntities","selector","allEntities","entities","textarea","EntityButton","background","onMatchLink","scheme","HtmlSanitizer","inline","sanitizeHtml","ListTypeToString","VListItemPane","getListType","getNode","onOrdered","changeListType","onUnrdered","onIndent","onOutdent","marginLeft","getLevel","createVList","onWriteback","TABLE_FORMAT","createTableFormat","lightLines","towTones","lightBands","grid","TableCell","isCurrent","onClickCell","spanAbove","spanLeft","evenBgColor","oddBgColor","topBorderColor","bottomBorderColor","verticalBorderColor","createVTable","onCustomizeFormat","onWriteBack","getCurrentTd","renderEditTableButton","renderFormatTableButton","CustomizeFormatRow","inputRef","bgColorEven","bgColorOdd","topBorder","bottomBorder","verticalBorder","isColorPickerShowing","setIsColorPickerShowing","onShowColorPicker","setColor","label","initColor","onSelect","colorNames","swizzle","reverseNames","cs","clamp","hexDouble","hexAlpha","i2","parseFloat","isNaN","rgba","hsla","hwba","isArrayish","results","len","arg","fn","conversions","route","fromModel","routes","toModel","wrappedFn","conversion","wrapRounded","wrapRaw","deriveBFS","graph","models","buildGraph","queue","adjacents","adjacent","unshift","wrapConversion","cur","startDrag","onMouseChange","hueBar","picker","setHue","saturation","setSaturation","setValue","isRtl","onMouseDownHueBar","onMouseDownPicker","onChangeHue","newHue","onChangeColor","newSaturation","tabIndex","onKeyDown","layer1","layer2","currentColor","newColor","initialState","getState","exportForm","exportData","resetState","resetEditor","onExport","getHtml","js","js_pre_processor","submit","onToggleRibbon","onToggleDarkMode","method","codeMap","buttonB","buttonI","buttonU","buttonBullet","buttonNumbering","buttonUndo","buttonRedo","buttonDark","darkModeSupported","fontFamily","lines","PasteCode","ImageEditCode","CutPasteListChainCode","TableResizeCode","CustomReplaceCode","defaultValues","SimplePluginCode","EditFeatureDescriptionMap","onContentEditClick","checkbox","renderContentEditItem","moreOptions","checkboxColumn","onFormatClick","onSelectChanged","renderFormatItem","renderSelectItem","defaultFormatLabel","FeatureNames","renderFeature","onPluginClick","renderPluginItem","renderInputBox","renderCheckBox","placeholder","addEvent","EventTypeMap","events","displayCount","lasteIndex","renderImage","imageFile","readFile","dataUrl","onDisplayCountChanged","displayedEvents","reverse","time","getHours","getMinutes","getSeconds","getMilliseconds","eventContent","renderEvent","convertGlobalCssToInlineCss","types","renderPasteContent","rawHtml","linkPreview","customValues","contentType","renderer","pasteContent","stringArray","setFormatState","inIME","renderSpan","canUnlink","canAddImageAltText","headerLevel","inactive","canUndo","canRedo","isEdge","isIE11OrGreater","isIEOrEdge","isWebKit","isWin","navigator","userAgent","appVersion","updateSnapshots","onTakeSnapshot","editorInstance","onMove","sanpshot","onRestoreSnapshot","getSnapshots","getCurrentIndex","getAutoCompleteIndex","SnapshotPlugin","snapshots","createSnapshots","takeSnapshot","setSnapshot","renderItem","autoCompleteIndex","autoComplete","snapshotPane","snapshotList","spellCheck","canMove","canMoveCurrentSnapshot","moveCurrentSnapshot","addSnapshot","isAutoCompleteSnapshot","clearRedo","clearProceedingSnapshots","canUndoAutoComplete","currentPane","updateStateFromHash","hashes","activePane","inactivePane","bodyContainer","widthDelta","github","titleBar","titleText","roosterJsVer","links","externalLink","alt"],"mappings":"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","file":"demo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 36);\n","module.exports = roosterjs;","module.exports = React;","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n/**\n * An IThemingInstruction can specify a rawString to be preserved or a theme slot and a default value\n * to use if that slot is not specified by the theme.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Store the theming state in __themeState__ global scope for reuse in the case of duplicate\n// load-themed-styles hosted on the page.\nvar _root = (typeof window === 'undefined') ? global : window; // eslint-disable-line @typescript-eslint/no-explicit-any\n// Nonce string to inject into script tag if one provided. This is used in CSP (Content Security Policy).\nvar _styleNonce = _root && _root.CSPSettings && _root.CSPSettings.nonce;\nvar _themeState = initializeThemeState();\n/**\n * Matches theming tokens. For example, \"[theme: themeSlotName, default: #FFF]\" (including the quotes).\n */\nvar _themeTokenRegex = /[\\'\\\"]\\[theme:\\s*(\\w+)\\s*(?:\\,\\s*default:\\s*([\\\\\"\\']?[\\.\\,\\(\\)\\#\\-\\s\\w]*[\\.\\,\\(\\)\\#\\-\\w][\\\"\\']?))?\\s*\\][\\'\\\"]/g;\nvar now = function () { return (typeof performance !== 'undefined' && !!performance.now) ? performance.now() : Date.now(); };\nfunction measure(func) {\n    var start = now();\n    func();\n    var end = now();\n    _themeState.perf.duration += end - start;\n}\n/**\n * initialize global state object\n */\nfunction initializeThemeState() {\n    var state = _root.__themeState__ || {\n        theme: undefined,\n        lastStyleElement: undefined,\n        registeredStyles: []\n    };\n    if (!state.runState) {\n        state = __assign({}, (state), { perf: {\n                count: 0,\n                duration: 0\n            }, runState: {\n                flushTimer: 0,\n                mode: 0 /* sync */,\n                buffer: []\n            } });\n    }\n    if (!state.registeredThemableStyles) {\n        state = __assign({}, (state), { registeredThemableStyles: [] });\n    }\n    _root.__themeState__ = state;\n    return state;\n}\n/**\n * Loads a set of style text. If it is registered too early, we will register it when the window.load\n * event is fired.\n * @param {string | ThemableArray} styles Themable style text to register.\n * @param {boolean} loadAsync When true, always load styles in async mode, irrespective of current sync mode.\n */\nfunction loadStyles(styles, loadAsync) {\n    if (loadAsync === void 0) { loadAsync = false; }\n    measure(function () {\n        var styleParts = Array.isArray(styles) ? styles : splitStyles(styles);\n        var _a = _themeState.runState, mode = _a.mode, buffer = _a.buffer, flushTimer = _a.flushTimer;\n        if (loadAsync || mode === 1 /* async */) {\n            buffer.push(styleParts);\n            if (!flushTimer) {\n                _themeState.runState.flushTimer = asyncLoadStyles();\n            }\n        }\n        else {\n            applyThemableStyles(styleParts);\n        }\n    });\n}\nexports.loadStyles = loadStyles;\n/**\n * Allows for customizable loadStyles logic. e.g. for server side rendering application\n * @param {(processedStyles: string, rawStyles?: string | ThemableArray) => void}\n * a loadStyles callback that gets called when styles are loaded or reloaded\n */\nfunction configureLoadStyles(loadStylesFn) {\n    _themeState.loadStyles = loadStylesFn;\n}\nexports.configureLoadStyles = configureLoadStyles;\n/**\n * Configure run mode of load-themable-styles\n * @param mode load-themable-styles run mode, async or sync\n */\nfunction configureRunMode(mode) {\n    _themeState.runState.mode = mode;\n}\nexports.configureRunMode = configureRunMode;\n/**\n * external code can call flush to synchronously force processing of currently buffered styles\n */\nfunction flush() {\n    measure(function () {\n        var styleArrays = _themeState.runState.buffer.slice();\n        _themeState.runState.buffer = [];\n        var mergedStyleArray = [].concat.apply([], styleArrays);\n        if (mergedStyleArray.length > 0) {\n            applyThemableStyles(mergedStyleArray);\n        }\n    });\n}\nexports.flush = flush;\n/**\n * register async loadStyles\n */\nfunction asyncLoadStyles() {\n    return setTimeout(function () {\n        _themeState.runState.flushTimer = 0;\n        flush();\n    }, 0);\n}\n/**\n * Loads a set of style text. If it is registered too early, we will register it when the window.load event\n * is fired.\n * @param {string} styleText Style to register.\n * @param {IStyleRecord} styleRecord Existing style record to re-apply.\n */\nfunction applyThemableStyles(stylesArray, styleRecord) {\n    if (_themeState.loadStyles) {\n        _themeState.loadStyles(resolveThemableArray(stylesArray).styleString, stylesArray);\n    }\n    else {\n        registerStyles(stylesArray);\n    }\n}\n/**\n * Registers a set theme tokens to find and replace. If styles were already registered, they will be\n * replaced.\n * @param {theme} theme JSON object of theme tokens to values.\n */\nfunction loadTheme(theme) {\n    _themeState.theme = theme;\n    // reload styles.\n    reloadStyles();\n}\nexports.loadTheme = loadTheme;\n/**\n * Clear already registered style elements and style records in theme_State object\n * @param option - specify which group of registered styles should be cleared.\n * Default to be both themable and non-themable styles will be cleared\n */\nfunction clearStyles(option) {\n    if (option === void 0) { option = 3 /* all */; }\n    if (option === 3 /* all */ || option === 2 /* onlyNonThemable */) {\n        clearStylesInternal(_themeState.registeredStyles);\n        _themeState.registeredStyles = [];\n    }\n    if (option === 3 /* all */ || option === 1 /* onlyThemable */) {\n        clearStylesInternal(_themeState.registeredThemableStyles);\n        _themeState.registeredThemableStyles = [];\n    }\n}\nexports.clearStyles = clearStyles;\nfunction clearStylesInternal(records) {\n    records.forEach(function (styleRecord) {\n        var styleElement = styleRecord && styleRecord.styleElement;\n        if (styleElement && styleElement.parentElement) {\n            styleElement.parentElement.removeChild(styleElement);\n        }\n    });\n}\n/**\n * Reloads styles.\n */\nfunction reloadStyles() {\n    if (_themeState.theme) {\n        var themableStyles = [];\n        for (var _i = 0, _a = _themeState.registeredThemableStyles; _i < _a.length; _i++) {\n            var styleRecord = _a[_i];\n            themableStyles.push(styleRecord.themableStyle);\n        }\n        if (themableStyles.length > 0) {\n            clearStyles(1 /* onlyThemable */);\n            applyThemableStyles([].concat.apply([], themableStyles));\n        }\n    }\n}\n/**\n * Find theme tokens and replaces them with provided theme values.\n * @param {string} styles Tokenized styles to fix.\n */\nfunction detokenize(styles) {\n    if (styles) {\n        styles = resolveThemableArray(splitStyles(styles)).styleString;\n    }\n    return styles;\n}\nexports.detokenize = detokenize;\n/**\n * Resolves ThemingInstruction objects in an array and joins the result into a string.\n * @param {ThemableArray} splitStyleArray ThemableArray to resolve and join.\n */\nfunction resolveThemableArray(splitStyleArray) {\n    var theme = _themeState.theme;\n    var themable = false;\n    // Resolve the array of theming instructions to an array of strings.\n    // Then join the array to produce the final CSS string.\n    var resolvedArray = (splitStyleArray || []).map(function (currentValue) {\n        var themeSlot = currentValue.theme;\n        if (themeSlot) {\n            themable = true;\n            // A theming annotation. Resolve it.\n            var themedValue = theme ? theme[themeSlot] : undefined;\n            var defaultValue = currentValue.defaultValue || 'inherit';\n            // Warn to console if we hit an unthemed value even when themes are provided, but only if \"DEBUG\" is true.\n            // Allow the themedValue to be undefined to explicitly request the default value.\n            if (theme && !themedValue && console && !(themeSlot in theme) && typeof DEBUG !== 'undefined' && DEBUG) {\n                console.warn(\"Theming value not provided for \\\"\" + themeSlot + \"\\\". Falling back to \\\"\" + defaultValue + \"\\\".\");\n            }\n            return themedValue || defaultValue;\n        }\n        else {\n            // A non-themable string. Preserve it.\n            return currentValue.rawString;\n        }\n    });\n    return {\n        styleString: resolvedArray.join(''),\n        themable: themable\n    };\n}\n/**\n * Split tokenized CSS into an array of strings and theme specification objects\n * @param {string} styles Tokenized styles to split.\n */\nfunction splitStyles(styles) {\n    var result = [];\n    if (styles) {\n        var pos = 0; // Current position in styles.\n        var tokenMatch = void 0; // eslint-disable-line @rushstack/no-null\n        while ((tokenMatch = _themeTokenRegex.exec(styles))) {\n            var matchIndex = tokenMatch.index;\n            if (matchIndex > pos) {\n                result.push({\n                    rawString: styles.substring(pos, matchIndex)\n                });\n            }\n            result.push({\n                theme: tokenMatch[1],\n                defaultValue: tokenMatch[2] // May be undefined\n            });\n            // index of the first character after the current match\n            pos = _themeTokenRegex.lastIndex;\n        }\n        // Push the rest of the string after the last match.\n        result.push({\n            rawString: styles.substring(pos)\n        });\n    }\n    return result;\n}\nexports.splitStyles = splitStyles;\n/**\n * Registers a set of style text. If it is registered too early, we will register it when the\n * window.load event is fired.\n * @param {ThemableArray} styleArray Array of IThemingInstruction objects to register.\n * @param {IStyleRecord} styleRecord May specify a style Element to update.\n */\nfunction registerStyles(styleArray) {\n    if (typeof document === 'undefined') {\n        return;\n    }\n    var head = document.getElementsByTagName('head')[0];\n    var styleElement = document.createElement('style');\n    var _a = resolveThemableArray(styleArray), styleString = _a.styleString, themable = _a.themable;\n    styleElement.setAttribute('data-load-themed-styles', 'true');\n    if (_styleNonce) {\n        styleElement.setAttribute('nonce', _styleNonce);\n    }\n    styleElement.appendChild(document.createTextNode(styleString));\n    _themeState.perf.count++;\n    head.appendChild(styleElement);\n    var ev = document.createEvent('HTMLEvents');\n    ev.initEvent('styleinsert', true /* bubbleEvent */, false /* cancelable */);\n    ev.args = {\n        newStyle: styleElement\n    };\n    document.dispatchEvent(ev);\n    var record = {\n        styleElement: styleElement,\n        themableStyle: styleArray\n    };\n    if (themable) {\n        _themeState.registeredThemableStyles.push(record);\n    }\n    else {\n        _themeState.registeredStyles.push(record);\n    }\n}\n//# sourceMappingURL=index.js.map","export default abstract class CodeElement {\n    abstract getCode(): string;\n\n    protected encode(src: string): string {\n        return src.replace(/\\\\/g, '\\\\\\\\').replace(/'/g, \"\\\\'\");\n    }\n\n    protected indent(src: string): string {\n        return src\n            .split('\\n')\n            .map(line => (line == '' ? '' : '    ' + line + '\\n'))\n            .join('');\n    }\n}\n","import * as React from 'react';\nimport BuildInPluginState from './BuildInPluginState';\nimport SidePane from './sidePane/SidePane';\n\nexport interface MainPaneBaseState {\n    showSidePane: boolean;\n    showRibbon: boolean;\n    isPopoutShown: boolean;\n    initState: BuildInPluginState;\n    supportDarkMode: boolean;\n}\n\nexport default abstract class MainPaneBase extends React.Component<{}, MainPaneBaseState> {\n    protected sidePane: SidePane;\n    private static instance: MainPaneBase;\n\n    static getInstance() {\n        return this.instance;\n    }\n\n    constructor(props: {}) {\n        super(props);\n\n        MainPaneBase.instance = this;\n    }\n\n    abstract resetEditorPlugin(pluginState: BuildInPluginState): void;\n\n    abstract updateFormatState(): void;\n\n    abstract setIsRibbonShown(isShown: boolean): void;\n\n    abstract setIsDarkModeSupported(isSupported: boolean): void;\n\n    abstract isDarkModeSupported(): boolean;\n\n    abstract popout(): void;\n}\n","import { SidePaneElementProps } from './sidePane/SidePaneElement';\nimport {\n    ContentEditFeatureSettings,\n    DefaultFormat,\n    ExperimentalFeatures,\n} from 'roosterjs-editor-types';\n\nexport const UrlPlaceholder = '$url$';\n\nexport interface BuildInPluginList {\n    contentEdit: boolean;\n    hyperlink: boolean;\n    paste: boolean;\n    watermark: boolean;\n    imageEdit: boolean;\n    cutPasteListChain: boolean;\n    tableResize: boolean;\n    customReplace: boolean;\n    pickerPlugin: boolean;\n    contextMenu: boolean;\n}\n\nexport default interface BuildInPluginState {\n    pluginList: BuildInPluginList;\n    contentEditFeatures: ContentEditFeatureSettings;\n    defaultFormat: DefaultFormat;\n    linkTitle: string;\n    watermarkText: string;\n    showRibbon: boolean;\n    supportDarkMode: boolean;\n    experimentalFeatures: ExperimentalFeatures[];\n    forcePreserveRatio: boolean;\n}\n\nexport interface BuildInPluginProps extends BuildInPluginState, SidePaneElementProps {}\n","import checkEditInfoState, { ImageEditInfoState } from './checkEditInfoState';\nimport ImageEditInfo, { IMAGE_EDIT_INFO_NAME } from '../types/ImageEditInfo';\n\n/**\n * @internal\n * Get image edit info from an image. If the image doesn't have edit info, create one from this image.\n * When create new edit info, it will have width/height set to the image's current client width/height, and\n * natural width/height set to the image's natural width/height, src set to its current src, and all\n * other fields set to 0.\n * @param image The image to get edit info from\n */\nexport default function getEditInfoFromImage(image: HTMLImageElement): ImageEditInfo {\n    const obj = safeParseJSON(image?.dataset[IMAGE_EDIT_INFO_NAME]) as ImageEditInfo;\n    return checkEditInfoState(obj) == ImageEditInfoState.Invalid ? getInitialEditInfo(image) : obj;\n}\n\nfunction getInitialEditInfo(image: HTMLImageElement): ImageEditInfo {\n    return {\n        src: image.src,\n        widthPx: image.clientWidth,\n        heightPx: image.clientHeight,\n        naturalWidth: image.naturalWidth,\n        naturalHeight: image.naturalHeight,\n        leftPercent: 0,\n        rightPercent: 0,\n        topPercent: 0,\n        bottomPercent: 0,\n        angleRad: 0,\n    };\n}\n\nfunction safeParseJSON(json: string): any {\n    try {\n        return JSON.parse(json);\n    } catch {\n        return null;\n    }\n}\n","import * as DOMPurify from 'dompurify';\n\nconst policy = !!window.trustedTypes\n    ? window.trustedTypes.createPolicy('sanitizeHtml', {\n          createHTML: (input: string) =>\n              DOMPurify.sanitize(input, {\n                  ADD_TAGS: ['head', 'meta'],\n                  ADD_ATTR: ['name', 'content'],\n                  WHOLE_DOCUMENT: true,\n              }),\n      })\n    : null;\n\nconst trustedHTMLHandler = policy\n    ? (input: string) => <string>(<any>policy.createHTML(input))\n    : (input: string) => input;\n\nexport { trustedHTMLHandler };\n","import * as React from 'react';\nimport SidePanePlugin from '../SidePanePlugin';\nimport { IEditor } from 'roosterjs-editor-types';\nimport { SidePaneElement, SidePaneElementProps } from './SidePaneElement';\n\ninterface SidePaneComponent<P extends SidePaneElementProps>\n    extends React.Component<P, any>,\n        SidePaneElement {}\n\nexport default abstract class SidePanePluginImpl<\n    T extends SidePaneComponent<P>,\n    P extends SidePaneElementProps\n> implements SidePanePlugin {\n    protected editor: IEditor;\n    private component = React.createRef<T>();\n\n    constructor(\n        private readonly componentCtor: { new (props: P): T },\n        private readonly pluginName: string,\n        private readonly title: string\n    ) {}\n\n    getName() {\n        return this.pluginName;\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.editor = null;\n    }\n\n    getTitle() {\n        return this.title;\n    }\n\n    renderSidePane(updateHash: (pluginName?: string, path?: string[]) => void) {\n        return React.createElement<P>(this.componentCtor, {\n            ...this.getComponentProps({\n                updateHash,\n            }),\n            ref: this.component,\n        });\n    }\n\n    setHashPath(path: string[]) {\n        if (this.component.current && this.component.current.setHashPath) {\n            this.component.current.setHashPath(path);\n        }\n    }\n\n    protected abstract getComponentProps(baseProps: SidePaneElementProps): P;\n\n    protected getComponent(callback: (component: T) => void) {\n        if (this.component.current) {\n            callback(this.component.current);\n        }\n    }\n}\n","module.exports = ReactDOM;","import { IMAGE_EDIT_INFO_NAME } from '../types/ImageEditInfo';\n\n/**\n * @internal\n * Delete edit info of an image if any\n * @param image The image to delete edit info from\n */\nexport default function deleteEditInfo(image: HTMLImageElement) {\n    if (image) {\n        delete image.dataset[IMAGE_EDIT_INFO_NAME];\n    }\n}\n","export const IMAGE_EDIT_INFO_NAME = 'roosterEditInfo';\n\n/**\n * @internal\n * Edit info for inline image resize\n */\nexport interface ResizeInfo {\n    /**\n     * Width after resize, in px.\n     * If image is cropped, this is the width of visible part\n     * If image is rotated, this is the width before rotation\n     * @default clientWidth of the image\n     */\n    widthPx: number;\n\n    /**\n     * Height after resize, in px.\n     * If image is cropped, this is the height of visible part\n     * If image is rotated, this is the height before rotation\n     * @default clientHeight of the image\n     */\n    heightPx: number;\n}\n\n/**\n * @internal\n * Edit info for inline image crop\n */\nexport interface CropInfo {\n    /**\n     * Left cropped percentage. Rotation or resizing won't impact this percentage value\n     * @default 0\n     */\n    leftPercent: number;\n\n    /**\n     * Right cropped percentage. Rotation or resizing won't impact this percentage value\n     * @default 0\n     */\n    rightPercent: number;\n\n    /**\n     * Top cropped percentage. Rotation or resizing won't impact this percentage value\n     * @default 0\n     */\n    topPercent: number;\n\n    /**\n     * Bottom cropped percentage. Rotation or resizing won't impact this percentage value\n     * @default 0\n     */\n    bottomPercent: number;\n}\n\n/**\n * @internal\n * Edit info for inline image rotate\n */\nexport interface RotateInfo {\n    /**\n     * Rotated angle of inline image, in radian. Cropping or resizing won't impact this percentage value\n     * @default 0\n     */\n    angleRad: number;\n}\n\n/**\n * @internal\n * Edit info for inline image editing\n */\nexport default interface ImageEditInfo extends ResizeInfo, CropInfo, RotateInfo {\n    /**\n     * Original src of the image. This value will not be changed when edit image. We can always use it\n     * to get the original image so that all editing operation will be on top of the original image.\n     */\n    readonly src: string;\n\n    /**\n     * Natural width of the original image (specified by the src field, may not be the current edited image)\n     */\n    readonly naturalWidth: number;\n\n    /**\n     * Natural height of the original image (specified by the src field, may not be the current edited image)\n     */\n    readonly naturalHeight: number;\n}\n","import GeneratedImageSize from '../types/GeneratedImageSize';\nimport ImageEditInfo from '../types/ImageEditInfo';\n\n/**\n * @internal\n * Calculate the target size of an image.\n * For image that is not rotated, target size is the same with resizing/cropping size.\n * For image that is rotated, target size is calculated from resizing/cropping size and its rotate angle\n * Say an image is resized to 100w*100h, cropped 25% on each side, then rotated 45deg, so that cropped size\n * will be (both height and width) 100*(1-0.25-0,25) = 50px, then final image size will be 50*sqrt(2) = 71px\n * @param editInfo The edit info to calculate size from\n * @param beforeCrop True to calculate the full size of original image before crop, false to calculate the size\n * after crop\n * @returns A GeneratedImageSize object which contains original, visible and target target width and height of the image\n */\nexport default function getGeneratedImageSize(\n    editInfo: ImageEditInfo,\n    beforeCrop?: boolean\n): GeneratedImageSize {\n    const {\n        widthPx: width,\n        heightPx: height,\n        angleRad: angle,\n        leftPercent: left,\n        rightPercent: right,\n        topPercent: top,\n        bottomPercent: bottom,\n    } = editInfo;\n\n    // Original image size before crop and rotate\n    const originalWidth = width / (1 - left - right);\n    const originalHeight = height / (1 - top - bottom);\n\n    // Visible size\n    const visibleWidth = beforeCrop ? originalWidth : width;\n    const visibleHeight = beforeCrop ? originalHeight : height;\n\n    // Target size after crop and rotate\n    const targetWidth =\n        Math.abs(visibleWidth * Math.cos(angle)) + Math.abs(visibleHeight * Math.sin(angle));\n    const targetHeight =\n        Math.abs(visibleWidth * Math.sin(angle)) + Math.abs(visibleHeight * Math.cos(angle));\n\n    return {\n        targetWidth,\n        targetHeight,\n        originalWidth,\n        originalHeight,\n        visibleWidth,\n        visibleHeight,\n    };\n}\n","export * from './plugins/ContentEdit/index';\n","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/sass-loader/dist/cjs.js!./OptionsPane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","import * as React from 'react';\nimport BuildInPluginState, { UrlPlaceholder } from '../BuildInPluginState';\nimport ImageEditPlugin from '../contextMenu/ImageEditPlugin';\nimport ResetListPlugin from '../contextMenu/ResetListPlugin';\nimport SampleColorPickerPluginDataProvider from '../samplepicker/SampleColorPickerPluginDataProvider';\nimport { ContentEdit } from 'roosterjs-editor-plugins/lib/ContentEdit';\nimport { CONTEXT_MENU_DATA_PROVIDER } from '../contextMenu/ContextMenuProvider';\nimport { ContextMenu } from 'roosterjs-editor-plugins/lib/ContextMenu';\nimport { CustomReplace as CustomReplacePlugin } from 'roosterjs-editor-plugins/lib/CustomReplace';\nimport { CutPasteListChain } from 'roosterjs-editor-plugins/lib/CutPasteListChain';\nimport { Editor as RoosterJsEditor } from 'roosterjs-editor-core';\nimport { EditorInstanceToggleablePlugins } from './EditorInstanceToggleablePlugins';\nimport { EditorOptions, EditorPlugin, IEditor, UndoSnapshotsService } from 'roosterjs-editor-types';\nimport { getDarkColor } from 'roosterjs-color-utils';\nimport { HyperLink } from 'roosterjs-editor-plugins/lib/HyperLink';\nimport { Paste } from 'roosterjs-editor-plugins/lib/Paste';\nimport { PickerPlugin } from 'roosterjs-editor-plugins/lib/Picker';\nimport { TableResize } from 'roosterjs-editor-plugins/lib/TableResize';\nimport { trustedHTMLHandler } from '../../utils/trustedHTMLHandler';\nimport { Watermark } from 'roosterjs-editor-plugins/lib/Watermark';\n\nconst styles = require('./Editor.scss');\n\nexport interface EditorProps {\n    plugins: EditorPlugin[];\n    initState: BuildInPluginState;\n    snapshotService: UndoSnapshotsService;\n    className?: string;\n}\n\nexport default function Editor(props: EditorProps) {\n    const contentDiv = React.useRef<HTMLDivElement>();\n    const editor = React.useRef<IEditor>();\n\n    const {\n        pluginList,\n        contentEditFeatures,\n        linkTitle,\n        watermarkText,\n        forcePreserveRatio,\n        defaultFormat,\n        experimentalFeatures,\n    } = props.initState;\n\n    const getLinkCallback = React.useCallback(\n        (): ((url: string) => string) =>\n            linkTitle?.indexOf(UrlPlaceholder) >= 0\n                ? url => linkTitle.replace(UrlPlaceholder, url)\n                : linkTitle\n                ? () => linkTitle\n                : null,\n        [linkTitle]\n    );\n\n    React.useEffect(() => {\n        const editorInstanceToggleablePlugins: EditorInstanceToggleablePlugins = {\n            contentEdit: pluginList.contentEdit ? new ContentEdit(contentEditFeatures) : null,\n            hyperlink: pluginList.hyperlink ? new HyperLink(getLinkCallback()) : null,\n            paste: pluginList.paste ? new Paste() : null,\n            watermark: pluginList.watermark ? new Watermark(watermarkText) : null,\n            imageEdit: pluginList.imageEdit\n                ? new ImageEditPlugin({\n                      preserveRatio: forcePreserveRatio,\n                  })\n                : null,\n            cutPasteListChain: pluginList.cutPasteListChain ? new CutPasteListChain() : null,\n            tableResize: pluginList.tableResize ? new TableResize() : null,\n            pickerPlugin: pluginList.pickerPlugin\n                ? new PickerPlugin(new SampleColorPickerPluginDataProvider(), {\n                      elementIdPrefix: 'samplepicker-',\n                      changeSource: 'SAMPLE_COLOR_PICKER',\n                      triggerCharacter: ':',\n                      isHorizontal: true,\n                  })\n                : null,\n            customReplace: pluginList.customReplace ? new CustomReplacePlugin() : null,\n            resetList: pluginList.contextMenu ? new ResetListPlugin() : null,\n            contextMenu: pluginList.contextMenu\n                ? new ContextMenu(CONTEXT_MENU_DATA_PROVIDER)\n                : null,\n        };\n        const plugins = [\n            ...Object.keys(editorInstanceToggleablePlugins).map(\n                (k: keyof EditorInstanceToggleablePlugins) => editorInstanceToggleablePlugins[k]\n            ),\n            ...props.plugins,\n        ];\n        const options: EditorOptions = {\n            plugins,\n            defaultFormat,\n            getDarkColor,\n            experimentalFeatures: experimentalFeatures,\n            undoSnapshotService: props.snapshotService,\n            trustedHTMLHandler: trustedHTMLHandler,\n        };\n        editor.current = new RoosterJsEditor(contentDiv.current, options);\n        return () => {\n            editor.current.dispose();\n            editor.current = null;\n        };\n    }, [\n        pluginList,\n        contentEditFeatures,\n        watermarkText,\n        forcePreserveRatio,\n        props.plugins,\n        defaultFormat,\n        experimentalFeatures,\n        props.snapshotService,\n    ]);\n\n    return (\n        <div className={props.className}>\n            <div className={styles.editor} ref={contentDiv} />\n        </div>\n    );\n}\n","import checkEditInfoState, { ImageEditInfoState } from './checkEditInfoState';\nimport deleteEditInfo from './deleteEditInfo';\nimport generateDataURL from './generateDataURL';\nimport getEditInfoFromImage from './getEditInfoFromImage';\nimport getGeneratedImageSize from './getGeneratedImageSize';\nimport ImageEditInfo from '../types/ImageEditInfo';\nimport saveEditInfo from './saveEditInfo';\nimport { IEditor, PluginEventType } from 'roosterjs-editor-types';\n\n/**\n * @internal\n * Apply changes from the edit info of an image, write result to the image\n * @param editor The editor object that contains the image\n * @param image The image to apply the change\n * @param editInfo Edit info that contains the changed information of the image\n * @param previousSrc Last src value of the image before the change was made\n * @returns True if the image is changed, otherwise false\n */\nexport default function applyChange(\n    editor: IEditor,\n    image: HTMLImageElement,\n    editInfo: ImageEditInfo,\n    previousSrc: string\n): boolean {\n    let newSrc = '';\n\n    const initEditInfo = getEditInfoFromImage(image);\n    const state = checkEditInfoState(editInfo, initEditInfo);\n\n    switch (state) {\n        case ImageEditInfoState.ResizeOnly:\n            // For resize only case, no need to generate a new image, just reuse the original one\n            newSrc = editInfo.src;\n            break;\n        case ImageEditInfoState.SameWithLast:\n            // For SameWithLast case, image may be resized but the content is still the same with last one,\n            // so no need to create a new image, but just reuse last one\n            newSrc = previousSrc;\n            break;\n        case ImageEditInfoState.FullyChanged:\n            // For other cases (cropped, rotated, ...) we need to create a new image to reflect the change\n            newSrc = generateDataURL(image, editInfo);\n            break;\n    }\n\n    const srcChanged = newSrc != previousSrc;\n\n    if (srcChanged) {\n        // If the src is changed, fire an EditImage event so that plugins knows that a new image is used, and can\n        // replace the new src with some other string and it will be used and set to the image\n        const event = editor.triggerPluginEvent(PluginEventType.EditImage, {\n            image: image,\n            originalSrc: editInfo.src,\n            previousSrc,\n            newSrc,\n        });\n        newSrc = event.newSrc;\n    }\n\n    if (newSrc == editInfo.src) {\n        // If newSrc is the same with original one, it means there is only size change, but no rotation, no cropping,\n        // so we don't need to keep edit info, we can delete it\n        deleteEditInfo(image);\n    } else {\n        // Otherwise, save the new edit info to the image so that next time when we edit the same image, we know\n        // the edit info\n        saveEditInfo(image, editInfo);\n    }\n\n    // Write back the change to image, and set its new size\n    const { targetWidth, targetHeight } = getGeneratedImageSize(editInfo);\n    image.src = newSrc;\n    image.style.width = targetWidth + 'px';\n    image.style.height = targetHeight + 'px';\n    image.width = targetWidth;\n    image.height = targetHeight;\n\n    return (\n        srcChanged ||\n        editInfo.widthPx != initEditInfo.widthPx ||\n        editInfo.heightPx != initEditInfo.heightPx\n    );\n}\n","import ImageEditInfo, { CropInfo, ResizeInfo, RotateInfo } from '../types/ImageEditInfo';\n\nconst RESIZE_KEYS: (keyof ResizeInfo)[] = ['widthPx', 'heightPx'];\nconst ROTATE_KEYS: (keyof RotateInfo)[] = ['angleRad'];\nconst CROP_KEYS: (keyof CropInfo)[] = [\n    'leftPercent',\n    'rightPercent',\n    'topPercent',\n    'bottomPercent',\n];\nconst ROTATE_CROP_KEYS: (keyof RotateInfo | keyof CropInfo)[] = [...ROTATE_KEYS, ...CROP_KEYS];\nconst ALL_KEYS = [...ROTATE_CROP_KEYS, ...RESIZE_KEYS];\n\n/**\n * State of an edit info object for image editing.\n * It is returned by checkEditInfoState() function\n */\nexport const enum ImageEditInfoState {\n    /**\n     * Invalid edit info. It means the given edit info object is either null,\n     * or not all its member are of correct type\n     */\n    Invalid,\n\n    /**\n     * The edit info shows that it is only potentially edited by resizing action.\n     * Image is not rotated or cropped, or event not changed at all.\n     */\n    ResizeOnly,\n\n    /**\n     * When compare with another edit info, this value can be returned when both current\n     * edit info and the other one are not been rotated, and they have same cropping\n     * percentages. So that they can share the same image src, only width and height\n     * need to be adjusted.\n     */\n    SameWithLast,\n\n    /**\n     * When this value is returned, it means the image is edited by either cropping or\n     * rotation, or both. Image source can't be reused, need to generate a new image src\n     * data uri.\n     */\n    FullyChanged,\n}\n\n/**\n * @internal\n * Check the state of an edit info\n * @param editInfo The edit info to check\n * @param compareTo An optional edit info to compare to\n * @returns If the source edit info is not valid (wrong type, missing field, ...), returns Invalid.\n * If the source edit info doesn't contain any rotation or cropping, returns ResizeOnly\n * If the compare edit info exists, and both of them don't contain rotation, and the have same cropping values,\n * returns SameWithLast. Otherwise, returns FullyChanged\n */\nexport default function checkEditInfoState(\n    editInfo: ImageEditInfo,\n    compareTo?: ImageEditInfo\n): ImageEditInfoState {\n    if (!editInfo || !editInfo.src || ALL_KEYS.some(key => !isNumber(editInfo[key]))) {\n        return ImageEditInfoState.Invalid;\n    } else if (ROTATE_CROP_KEYS.every(key => areSameNumber(editInfo[key], 0))) {\n        return ImageEditInfoState.ResizeOnly;\n    } else if (\n        compareTo &&\n        ROTATE_KEYS.every(key => areSameNumber(editInfo[key], 0)) &&\n        ROTATE_KEYS.every(key => areSameNumber(compareTo[key], 0)) &&\n        CROP_KEYS.every(key => areSameNumber(editInfo[key], compareTo[key]))\n    ) {\n        return ImageEditInfoState.SameWithLast;\n    } else {\n        return ImageEditInfoState.FullyChanged;\n    }\n}\n\nfunction isNumber(o: any): o is number {\n    return typeof o === 'number';\n}\n\nfunction areSameNumber(n1: number, n2: number) {\n    return Math.abs(n1 - n2) < 1e-3;\n}\n","/**\n * Check if we can regenerate edited image from the source image.\n * An image can't regenerate result when there is CORS issue of the source content.\n * @param img The image element to test\n * @returns True when we can regenerate the edited image, otherwise false\n */\nexport default function canRegenerateImage(img: HTMLImageElement): boolean {\n    if (!img) {\n        return false;\n    }\n\n    try {\n        const canvas = img.ownerDocument.createElement('canvas');\n        canvas.width = 10;\n        canvas.height = 10;\n        const context = canvas.getContext('2d');\n        context.drawImage(img, 0, 0);\n        context.getImageData(0, 0, 1, 1);\n        return true;\n    } catch {\n        return false;\n    }\n}\n","import DragAndDropContext, { X, Y } from '../types/DragAndDropContext';\nimport DragAndDropHandler from '../../../pluginUtils/DragAndDropHandler';\nimport ImageEditInfo, { ResizeInfo } from '../types/ImageEditInfo';\nimport ImageHtmlOptions from '../types/ImageHtmlOptions';\nimport { CreateElementData } from 'roosterjs-editor-types';\nimport { ImageEditElementClass } from '../types/ImageEditElementClass';\n\nconst RESIZE_HANDLE_SIZE = 7;\nconst RESIZE_HANDLE_MARGIN = 3;\nconst Xs: X[] = ['w', '', 'e'];\nconst Ys: Y[] = ['s', '', 'n'];\n\n/**\n * The resize drag and drop handler\n */\nconst Resizer: DragAndDropHandler<DragAndDropContext, ResizeInfo> = {\n    onDragStart: ({ editInfo }) => ({ ...editInfo }),\n    onDragging: ({ x, y, editInfo, options }, e, base, deltaX, deltaY) => {\n        const ratio =\n            base.widthPx > 0 && base.heightPx > 0 ? (base.widthPx * 1.0) / base.heightPx : 0;\n\n        [deltaX, deltaY] = rotateCoordinate(deltaX, deltaY, editInfo.angleRad);\n\n        const horizontalOnly = x == '';\n        const verticalOnly = y == '';\n        const shouldPreserveRatio =\n            !(horizontalOnly || verticalOnly) && (options.preserveRatio || e.shiftKey);\n        let newWidth = horizontalOnly\n            ? base.widthPx\n            : Math.max(base.widthPx + deltaX * (x == 'w' ? -1 : 1), options.minWidth);\n        let newHeight = verticalOnly\n            ? base.heightPx\n            : Math.max(base.heightPx + deltaY * (y == 'n' ? -1 : 1), options.minHeight);\n\n        if (shouldPreserveRatio && ratio > 0) {\n            newHeight = Math.min(newHeight, newWidth / ratio);\n            newWidth = Math.min(newWidth, newHeight * ratio);\n\n            if (newWidth < newHeight * ratio) {\n                newWidth = newHeight * ratio;\n            } else {\n                newHeight = newWidth / ratio;\n            }\n        }\n\n        editInfo.widthPx = newWidth;\n        editInfo.heightPx = newHeight;\n\n        return true;\n    },\n};\n\n/**\n * @internal\n */\nexport default Resizer;\n\n/**\n * @internal Calculate the rotated x and y distance for mouse moving\n * @param x Original x distance\n * @param y Original y distance\n * @param angle Rotated angle, in radian\n * @returns rotated x and y distances\n */\nexport function rotateCoordinate(x: number, y: number, angle: number): [number, number] {\n    if (x == 0 && y == 0) {\n        return [0, 0];\n    }\n    const hypotenuse = Math.sqrt(x * x + y * y);\n    angle = Math.atan2(y, x) - angle;\n    return [hypotenuse * Math.cos(angle), hypotenuse * Math.sin(angle)];\n}\n\n/**\n * @internal\n * Double check if the changed size can satisfy current width of container.\n * When resize an image and preserve ratio, its size can be limited by the size of container.\n * So we need to check the actual size and calculate the size again\n * @param editInfo Edit info of the image\n * @param preserveRatio Whether w/h ratio need to be preserved\n * @param actualWidth Actual width of the image after resize\n * @param actualHeight Actual height of the image after resize\n */\nexport function doubleCheckResize(\n    editInfo: ImageEditInfo,\n    preserveRatio: boolean,\n    actualWidth: number,\n    actualHeight: number\n) {\n    let { widthPx, heightPx } = editInfo;\n    const ratio = heightPx > 0 ? widthPx / heightPx : 0;\n\n    actualWidth = Math.floor(actualWidth);\n    actualHeight = Math.floor(actualHeight);\n    widthPx = Math.floor(widthPx);\n    heightPx = Math.floor(heightPx);\n\n    editInfo.widthPx = actualWidth;\n    editInfo.heightPx = actualHeight;\n\n    if (preserveRatio && ratio > 0 && (widthPx !== actualWidth || heightPx !== actualHeight)) {\n        if (actualWidth < widthPx) {\n            editInfo.heightPx = actualWidth / ratio;\n        } else {\n            editInfo.widthPx = actualHeight * ratio;\n        }\n    }\n}\n\n/**\n * @internal\n * Get HTML for resize handles at the corners\n */\nexport function getCornerResizeHTML({\n    borderColor: resizeBorderColor,\n}: ImageHtmlOptions): CreateElementData[] {\n    const result: CreateElementData[] = [];\n    Xs.forEach(x =>\n        Ys.forEach(y =>\n            result.push(\n                (x == '') == (y == '') ? getResizeHandleHTML(x, y, resizeBorderColor) : null\n            )\n        )\n    );\n    return result;\n}\n\n/**\n * @internal\n * Get HTML for resize handles on the sides\n */\nexport function getSideResizeHTML({\n    borderColor: resizeBorderColor,\n}: ImageHtmlOptions): CreateElementData[] {\n    const result: CreateElementData[] = [];\n    Xs.forEach(x =>\n        Ys.forEach(y =>\n            result.push(\n                (x == '') != (y == '') ? getResizeHandleHTML(x, y, resizeBorderColor) : null\n            )\n        )\n    );\n    return result;\n}\n\nfunction getResizeHandleHTML(x: X, y: Y, borderColor: string): CreateElementData {\n    const leftOrRight = x == 'w' ? 'left' : 'right';\n    const topOrBottom = y == 'n' ? 'top' : 'bottom';\n    const leftOrRightValue = x == '' ? '50%' : '0px';\n    const topOrBottomValue = y == '' ? '50%' : '0px';\n    const direction = y + x;\n\n    return x == '' && y == ''\n        ? {\n              tag: 'div',\n              style: `position:absolute;left:0;right:0;top:0;bottom:0;border:solid 1px ${borderColor};pointer-events:none`,\n          }\n        : {\n              tag: 'div',\n              style: `position:absolute;${leftOrRight}:${leftOrRightValue};${topOrBottom}:${topOrBottomValue}`,\n              children: [\n                  {\n                      tag: 'div',\n                      style: `position:relative;width:${RESIZE_HANDLE_SIZE}px;height:${RESIZE_HANDLE_SIZE}px;background-color: ${borderColor};cursor:${direction}-resize;${topOrBottom}:-${RESIZE_HANDLE_MARGIN}px;${leftOrRight}:-${RESIZE_HANDLE_MARGIN}px`,\n                      className: ImageEditElementClass.ResizeHandle,\n                      dataset: { x, y },\n                  },\n              ],\n          };\n}\n","import ImageEditInfo from '../types/ImageEditInfo';\nimport ImageSize from '../types/ImageSize';\n\n/**\n * @internal\n * Get target size of an image with a percentage\n * @param editInfo\n * @param percentage\n * @returns [width, height] array\n */\nexport default function getTargetSizeByPercentage(\n    editInfo: ImageEditInfo,\n    percentage: number\n): ImageSize {\n    const {\n        naturalWidth,\n        naturalHeight,\n        leftPercent: left,\n        topPercent: top,\n        rightPercent: right,\n        bottomPercent: bottom,\n    } = editInfo;\n    const width = naturalWidth * (1 - left - right) * percentage;\n    const height = naturalHeight * (1 - top - bottom) * percentage;\n    return { width, height };\n}\n","import getEditInfoFromImage from '../editInfoUtils/getEditInfoFromImage';\nimport getTargetSizeByPercentage from '../editInfoUtils/getTargetSizeByPercentage';\n\n/**\n * Check if the image is already resized to the given percentage\n * @param image The image to check\n * @param percentage The percentage to check\n */\nexport default function isResizedTo(image: HTMLImageElement, percentage: number): boolean {\n    const editInfo = getEditInfoFromImage(image);\n    const { width, height } = getTargetSizeByPercentage(editInfo, percentage);\n    return (\n        Math.round(width) == Math.round(editInfo.widthPx) &&\n        Math.round(height) == Math.round(editInfo.heightPx)\n    );\n}\n","import { AutoLinkFeatures } from './features/autoLinkFeatures';\nimport { CursorFeatures } from './features/cursorFeatures';\nimport { EntityFeatures } from './features/entityFeatures';\nimport { ListFeatures } from './features/listFeatures';\nimport { MarkdownFeatures } from './features/markdownFeatures';\nimport { QuoteFeatures } from './features/quoteFeatures';\nimport { ShortcutFeatures } from './features/shortcutFeatures';\nimport { StructuredNodeFeatures } from './features/structuredNodeFeatures';\nimport { TableFeatures } from './features/tableFeatures';\nimport {\n    BuildInEditFeature,\n    ContentEditFeatureSettings,\n    PluginEvent,\n} from 'roosterjs-editor-types';\n\nconst allFeatures = {\n    ...ListFeatures,\n    ...QuoteFeatures,\n    ...TableFeatures,\n    ...StructuredNodeFeatures,\n    ...AutoLinkFeatures,\n    ...ShortcutFeatures,\n    ...CursorFeatures,\n    ...MarkdownFeatures,\n    ...EntityFeatures,\n};\n\n/**\n * Get all content edit features provided by roosterjs\n */\nexport default function getAllFeatures(): Record<\n    keyof ContentEditFeatureSettings,\n    BuildInEditFeature<PluginEvent>\n> {\n    return allFeatures;\n}\n","import { NodeType } from 'roosterjs-editor-types';\n\n/** NodeId attribute */\nconst NODE_ID_ATTRIBUTE_NAME = 'NodeId';\n\n/**\n * @internal\n * Custom data for dom elements\n */\nexport default interface WordCustomData {\n    /** The dict storing custom data, key is element Id, value is dictionary */\n    dict: { [key: string]: { [key: string]: number } };\n\n    /** Next node Id to use */\n    nextNodeId: number;\n}\n\n/**\n * @internal\n * Create an empty WordCustomData\n */\nexport function createCustomData(): WordCustomData {\n    return {\n        dict: {},\n        nextNodeId: 1,\n    };\n}\n\n/**\n * @internal\n * Sets the specified object data\n */\nexport function setObject(wordCustomData: WordCustomData, element: Node, key: string, value: any) {\n    // Get the id for the element\n    if (element.nodeType == NodeType.Element) {\n        let id = getAndSetNodeId(wordCustomData, element as HTMLElement);\n        if (id != '') {\n            // Get the values for the element\n            if (!wordCustomData.dict[id]) {\n                // First time dictionary creation\n                wordCustomData.dict[id] = {};\n            }\n            wordCustomData.dict[id][key] = value;\n        }\n    }\n}\n\n/**\n * @internal\n * Reads the specified object data\n */\nexport function getObject(wordCustomData: WordCustomData, element: Node, key: string): any {\n    if (element.nodeType == NodeType.Element) {\n        let id = getAndSetNodeId(wordCustomData, element as HTMLElement);\n        if (id != '') {\n            return wordCustomData.dict[id] && wordCustomData.dict[id][key];\n        }\n    }\n\n    return null;\n}\n\n/**\n * Get the unique id for the specified node...\n */\nfunction getAndSetNodeId(wordCustomData: WordCustomData, element: HTMLElement): string {\n    let id = element.getAttribute(NODE_ID_ATTRIBUTE_NAME);\n    if (!id) {\n        id = wordCustomData.nextNodeId.toString();\n        wordCustomData.nextNodeId++;\n        element.setAttribute(NODE_ID_ATTRIBUTE_NAME, id);\n    }\n    return id;\n}\n","import ListMetadata from './ListMetadata';\n\n/**\n * @internal\n * Holds the ids for the lists already seen for a specified level\n */\nexport default interface LevelLists {\n    /**\n     * The metadata for the lists seen at  this level\n     * key: word list id, value: list metadata\n     */\n    listsMetadata: { [key: string]: ListMetadata };\n\n    /** Unique id of the list currently at this level */\n    currentUniqueListId: number;\n}\n\n/**\n * @internal\n * create an empty LevelLists\n */\nexport function createLevelLists(): LevelLists {\n    return {\n        listsMetadata: {},\n        currentUniqueListId: -1,\n    };\n}\n","/**\n * @internal\n */\nexport const WORD_ORDERED_LIST_SELECTOR = 'div.ListContainerWrapper > ul[class^=\"BulletListStyle\"]';\n\n/**\n * @internal\n */\nexport const WORD_UNORDERED_LIST_SELECTOR =\n    'div.ListContainerWrapper > ol[class^=\"NumberListStyle\"]';\n\n/**\n * @internal\n */\nexport const WORD_ONLINE_IDENTIFYING_SELECTOR = `${WORD_ORDERED_LIST_SELECTOR},${WORD_UNORDERED_LIST_SELECTOR}`;\n\n/**\n * @internal\n */\nexport const LIST_CONTAINER_ELEMENT_CLASS_NAME = 'ListContainerWrapper';\n\n/**\n * @internal\n */\nexport const UNORDERED_LIST_TAG_NAME = 'UL';\n\n/**\n * @internal\n */\nexport const ORDERED_LIST_TAG_NAME = 'OL';\n\nconst TEXT_CONTAINER_ELEMENT_CLASS_NAME = 'OutlineElement';\n\n/**\n * @internal\n */\nexport const WAC_IDENTIFY_SELECTOR = `ul[class^=\"BulletListStyle\"]>.${TEXT_CONTAINER_ELEMENT_CLASS_NAME},ol[class^=\"NumberListStyle\"]>.${TEXT_CONTAINER_ELEMENT_CLASS_NAME}`;\n","import * as React from 'react';\nimport RibbonButton from './RibbonButton';\nimport ribbonButtons from './ribbonButtons';\nimport RibbonPlugin from './RibbonPlugin';\nimport { getFormatState } from 'roosterjs-editor-api';\n\nexport interface RibbonProps {\n    plugin: RibbonPlugin;\n    className?: string;\n}\n\nexport default class Ribbon extends React.Component<RibbonProps, {}> {\n    render() {\n        let plugin = this.props.plugin;\n        let editor = plugin.getEditor();\n        let format = editor && getFormatState(editor);\n        return editor ? (\n            <div className={this.props.className || ''}>\n                {Object.keys(ribbonButtons)\n                    .filter(key => !ribbonButtons[key].isHidden || !ribbonButtons[key].isHidden())\n                    .map(key => (\n                        <RibbonButton\n                            key={key}\n                            plugin={plugin}\n                            format={format}\n                            button={ribbonButtons[key]}\n                            onClicked={this.onButtonClicked}\n                        />\n                    ))}\n            </div>\n        ) : null;\n    }\n\n    private onButtonClicked = () => {\n        this.forceUpdate();\n    };\n}\n","import { ClipboardData, IEditor } from 'roosterjs-editor-types';\n\nexport interface ClipboardDataWrapper {\n    data: ClipboardData;\n}\n\nexport default function getLastClipboardData(editor: IEditor): ClipboardDataWrapper {\n    return editor.getCustomData('LAST_CLIPBOARD_DATA', () => ({\n        data: null,\n    }));\n}\n","import ApiPlaygroundPlugin from './sidePane/apiPlayground/ApiPlaygroundPlugin';\nimport EditorOptionsPlugin from './sidePane/editorOptions/EditorOptionsPlugin';\nimport EventViewPlugin from './sidePane/eventViewer/EventViewPlugin';\nimport FormatStatePlugin from './sidePane/formatState/FormatStatePlugin';\nimport MainPaneBase from './MainPaneBase';\nimport RibbonPlugin from './ribbon/RibbonPlugin';\nimport SidePanePlugin from './SidePanePlugin';\nimport SnapshotPlugin from './sidePane/snapshot/SnapshotPlugin';\nimport { EditorPlugin, IEditor, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\n\nexport default interface Plugins {\n    ribbon: RibbonPlugin;\n    formatState: FormatStatePlugin;\n    snapshot: SnapshotPlugin;\n    editorOptions: EditorOptionsPlugin;\n    eventView: EventViewPlugin;\n    api: ApiPlaygroundPlugin;\n    bridge: Bridge;\n}\n\nlet plugins: Plugins = null;\n\nexport function getPlugins(): Plugins {\n    if (!plugins) {\n        plugins = {\n            ribbon: new RibbonPlugin(),\n            formatState: new FormatStatePlugin(),\n            snapshot: new SnapshotPlugin(),\n            editorOptions: new EditorOptionsPlugin(),\n            eventView: new EventViewPlugin(),\n            api: new ApiPlaygroundPlugin(),\n            bridge: new Bridge(),\n        };\n    }\n    return plugins;\n}\n\nexport function getAllPluginArray(includeSidePanePlugins: boolean): EditorPlugin[] {\n    let allPlugins = getPlugins();\n    return [\n        allPlugins.ribbon,\n        includeSidePanePlugins && allPlugins.formatState,\n        includeSidePanePlugins && allPlugins.editorOptions,\n        includeSidePanePlugins && allPlugins.eventView,\n        includeSidePanePlugins && allPlugins.api,\n        includeSidePanePlugins && allPlugins.snapshot,\n        allPlugins.bridge,\n    ];\n}\n\nexport function getSidePanePluginArray(): SidePanePlugin[] {\n    let allPlugins = getPlugins();\n    return [\n        allPlugins.formatState,\n        allPlugins.editorOptions,\n        allPlugins.snapshot,\n        allPlugins.eventView,\n        allPlugins.api,\n    ];\n}\n\nclass Bridge implements EditorPlugin {\n    private editor: IEditor;\n    private isDark: boolean = undefined;\n    private content: string = undefined;\n\n    getName() {\n        return 'Bridge';\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.editor = null;\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (e.eventType == PluginEventType.EditorReady) {\n            if (this.isDark !== undefined) {\n                this.editor.setDarkModeState(\n                    this.isDark && MainPaneBase.getInstance().isDarkModeSupported()\n                );\n            }\n            if (this.content !== undefined) {\n                this.editor.setContent(this.content);\n            }\n        } else if (e.eventType == PluginEventType.BeforeDispose) {\n            this.isDark = this.editor.isDarkMode();\n            this.content = this.editor.getContent();\n        }\n    }\n}\n","'use strict';\n\nvar colorString = require('color-string');\nvar convert = require('color-convert');\n\nvar _slice = [].slice;\n\nvar skippedModels = [\n\t// to be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// shouldn't really be in color-convert either...\n\t'hex'\n];\n\nvar hashedModelKeys = {};\nObject.keys(convert).forEach(function (model) {\n\thashedModelKeys[_slice.call(convert[model].labels).sort().join('')] = model;\n});\n\nvar limiters = {};\n\nfunction Color(obj, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tvar i;\n\tvar channels;\n\n\tif (obj == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (obj instanceof Color) {\n\t\tthis.model = obj.model;\n\t\tthis.color = obj.color.slice();\n\t\tthis.valpha = obj.valpha;\n\t} else if (typeof obj === 'string') {\n\t\tvar result = colorString.get(obj);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + obj);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (obj.length) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tvar newArr = _slice.call(obj, 0, channels);\n\t\tthis.color = zeroArray(newArr, channels);\n\t\tthis.valpha = typeof obj[channels] === 'number' ? obj[channels] : 1;\n\t} else if (typeof obj === 'number') {\n\t\t// this is always RGB - can be converted later on.\n\t\tobj &= 0xFFFFFF;\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(obj >> 16) & 0xFF,\n\t\t\t(obj >> 8) & 0xFF,\n\t\t\tobj & 0xFF\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tvar keys = Object.keys(obj);\n\t\tif ('alpha' in obj) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof obj.alpha === 'number' ? obj.alpha : 0;\n\t\t}\n\n\t\tvar hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(obj));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tvar labels = convert[this.model].labels;\n\t\tvar color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(obj[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tvar limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString: function () {\n\t\treturn this.string();\n\t},\n\n\ttoJSON: function () {\n\t\treturn this[this.model]();\n\t},\n\n\tstring: function (places) {\n\t\tvar self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString: function (places) {\n\t\tvar self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray: function () {\n\t\treturn this.valpha === 1 ? this.color.slice() : this.color.concat(this.valpha);\n\t},\n\n\tobject: function () {\n\t\tvar result = {};\n\t\tvar channels = convert[this.model].channels;\n\t\tvar labels = convert[this.model].labels;\n\n\t\tfor (var i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray: function () {\n\t\tvar rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject: function () {\n\t\tvar rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround: function (places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color(this.color.map(roundToPlace(places)).concat(this.valpha), this.model);\n\t},\n\n\talpha: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(this.color.concat(Math.max(0, Math.min(1, val))), this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, function (val) { return ((val % 360) + 360) % 360; }), // eslint-disable-line brace-style\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(100)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(100)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.rgb().color;\n\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.rgb().color;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight: function () {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = this.rgb();\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\t\treturn rgb;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale: function () {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar rgb = this.rgb().color;\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(val, val, val);\n\t},\n\n\tfade: function (ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer: function (ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.hsl();\n\t\tvar hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix: function (mixinColor, weight) {\n\t\t// ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\t\tvar color1 = mixinColor.rgb();\n\t\tvar color2 = this.rgb();\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t}\n};\n\n// model conversion methods and static constructors\nObject.keys(convert).forEach(function (model) {\n\tif (skippedModels.indexOf(model) !== -1) {\n\t\treturn;\n\t}\n\n\tvar channels = convert[model].channels;\n\n\t// conversion methods\n\tColor.prototype[model] = function () {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (arguments.length) {\n\t\t\treturn new Color(arguments, model);\n\t\t}\n\n\t\tvar newAlpha = typeof arguments[channels] === 'number' ? channels : this.valpha;\n\t\treturn new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha), model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (color) {\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(_slice.call(arguments), channels);\n\t\t}\n\t\treturn new Color(color, model);\n\t};\n});\n\nfunction roundTo(num, places) {\n\treturn Number(num.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (num) {\n\t\treturn roundTo(num, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tmodel.forEach(function (m) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t});\n\n\tmodel = model[0];\n\n\treturn function (val) {\n\t\tvar result;\n\n\t\tif (arguments.length) {\n\t\t\tif (modifier) {\n\t\t\t\tval = modifier(val);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = val;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(val) {\n\treturn Array.isArray(val) ? val : [val];\n}\n\nfunction zeroArray(arr, length) {\n\tfor (var i = 0; i < length; i++) {\n\t\tif (typeof arr[i] !== 'number') {\n\t\t\tarr[i] = 0;\n\t\t}\n\t}\n\n\treturn arr;\n}\n\nmodule.exports = Color;\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/* MIT license */\nvar cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n\tif (cssKeywords.hasOwnProperty(key)) {\n\t\treverseKeywords[cssKeywords[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar rdif;\n\tvar gdif;\n\tvar bdif;\n\tvar h;\n\tvar s;\n\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar v = Math.max(r, g, b);\n\tvar diff = v - Math.min(r, g, b);\n\tvar diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = s = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in cssKeywords) {\n\t\tif (cssKeywords.hasOwnProperty(keyword)) {\n\t\t\tvar value = cssKeywords[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","import { ContentEditFeatureSettings } from 'roosterjs-editor-types';\nimport { getAllFeatures } from 'roosterjs-editor-plugins/lib/ContentEdit';\n\nexport default function getDefaultContentEditFeatureSettings() {\n    const allFeatures = getAllFeatures();\n    return Object.keys(allFeatures).reduce(\n        (settings: ContentEditFeatureSettings, key: keyof ContentEditFeatureSettings) => {\n            settings[key] = !allFeatures[key].defaultDisabled;\n            return settings;\n        },\n        <ContentEditFeatureSettings>{}\n    );\n}\n","import BuildInPluginState from '../../../BuildInPluginState';\nimport ButtonsCode from './ButtonsCode';\nimport CodeElement from './CodeElement';\nimport DarkModeCode from './DarkModeCode';\nimport DefaultFormatCode from './DefaultFormatCode';\nimport ExperimentalFeaturesCode from './ExperimentalFeaturesCode';\nimport PluginsCode from './PluginsCode';\n\nexport default class EditorCode extends CodeElement {\n    private plugins: PluginsCode;\n    private defaultFormat: DefaultFormatCode;\n    private buttons: ButtonsCode;\n    private experimentalFeatures: ExperimentalFeaturesCode;\n    private darkMode: DarkModeCode;\n\n    constructor(state: BuildInPluginState) {\n        super();\n\n        this.plugins = new PluginsCode(state);\n        this.defaultFormat = new DefaultFormatCode(state.defaultFormat);\n        this.buttons = state.showRibbon ? new ButtonsCode(state.supportDarkMode) : null;\n        this.experimentalFeatures = new ExperimentalFeaturesCode(state.experimentalFeatures);\n        this.darkMode = new DarkModeCode(state.supportDarkMode);\n    }\n\n    getCode() {\n        let defaultFormat = this.defaultFormat.getCode();\n        let expermientalFeatures = this.experimentalFeatures.getCode();\n        let darkMode = this.darkMode.getCode();\n        let code = \"let contentDiv = document.getElementById('contentDiv') as HTMLDivElement;\\n\";\n        code += `let plugins = ${this.plugins.getCode()};\\n`;\n        code += defaultFormat ? `let defaultFormat: DefaultFormat = ${defaultFormat};\\n` : '';\n        code += 'let options: roosterjs.EditorOptions = {\\n';\n        code += this.indent('plugins: plugins,\\n');\n        code += defaultFormat ? this.indent('defaultFormat: defaultFormat,\\n') : '';\n        code += expermientalFeatures\n            ? this.indent(`experimentalFeatures: [\\n${expermientalFeatures}],\\n`)\n            : '';\n        code += darkMode ? this.indent(`getDarkColor: ${darkMode},\\n`) : '';\n        code += '};\\n';\n        code += 'let editor = new roosterjs.Editor(contentDiv, options);\\n';\n        code += this.buttons ? this.buttons.getCode() : '';\n\n        return code;\n    }\n}\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/sass-loader/dist/cjs.js!./MainPane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","import { mount } from './controls/MainPane';\n\nmount(document.getElementById('mainPane'));\n","import * as React from 'react';\nimport * as ReactDom from 'react-dom';\nimport BuildInPluginState from './BuildInPluginState';\nimport Editor from './editor/Editor';\nimport MainPaneBase from './MainPaneBase';\nimport PopoutMainPane from './PopoutMainPane';\nimport Ribbon from './ribbon/Ribbon';\nimport SidePane from './sidePane/SidePane';\nimport TitleBar from './titleBar/TitleBar';\nimport { getAllPluginArray, getPlugins, getSidePanePluginArray } from './plugins';\nimport { trustedHTMLHandler } from '../utils/trustedHTMLHandler';\n\nconst styles = require('./MainPane.scss');\nconst PopoutRoot = 'mainPane';\nconst POPOUT_HTML = `<!doctype html><html><head><title>RoosterJs Demo Page PopOut</title></head><body><div id=${PopoutRoot}></div></body></html>`;\nconst POPOUT_FEATURES = 'menubar=no,statusbar=no,width=1200,height=800';\nconst POPOUT_URL = 'about:blank';\nconst POPOUT_TARGET = '_blank';\n\nclass MainPane extends MainPaneBase {\n    private mouseX: number;\n    private popoutRoot: HTMLElement;\n\n    constructor(props: {}) {\n        super(props);\n\n        this.state = {\n            showSidePane: window.location.hash != '',\n            showRibbon: true,\n            isPopoutShown: false,\n            initState: getPlugins().editorOptions.getBuildInPluginState(),\n            supportDarkMode: true,\n        };\n    }\n\n    render() {\n        let plugins = getPlugins();\n\n        return (\n            <div className={styles.mainPane}>\n                <TitleBar className={styles.noGrow} />\n                {this.state.showRibbon && !this.state.isPopoutShown && (\n                    <Ribbon\n                        plugin={plugins.ribbon}\n                        className={styles.noGrow}\n                        ref={plugins.ribbon.refCallback}\n                    />\n                )}\n                <div className={styles.body}>\n                    {this.state.isPopoutShown ? (\n                        <SidePane\n                            ref={ref => (this.sidePane = ref)}\n                            plugins={getSidePanePluginArray()}\n                            className={`main-pane ${styles.sidePane} ${styles.sidePaneFullWidth}`}\n                        />\n                    ) : (\n                        <>\n                            <Editor\n                                plugins={getAllPluginArray(this.state.showSidePane)}\n                                className={styles.editor}\n                                initState={this.state.initState}\n                                snapshotService={plugins.snapshot.getSnapshotService()}\n                            />\n\n                            {this.state.showSidePane ? (\n                                <>\n                                    <div\n                                        className={styles.resizer}\n                                        onMouseDown={this.onMouseDown}\n                                    />\n                                    <SidePane\n                                        ref={ref => (this.sidePane = ref)}\n                                        plugins={getSidePanePluginArray()}\n                                        className={`main-pane ${styles.sidePane}`}\n                                    />\n                                    <button\n                                        className={`side-pane-toggle open ${styles.showSidePane}`}\n                                        onClick={this.onHideSidePane}>\n                                        <div>Hide side pane</div>\n                                    </button>\n                                </>\n                            ) : (\n                                <button\n                                    className={`side-pane-toggle closed ${styles.showSidePane}`}\n                                    onClick={this.onShowSidePane}>\n                                    <div>Show side pane</div>\n                                </button>\n                            )}\n                        </>\n                    )}\n                </div>\n            </div>\n        );\n    }\n\n    resetEditorPlugin(pluginState: BuildInPluginState) {\n        this.setState({\n            initState: pluginState,\n        });\n    }\n\n    updateFormatState() {\n        getPlugins().formatState.updateFormatState();\n    }\n\n    setIsRibbonShown(isShown: boolean) {\n        this.setState({\n            showRibbon: isShown,\n        });\n    }\n\n    setIsDarkModeSupported(isSupported: boolean) {\n        this.setState({\n            supportDarkMode: isSupported,\n        });\n    }\n\n    isDarkModeSupported() {\n        return this.state.supportDarkMode;\n    }\n\n    popout() {\n        const win = window.open(POPOUT_URL, POPOUT_TARGET, POPOUT_FEATURES);\n        win.document.write(trustedHTMLHandler(POPOUT_HTML));\n        win.addEventListener('unload', () => {\n            if (this.popoutRoot) {\n                ReactDom.unmountComponentAtNode(this.popoutRoot);\n            }\n            window.setTimeout(() => {\n                this.setState({ isPopoutShown: false });\n            }, 100);\n        });\n\n        let styles = document.getElementsByTagName('STYLE');\n        for (let i = 0; i < styles.length; i++) {\n            win.document.head.appendChild(styles[i].cloneNode(true));\n        }\n\n        this.setState({\n            isPopoutShown: true,\n        });\n\n        this.popoutRoot = win.document.getElementById(PopoutRoot);\n\n        window.setTimeout(() => {\n            ReactDom.render(<PopoutMainPane />, this.popoutRoot);\n        }, 0);\n    }\n\n    private onMouseDown = (e: React.MouseEvent<EventTarget>) => {\n        document.addEventListener('mousemove', this.onMouseMove, true);\n        document.addEventListener('mouseup', this.onMouseUp, true);\n        document.body.style.userSelect = 'none';\n        this.mouseX = e.pageX;\n    };\n\n    private onMouseMove = (e: MouseEvent) => {\n        this.sidePane.changeWidth(this.mouseX - e.pageX);\n        this.mouseX = e.pageX;\n    };\n\n    private onMouseUp = (e: MouseEvent) => {\n        document.removeEventListener('mousemove', this.onMouseMove, true);\n        document.removeEventListener('mouseup', this.onMouseUp, true);\n        document.body.style.userSelect = '';\n    };\n\n    private onShowSidePane = () => {\n        this.setState({\n            showSidePane: true,\n        });\n    };\n\n    private onHideSidePane = () => {\n        this.setState({\n            showSidePane: false,\n        });\n        window.location.hash = '';\n    };\n}\n\nexport function mount(parent: HTMLElement) {\n    ReactDom.render(<MainPane />, parent);\n}\n","import { ContextMenuItem } from './ContextMenuProvider';\nimport { safeInstanceOf } from 'roosterjs-editor-dom';\nimport {\n    canRegenerateImage,\n    ImageEdit,\n    resizeByPercentage,\n    resetImage,\n} from 'roosterjs-editor-plugins/lib/ImageEdit';\nimport {\n    ContextMenuProvider,\n    ExperimentalFeatures,\n    IEditor,\n    ImageEditOperation,\n} from 'roosterjs-editor-types';\n\nexport default class ImageEditPlugin extends ImageEdit\n    implements ContextMenuProvider<ContextMenuItem> {\n    private allowCrop: boolean;\n\n    initialize(editor: IEditor) {\n        super.initialize(editor);\n        this.allowCrop = editor.isFeatureEnabled(ExperimentalFeatures.ImageCrop);\n    }\n\n    getContextMenuItems(node: Node) {\n        const items: ContextMenuItem[] = [];\n        if (safeInstanceOf(node, 'HTMLImageElement') && node.isContentEditable) {\n            items.push({\n                key: 'resize',\n                name: 'Resize image',\n                onClick: () => {\n                    this.setEditingImage(node, ImageEditOperation.ResizeAndRotate);\n                },\n            });\n\n            if (this.allowCrop && canRegenerateImage(node)) {\n                items.push({\n                    key: 'crop',\n                    name: 'Crop image',\n                    onClick: () => {\n                        this.setEditingImage(node, ImageEditOperation.Crop);\n                    },\n                });\n            }\n\n            items.push({\n                key: '25',\n                name: 'Resize to 25%',\n                onClick: () => {\n                    resizeByPercentage(\n                        this.editor,\n                        node,\n                        0.25,\n                        this.options.minWidth,\n                        this.options.minHeight\n                    );\n                },\n            });\n            items.push({\n                key: '50',\n                name: 'Resize to 50%',\n                onClick: () => {\n                    resizeByPercentage(\n                        this.editor,\n                        node,\n                        0.5,\n                        this.options.minWidth,\n                        this.options.minHeight\n                    );\n                },\n            });\n            items.push({\n                key: '100',\n                name: 'Resize to 100%',\n                onClick: () => {\n                    resizeByPercentage(\n                        this.editor,\n                        node,\n                        1,\n                        this.options.minWidth,\n                        this.options.minHeight\n                    );\n                },\n            });\n            items.push({\n                key: 'reset',\n                name: 'Reset image',\n                onClick: () => {\n                    resetImage(this.editor, node);\n                },\n            });\n        }\n        return items.length > 0 ? items : null;\n    }\n}\n","export * from './plugins/ImageEdit/index';\n","export { default as ImageEdit } from './ImageEdit';\nexport { default as canRegenerateImage } from './api/canRegenerateImage';\nexport { default as resizeByPercentage } from './api/resizeByPercentage';\nexport { default as isResizedTo } from './api/isResizedTo';\nexport { default as resetImage } from './api/resetImage';\n","import applyChange from './editInfoUtils/applyChange';\nimport canRegenerateImage from './api/canRegenerateImage';\nimport Cropper, { getCropHTML } from './imageEditors/Cropper';\nimport deleteEditInfo from './editInfoUtils/deleteEditInfo';\nimport DragAndDropContext, { X, Y } from './types/DragAndDropContext';\nimport DragAndDropHandler from '../../pluginUtils/DragAndDropHandler';\nimport DragAndDropHelper from '../../pluginUtils/DragAndDropHelper';\nimport getEditInfoFromImage from './editInfoUtils/getEditInfoFromImage';\nimport getGeneratedImageSize from './editInfoUtils/getGeneratedImageSize';\nimport ImageEditInfo from './types/ImageEditInfo';\nimport ImageHtmlOptions from './types/ImageHtmlOptions';\nimport Rotator, { getRotateHTML, ROTATE_GAP, ROTATE_SIZE } from './imageEditors/Rotator';\nimport { ImageEditElementClass } from './types/ImageEditElementClass';\nimport { insertEntity } from 'roosterjs-editor-api';\nimport {\n    arrayPush,\n    Browser,\n    createElement,\n    getComputedStyle,\n    getEntityFromElement,\n    getEntitySelector,\n    matchesSelector,\n    safeInstanceOf,\n    toArray,\n    wrap,\n} from 'roosterjs-editor-dom';\nimport Resizer, {\n    doubleCheckResize,\n    getSideResizeHTML,\n    getCornerResizeHTML,\n} from './imageEditors/Resizer';\nimport {\n    ExperimentalFeatures,\n    ImageEditOperation,\n    ImageEditOptions,\n    ChangeSource,\n    EditorPlugin,\n    IEditor,\n    PluginEvent,\n    PluginEventType,\n    EntityOperation,\n    Entity,\n    Keys,\n    PositionType,\n    CreateElementData,\n    KnownCreateElementDataIndex,\n} from 'roosterjs-editor-types';\n\nconst SHIFT_KEYCODE = 16;\nconst CTRL_KEYCODE = 17;\nconst ALT_KEYCODE = 18;\n\nconst DIRECTIONS = 8;\nconst DirectionRad = (Math.PI * 2) / DIRECTIONS;\nconst DirectionOrder = ['nw', 'n', 'ne', 'e', 'se', 's', 'sw', 'w'];\n\n/**\n * Map the experimental features to image edit operations to help determine which operation is allowed\n */\nconst FeatureToOperationMap = {\n    [ExperimentalFeatures.SingleDirectionResize]: ImageEditOperation.SideResize,\n    [ExperimentalFeatures.ImageRotate]: ImageEditOperation.Rotate,\n    [ExperimentalFeatures.ImageCrop]: ImageEditOperation.Crop,\n};\n\n/**\n * Default image edit options\n */\nconst DefaultOptions: Required<ImageEditOptions> = {\n    borderColor: '#DB626C',\n    minWidth: 10,\n    minHeight: 10,\n    preserveRatio: false,\n    minRotateDeg: 5,\n    imageSelector: 'img',\n    rotateIconHTML: null,\n};\n\n/**\n * Map the image edit operation to a function that returns editing elements HTML to help\n * build image editing UI\n */\nconst ImageEditHTMLMap = {\n    [ImageEditOperation.CornerResize]: getCornerResizeHTML,\n    [ImageEditOperation.SideResize]: getSideResizeHTML,\n    [ImageEditOperation.Rotate]: getRotateHTML,\n    [ImageEditOperation.Crop]: getCropHTML,\n};\n\n/**\n * Image edit entity name\n */\nconst IMAGE_EDIT_WRAPPER_ENTITY_TYPE = 'IMAGE_EDIT_WRAPPER';\n\n/**\n * Default background colors for rotate handle\n */\nconst LIGHT_MODE_BGCOLOR = 'white';\nconst DARK_MODE_BGCOLOR = '#333';\n\n/**\n * ImageEdit plugin provides the ability to edit an inline image in editor, including image resizing, rotation and cropping\n */\nexport default class ImageEdit implements EditorPlugin {\n    protected editor: IEditor;\n    protected options: ImageEditOptions;\n    private disposer: () => void;\n\n    // Allowed editing operations\n    private allowedOperations: ImageEditOperation = ImageEditOperation.CornerResize;\n\n    // Current editing image\n    private image: HTMLImageElement;\n\n    // Current edit info of the image. All changes user made will be stored in this object.\n    // We use this object to update the editing UI, and finally we will use this object to generate\n    // the new image if necessary\n    private editInfo: ImageEditInfo;\n\n    // Src of the image before current editing\n    private lastSrc: string;\n\n    // Drag and drop helper objects\n    private dndHelpers: DragAndDropHelper<DragAndDropContext, any>[];\n\n    /**\n     * Create a new instance of ImageEdit\n     * @param options Image editing options\n     */\n    constructor(options?: ImageEditOptions) {\n        this.options = {\n            ...DefaultOptions,\n            ...(options || {}),\n        };\n    }\n\n    /**\n     * Get a friendly name of this plugin\n     */\n    getName() {\n        return 'ImageEdit';\n    }\n\n    /**\n     * Initialize this plugin. This should only be called from Editor\n     * @param editor Editor instance\n     */\n    initialize(editor: IEditor) {\n        this.editor = editor;\n        this.disposer = editor.addDomEventHandler('blur', this.onBlur);\n\n        // Read current enabled features from editor to determine which editing operations are allowed\n        Object.keys(FeatureToOperationMap).forEach((key: keyof typeof FeatureToOperationMap) => {\n            this.allowedOperations |= this.editor.isFeatureEnabled(key)\n                ? FeatureToOperationMap[key]\n                : 0;\n        });\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        this.clearDndHelpers();\n        this.disposer();\n        this.disposer = null;\n        this.editor = null;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    onPluginEvent(e: PluginEvent) {\n        switch (e.eventType) {\n            case PluginEventType.MouseDown:\n                this.setEditingImage(null);\n                break;\n\n            case PluginEventType.MouseUp:\n                const target = e.rawEvent.target;\n                if (\n                    e.isClicking &&\n                    e.rawEvent.button == 0 &&\n                    safeInstanceOf(target, 'HTMLImageElement') &&\n                    target.isContentEditable &&\n                    matchesSelector(target, this.options.imageSelector)\n                ) {\n                    this.setEditingImage(target, ImageEditOperation.ResizeAndRotate);\n                }\n\n                break;\n\n            case PluginEventType.KeyDown:\n                const key = e.rawEvent.which;\n                if (key == Keys.DELETE || key == Keys.BACKSPACE) {\n                    // Set current editing image to null and select the image if any, and do not prevent default of the event\n                    // so that browser will delete the selected image for us\n                    this.setEditingImage(null, true /*selectImage*/);\n                } else if (key == Keys.ESCAPE && this.image) {\n                    // Press ESC should cancel current editing operation, resume back to original edit info\n                    this.editInfo = getEditInfoFromImage(this.image);\n                    this.setEditingImage(null);\n                    e.rawEvent.preventDefault();\n                } else if (key != SHIFT_KEYCODE && key != CTRL_KEYCODE && key != ALT_KEYCODE) {\n                    // For other key, just unselect current image and select it. If this is an input key, the image will be replaced\n                    this.setEditingImage(null, true /*selectImage*/);\n                }\n                break;\n\n            case PluginEventType.ContentChanged:\n                if (\n                    e.source != ChangeSource.InsertEntity ||\n                    (<Entity>e.data).type != IMAGE_EDIT_WRAPPER_ENTITY_TYPE\n                ) {\n                    // After contentChanged event, the current image wrapper may not be valid any more, remove all of them if any\n                    this.editor.queryElements(\n                        getEntitySelector(IMAGE_EDIT_WRAPPER_ENTITY_TYPE),\n                        this.removeWrapper\n                    );\n                }\n\n                break;\n\n            case PluginEventType.EntityOperation:\n                if (e.entity.type == IMAGE_EDIT_WRAPPER_ENTITY_TYPE) {\n                    if (e.operation == EntityOperation.ReplaceTemporaryContent) {\n                        this.removeWrapper(e.entity.wrapper);\n                    } else if (e.operation == EntityOperation.Click) {\n                        e.rawEvent.preventDefault();\n                    }\n                }\n                break;\n\n            case PluginEventType.ExtractContentWithDom:\n                // When extract content, remove all image info since they may not be valid when load the content again\n                toArray(e.clonedRoot.querySelectorAll(this.options.imageSelector)).forEach(img => {\n                    deleteEditInfo(img as HTMLImageElement);\n                });\n                break;\n        }\n    }\n\n    /**\n     * Set current image for edit. If there is already image in editing, it will quit editing mode and any pending editing\n     * operation will be submitted\n     * @param image The image to edit\n     * @param operation The editing operation\n     */\n    setEditingImage(image: HTMLImageElement, operation: ImageEditOperation): void;\n\n    /**\n     * Stop editing image. If there is already image in editing, it will quit editing mode and any pending editing\n     * operation will be submitted\n     * @param image The image to edit\n     * @param selectImage True to select this image after quit editing mode\n     */\n    setEditingImage(image: null, selectImage?: boolean): void;\n\n    setEditingImage(\n        image: HTMLImageElement | null,\n        operationOrSelect?: ImageEditOperation | boolean\n    ) {\n        let operation =\n            typeof operationOrSelect === 'number' ? operationOrSelect : ImageEditOperation.None;\n        const selectImage = typeof operationOrSelect === 'number' ? false : !!operationOrSelect;\n\n        if (this.image) {\n            // When there is image in editing, clean up any cached objects and elements\n            this.clearDndHelpers();\n\n            // Apply the changes, and add undo snapshot if necessary\n            if (applyChange(this.editor, this.image, this.editInfo, this.lastSrc)) {\n                this.editor.addUndoSnapshot(() => this.image, ChangeSource.ImageResize);\n            }\n\n            // Remove editing wrapper\n            const wrapper = this.getImageWrapper(this.image);\n            if (wrapper) {\n                this.removeWrapper(wrapper);\n            }\n\n            if (selectImage) {\n                this.editor.select(this.image);\n            }\n\n            this.image = null;\n            this.editInfo = null;\n            this.lastSrc = null;\n        }\n\n        if (!this.image && image?.isContentEditable) {\n            // If there is new image to edit, enter editing mode for this image\n            this.editor.addUndoSnapshot();\n            this.image = image;\n\n            // Get initial edit info\n            this.editInfo = getEditInfoFromImage(image);\n            operation =\n                (canRegenerateImage(image) ? operation : ImageEditOperation.Resize) &\n                this.allowedOperations;\n\n            // Create and update editing wrapper and elements\n            const wrapper = this.createWrapper(operation);\n            this.updateWrapper();\n\n            // Init drag and drop\n            this.dndHelpers = [\n                ...this.createDndHelpers(ImageEditElementClass.ResizeHandle, Resizer),\n                ...this.createDndHelpers(ImageEditElementClass.RotateHandle, Rotator),\n                ...this.createDndHelpers(ImageEditElementClass.CropHandle, Cropper),\n                ...this.createDndHelpers(ImageEditElementClass.CropContainer, Cropper),\n            ];\n\n            // Put cursor next to the image\n            this.editor.select(wrapper, PositionType.After);\n        }\n    }\n\n    /**\n     * quit editing mode when editor lose focus\n     */\n    private onBlur = () => {\n        this.setEditingImage(null);\n    };\n\n    /**\n     * Create editing wrapper for the image\n     */\n    private createWrapper(operation: ImageEditOperation) {\n        // Wrap the image with an entity so that we can easily retrieve it later\n        const { wrapper } = insertEntity(\n            this.editor,\n            IMAGE_EDIT_WRAPPER_ENTITY_TYPE,\n            wrap(this.image, KnownCreateElementDataIndex.ImageEditWrapper),\n            false /*isBlock*/,\n            true /*isReadonly*/\n        );\n\n        wrapper.style.position = 'relative';\n        wrapper.style.maxWidth = '100%';\n        wrapper.style.verticalAlign = 'bottom';\n        wrapper.style.display = Browser.isSafari ? 'inline-block' : 'inline-flex';\n\n        // Cache current src so that we can compare it after edit see if src is changed\n        this.lastSrc = this.image.src;\n\n        // Set image src to original src to help show editing UI, also it will be used when regenerate image dataURL after editing\n        this.image.src = this.editInfo.src;\n        this.image.style.position = 'absolute';\n        this.image.style.maxWidth = null;\n\n        // Get HTML for all edit elements (resize handle, rotate handle, crop handle and overlay, ...) and create HTML element\n        const options: ImageHtmlOptions = {\n            borderColor: this.options.borderColor,\n            rotateIconHTML: this.options.rotateIconHTML,\n            rotateHandleBackColor: this.editor.isDarkMode()\n                ? DARK_MODE_BGCOLOR\n                : LIGHT_MODE_BGCOLOR,\n        };\n        const htmlData: CreateElementData[] = [];\n\n        ((Object.keys(ImageEditHTMLMap) as any[]) as (keyof typeof ImageEditHTMLMap)[]).forEach(\n            thisOperation => {\n                if ((operation & thisOperation) == thisOperation) {\n                    arrayPush(htmlData, ImageEditHTMLMap[thisOperation](options));\n                }\n            }\n        );\n\n        htmlData.forEach(data => {\n            const element = createElement(data, this.image.ownerDocument);\n            if (element) {\n                wrapper.appendChild(element);\n            }\n        });\n        return wrapper;\n    }\n\n    /**\n     * Get image wrapper from image\n     * @param image The image to get wrapper from\n     */\n    private getImageWrapper(image: HTMLImageElement): HTMLElement {\n        // Get the image wrapper from image using Entity API\n        const entity = getEntityFromElement(image?.parentNode?.parentNode as HTMLElement);\n\n        return entity?.type == IMAGE_EDIT_WRAPPER_ENTITY_TYPE ? entity.wrapper : null;\n    }\n\n    /**\n     * Remove the temp wrapper of the image\n     * @param wrapper The wrapper object to remove. If not specified, remove all existing wrappers.\n     */\n    private removeWrapper = (wrapper: HTMLElement) => {\n        const parent = wrapper?.parentNode;\n        const img = wrapper?.querySelector('img');\n\n        if (img && parent) {\n            img.style.position = '';\n            img.style.maxWidth = '100%';\n            img.style.margin = null;\n            img.style.textAlign = null;\n\n            parent.insertBefore(img, wrapper);\n            parent.removeChild(wrapper);\n        }\n    };\n\n    /**\n     * Update image edit elements to reflect current editing result\n     * @param context\n     */\n    private updateWrapper = (context?: DragAndDropContext) => {\n        const wrapper = this.getImageWrapper(this.image);\n        if (wrapper) {\n            // Prepare: get related editing elements\n            const cropContainers = getEditElements(wrapper, ImageEditElementClass.CropContainer);\n            const cropOverlays = getEditElements(wrapper, ImageEditElementClass.CropOverlay);\n            const rotateCenter = getEditElements(wrapper, ImageEditElementClass.RotateCenter)[0];\n            const rotateHandle = getEditElements(wrapper, ImageEditElementClass.RotateHandle)[0];\n            const resizeHandles = getEditElements(wrapper, ImageEditElementClass.ResizeHandle);\n            const cropHandles = getEditElements(wrapper, ImageEditElementClass.CropHandle);\n\n            // Cropping and resizing will show different UI, so check if it is cropping here first\n            const isCropping = cropContainers.length == 1 && cropOverlays.length == 4;\n            const {\n                angleRad,\n                heightPx,\n                bottomPercent,\n                leftPercent,\n                rightPercent,\n                topPercent,\n            } = this.editInfo;\n\n            // Width/height of the image\n            const {\n                targetWidth,\n                targetHeight,\n                originalWidth,\n                originalHeight,\n                visibleWidth,\n                visibleHeight,\n            } = getGeneratedImageSize(this.editInfo, isCropping);\n            const marginHorizontal = (targetWidth - visibleWidth) / 2;\n            const marginVertical = (targetHeight - visibleHeight) / 2;\n            const cropLeftPx = originalWidth * leftPercent;\n            const cropRightPx = originalWidth * rightPercent;\n            const cropTopPx = originalHeight * topPercent;\n            const cropBottomPx = originalHeight * bottomPercent;\n\n            // Update size and margin of the wrapper\n            wrapper.style.width = getPx(visibleWidth);\n            wrapper.style.height = getPx(visibleHeight);\n            wrapper.style.margin = `${marginVertical}px ${marginHorizontal}px`;\n            wrapper.style.transform = `rotate(${angleRad}rad)`;\n\n            // Update the text-alignment to avoid the image to overflow if the parent element have align center or right\n            // or if the direction is Right To Left\n            wrapper.style.textAlign = isRtl(wrapper.parentNode) ? 'right' : 'left';\n\n            // Update size of the image\n            this.image.style.width = getPx(originalWidth);\n            this.image.style.height = getPx(originalHeight);\n\n            if (isCropping) {\n                // For crop, we also need to set position of the overlays\n                setSize(\n                    cropContainers[0],\n                    cropLeftPx,\n                    cropTopPx,\n                    cropRightPx,\n                    cropBottomPx,\n                    undefined,\n                    undefined\n                );\n                setSize(cropOverlays[0], 0, 0, cropRightPx, undefined, undefined, cropTopPx);\n                setSize(cropOverlays[1], undefined, 0, 0, cropBottomPx, cropRightPx, undefined);\n                setSize(cropOverlays[2], cropLeftPx, undefined, 0, 0, undefined, cropBottomPx);\n                setSize(cropOverlays[3], 0, cropTopPx, undefined, 0, cropLeftPx, undefined);\n                updateHandleCursor(cropHandles, angleRad);\n            } else {\n                // For rotate/resize, set the margin of the image so that cropped part won't be visible\n                this.image.style.margin = `${-cropTopPx}px 0 0 ${-cropLeftPx}px`;\n\n                // Double check resize\n                if (context?.elementClass == ImageEditElementClass.ResizeHandle) {\n                    const clientWidth = wrapper.clientWidth;\n                    const clientHeight = wrapper.clientHeight;\n                    doubleCheckResize(\n                        this.editInfo,\n                        this.options.preserveRatio,\n                        clientWidth,\n                        clientHeight\n                    );\n\n                    this.updateWrapper();\n                }\n\n                // Move rotate handle. When image is very close to the border of editor, rotate handle may not be visible.\n                // Fix it by reduce the distance from image to rotate handle\n                const distance = this.editor.getRelativeDistanceToEditor(\n                    wrapper,\n                    true /*addScroll*/\n                );\n\n                if (rotateCenter && rotateHandle && distance) {\n                    const cosAngle = Math.cos(angleRad);\n                    const adjustedDistance =\n                        cosAngle <= 0\n                            ? Number.MAX_SAFE_INTEGER\n                            : (distance[1] + heightPx / 2 + marginVertical) / cosAngle -\n                              heightPx / 2;\n\n                    const rotateGap = Math.max(Math.min(ROTATE_GAP, adjustedDistance), 0);\n                    const rotateTop = Math.max(\n                        Math.min(ROTATE_SIZE, adjustedDistance - rotateGap),\n                        0\n                    );\n                    rotateCenter.style.top = getPx(-rotateGap);\n                    rotateCenter.style.height = getPx(rotateGap);\n                    rotateHandle.style.top = getPx(-rotateTop);\n                    updateHandleCursor(resizeHandles, angleRad);\n                }\n            }\n        }\n    };\n\n    /**\n     * Create drag and drop helpers\n     * @param wrapper\n     * @param elementClass\n     * @param dragAndDrop\n     */\n    private createDndHelpers(\n        elementClass: ImageEditElementClass,\n        dragAndDrop: DragAndDropHandler<DragAndDropContext, any>\n    ): DragAndDropHelper<DragAndDropContext, any>[] {\n        const commonContext = {\n            editInfo: this.editInfo,\n            options: this.options,\n            elementClass,\n        };\n        const wrapper = this.getImageWrapper(this.image);\n        return wrapper\n            ? getEditElements(wrapper, elementClass).map(\n                  element =>\n                      new DragAndDropHelper<DragAndDropContext, any>(\n                          element,\n                          {\n                              ...commonContext,\n                              x: element.dataset.x as X,\n                              y: element.dataset.y as Y,\n                          },\n                          this.updateWrapper,\n                          dragAndDrop\n                      )\n              )\n            : [];\n    }\n\n    /**\n     * Clean up drag and drop helpers\n     */\n    private clearDndHelpers() {\n        this.dndHelpers?.forEach(helper => helper.dispose());\n        this.dndHelpers = null;\n    }\n}\n\nfunction setSize(\n    element: HTMLElement,\n    left: number,\n    top: number,\n    right: number,\n    bottom: number,\n    width: number,\n    height: number\n) {\n    element.style.left = getPx(left);\n    element.style.top = getPx(top);\n    element.style.right = getPx(right);\n    element.style.bottom = getPx(bottom);\n    element.style.width = getPx(width);\n    element.style.height = getPx(height);\n}\n\nfunction getPx(value: number): string {\n    return value === undefined ? null : value + 'px';\n}\n\nfunction getEditElements(wrapper: HTMLElement, elementClass: ImageEditElementClass): HTMLElement[] {\n    return toArray(wrapper.querySelectorAll('.' + elementClass)) as HTMLElement[];\n}\n\nfunction isRtl(element: Node): boolean {\n    return safeInstanceOf(element, 'HTMLElement')\n        ? getComputedStyle(element, 'direction') == 'rtl'\n        : false;\n}\n\nfunction handleRadIndexCalculator(angleRad: number): number {\n    let idx = Math.round(angleRad / DirectionRad) % DIRECTIONS;\n    return idx < 0 ? idx + DIRECTIONS : idx;\n}\n\nfunction rotateHandles(element: HTMLElement, angleRad: number): string {\n    const radIndex = handleRadIndexCalculator(angleRad);\n    const originalDirection = element.dataset.y + element.dataset.x;\n    const originalIndex = DirectionOrder.indexOf(originalDirection);\n    const rotatedIndex = originalIndex >= 0 && originalIndex + radIndex;\n    return DirectionOrder[rotatedIndex % DIRECTIONS];\n}\n\n/**\n * Rotate the resizer and cropper handles according to the image position.\n * @param handles The resizer handles.\n * @param angleRad The angle that the image was rotated.\n */\nfunction updateHandleCursor(handles: HTMLElement[], angleRad: number) {\n    handles.map(handle => {\n        handle.style.cursor = `${rotateHandles(handle, angleRad)}-resize`;\n    });\n}\n","import getGeneratedImageSize from './getGeneratedImageSize';\nimport ImageEditInfo from '../types/ImageEditInfo';\n\n/**\n * @internal\n * Generate new dataURL from an image and edit info\n * @param image The image to generate data URL from. It is supposed to have original src loaded\n * @param editInfo Edit info of the image\n * @returns A BASE64 encoded string with image prefix that represents the content of the generated image.\n * If there are rotate/crop/resize info in the edit info, the generated image will also reflect the result.\n * It is possible to throw exception since the original image may not be able to read its content from\n * the code, so better check canRegenerateImage() of the image first.\n * @throws Exception when fail to generate dataURL from canvas\n */\nexport default function generateDataURL(image: HTMLImageElement, editInfo: ImageEditInfo): string {\n    const {\n        angleRad: angle,\n        widthPx: width,\n        heightPx: height,\n        bottomPercent: bottom,\n        leftPercent: left,\n        rightPercent: right,\n        topPercent: top,\n        naturalWidth,\n        naturalHeight,\n    } = editInfo;\n    const imageWidth = naturalWidth * (1 - left - right);\n    const imageHeight = naturalHeight * (1 - top - bottom);\n    const canvas = document.createElement('canvas');\n    const { targetWidth, targetHeight } = getGeneratedImageSize(editInfo);\n    canvas.width = targetWidth;\n    canvas.height = targetHeight;\n\n    const context = canvas.getContext('2d');\n    context.translate(targetWidth / 2, targetHeight / 2);\n    context.rotate(angle);\n    context.drawImage(\n        image,\n        naturalWidth * left,\n        naturalHeight * top,\n        imageWidth,\n        imageHeight,\n        -width / 2,\n        -height / 2,\n        width,\n        height\n    );\n\n    return canvas.toDataURL('image/png', 1.0);\n}\n","import ImageEditInfo, { IMAGE_EDIT_INFO_NAME } from '../types/ImageEditInfo';\n\n/**\n * @internal\n * Save edit info to image\n * @param image The image to save edit info to\n * @param editInfo The edit info to save\n */\nexport default function saveEditInfo(image: HTMLImageElement, editInfo: ImageEditInfo) {\n    if (image) {\n        image.dataset[IMAGE_EDIT_INFO_NAME] = JSON.stringify(editInfo);\n    }\n}\n","import DragAndDropContext, { X, Y } from '../types/DragAndDropContext';\nimport DragAndDropHandler from '../../../pluginUtils/DragAndDropHandler';\nimport { CreateElementData } from 'roosterjs-editor-types';\nimport { CropInfo } from '../types/ImageEditInfo';\nimport { ImageEditElementClass } from '../types/ImageEditElementClass';\nimport { rotateCoordinate } from './Resizer';\n\nconst CROP_HANDLE_SIZE = 22;\nconst CROP_HANDLE_WIDTH = 7;\nconst Xs: X[] = ['w', 'e'];\nconst Ys: Y[] = ['s', 'n'];\nconst ROTATION: Record<string, number> = {\n    sw: 0,\n    nw: 90,\n    ne: 180,\n    se: 270,\n};\n\n/**\n * Crop handle for DragAndDropHelper\n */\nconst Cropper: DragAndDropHandler<DragAndDropContext, CropInfo> = {\n    onDragStart: ({ editInfo }) => ({ ...editInfo }),\n    onDragging: ({ editInfo, x, y, options }, e, base, dx, dy) => {\n        [dx, dy] = rotateCoordinate(dx, dy, editInfo.angleRad);\n\n        const {\n            widthPx,\n            heightPx,\n            leftPercent,\n            rightPercent,\n            topPercent,\n            bottomPercent,\n        } = editInfo;\n        const { minWidth, minHeight } = options;\n        const widthPercent = 1 - leftPercent - rightPercent;\n        const heightPercent = 1 - topPercent - bottomPercent;\n\n        if (widthPercent > 0 && heightPercent > 0) {\n            const fullWidth = widthPx / widthPercent;\n            const fullHeight = heightPx / heightPercent;\n            const newLeft =\n                x != 'e'\n                    ? crop(base.leftPercent, dx, fullWidth, rightPercent, minWidth)\n                    : leftPercent;\n            const newRight =\n                x != 'w'\n                    ? crop(base.rightPercent, -dx, fullWidth, leftPercent, minWidth)\n                    : rightPercent;\n            const newTop =\n                y != 's'\n                    ? crop(base.topPercent, dy, fullHeight, bottomPercent, minHeight)\n                    : topPercent;\n            const newBottom =\n                y != 'n'\n                    ? crop(base.bottomPercent, -dy, fullHeight, topPercent, minHeight)\n                    : bottomPercent;\n\n            editInfo.leftPercent = newLeft;\n            editInfo.rightPercent = newRight;\n            editInfo.topPercent = newTop;\n            editInfo.bottomPercent = newBottom;\n            editInfo.widthPx = fullWidth * (1 - newLeft - newRight);\n            editInfo.heightPx = fullHeight * (1 - newTop - newBottom);\n\n            return true;\n        } else {\n            return false;\n        }\n    },\n};\n\nfunction crop(\n    basePercentage: number,\n    deltaValue: number,\n    fullValue: number,\n    currentPercentage: number,\n    minValue: number\n): number {\n    const maxValue = fullValue * (1 - currentPercentage) - minValue;\n    const newValue = fullValue * basePercentage + deltaValue;\n    const validValue = Math.max(Math.min(newValue, maxValue), 0);\n    return validValue / fullValue;\n}\n\n/**\n * @internal\n */\nexport default Cropper;\n\n/**\n * @internal\n * Get HTML for crop elements, including 4 overlays (to show dark shadow), 1 container and 4 crop handles\n */\nexport function getCropHTML(): CreateElementData[] {\n    const overlayHTML: CreateElementData = {\n        tag: 'div',\n        style: 'position:absolute;background-color:rgb(0,0,0,0.5);pointer-events:none',\n        className: ImageEditElementClass.CropOverlay,\n    };\n    const containerHTML: CreateElementData = {\n        tag: 'div',\n        style: 'position:absolute;overflow:hidden',\n        className: ImageEditElementClass.CropContainer,\n        children: [],\n    };\n\n    Xs.forEach(x => Ys.forEach(y => containerHTML.children.push(getCropHTMLInternal(x, y))));\n\n    return [containerHTML, overlayHTML, overlayHTML, overlayHTML, overlayHTML];\n}\n\nfunction getCropHTMLInternal(x: X, y: Y): CreateElementData {\n    const leftOrRight = x == 'w' ? 'left' : 'right';\n    const topOrBottom = y == 'n' ? 'top' : 'bottom';\n    const rotation = ROTATION[y + x];\n\n    return {\n        tag: 'div',\n        className: ImageEditElementClass.CropHandle,\n        style: `position:absolute;pointer-events:auto;cursor:${y}${x}-resize;${leftOrRight}:0;${topOrBottom}:0;width:${CROP_HANDLE_SIZE}px;height:${CROP_HANDLE_SIZE}px;transform:rotate(${rotation}deg)`,\n        dataset: { x, y },\n        children: getCropHandleHTML(),\n    };\n}\n\nfunction getCropHandleHTML(): CreateElementData[] {\n    const result: CreateElementData[] = [];\n    [0, 1].forEach(layer =>\n        [0, 1].forEach(dir => {\n            result.push(getCropHandleHTMLInternal(layer, dir));\n        })\n    );\n    return result;\n}\n\nfunction getCropHandleHTMLInternal(layer: number, dir: number): CreateElementData {\n    const position =\n        dir == 0\n            ? `right:${layer}px;height:${CROP_HANDLE_WIDTH - layer * 2}px;`\n            : `top:${layer}px;width:${CROP_HANDLE_WIDTH - layer * 2}px;`;\n    const bgColor = layer == 0 ? 'white' : 'black';\n\n    return {\n        tag: 'div',\n        style: `position:absolute;left:${layer}px;bottom:${layer}px;${position};background-color:${bgColor}`,\n    };\n}\n","import DragAndDropHandler from './DragAndDropHandler';\n\n/**\n * @internal\n * A helper class to help manage drag and drop to an HTML element\n */\nexport default class DragAndDropHelper<TContext, TInitValue> {\n    private initX: number;\n    private initY: number;\n    private initValue: TInitValue;\n\n    /**\n     * Create a new instance of DragAndDropHelper class\n     * @param trigger The trigger element. When user start drag on this element,\n     * events will be fired to the handler object\n     * @param context Context object that will be passed to handler function when event is fired,\n     * so that the handler object knows which element it is triggered from.\n     * @param onSubmit A callback that will be invoked when event handler in handler object returns true\n     * @param handler The event handler object, see DragAndDropHandler interface for more information\n     */\n    constructor(\n        private trigger: HTMLElement,\n        private context: TContext,\n        private onSubmit: (context: TContext) => void,\n        private handler: DragAndDropHandler<TContext, TInitValue>\n    ) {\n        trigger.addEventListener('mousedown', this.onMouseDown);\n    }\n\n    /**\n     * Dispose this object, remove all event listeners that has been attached\n     */\n    dispose() {\n        this.trigger.removeEventListener('mousedown', this.onMouseDown);\n        this.removeDocumentEvents();\n    }\n\n    private addDocumentEvents() {\n        const doc = this.trigger.ownerDocument;\n        doc.addEventListener('mousemove', this.onMouseMove, true /*useCapture*/);\n        doc.addEventListener('mouseup', this.onMouseUp, true /*useCapture*/);\n    }\n\n    private removeDocumentEvents() {\n        const doc = this.trigger.ownerDocument;\n        doc.removeEventListener('mousemove', this.onMouseMove, true /*useCapture*/);\n        doc.removeEventListener('mouseup', this.onMouseUp, true /*useCapture*/);\n    }\n\n    private onMouseDown = (e: MouseEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.addDocumentEvents();\n\n        this.initX = e.pageX;\n        this.initY = e.pageY;\n        this.initValue = this.handler.onDragStart?.(this.context, e);\n    };\n\n    private onMouseMove = (e: MouseEvent) => {\n        e.preventDefault();\n        const deltaX = e.pageX - this.initX;\n        const deltaY = e.pageY - this.initY;\n        if (this.handler.onDragging?.(this.context, e, this.initValue, deltaX, deltaY)) {\n            this.onSubmit?.(this.context);\n        }\n    };\n\n    private onMouseUp = (e: MouseEvent) => {\n        e.preventDefault();\n        this.removeDocumentEvents();\n\n        if (this.handler.onDragEnd?.(this.context, e, this.initValue)) {\n            this.onSubmit?.(this.context);\n        }\n    };\n}\n","import DragAndDropContext from '../types/DragAndDropContext';\nimport DragAndDropHandler from '../../../pluginUtils/DragAndDropHandler';\nimport ImageHtmlOptions from '../types/ImageHtmlOptions';\nimport { CreateElementData } from 'roosterjs-editor-types';\nimport { ImageEditElementClass } from '../types/ImageEditElementClass';\nimport { RotateInfo } from '../types/ImageEditInfo';\n\n/**\n * @internal Size of rotate icon\n */\nexport const ROTATE_SIZE = 32;\n\n/**\n * @internal Gap between image and the rotate handle\n */\nexport const ROTATE_GAP = 15;\n\nconst DEG_PER_RAD = 180 / Math.PI;\nconst DEFAULT_ROTATE_HANDLE_HEIGHT = ROTATE_SIZE / 2 + ROTATE_GAP;\nconst ROTATE_ICON_MARGIN = 8;\n\n/**\n * The rotate drag and drop handler\n */\nconst Rotator: DragAndDropHandler<DragAndDropContext, RotateInfo> = {\n    onDragStart: ({ editInfo }) => ({ ...editInfo }),\n    onDragging: ({ editInfo, options }, e, base, deltaX, deltaY) => {\n        const distance = editInfo.heightPx / 2 + DEFAULT_ROTATE_HANDLE_HEIGHT;\n        const newX = distance * Math.sin(base.angleRad) + deltaX;\n        const newY = distance * Math.cos(base.angleRad) - deltaY;\n        let angleInRad = Math.atan2(newX, newY);\n\n        if (!e.altKey) {\n            const angleInDeg = angleInRad * DEG_PER_RAD;\n            const adjustedAngleInDeg =\n                Math.round(angleInDeg / options.minRotateDeg) * options.minRotateDeg;\n            angleInRad = adjustedAngleInDeg / DEG_PER_RAD;\n        }\n\n        if (editInfo.angleRad != angleInRad) {\n            editInfo.angleRad = angleInRad;\n            return true;\n        } else {\n            return false;\n        }\n    },\n};\n\n/**\n * @internal\n */\nexport default Rotator;\n\n/**\n * @internal\n * Get HTML for rotate elements, including the rotate handle with icon, and a line between the handle and the image\n */\nexport function getRotateHTML({\n    borderColor,\n    rotateHandleBackColor,\n}: ImageHtmlOptions): CreateElementData[] {\n    const handleLeft = ROTATE_SIZE / 2;\n    return [\n        {\n            tag: 'div',\n            className: ImageEditElementClass.RotateCenter,\n            style: `position:absolute;left:50%;width:1px;background-color:${borderColor}`,\n            children: [\n                {\n                    tag: 'div',\n                    className: ImageEditElementClass.RotateHandle,\n                    style: `position:absolute;background-color:${rotateHandleBackColor};border:solid 1px ${borderColor};border-radius:50%;width:${ROTATE_SIZE}px;height:${ROTATE_SIZE}px;left:-${handleLeft}px;cursor:move`,\n                    children: [getRotateIconHTML(borderColor)],\n                },\n            ],\n        },\n    ];\n}\n\nfunction getRotateIconHTML(borderColor: string): CreateElementData {\n    return {\n        tag: 'svg',\n        namespace: 'http://www.w3.org/2000/svg',\n        style: `width:16px;height:16px;margin: ${ROTATE_ICON_MARGIN}px ${ROTATE_ICON_MARGIN}px`,\n        children: [\n            {\n                tag: 'path',\n                namespace: 'http://www.w3.org/2000/svg',\n                attributes: {\n                    d: 'M 10.5,10.0 A 3.8,3.8 0 1 1 6.7,6.3',\n                    transform: 'matrix(1.1 1.1 -1.1 1.1 11.6 -10.8)',\n                    ['fill-opacity']: '0',\n                    stroke: borderColor,\n                },\n            },\n            {\n                tag: 'path',\n                namespace: 'http://www.w3.org/2000/svg',\n                attributes: {\n                    d: 'M12.0 3.648l.884-.884.53 2.298-2.298-.53z',\n                    stroke: borderColor,\n                },\n            },\n        ],\n    };\n}\n","import applyChange from '../editInfoUtils/applyChange';\nimport getEditInfoFromImage from '../editInfoUtils/getEditInfoFromImage';\nimport getTargetSizeByPercentage from '../editInfoUtils/getTargetSizeByPercentage';\nimport isResizedTo from './isResizedTo';\nimport { ChangeSource, IEditor } from 'roosterjs-editor-types';\n\n/**\n * Resize the image by percentage of its natural size. If the image is cropped or rotated,\n * the final size will also calculated with crop and rotate info.\n * @param editor The editor that contains the image\n * @param image The image to resize\n * @param percentage Percentage to resize to\n * @param minWidth Minimum width\n * @param minHeight Minimum height\n */\nexport default function resizeByPercentage(\n    editor: IEditor,\n    image: HTMLImageElement,\n    percentage: number,\n    minWidth: number,\n    minHeight: number\n) {\n    const editInfo = getEditInfoFromImage(image);\n\n    if (!isResizedTo(image, percentage)) {\n        loadImage(image, editInfo.src, () => {\n            if (!editor.isDisposed() && editor.contains(image)) {\n                const lastSrc = image.src;\n                const { width, height } = getTargetSizeByPercentage(editInfo, percentage);\n                editInfo.widthPx = Math.max(width, minWidth);\n                editInfo.heightPx = Math.max(height, minHeight);\n\n                editor.addUndoSnapshot(() => {\n                    applyChange(editor, image, editInfo, lastSrc);\n                }, ChangeSource.ImageResize);\n            }\n        });\n    }\n}\n\nfunction loadImage(img: HTMLImageElement, src: string, callback: () => void) {\n    img.onload = () => {\n        img.onload = null;\n        img.onerror = null;\n        callback();\n    };\n    img.onerror = () => {\n        img.onload = null;\n        img.onerror = null;\n        callback();\n    };\n    img.src = src;\n}\n","import deleteEditInfo from '../editInfoUtils/deleteEditInfo';\nimport { ChangeSource, IEditor } from 'roosterjs-editor-types';\n\n/**\n * Remove explicit width & height attributes on the image element.\n * @param editor The editor that contains the image\n * @param image The image to remove w/h from\n */\nexport default function resetImage(editor: IEditor, image: HTMLImageElement) {\n    editor.addUndoSnapshot(() => {\n        image.style.width = '';\n        image.style.height = '';\n        image.style.maxWidth = '100%';\n        image.removeAttribute('width');\n        image.removeAttribute('height');\n        deleteEditInfo(image);\n    }, ChangeSource.ImageResize);\n}\n","import { ContextMenuItem } from './ContextMenuProvider';\nimport { ContextMenuProvider, IEditor } from 'roosterjs-editor-types';\nimport { safeInstanceOf } from 'roosterjs-editor-dom';\nimport { setOrderedListNumbering } from 'roosterjs-editor-api';\n\nexport default class ResetListPlugin implements ContextMenuProvider<ContextMenuItem> {\n    private editor: IEditor;\n\n    getName() {\n        return 'ResetList';\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.editor = null;\n    }\n\n    getContextMenuItems(node: Node) {\n        const items: ContextMenuItem[] = [];\n\n        if (safeInstanceOf(node, 'HTMLLIElement')) {\n            const list = this.editor.getElementAtCursor('ol,ul', node);\n            if (safeInstanceOf(list, 'HTMLOListElement')) {\n                items.push(\n                    {\n                        key: 'resetList',\n                        name: 'Reset list number',\n                        onClick: () => {\n                            setOrderedListNumbering(this.editor, node, 1);\n                        },\n                    },\n                    {\n                        key: 'setNumberingValue',\n                        name: 'Set Numbering Value',\n                        onClick: () => {\n                            let value = parseInt(prompt('Set Value to...', '1'));\n                            setOrderedListNumbering(this.editor, node, value);\n                        },\n                    }\n                );\n            }\n        }\n\n        return items;\n    }\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { default as SampleColorPicker, SampleColorPickerProps } from './SampleColorPicker';\nimport { getPositionRect } from 'roosterjs-editor-dom';\nimport { IEditor, PickerDataProvider } from 'roosterjs-editor-types';\n\ntype LegalKeys<T> = T extends 'onClick' ? never : T;\ntype ComponentState = { [l in LegalKeys<keyof SampleColorPickerProps>]: SampleColorPickerProps[l] };\n\ntype InsertNodeCallback = (nodeToInsert: HTMLElement) => void;\ntype Color = {\n    htmlColor: string;\n    names: string[];\n};\n\nconst pickableColors: Color[] = [\n    {\n        htmlColor: '#F8b195',\n        names: ['pink', 'orange', 'peach'],\n    },\n    {\n        htmlColor: '#f67280',\n        names: ['pink', 'cherry', 'apple', 'red'],\n    },\n    {\n        htmlColor: '#c06c84',\n        names: ['purple', 'violet', 'purplered', 'berry'],\n    },\n    {\n        htmlColor: '#355c7d',\n        names: ['blue', 'azul', 'azure', 'dark', 'deep'],\n    },\n];\n\nexport default class SampleColorPickerPluginDataProvider implements PickerDataProvider {\n    /**\n     * For inserting a node into hte\n     */\n    private insertNodeCallback: InsertNodeCallback;\n\n    private componentState: ComponentState = {\n        queryString: '',\n        selectedIndex: 0,\n        colors: [],\n        cursorX: 0,\n        cursorY: 0,\n    };\n    private mountPoint: HTMLElement;\n    private editor: IEditor;\n\n    // Function called when the plugin is intialized to register two callbacks with the data provider and a reference to the Editor.\n    // The first is called in order to \"commit\" a new element to the editor body that isn't handled automatically by the editor plugin.\n    // The second sets the isSuggesting value for situations wherethe UX needs to manipulate the suggesting state that's otherwise plugin managed.\n    onInitalize(\n        insertNodeCallback: InsertNodeCallback,\n        setIsSuggestingCallback: (isSuggesting: boolean) => void,\n        editor: IEditor\n    ): void {\n        this.insertNodeCallback = insertNodeCallback;\n        this.editor = editor;\n        this.updateToQuery('', 0);\n\n        const document = this.editor.getDocument();\n        this.mountPoint = document.createElement('section');\n        document.body.appendChild(this.mountPoint);\n    }\n\n    // Function called when the plugin is disposed for the data provider to do any cleanup.\n    onDispose(): void {\n        if (this.mountPoint) {\n            this.editor.getDocument().body.removeChild(this.mountPoint);\n        }\n        this.mountPoint = null;\n    }\n\n    // Function called when the picker changes suggesting state (e.g. when your dialog opens)\n    onIsSuggestingChanged(isSuggesting: boolean) {\n        if (isSuggesting) {\n            this.updateRender();\n        } else {\n            ReactDOM.unmountComponentAtNode(this.mountPoint);\n        }\n    }\n\n    private updateToQuery(queryString: string, index: number = 0) {\n        const lowerCaseQuery = queryString.toLowerCase();\n        const currentSelectedColor =\n            (this.componentState && this.componentState.colors[index]) || null;\n        const colors = pickableColors\n            .filter(color =>\n                color.names.some(colorName => colorName.indexOf(lowerCaseQuery) !== -1)\n            )\n            .map(color => color.htmlColor);\n        const newIndexOfCurrentSelectedColor = currentSelectedColor\n            ? colors.indexOf(currentSelectedColor)\n            : index;\n        const selectedIndex = Math.max(\n            0,\n            Math.min(newIndexOfCurrentSelectedColor, colors.length - 1)\n        );\n\n        const position = this.editor.getFocusedPosition();\n        const rect = getPositionRect(position);\n\n        this.componentState = {\n            queryString,\n            selectedIndex,\n            colors,\n            cursorX: rect ? rect.left : 0,\n            cursorY: rect ? rect.bottom : 0,\n        };\n    }\n\n    private updateRender() {\n        ReactDOM.render(\n            <SampleColorPicker {...this.componentState} onClick={this.insertColor} />,\n            this.mountPoint\n        );\n    }\n\n    private insertColor = (color: string) => {\n        const span = this.editor.getDocument().createElement('span');\n        span.innerText = '';\n        span.style.color = color;\n        this.insertNodeCallback(span);\n    };\n\n    // Function called when the query string (text after the trigger symbol) is updated.\n    queryStringUpdated(queryString: string) {\n        this.updateToQuery(queryString);\n        this.updateRender();\n    }\n\n    // Function called when a keypress is issued that would \"select\" a currently highlighted option.\n    selectOption() {\n        const currentSelectedColor =\n            (this.componentState &&\n                this.componentState.colors[this.componentState.selectedIndex]) ||\n            null;\n        if (currentSelectedColor == null) {\n            return;\n        }\n        this.insertColor(currentSelectedColor);\n    }\n\n    // Function called when a keypress is issued that would move the highlight on any picker UX.\n    shiftHighlight(isIncrement: boolean) {\n        this.updateToQuery(\n            this.componentState.queryString,\n            this.componentState.selectedIndex + (isIncrement ? 1 : -1)\n        );\n        this.updateRender();\n    }\n\n    // Function that is called when a delete command is issued.\n    // Returns the intended replacement node (if partial delete) or null (if full delete)\n    onRemove(nodeRemoved: Node, isBackwards: boolean): Node | null {\n        return null;\n    }\n}\n","import * as React from 'react';\nconst styles = require('./SampleColorPicker.scss');\n\nexport type SampleColorPickerProps = {\n    queryString: string;\n    selectedIndex: number;\n    colors: string[];\n    cursorX: number;\n    cursorY: number;\n    onClick: (color: string) => void;\n};\n\nexport default class SampleColorPicker<T> extends React.PureComponent<SampleColorPickerProps> {\n    render() {\n        return (\n            <div\n                className={`sample-color-picker ${styles.samplePickerContainer}`}\n                style={{ top: this.props.cursorY, left: this.props.cursorX }}>\n                {this.props.colors.length ? (\n                    this.props.colors.map((color, index) => (\n                        <div\n                            key={color}\n                            className={\n                                this.props.selectedIndex == index\n                                    ? `${styles.samplePickerColorSwatch} ${styles.selected}`\n                                    : styles.samplePickerColorSwatch\n                            }\n                            style={{ backgroundColor: color }}\n                            onClick={() => this.props.onClick(color)}\n                        />\n                    ))\n                ) : (\n                    <span> No Results! </span>\n                )}\n            </div>\n        );\n    }\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./SampleColorPicker.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1AFQxXV__o48aJRsrF0MDk{background-color:#222222;display:flex;border:1px solid black;position:absolute;top:0;left:0;height:1.5em;min-width:1.5em;justify-content:center;align-items:center;color:white}._1X9L-UmmVeADTYnNoGHmdd{display:block;border-radius:50%;width:1em;height:1em;margin:0.5em;box-sizing:border-box}._1X9L-UmmVeADTYnNoGHmdd._3dOdI0cBwId5a2nz2FiU0w{border:1px solid #fefefefe}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"samplePickerContainer\": \"_1AFQxXV__o48aJRsrF0MDk\",\n\t\"samplePickerColorSwatch\": \"_1X9L-UmmVeADTYnNoGHmdd\",\n\t\"selected\": \"_3dOdI0cBwId5a2nz2FiU0w\"\n};\nmodule.exports = exports;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","export { default as ContentEdit } from './ContentEdit';\nexport { default as getAllFeatures } from './getAllFeatures';\n","import getAllFeatures from './getAllFeatures';\nimport {\n    ContentEditFeatureSettings,\n    EditorPlugin,\n    GenericContentEditFeature,\n    IEditor,\n    PluginEvent,\n} from 'roosterjs-editor-types';\n\n/**\n * An editor plugin to handle content edit event.\n * The following cases are included:\n * 1. Auto increase/decrease indentation on Tab, Shift+tab\n * 2. Enter, Backspace on empty list item\n * 3. Enter, Backspace on empty blockquote line\n * 4. Auto bullet/numbering\n * 5. Auto link\n * 6. Tab in table\n * 7. Up/Down in table\n * 8. Manage list style\n */\nexport default class ContentEdit implements EditorPlugin {\n    /**\n     * Create instance of ContentEdit plugin\n     * @param settingsOverride An optional feature set to override default feature settings\n     * @param additionalFeatures Optional. More features to add\n     */\n    constructor(\n        private settingsOverride?: Partial<ContentEditFeatureSettings>,\n        private additionalFeatures?: GenericContentEditFeature<PluginEvent>[]\n    ) {}\n\n    /**\n     * Get a friendly name of  this plugin\n     */\n    getName() {\n        return 'ContentEdit';\n    }\n\n    /**\n     * Initialize this plugin\n     * @param editor The editor instance\n     */\n    initialize(editor: IEditor): void {\n        const features: GenericContentEditFeature<PluginEvent>[] = [];\n        const allFeatures = getAllFeatures();\n\n        Object.keys(allFeatures).forEach((key: keyof typeof allFeatures) => {\n            const feature = allFeatures[key];\n            const hasSettingForKey =\n                this.settingsOverride && this.settingsOverride[key] !== undefined;\n\n            if (\n                (hasSettingForKey && this.settingsOverride[key]) ||\n                (!hasSettingForKey && !feature.defaultDisabled)\n            ) {\n                features.push(feature);\n            }\n        });\n\n        features\n            .concat(this.additionalFeatures || [])\n            .forEach(feature => editor.addContentEditFeature(feature));\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose(): void {}\n}\n","import { removeLink, replaceWithNode } from 'roosterjs-editor-api';\nimport {\n    AutoLinkFeatureSettings,\n    BuildInEditFeature,\n    ChangeSource,\n    ClipboardData,\n    IEditor,\n    Keys,\n    LinkData,\n    PluginEvent,\n    PluginEventType,\n    PluginKeyboardEvent,\n} from 'roosterjs-editor-types';\nimport {\n    cacheGetEventData,\n    clearEventDataCache,\n    LinkInlineElement,\n    matchLink,\n} from 'roosterjs-editor-dom';\n\n/**\n * When user type, they may end a link with a punctuation, i.e. www.bing.com;\n * we need to trim off the trailing punctuation before turning it to link match\n */\nconst TRAILING_PUNCTUATION_REGEX = /[.+=\\s:;\"',>]+$/i;\nconst MINIMUM_LENGTH = 5;\n\n/**\n * AutoLink edit feature, provides the ability to automatically convert text user typed or pasted\n * in hyperlink format into a real hyperlink\n */\nconst AutoLink: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.ENTER, Keys.SPACE, Keys.CONTENTCHANGED],\n    shouldHandleEvent: cacheGetLinkData,\n    handleEvent: autoLink,\n};\n\n/**\n * UnlinkWhenBackspaceAfterLink edit feature, provides the ability to convert a hyperlink back into text\n * if user presses BACKSPACE right after a hyperlink\n */\nconst UnlinkWhenBackspaceAfterLink: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.BACKSPACE],\n    shouldHandleEvent: hasLinkBeforeCursor,\n    handleEvent: (event, editor) => {\n        event.rawEvent.preventDefault();\n        removeLink(editor);\n    },\n    defaultDisabled: true,\n};\n\nfunction cacheGetLinkData(event: PluginEvent, editor: IEditor): LinkData {\n    return event.eventType == PluginEventType.KeyDown ||\n        (event.eventType == PluginEventType.ContentChanged && event.source == ChangeSource.Paste)\n        ? cacheGetEventData(event, 'LINK_DATA', () => {\n              // First try to match link from the whole paste string from the plain text in clipboard.\n              // This helps when we paste a link next to some existing character, and the text we got\n              // from clipboard will only contain what we pasted, any existing characters will not\n              // be included.\n              let clipboardData =\n                  event.eventType == PluginEventType.ContentChanged &&\n                  event.source == ChangeSource.Paste &&\n                  (event.data as ClipboardData);\n              let link = matchLink((clipboardData.text || '').trim());\n              let searcher = editor.getContentSearcherOfCursor(event);\n\n              // In case the matched link is already inside a <A> tag, we do a range search.\n              // getRangeFromText will return null if the given text is already in a LinkInlineElement\n              if (link && searcher.getRangeFromText(link.originalUrl, false /*exactMatch*/)) {\n                  return link;\n              }\n\n              let word = searcher && searcher.getWordBefore();\n              if (word && word.length > MINIMUM_LENGTH) {\n                  // Check for trailing punctuation\n                  let trailingPunctuations = word.match(TRAILING_PUNCTUATION_REGEX);\n                  let trailingPunctuation = (trailingPunctuations || [])[0] || '';\n                  let candidate = word.substring(0, word.length - trailingPunctuation.length);\n\n                  // Do special handling for ')', '}', ']'\n                  ['()', '{}', '[]'].forEach(str => {\n                      if (\n                          candidate[candidate.length - 1] == str[1] &&\n                          candidate.indexOf(str[0]) < 0\n                      ) {\n                          candidate = candidate.substr(0, candidate.length - 1);\n                      }\n                  });\n\n                  // Match and replace in editor\n                  return matchLink(candidate);\n              }\n              return null;\n          })\n        : null;\n}\n\nfunction hasLinkBeforeCursor(event: PluginKeyboardEvent, editor: IEditor): boolean {\n    let contentSearcher = editor.getContentSearcherOfCursor(event);\n    let inline = contentSearcher.getInlineElementBefore();\n    return inline instanceof LinkInlineElement;\n}\n\nfunction autoLink(event: PluginEvent, editor: IEditor) {\n    let anchor = editor.getDocument().createElement('a');\n    let linkData = cacheGetLinkData(event, editor);\n\n    // Need to get searcher before we enter the async callback since the callback can happen when cursor is moved to next line\n    // and at that time a new searcher won't be able to find the link text to replace\n    let searcher = editor.getContentSearcherOfCursor();\n    anchor.textContent = linkData.originalUrl;\n    anchor.href = linkData.normalizedUrl;\n\n    editor.runAsync(editor => {\n        editor.addUndoSnapshot(\n            () => {\n                replaceWithNode(\n                    editor,\n                    linkData.originalUrl,\n                    anchor,\n                    false /* exactMatch */,\n                    searcher\n                );\n\n                // The content at cursor has changed. Should also clear the cursor data cache\n                clearEventDataCache(event);\n                return anchor;\n            },\n            ChangeSource.AutoLink,\n            true /*canUndoByBackspace*/\n        );\n    });\n}\n\n/**\n * @internal\n */\nexport const AutoLinkFeatures: Record<\n    keyof AutoLinkFeatureSettings,\n    BuildInEditFeature<PluginKeyboardEvent>\n> = {\n    autoLink: AutoLink,\n    unlinkWhenBackspaceAfterLink: UnlinkWhenBackspaceAfterLink,\n};\n","import { Browser, getComputedStyle, Position } from 'roosterjs-editor-dom';\nimport {\n    BuildInEditFeature,\n    CursorFeatureSettings,\n    Keys,\n    PluginKeyboardEvent,\n} from 'roosterjs-editor-types';\n\nconst NoCycleCursorMove: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.LEFT, Keys.RIGHT],\n    allowFunctionKeys: true,\n    shouldHandleEvent: (event, editor, ctrlOrMeta) => {\n        let range: Range;\n        let position: Position;\n\n        if (\n            !ctrlOrMeta ||\n            !(range = editor.getSelectionRange()) ||\n            !range.collapsed ||\n            !(position = Position.getStart(range)) ||\n            !editor.isPositionAtBeginning(position)\n        ) {\n            return false;\n        }\n\n        let rtl = getComputedStyle(position.element, 'direction') == 'rtl';\n        let rawEvent = event.rawEvent;\n\n        return (!rtl && rawEvent.which == Keys.LEFT) || (rtl && rawEvent.which == Keys.RIGHT);\n    },\n    handleEvent: event => {\n        event.rawEvent.preventDefault();\n    },\n    defaultDisabled: !Browser.isChrome,\n};\n\n/**\n * @internal\n */\nexport const CursorFeatures: Record<\n    keyof CursorFeatureSettings,\n    BuildInEditFeature<PluginKeyboardEvent>\n> = {\n    noCycleCursorMove: NoCycleCursorMove,\n};\n","import {\n    cacheGetEventData,\n    getEntityFromElement,\n    getEntitySelector,\n    Position,\n} from 'roosterjs-editor-dom';\nimport {\n    BuildInEditFeature,\n    EntityFeatureSettings,\n    EntityOperation,\n    IEditor,\n    Keys,\n    PluginKeyboardEvent,\n    PositionType,\n    PluginEventType,\n} from 'roosterjs-editor-types';\n\n/**\n * A content edit feature to trigger EntityOperation event with operation \"Click\" when user\n * clicks on a readonly entity.\n */\nconst ClickOnEntityFeature: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.ENTER],\n    shouldHandleEvent: (event, editor) => cacheGetReadonlyEntityElement(event, editor),\n    handleEvent: (event, editor) => {\n        cacheGetReadonlyEntityElement(event, editor, EntityOperation.Click);\n    },\n};\n\n/**\n * A content edit feature to trigger EntityOperation event with operation \"Escape\" when user\n * presses ESC on a readonly entity.\n */\nconst EscapeFromEntityFeature: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.ESCAPE],\n    shouldHandleEvent: (event, editor) => cacheGetReadonlyEntityElement(event, editor),\n    handleEvent: (event, editor) => {\n        cacheGetReadonlyEntityElement(event, editor, EntityOperation.Escape);\n    },\n};\n\nfunction cacheGetReadonlyEntityElement(\n    event: PluginKeyboardEvent,\n    editor: IEditor,\n    operation?: EntityOperation\n) {\n    const element = cacheGetEventData(event, 'READONLY_ENTITY_ELEMENT', () => {\n        const node = event.rawEvent.target as Node;\n        const entityElement = node && editor.getElementAtCursor(getEntitySelector(), node);\n        return entityElement && !entityElement.isContentEditable ? entityElement : null;\n    });\n\n    if (element && operation !== undefined) {\n        editor.triggerPluginEvent(PluginEventType.EntityOperation, {\n            operation,\n            rawEvent: event.rawEvent,\n            entity: getEntityFromElement(element),\n        });\n    }\n\n    return element;\n}\n\n/**\n * A content edit feature to split current line into two lines at the cursor when user presses\n * ENTER right before a readonly entity.\n * Browser's default behavior will insert an extra BR tag before the entity which causes an extra\n * empty line. So we override the default behavior here.\n */\nconst EnterBeforeReadonlyEntityFeature: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.ENTER],\n    shouldHandleEvent: (event, editor) =>\n        cacheGetNeighborEntityElement(event, editor, true /*isNext*/, false /*collapseOnly*/),\n    handleEvent: (event, editor) => {\n        event.rawEvent.preventDefault();\n\n        const range = editor.getSelectionRange();\n        const node = Position.getEnd(range).normalize().node;\n        const br = editor.getDocument().createElement('BR');\n        node.parentNode.insertBefore(br, node.nextSibling);\n\n        const block = editor.getBlockElementAtNode(node);\n        let newContainer: HTMLElement;\n\n        if (block) {\n            newContainer = block.collapseToSingleElement();\n            br.parentNode?.removeChild(br);\n        }\n\n        editor.getSelectionRange().deleteContents();\n\n        if (newContainer.nextSibling) {\n            editor.select(newContainer.nextSibling, PositionType.Begin);\n        }\n    },\n};\n\n/**\n * A content edit feature to trigger EntityOperation event with operation \"RemoveFromEnd\" when user\n * press BACKSPACE right after an entity\n */\nconst BackspaceAfterEntityFeature: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.BACKSPACE],\n    shouldHandleEvent: (event, editor) =>\n        cacheGetNeighborEntityElement(event, editor, false /*isNext*/, true /*collapseOnly*/),\n    handleEvent: (event, editor) => {\n        cacheGetNeighborEntityElement(\n            event,\n            editor,\n            false /*isNext*/,\n            true /*collapseOnly*/,\n            EntityOperation.RemoveFromEnd\n        );\n    },\n};\n\n/**\n * A content edit feature to trigger EntityOperation event with operation \"RemoveFromStart\" when user\n * press DELETE right after an entity\n */\nconst DeleteBeforeEntityFeature: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.DELETE],\n    shouldHandleEvent: (event, editor) =>\n        cacheGetNeighborEntityElement(event, editor, true /*isNext*/, true /*collapseOnly*/),\n    handleEvent: (event, editor) => {\n        cacheGetNeighborEntityElement(\n            event,\n            editor,\n            true /*isNext*/,\n            true /*collapseOnly*/,\n            EntityOperation.RemoveFromStart\n        );\n    },\n};\n\nfunction cacheGetNeighborEntityElement(\n    event: PluginKeyboardEvent,\n    editor: IEditor,\n    isNext: boolean,\n    collapseOnly: boolean,\n    operation?: EntityOperation\n): HTMLElement {\n    const element = cacheGetEventData(\n        event,\n        'NEIGHBOR_ENTITY_ELEMENT_' + isNext + '_' + collapseOnly,\n        () => {\n            const range = editor.getSelectionRange();\n\n            if (collapseOnly && !range.collapsed) {\n                return null;\n            }\n\n            const pos = Position.getEnd(range).normalize();\n            const isAtBeginOrEnd = pos.offset == 0 || pos.isAtEnd;\n            let entityNode: HTMLElement = null;\n\n            if (isAtBeginOrEnd) {\n                const traverser = editor.getBodyTraverser(pos.node);\n                const sibling = isNext\n                    ? pos.offset == 0\n                        ? traverser.currentInlineElement\n                        : traverser.getNextInlineElement()\n                    : pos.isAtEnd\n                    ? traverser.currentInlineElement\n                    : traverser.getPreviousInlineElement();\n                let node = sibling && sibling.getContainerNode();\n\n                if (!collapseOnly) {\n                    const block = editor.getBlockElementAtNode(pos.node);\n                    if (!block || !block.contains(node)) {\n                        node = null;\n                    }\n                }\n\n                entityNode = node && editor.getElementAtCursor(getEntitySelector(), node);\n            }\n\n            return entityNode;\n        }\n    );\n\n    if (element && operation !== undefined) {\n        editor.triggerPluginEvent(PluginEventType.EntityOperation, {\n            operation,\n            rawEvent: event.rawEvent,\n            entity: getEntityFromElement(element),\n        });\n    }\n\n    return element;\n}\n\n/**\n * @internal\n */\nexport const EntityFeatures: Record<\n    keyof EntityFeatureSettings,\n    BuildInEditFeature<PluginKeyboardEvent>\n> = {\n    clickOnEntity: ClickOnEntityFeature,\n    escapeFromEntity: EscapeFromEntityFeature,\n    enterBeforeReadonlyEntity: EnterBeforeReadonlyEntityFeature,\n    backspaceAfterEntity: BackspaceAfterEntityFeature,\n    deleteBeforeEntity: DeleteBeforeEntityFeature,\n};\n","import {\n    blockFormat,\n    experimentCommitListChains,\n    setIndentation,\n    toggleBullet,\n    toggleNumbering,\n} from 'roosterjs-editor-api';\nimport {\n    Browser,\n    getTagOfNode,\n    isNodeEmpty,\n    isPositionAtBeginningOf,\n    Position,\n    VListChain,\n    createVListFromRegion,\n    isBlockElement,\n    cacheGetEventData,\n} from 'roosterjs-editor-dom';\nimport {\n    BuildInEditFeature,\n    IEditor,\n    Indentation,\n    ListFeatureSettings,\n    Keys,\n    PluginKeyboardEvent,\n    QueryScope,\n    RegionBase,\n} from 'roosterjs-editor-types';\n\n/**\n * IndentWhenTab edit feature, provides the ability to indent current list when user press TAB\n */\nconst IndentWhenTab: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.TAB],\n    shouldHandleEvent: (event, editor) =>\n        !event.rawEvent.shiftKey && cacheGetListElement(event, editor),\n    handleEvent: (event, editor) => {\n        setIndentation(editor, Indentation.Increase);\n        event.rawEvent.preventDefault();\n    },\n};\n\n/**\n * OutdentWhenShiftTab edit feature, provides the ability to outdent current list when user press Shift+TAB\n */\nconst OutdentWhenShiftTab: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.TAB],\n    shouldHandleEvent: (event, editor) =>\n        event.rawEvent.shiftKey && cacheGetListElement(event, editor),\n    handleEvent: (event, editor) => {\n        setIndentation(editor, Indentation.Decrease);\n        event.rawEvent.preventDefault();\n    },\n};\n\n/**\n * MergeInNewLine edit feature, provides the ability to merge current line into a new line when user press\n * BACKSPACE at beginning of a list item\n */\nconst MergeInNewLine: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.BACKSPACE],\n    shouldHandleEvent: (event, editor) => {\n        let li = editor.getElementAtCursor('LI', null /*startFrom*/, event);\n        let range = editor.getSelectionRange();\n        return li && range?.collapsed && isPositionAtBeginningOf(Position.getStart(range), li);\n    },\n    handleEvent: (event, editor) => {\n        let li = editor.getElementAtCursor('LI', null /*startFrom*/, event);\n        if (li.previousSibling) {\n            blockFormat(editor, (region, start, end) => {\n                const vList = createVListFromRegion(region, false /*includeSiblingList*/, li);\n                vList.setIndentation(start, end, Indentation.Decrease, true /*softOutdent*/);\n                vList.writeBack();\n                event.rawEvent.preventDefault();\n            });\n        } else {\n            toggleListAndPreventDefault(event, editor);\n        }\n    },\n    defaultDisabled: true,\n};\n\n/**\n * OutdentWhenBackOn1stEmptyLine edit feature, provides the ability to outdent current item if user press\n * BACKSPACE at the first and empty line of a list\n */\nconst OutdentWhenBackOn1stEmptyLine: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.BACKSPACE],\n    shouldHandleEvent: (event, editor) => {\n        let li = editor.getElementAtCursor('LI', null /*startFrom*/, event);\n        return li && isNodeEmpty(li) && !li.previousSibling;\n    },\n    handleEvent: toggleListAndPreventDefault,\n};\n\n/**\n * MaintainListChainWhenDelete edit feature, provides the ability to indent the list if user press\n * DELETE before the first item of a list\n */\nconst MaintainListChainWhenDelete: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.DELETE],\n    shouldHandleEvent: (event, editor) => {\n        const li = editor.getElementAtCursor('LI', null /*startFrom*/, event);\n        if (li) {\n            return false;\n        }\n        const isAtEnd = Position.getEnd(editor.getSelectionRange()).isAtEnd;\n        const nextSibiling = isAtEnd ? getCacheNextSibiling(event, editor) : null;\n        const isAtEndAndBeforeLI = editor.getElementAtCursor('LI', nextSibiling, event);\n        return isAtEndAndBeforeLI;\n    },\n    handleEvent: (event, editor) => {\n        const chains = getListChains(editor);\n        editor.runAsync(editor => experimentCommitListChains(editor, chains));\n    },\n};\n\n/**\n * OutdentWhenEnterOnEmptyLine edit feature, provides the ability to outdent current item if user press\n * ENTER at the beginning of an empty line of a list\n */\nconst OutdentWhenEnterOnEmptyLine: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.ENTER],\n    shouldHandleEvent: (event, editor) => {\n        let li = editor.getElementAtCursor('LI', null /*startFrom*/, event);\n        return !event.rawEvent.shiftKey && li && isNodeEmpty(li);\n    },\n    handleEvent: (event, editor) => {\n        editor.addUndoSnapshot(\n            () => toggleListAndPreventDefault(event, editor),\n            null /*changeSource*/,\n            true /*canUndoByBackspace*/\n        );\n    },\n    defaultDisabled: !Browser.isIE && !Browser.isChrome,\n};\n\n/**\n * AutoBullet edit feature, provides the ability to automatically convert current line into a list.\n * When user input \"1. \", convert into a numbering list\n * When user input \"- \" or \"* \", convert into a bullet list\n */\nconst AutoBullet: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.SPACE],\n    shouldHandleEvent: (event, editor) => {\n        if (!cacheGetListElement(event, editor)) {\n            let searcher = editor.getContentSearcherOfCursor(event);\n            let textBeforeCursor = searcher.getSubStringBefore(4);\n\n            // Auto list is triggered if:\n            // 1. Text before cursor exactly matches '*', '-' or '1.'\n            // 2. There's no non-text inline entities before cursor\n            return isAListPattern(textBeforeCursor) && !searcher.getNearestNonTextInlineElement();\n        }\n        return false;\n    },\n    handleEvent: (event, editor) => {\n        editor.insertContent('&nbsp;');\n        event.rawEvent.preventDefault();\n        editor.addUndoSnapshot(\n            () => {\n                let regions: RegionBase[];\n                let searcher = editor.getContentSearcherOfCursor();\n                let textBeforeCursor = searcher.getSubStringBefore(4);\n                let rangeToDelete = searcher.getRangeFromText(\n                    textBeforeCursor,\n                    true /*exactMatch*/\n                );\n\n                if (!rangeToDelete) {\n                    // no op if the range can't be found\n                } else if (\n                    textBeforeCursor.indexOf('*') == 0 ||\n                    textBeforeCursor.indexOf('-') == 0\n                ) {\n                    prepareAutoBullet(editor, rangeToDelete);\n                    toggleBullet(editor);\n                } else if (isAListPattern(textBeforeCursor)) {\n                    prepareAutoBullet(editor, rangeToDelete);\n                    toggleNumbering(editor);\n                } else if ((regions = editor.getSelectedRegions()) && regions.length == 1) {\n                    const num = parseInt(textBeforeCursor);\n                    prepareAutoBullet(editor, rangeToDelete);\n                    toggleNumbering(editor, num);\n                }\n            },\n            null /*changeSource*/,\n            true /*canUndoByBackspace*/\n        );\n    },\n};\n\n/**\n * Maintain the list numbers in list chain\n * e.g. we have two lists:\n * 1, 2, 3 and 4, 5, 6\n * Now we delete list item 2, so the first one becomes \"1, 2\".\n * This edit feature can maintain the list number of the second list to become \"3, 4, 5\"\n */\nconst MaintainListChain: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.ENTER, Keys.TAB, Keys.DELETE, Keys.BACKSPACE, Keys.RANGE],\n    shouldHandleEvent: (event, editor) =>\n        editor.queryElements('li', QueryScope.OnSelection).length > 0,\n    handleEvent: (event, editor) => {\n        const chains = getListChains(editor);\n        editor.runAsync(editor => experimentCommitListChains(editor, chains));\n    },\n};\n\n/**\n * Validate if a block of text is considered a list pattern\n * The regex expression will look for patterns of the form:\n * 1.  1>  1)  1-  (1)\n * @returns if a text is considered a list pattern\n */\nfunction isAListPattern(textBeforeCursor: string) {\n    const REGEX: RegExp = /^(\\*|-|[0-9]{1,2}\\.|[0-9]{1,2}\\>|[0-9]{1,2}\\)|[0-9]{1,2}\\-|\\([0-9]{1,2}\\))$/;\n    return REGEX.test(textBeforeCursor);\n}\n\nfunction getListChains(editor: IEditor) {\n    return VListChain.createListChains(editor.getSelectedRegions());\n}\n\nfunction getCacheNextSibiling(event: PluginKeyboardEvent, editor: IEditor): Node | undefined {\n    const element = cacheGetEventData(event, 'nextSibiling', () => {\n        const range = editor.getSelectionRange();\n        const pos = Position.getEnd(range).normalize();\n        const traverser = editor.getBodyTraverser(pos.node);\n        return traverser?.getNextBlockElement()?.getStartNode();\n    });\n    return element;\n}\n\nfunction prepareAutoBullet(editor: IEditor, range: Range) {\n    range.deleteContents();\n\n    const block = editor.getBlockElementAtNode(range.startContainer);\n    const endNode = block?.getEndNode();\n    if (endNode && getTagOfNode(endNode) != 'BR' && block?.getTextContent().trim() === '') {\n        const br = editor.getDocument().createElement('BR');\n        if (isBlockElement(endNode)) {\n            endNode.appendChild(br);\n        } else {\n            endNode.parentNode.insertBefore(br, endNode.nextSibling);\n        }\n        editor.select(range.startContainer, range.startOffset);\n    }\n}\n\nfunction toggleListAndPreventDefault(event: PluginKeyboardEvent, editor: IEditor) {\n    let listInfo = cacheGetListElement(event, editor);\n    if (listInfo) {\n        let listElement = listInfo[0];\n        let tag = getTagOfNode(listElement);\n        if (tag == 'UL') {\n            toggleBullet(editor);\n        } else if (tag == 'OL') {\n            toggleNumbering(editor);\n        }\n        editor.focus();\n        event.rawEvent.preventDefault();\n    }\n}\n\nfunction cacheGetListElement(event: PluginKeyboardEvent, editor: IEditor) {\n    let li = editor.getElementAtCursor('LI,TABLE', null /*startFrom*/, event);\n    let listElement = li && getTagOfNode(li) == 'LI' && editor.getElementAtCursor('UL,OL', li);\n    return listElement ? [listElement, li] : null;\n}\n\n/**\n * @internal\n */\nexport const ListFeatures: Record<\n    keyof ListFeatureSettings,\n    BuildInEditFeature<PluginKeyboardEvent>\n> = {\n    autoBullet: AutoBullet,\n    indentWhenTab: IndentWhenTab,\n    outdentWhenShiftTab: OutdentWhenShiftTab,\n    outdentWhenBackspaceOnEmptyFirstLine: OutdentWhenBackOn1stEmptyLine,\n    outdentWhenEnterOnEmptyLine: OutdentWhenEnterOnEmptyLine,\n    mergeInNewLineWhenBackspaceOnFirstChar: MergeInNewLine,\n    maintainListChain: MaintainListChain,\n    maintainListChainWhenDelete: MaintainListChainWhenDelete,\n};\n","import { cacheGetEventData, createRange } from 'roosterjs-editor-dom';\nimport {\n    BuildInEditFeature,\n    ChangeSource,\n    IEditor,\n    Keys,\n    MarkdownFeatureSettings,\n    NodePosition,\n    PluginKeyboardEvent,\n    PositionType,\n} from 'roosterjs-editor-types';\n\nconst ZERO_WIDTH_SPACE = '\\u200B';\n\nfunction generateBasicMarkdownFeature(\n    key: Keys,\n    triggerCharacter: string,\n    elementTag: string,\n    useShiftKey: boolean\n): BuildInEditFeature<PluginKeyboardEvent> {\n    return {\n        keys: [key],\n        shouldHandleEvent: (event, editor) =>\n            event.rawEvent.shiftKey === useShiftKey &&\n            !!cacheGetRangeForMarkdownOperation(event, editor, triggerCharacter),\n        handleEvent: (event, editor) => {\n            // runAsync is here to allow the event to complete so autocomplete will present the trigger character.\n            editor.runAsync(editor => {\n                handleMarkdownEvent(event, editor, triggerCharacter, elementTag);\n            });\n        },\n    };\n}\n\nfunction cacheGetRangeForMarkdownOperation(\n    event: PluginKeyboardEvent,\n    editor: IEditor,\n    triggerCharacter: string\n): Range {\n    return cacheGetEventData(event, 'MARKDOWN_RANGE', () => {\n        const searcher = editor.getContentSearcherOfCursor(event);\n\n        let startPosition: NodePosition;\n        let endPosition: NodePosition;\n        searcher.forEachTextInlineElement(textInlineElement => {\n            if (endPosition && startPosition) {\n                return true;\n            }\n            const inlineTextContent = textInlineElement.getTextContent();\n\n            // special case for immediately preceding character being whitespace\n            if (inlineTextContent[inlineTextContent.length - 1].trim().length == 0) {\n                return false;\n            }\n\n            // special case for consecutive trigger characters\n            if (inlineTextContent[inlineTextContent.length - 1] === triggerCharacter) {\n                return false;\n            }\n\n            if (!endPosition) {\n                endPosition = textInlineElement.getStartPosition().move(inlineTextContent.length);\n            }\n            if (inlineTextContent[0] == triggerCharacter) {\n                startPosition = textInlineElement.getStartPosition();\n            } else {\n                let contentIndex = inlineTextContent.length - 1;\n                for (; contentIndex > 0; contentIndex--) {\n                    if (startPosition) {\n                        return true;\n                    }\n                    if (\n                        inlineTextContent[contentIndex] == triggerCharacter &&\n                        inlineTextContent[contentIndex - 1].trim().length == 0\n                    ) {\n                        startPosition = textInlineElement.getStartPosition().move(contentIndex);\n                        return true;\n                    }\n                }\n            }\n        });\n        return !!startPosition && !!endPosition && createRange(startPosition, endPosition);\n    });\n}\n\nfunction handleMarkdownEvent(\n    event: PluginKeyboardEvent,\n    editor: IEditor,\n    triggerCharacter: string,\n    elementTag: string\n) {\n    editor.addUndoSnapshot(\n        () => {\n            const range = cacheGetRangeForMarkdownOperation(event, editor, triggerCharacter);\n            if (!!range) {\n                // get the text content range\n                const textContentRange = range.cloneRange();\n                textContentRange.setStart(\n                    textContentRange.startContainer,\n                    textContentRange.startOffset + 1\n                );\n\n                // set the removal range to include the typed last character.\n                range.setEnd(range.endContainer, range.endOffset + 1);\n\n                // extract content and put it into a new element.\n                const elementToWrap = editor.getDocument().createElement(elementTag);\n                elementToWrap.appendChild(textContentRange.extractContents());\n                range.deleteContents();\n\n                // ZWS here ensures we don't end up inside the newly created node.\n                const nonPrintedSpaceTextNode = editor\n                    .getDocument()\n                    .createTextNode(ZERO_WIDTH_SPACE);\n                range.insertNode(nonPrintedSpaceTextNode);\n                range.insertNode(elementToWrap);\n                editor.select(nonPrintedSpaceTextNode, PositionType.End);\n            }\n        },\n        ChangeSource.Format,\n        true /*canUndoByBackspace*/\n    );\n}\n\n/**\n * Markdown bold feature. Make bold text with markdown shortcuts.\n */\nconst MarkdownBold: BuildInEditFeature<PluginKeyboardEvent> = generateBasicMarkdownFeature(\n    Keys.EIGHT_ASTIRISK,\n    '*',\n    'b',\n    true\n);\n\n/**\n * Markdown italics feature. Make italic text with markdown shortcuts.\n */\nconst MarkdownItalic: BuildInEditFeature<PluginKeyboardEvent> = generateBasicMarkdownFeature(\n    Keys.DASH_UNDERSCORE,\n    '_',\n    'i',\n    true\n);\n\n/**\n * Markdown strikethrough feature. MAke strikethrough text with markdown shortcuts.\n */\nconst MarkdownStrikethrough: BuildInEditFeature<PluginKeyboardEvent> = generateBasicMarkdownFeature(\n    Keys.GRAVE_TILDE,\n    '~',\n    's',\n    true\n);\n\n/**\n * Markdown inline code feature. Marks specific text as inline code with markdown shortcuts.\n */\nconst MarkdownInlineCode: BuildInEditFeature<PluginKeyboardEvent> = generateBasicMarkdownFeature(\n    Keys.GRAVE_TILDE,\n    '`',\n    'code',\n    false\n);\n\n/**\n * @internal\n */\nexport const MarkdownFeatures: Record<\n    keyof MarkdownFeatureSettings,\n    BuildInEditFeature<PluginKeyboardEvent>\n> = {\n    markdownBold: MarkdownBold,\n    markdownItalic: MarkdownItalic,\n    markdownStrikethru: MarkdownStrikethrough,\n    markdownInlineCode: MarkdownInlineCode,\n};\n","import {\n    BuildInEditFeature,\n    IEditor,\n    Keys,\n    PluginKeyboardEvent,\n    PositionType,\n    QuoteFeatureSettings,\n} from 'roosterjs-editor-types';\nimport {\n    cacheGetEventData,\n    getTagOfNode,\n    isNodeEmpty,\n    splitBalancedNodeRange,\n    toArray,\n    unwrap,\n    wrap,\n} from 'roosterjs-editor-dom';\n\nconst QUOTE_TAG = 'BLOCKQUOTE';\nconst STRUCTURED_TAGS = [QUOTE_TAG, 'LI', 'TD', 'TH'].join(',');\n\n/**\n * UnquoteWhenBackOnEmpty1stLine edit feature, provides the ability to Unquote current line when\n * user press BACKSPACE on first and empty line of a BLOCKQUOTE\n */\nconst UnquoteWhenBackOnEmpty1stLine: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.BACKSPACE],\n    shouldHandleEvent: (event, editor) => {\n        let childOfQuote = cacheGetQuoteChild(event, editor);\n        return childOfQuote && isNodeEmpty(childOfQuote) && !childOfQuote.previousSibling;\n    },\n    handleEvent: splitQuote,\n};\n\n/**\n * UnquoteWhenEnterOnEmptyLine edit feature, provides the ability to Unquote current line when\n * user press ENTER on an empty line of a BLOCKQUOTE\n */\nconst UnquoteWhenEnterOnEmptyLine: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.ENTER],\n    shouldHandleEvent: (event, editor) => {\n        let childOfQuote = cacheGetQuoteChild(event, editor);\n        let shift = event.rawEvent.shiftKey;\n        return !shift && childOfQuote && isNodeEmpty(childOfQuote);\n    },\n    handleEvent: (event, editor) =>\n        editor.addUndoSnapshot(\n            () => splitQuote(event, editor),\n            null /*changeSource*/,\n            true /*canUndoByBackspace*/\n        ),\n};\n\nfunction cacheGetQuoteChild(event: PluginKeyboardEvent, editor: IEditor): Node {\n    return cacheGetEventData(event, 'QUOTE_CHILD', () => {\n        let quote = editor.getElementAtCursor(STRUCTURED_TAGS);\n        if (quote && getTagOfNode(quote) == QUOTE_TAG) {\n            let pos = editor.getFocusedPosition();\n            let block = pos && editor.getBlockElementAtNode(pos.normalize().node);\n            if (block) {\n                let node =\n                    block.getStartNode() == quote\n                        ? block.getStartNode()\n                        : block.collapseToSingleElement();\n                return isNodeEmpty(node) ? node : null;\n            }\n        }\n\n        return null;\n    });\n}\n\nfunction splitQuote(event: PluginKeyboardEvent, editor: IEditor) {\n    editor.addUndoSnapshot(() => {\n        let childOfQuote = cacheGetQuoteChild(event, editor);\n        let parent: Node;\n        if (getTagOfNode(childOfQuote) == QUOTE_TAG) {\n            childOfQuote = wrap(toArray(childOfQuote.childNodes));\n        }\n        parent = splitBalancedNodeRange(childOfQuote);\n        unwrap(parent);\n        editor.select(childOfQuote, PositionType.Begin);\n    });\n    event.rawEvent.preventDefault();\n}\n\n/**\n * @internal\n */\nexport const QuoteFeatures: Record<\n    keyof QuoteFeatureSettings,\n    BuildInEditFeature<PluginKeyboardEvent>\n> = {\n    unquoteWhenBackspaceOnEmptyFirstLine: UnquoteWhenBackOnEmpty1stLine,\n    unquoteWhenEnterOnEmptyLine: UnquoteWhenEnterOnEmptyLine,\n};\n","import { Browser, cacheGetEventData } from 'roosterjs-editor-dom';\nimport {\n    BuildInEditFeature,\n    FontSizeChange,\n    IEditor,\n    Keys,\n    PluginEventType,\n    PluginKeyboardEvent,\n    ShortcutFeatureSettings,\n} from 'roosterjs-editor-types';\nimport {\n    changeFontSize,\n    toggleBold,\n    toggleItalic,\n    toggleUnderline,\n    toggleBullet,\n    toggleNumbering,\n} from 'roosterjs-editor-api';\n\ninterface ShortcutCommand {\n    winKey: number;\n    macKey: number;\n    action: (editor: IEditor) => any;\n}\n\nfunction createCommand(winKey: number, macKey: number, action: (editor: IEditor) => any) {\n    return {\n        winKey,\n        macKey,\n        action,\n    };\n}\n\nconst commands: ShortcutCommand[] = [\n    createCommand(Keys.Ctrl | Keys.B, Keys.Meta | Keys.B, toggleBold),\n    createCommand(Keys.Ctrl | Keys.I, Keys.Meta | Keys.I, toggleItalic),\n    createCommand(Keys.Ctrl | Keys.U, Keys.Meta | Keys.U, toggleUnderline),\n    createCommand(Keys.Ctrl | Keys.Z, Keys.Meta | Keys.Z, editor => editor.undo()),\n    createCommand(Keys.Ctrl | Keys.Y, Keys.Meta | Keys.Shift | Keys.Z, editor => editor.redo()),\n    createCommand(Keys.Ctrl | Keys.PERIOD, Keys.Meta | Keys.PERIOD, toggleBullet),\n    createCommand(Keys.Ctrl | Keys.FORWARDSLASH, Keys.Meta | Keys.FORWARDSLASH, toggleNumbering),\n    createCommand(\n        Keys.Ctrl | Keys.Shift | Keys.PERIOD,\n        Keys.Meta | Keys.Shift | Keys.PERIOD,\n        editor => changeFontSize(editor, FontSizeChange.Increase)\n    ),\n    createCommand(\n        Keys.Ctrl | Keys.Shift | Keys.COMMA,\n        Keys.Meta | Keys.Shift | Keys.COMMA,\n        editor => changeFontSize(editor, FontSizeChange.Decrease)\n    ),\n];\n\n/**\n * DefaultShortcut edit feature, provides shortcuts for the following features:\n * Ctrl/Meta+B: toggle bold style\n * Ctrl/Meta+I: toggle italic style\n * Ctrl/Meta+U: toggle underline style\n * Ctrl/Meta+Z: undo\n * Ctrl+Y/Meta+Shift+Z: redo\n * Ctrl/Meta+PERIOD: toggle bullet list\n * Ctrl/Meta+/: toggle numbering list\n * Ctrl/Meta+Shift+>: increase font size\n * Ctrl/Meta+Shift+<: decrease font size\n */\nconst DefaultShortcut: BuildInEditFeature<PluginKeyboardEvent> = {\n    allowFunctionKeys: true,\n    keys: [Keys.B, Keys.I, Keys.U, Keys.Y, Keys.Z, Keys.COMMA, Keys.PERIOD, Keys.FORWARDSLASH],\n    shouldHandleEvent: cacheGetCommand,\n    handleEvent: (event, editor) => {\n        let command = cacheGetCommand(event);\n        if (command) {\n            command.action(editor);\n            event.rawEvent.preventDefault();\n            event.rawEvent.stopPropagation();\n        }\n    },\n};\n\nfunction cacheGetCommand(event: PluginKeyboardEvent) {\n    return cacheGetEventData(event, 'DEFAULT_SHORT_COMMAND', () => {\n        let e = event.rawEvent;\n        let key =\n            // Need to check ALT key to be false since in some language (e.g. Polski) uses AltGr to input some special characters\n            // In that case, ctrlKey and altKey are both true in Edge, but we should not trigger any shortcut function here\n            event.eventType == PluginEventType.KeyDown && !e.altKey\n                ? e.which |\n                  (e.metaKey && Keys.Meta) |\n                  (e.shiftKey && Keys.Shift) |\n                  (e.ctrlKey && Keys.Ctrl)\n                : 0;\n        return key && commands.filter(cmd => (Browser.isMac ? cmd.macKey : cmd.winKey) == key)[0];\n    });\n}\n\n/**\n * @internal\n */\nexport const ShortcutFeatures: Record<\n    keyof ShortcutFeatureSettings,\n    BuildInEditFeature<PluginKeyboardEvent>\n> = {\n    defaultShortcut: DefaultShortcut,\n};\n","import {\n    BuildInEditFeature,\n    IEditor,\n    Keys,\n    KnownCreateElementDataIndex,\n    PluginKeyboardEvent,\n    PositionType,\n    StructuredNodeFeatureSettings,\n} from 'roosterjs-editor-types';\nimport {\n    cacheGetEventData,\n    isPositionAtBeginningOf,\n    Position,\n    getTagOfNode,\n    createElement,\n} from 'roosterjs-editor-dom';\n\nconst CHILD_PARENT_TAG_MAP: { [childTag: string]: string } = {\n    TD: 'TABLE',\n    TH: 'TABLE',\n    LI: 'OL,UL',\n};\nconst CHILD_SELECTOR = Object.keys(CHILD_PARENT_TAG_MAP).join(',');\n\n/**\n * InsertLineBeforeStructuredNode edit feature, provides the ability to insert an empty line before\n * a structured element (bullet/numbering list, blockquote, table) if the element is at beginning of\n * document\n */\nconst InsertLineBeforeStructuredNodeFeature: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.ENTER],\n    shouldHandleEvent: cacheGetStructuredElement,\n    handleEvent: (event, editor) => {\n        let element = cacheGetStructuredElement(event, editor);\n        let div = createElement(\n            KnownCreateElementDataIndex.EmptyLine,\n            editor.getDocument()\n        ) as HTMLElement;\n        editor.addUndoSnapshot(() => {\n            element.parentNode.insertBefore(div, element);\n            // Select the new line when we are in table. This is the same behavior with Word\n            if (getTagOfNode(element) == 'TABLE') {\n                editor.select(new Position(div, PositionType.Begin).normalize());\n            }\n        });\n        event.rawEvent.preventDefault();\n    },\n    defaultDisabled: true,\n};\n\nfunction cacheGetStructuredElement(event: PluginKeyboardEvent, editor: IEditor) {\n    return cacheGetEventData(event, 'FIRST_STRUCTURE', () => {\n        // Provide a chance to keep browser default behavior by pressing SHIFT\n        let element = event.rawEvent.shiftKey ? null : editor.getElementAtCursor(CHILD_SELECTOR);\n\n        if (element) {\n            let range = editor.getSelectionRange();\n            if (\n                range &&\n                range.collapsed &&\n                isPositionAtBeginningOf(Position.getStart(range), element) &&\n                !editor.getBodyTraverser(element).getPreviousBlockElement()\n            ) {\n                return editor.getElementAtCursor(CHILD_PARENT_TAG_MAP[getTagOfNode(element)]);\n            }\n        }\n\n        return null;\n    });\n}\n\n/**\n * @internal\n */\nexport const StructuredNodeFeatures: Record<\n    keyof StructuredNodeFeatureSettings,\n    BuildInEditFeature<PluginKeyboardEvent>\n> = {\n    insertLineBeforeStructuredNodeFeature: InsertLineBeforeStructuredNodeFeature,\n};\n","import { editTable } from 'roosterjs-editor-api';\nimport {\n    BuildInEditFeature,\n    IEditor,\n    Keys,\n    NodeType,\n    PluginEvent,\n    PositionType,\n    TableFeatureSettings,\n    TableOperation,\n    PluginKeyboardEvent,\n} from 'roosterjs-editor-types';\nimport {\n    Browser,\n    cacheGetEventData,\n    contains,\n    getTagOfNode,\n    isVoidHtmlElement,\n    Position,\n    VTable,\n} from 'roosterjs-editor-dom';\n\n/**\n * TabInTable edit feature, provides the ability to jump between cells when user press TAB in table\n */\nconst TabInTable: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.TAB],\n    shouldHandleEvent: cacheGetTableCell,\n    handleEvent: (event, editor) => {\n        let shift = event.rawEvent.shiftKey;\n        let td = cacheGetTableCell(event, editor);\n        for (\n            let vtable = new VTable(td),\n                step = shift ? -1 : 1,\n                row = vtable.row,\n                col = vtable.col + step;\n            ;\n            col += step\n        ) {\n            if (col < 0 || col >= vtable.cells[row].length) {\n                row += step;\n                if (row < 0) {\n                    editor.select(vtable.table, PositionType.Before);\n                    break;\n                } else if (row >= vtable.cells.length) {\n                    editTable(editor, TableOperation.InsertBelow);\n                    break;\n                }\n                col = shift ? vtable.cells[row].length - 1 : 0;\n            }\n            let cell = vtable.getCell(row, col);\n            if (cell.td) {\n                editor.select(cell.td, PositionType.Begin);\n                break;\n            }\n        }\n        event.rawEvent.preventDefault();\n    },\n};\n\n/**\n * UpDownInTable edit feature, provides the ability to jump to cell above/below when user press UP/DOWN\n * in table\n */\nconst UpDownInTable: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.UP, Keys.DOWN],\n    shouldHandleEvent: cacheGetTableCell,\n    handleEvent: (event, editor) => {\n        const td = cacheGetTableCell(event, editor);\n        const vtable = new VTable(td);\n        const isUp = event.rawEvent.which == Keys.UP;\n        const step = isUp ? -1 : 1;\n        const hasShiftKey = event.rawEvent.shiftKey;\n        const selection = editor.getDocument().defaultView?.getSelection();\n        let targetTd: HTMLTableCellElement = null;\n\n        if (selection) {\n            let { anchorNode, anchorOffset } = selection;\n\n            for (let row = vtable.row; row >= 0 && row < vtable.cells.length; row += step) {\n                let cell = vtable.getCell(row, vtable.col);\n                if (cell.td && cell.td != td) {\n                    targetTd = cell.td;\n                    break;\n                }\n            }\n\n            editor.runAsync(editor => {\n                let newContainer = editor.getElementAtCursor();\n                if (\n                    contains(vtable.table, newContainer) &&\n                    !contains(td, newContainer, true /*treatSameNodeAsContain*/)\n                ) {\n                    let newPos = targetTd\n                        ? new Position(targetTd, PositionType.Begin)\n                        : new Position(\n                              vtable.table,\n                              isUp ? PositionType.Before : PositionType.After\n                          );\n                    if (hasShiftKey) {\n                        newPos =\n                            newPos.node.nodeType == NodeType.Element &&\n                            isVoidHtmlElement(newPos.node)\n                                ? new Position(\n                                      newPos.node,\n                                      newPos.isAtEnd ? PositionType.After : PositionType.Before\n                                  )\n                                : newPos;\n                        const selection = editor.getDocument().defaultView?.getSelection();\n                        selection?.setBaseAndExtent(\n                            anchorNode,\n                            anchorOffset,\n                            newPos.node,\n                            newPos.offset\n                        );\n                    } else {\n                        editor.select(newPos);\n                    }\n                }\n            });\n        }\n    },\n    defaultDisabled: !Browser.isChrome && !Browser.isSafari,\n};\n\nfunction cacheGetTableCell(event: PluginEvent, editor: IEditor): HTMLTableCellElement {\n    return cacheGetEventData(event, 'TABLE_CELL_FOR_TABLE_FEATURES', () => {\n        let pos = editor.getFocusedPosition();\n        let firstTd = pos && editor.getElementAtCursor('TD,TH,LI', pos.node);\n        return (\n            firstTd && (getTagOfNode(firstTd) == 'LI' ? null : (firstTd as HTMLTableCellElement))\n        );\n    });\n}\n\n/**\n * @internal\n */\nexport const TableFeatures: Record<\n    keyof TableFeatureSettings,\n    BuildInEditFeature<PluginKeyboardEvent>\n> = {\n    tabInTable: TabInTable,\n    upDownInTable: UpDownInTable,\n};\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { ContextMenuOptions } from 'roosterjs-editor-plugins/lib/ContextMenu';\n\nconst styles = require('./ContextMenuProvider.scss');\n\nexport interface ContextMenuItem {\n    key: string;\n    name: string;\n    onClick: () => void;\n}\n\nexport const CONTEXT_MENU_DATA_PROVIDER: ContextMenuOptions<ContextMenuItem> = {\n    render: (container: HTMLElement, items: ContextMenuItem[], onDismiss: () => void) => {\n        ReactDOM.render(<ContextMenu items={items} onDismiss={onDismiss} />, container);\n    },\n    dismiss: (container: HTMLElement) => {\n        ReactDOM.unmountComponentAtNode(container);\n    },\n};\n\nfunction ContextMenu(props: { items: ContextMenuItem[]; onDismiss: () => void }) {\n    const div = React.useRef<HTMLDivElement>();\n    const { items, onDismiss } = props;\n\n    React.useEffect(() => {\n        const doc = div.current.ownerDocument;\n        doc.addEventListener('click', onDismiss);\n        doc.addEventListener('keydown', onDismiss);\n        return () => {\n            doc.removeEventListener('click', onDismiss);\n            doc.removeEventListener('keydown', onDismiss);\n        };\n    }, []);\n    return (\n        <div className={styles.menu} ref={div}>\n            {items.map(\n                item =>\n                    item && (\n                        <div\n                            className={styles.menuItem}\n                            key={item.key}\n                            onClick={() => item.onClick()}>\n                            {item.name}\n                        </div>\n                    )\n            )}\n        </div>\n    );\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./ContextMenuProvider.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._28CyhEYxdHXFT2iouFU1sG{border:solid 1px #aaa;background-color:white;box-shadow:2px 2px 2px #888;color:black;position:absolute;white-space:nowrap}._1FkzG7UKk0gbhsnHuErgiH{padding:2px;cursor:pointer}._1FkzG7UKk0gbhsnHuErgiH:hover{background-color:#3344ff;color:white}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"menu\": \"_28CyhEYxdHXFT2iouFU1sG\",\n\t\"menuItem\": \"_1FkzG7UKk0gbhsnHuErgiH\"\n};\nmodule.exports = exports;\n","export * from './plugins/ContextMenu/index';\n","export { default as ContextMenu, ContextMenuOptions } from './ContextMenu';\n","import { createElement } from 'roosterjs-editor-dom';\nimport {\n    ContentPosition,\n    EditorPlugin,\n    IEditor,\n    KnownCreateElementDataIndex,\n    PluginEvent,\n    PluginEventType,\n} from 'roosterjs-editor-types';\n\nexport interface ContextMenuOptions<T> {\n    render: (container: HTMLElement, items: (T | null)[], onDismiss: () => void) => void;\n\n    dismiss?: (container: HTMLElement) => void;\n\n    allowDefaultMenu?: boolean;\n}\n\n/**\n * An editor plugin that support showing a context menu using render() function from options parameter\n */\nexport default class ContextMenu<T> implements EditorPlugin {\n    private container: HTMLElement;\n    private editor: IEditor;\n    private isMenuShowing: boolean;\n\n    /**\n     * Create a new instance of ContextMenu class\n     * @param options An options object to determine how to show/hide the context menu\n     */\n    constructor(private options: ContextMenuOptions<T>) {}\n\n    /**\n     * Get a friendly name of  this plugin\n     */\n    getName() {\n        return 'ContextMenu';\n    }\n\n    /**\n     * Initialize this plugin\n     * @param editor The editor instance\n     */\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        this.onDismiss();\n\n        if (this.container) {\n            this.container.parentNode.removeChild(this.container);\n            this.container = null;\n        }\n        this.editor = null;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    onPluginEvent(event: PluginEvent) {\n        if (event.eventType == PluginEventType.ContextMenu && event.items.length > 0) {\n            const { rawEvent, items } = event;\n\n            this.onDismiss();\n\n            if (!this.options.allowDefaultMenu) {\n                rawEvent.preventDefault();\n            }\n\n            this.initContainer(rawEvent.pageX, rawEvent.pageY);\n            this.options.render(this.container, items as T[], this.onDismiss);\n            this.isMenuShowing = true;\n        }\n    }\n\n    private initContainer(x: number, y: number) {\n        if (!this.container) {\n            this.container = createElement(\n                KnownCreateElementDataIndex.ContextMenuWrapper,\n                this.editor.getDocument()\n            ) as HTMLElement;\n            this.editor.insertNode(this.container, {\n                position: ContentPosition.Outside,\n            });\n        }\n        this.container.style.left = x + 'px';\n        this.container.style.top = y + 'px';\n    }\n\n    private onDismiss = () => {\n        if (this.container && this.isMenuShowing) {\n            this.options.dismiss?.(this.container);\n            this.isMenuShowing = false;\n        }\n    };\n}\n","export * from './plugins/CustomReplace/index';\n","export { default as CustomReplace } from './CustomReplace';\n","import {\n    CustomReplacement,\n    EditorPlugin,\n    IEditor,\n    PluginEvent,\n    PluginEventType,\n    PositionType,\n} from 'roosterjs-editor-types';\n\nconst makeReplacement = (\n    sourceString: string,\n    replacementHTML: string,\n    matchSourceCaseSensitive: boolean\n): CustomReplacement => ({ sourceString, replacementHTML, matchSourceCaseSensitive });\n\nconst defaultReplacements: CustomReplacement[] = [\n    makeReplacement(':)', '', true),\n    makeReplacement(';)', '', true),\n    makeReplacement(':O', '', true),\n    makeReplacement(':o', '', true),\n    makeReplacement('<3', '', true),\n];\n\n/**\n * Wrapper for CustomReplaceContentEditFeature that provides an API for updating the\n * content edit feature\n */\nexport default class CustomReplacePlugin implements EditorPlugin {\n    private longestReplacementLength: number;\n    private editor: IEditor;\n    private replacements: CustomReplacement[];\n    private replacementEndCharacters: Set<string>;\n\n    /**\n     * Create instance of CustomReplace plugin\n     * @param replacements Replacement rules. If not passed, a default replacement rule set will be applied\n     */\n    constructor(replacements: CustomReplacement[] = defaultReplacements) {\n        this.updateReplacements(replacements);\n    }\n\n    /**\n     * Set the replacements that this plugin is looking for.\n     * @param newReplacements new set of replacements for this plugin\n     */\n    updateReplacements(newReplacements: CustomReplacement[]) {\n        this.replacements = newReplacements;\n        this.longestReplacementLength = getLongestReplacementSourceLength(this.replacements);\n        this.replacementEndCharacters = getReplacementEndCharacters(this.replacements);\n    }\n\n    /**\n     * Get a friendly name of this plugin\n     */\n    getName() {\n        return 'CustomReplace';\n    }\n\n    /**\n     * Initialize this plugin\n     * @param editor The editor instance\n     */\n    public initialize(editor: IEditor): void {\n        this.editor = editor;\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    public dispose(): void {\n        this.editor = null;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    public onPluginEvent(event: PluginEvent) {\n        if (this.editor.isInIME() || event.eventType != PluginEventType.Input) {\n            return;\n        }\n\n        // Exit early on input events that do not insert a replacement's final character.\n        if (!event.rawEvent.data || !this.replacementEndCharacters.has(event.rawEvent.data)) {\n            return;\n        }\n\n        // Get the matching replacement\n        const range = this.editor.getSelectionRange();\n        if (range == null) {\n            return;\n        }\n        const searcher = this.editor.getContentSearcherOfCursor(event);\n        const stringToSearch = searcher.getSubStringBefore(this.longestReplacementLength);\n\n        const replacement = this.getMatchingReplacement(stringToSearch);\n        if (replacement == null) {\n            return;\n        }\n\n        // Reconstruct a selection of the text on the document that matches the\n        // replacement we selected.\n        const matchingText = searcher.getSubStringBefore(replacement.sourceString.length);\n        const matchingRange = searcher.getRangeFromText(matchingText, true /* exactMatch */);\n\n        // parse the html string off the dom and inline the resulting element.\n        const document = this.editor.getDocument();\n        const parsingSpan = document.createElement('span');\n        parsingSpan.innerHTML = this.editor.getTrustedHTMLHandler()(replacement.replacementHTML);\n        const nodeToInsert =\n            parsingSpan.childNodes.length == 1 ? parsingSpan.childNodes[0] : parsingSpan;\n\n        // Switch the node for the selection range\n        this.editor.addUndoSnapshot(\n            () => {\n                matchingRange.deleteContents();\n                matchingRange.insertNode(nodeToInsert);\n                this.editor.select(nodeToInsert, PositionType.End);\n            },\n            null /*changeSource*/,\n            true /*canUndoByBackspace*/\n        );\n    }\n\n    private getMatchingReplacement(stringToSearch: string): CustomReplacement | null {\n        if (stringToSearch.length == 0) {\n            return null;\n        }\n        const lowerCaseStringToSearch = stringToSearch.toLocaleLowerCase();\n        for (const replacement of this.replacements) {\n            const [sourceMatch, replacementMatch] = replacement.matchSourceCaseSensitive\n                ? [stringToSearch, replacement.sourceString]\n                : [lowerCaseStringToSearch, replacement.sourceString.toLocaleLowerCase()];\n\n            if (\n                sourceMatch.substring(sourceMatch.length - replacementMatch.length) ==\n                replacementMatch\n            ) {\n                return replacement;\n            }\n        }\n        return null;\n    }\n}\n\nfunction getLongestReplacementSourceLength(replacements: CustomReplacement[]): number {\n    return Math.max.apply(\n        null,\n        replacements.map(replacement => replacement.sourceString.length)\n    );\n}\n\nfunction getReplacementEndCharacters(replacements: CustomReplacement[]): Set<string> {\n    const endChars = new Set<string>();\n    for (let replacement of replacements) {\n        const sourceString = replacement.sourceString;\n        if (sourceString.length == 0) {\n            continue;\n        }\n        const lastChar = sourceString[sourceString.length - 1];\n        if (!replacement.matchSourceCaseSensitive) {\n            endChars.add(lastChar.toLocaleLowerCase());\n            endChars.add(lastChar.toLocaleUpperCase());\n        } else {\n            endChars.add(lastChar);\n        }\n    }\n    return endChars;\n}\n","export * from './plugins/CutPasteListChain/index';\n","export { default as CutPasteListChain } from './CutPasteListChain';\n","import { experimentCommitListChains } from 'roosterjs-editor-api';\nimport { VListChain } from 'roosterjs-editor-dom';\nimport {\n    ChangeSource,\n    EditorPlugin,\n    IEditor,\n    PluginEvent,\n    PluginEventType,\n} from 'roosterjs-editor-types';\n\n/**\n * Maintain list numbers of list chain when content is modified by cut/paste/drag&drop\n */\nexport default class CutPasteListChain implements EditorPlugin {\n    private chains: VListChain[];\n    private expectedChangeSource: ChangeSource;\n    private editor: IEditor;\n    private disposer: () => void;\n\n    /**\n     * Get a friendly name of this plugin\n     */\n    getName() {\n        return 'CutPasteListChain';\n    }\n\n    /**\n     * Initialize this plugin\n     * @param editor The editor instance\n     */\n    initialize(editor: IEditor) {\n        this.editor = editor;\n        this.disposer = this.editor.addDomEventHandler('drop', this.onDrop);\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        this.disposer?.();\n        this.disposer = null;\n        this.editor = null;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    onPluginEvent(event: PluginEvent) {\n        switch (event.eventType) {\n            case PluginEventType.BeforeCutCopy:\n                if (event.isCut) {\n                    this.cacheListChains(ChangeSource.Cut);\n                }\n                break;\n\n            case PluginEventType.BeforePaste:\n                this.cacheListChains(ChangeSource.Paste);\n                break;\n\n            case PluginEventType.ContentChanged:\n                if (this.chains?.length > 0 && this.expectedChangeSource == event.source) {\n                    experimentCommitListChains(this.editor, this.chains);\n                    this.chains = null;\n                    this.expectedChangeSource = null;\n                }\n                break;\n        }\n    }\n\n    private onDrop = () => {\n        this.cacheListChains(ChangeSource.Drop);\n    };\n\n    private cacheListChains(source: ChangeSource) {\n        this.chains = VListChain.createListChains(this.editor.getSelectedRegions());\n        this.expectedChangeSource = source;\n    }\n}\n","export * from './plugins/HyperLink/index';\n","export { default as HyperLink } from './HyperLink';\n","import { Browser, isCharacterValue, isCtrlOrMetaPressed, matchLink } from 'roosterjs-editor-dom';\nimport { EditorPlugin, IEditor, Keys, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\n\n/**\n * An editor plugin that show a tooltip for existing link\n */\nexport default class HyperLink implements EditorPlugin {\n    private originalHref: string;\n    private trackedLink: HTMLAnchorElement = null;\n    private editor: IEditor;\n    private disposer: () => void;\n\n    /**\n     * Create a new instance of HyperLink class\n     * @param getTooltipCallback A callback function to get tooltip text for an existing hyperlink.\n     * Default value is to return the href itself. If null, there will be no tooltip text.\n     * @param target (Optional) Target window name for hyperlink. If null, will use \"_blank\"\n     * @param onLinkClick (Optional) Open link callback (return false to use default behavior)\n     */\n    constructor(\n        private getTooltipCallback: (href: string, a: HTMLAnchorElement) => string = href => href,\n        private target?: string,\n        private onLinkClick?: (anchor: HTMLAnchorElement, mouseEvent: MouseEvent) => boolean | void\n    ) {}\n\n    /**\n     * Get a friendly name of  this plugin\n     */\n    getName() {\n        return 'Hyperlink';\n    }\n\n    /**\n     * Initialize this plugin\n     * @param editor The editor instance\n     */\n    public initialize(editor: IEditor): void {\n        this.editor = editor;\n        this.disposer =\n            this.getTooltipCallback &&\n            editor.addDomEventHandler({\n                mouseover: this.onMouse,\n                mouseout: this.onMouse,\n                blur: this.onBlur,\n            });\n    }\n\n    protected onMouse = (e: MouseEvent) => {\n        const a = this.editor.getElementAtCursor('a[href]', <Node>e.target) as HTMLAnchorElement;\n        const href = this.tryGetHref(a);\n\n        if (href) {\n            this.editor.setEditorDomAttribute(\n                'title',\n                e.type == 'mouseover' ? this.getTooltipCallback(href, a) : null\n            );\n        }\n    };\n\n    protected onBlur = (e: FocusEvent) => {\n        if (this.trackedLink) {\n            this.updateLinkHrefIfShouldUpdate();\n        }\n\n        this.resetLinkTracking();\n    };\n\n    /**\n     * Dispose this plugin\n     */\n    public dispose(): void {\n        if (this.disposer) {\n            this.disposer();\n            this.disposer = null;\n        }\n        this.editor = null;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    public onPluginEvent(event: PluginEvent): void {\n        if (\n            event.eventType == PluginEventType.MouseUp ||\n            (event.eventType == PluginEventType.KeyUp &&\n                (!this.isContentEditValue(event.rawEvent) || event.rawEvent.which == Keys.SPACE)) ||\n            event.eventType == PluginEventType.ContentChanged\n        ) {\n            const anchor = this.editor.getElementAtCursor(\n                'A[href]',\n                null /*startFrom*/,\n                event\n            ) as HTMLAnchorElement;\n\n            const shouldCheckUpdateLink =\n                anchor !== this.trackedLink ||\n                event.eventType == PluginEventType.KeyUp ||\n                event.eventType == PluginEventType.ContentChanged;\n\n            if (\n                this.trackedLink &&\n                (shouldCheckUpdateLink || this.tryGetHref(this.trackedLink) !== this.originalHref)\n            ) {\n                // If cursor has moved out of previously tracked link\n                // update link href if display text doesn't match href anymore.\n                if (shouldCheckUpdateLink) {\n                    this.updateLinkHrefIfShouldUpdate();\n                }\n\n                // If the link's href value was edited, or the cursor has moved out of the\n                // previously tracked link, stop tracking the link.\n                this.resetLinkTracking();\n            }\n\n            // Cache link and href value if its href attribute currently matches its display text\n            if (!this.trackedLink && this.doesLinkDisplayMatchHref(anchor)) {\n                this.trackedLink = anchor;\n                this.originalHref = this.tryGetHref(anchor);\n            }\n        }\n\n        if (event.eventType == PluginEventType.MouseUp) {\n            const anchor = this.editor.getElementAtCursor(\n                'A',\n                <Node>event.rawEvent.srcElement\n            ) as HTMLAnchorElement;\n\n            if (anchor) {\n                if (this.onLinkClick && this.onLinkClick(anchor, event.rawEvent) !== false) {\n                    return;\n                }\n\n                let href: string;\n                if (\n                    !Browser.isFirefox &&\n                    (href = this.tryGetHref(anchor)) &&\n                    isCtrlOrMetaPressed(event.rawEvent) &&\n                    event.rawEvent.button === 0\n                ) {\n                    try {\n                        const target = this.target || '_blank';\n                        const window = this.editor.getDocument().defaultView;\n                        window.open(href, target);\n                    } catch {}\n                }\n            }\n        }\n    }\n\n    /**\n     * Try get href from an anchor element\n     * The reason this is put in a try-catch is that\n     * it has been seen that accessing href may throw an exception, in particular on IE/Edge\n     */\n    private tryGetHref(anchor: HTMLAnchorElement): string {\n        try {\n            return anchor ? anchor.href : null;\n        } catch {}\n    }\n\n    /**\n     * Determines if KeyboardEvent is meant to edit content\n     */\n    private isContentEditValue(event: KeyboardEvent): boolean {\n        return (\n            isCharacterValue(event) || event.which == Keys.BACKSPACE || event.which == Keys.DELETE\n        );\n    }\n\n    /**\n     * Updates the href of the tracked link if the display text doesn't match href anymore\n     */\n    private updateLinkHrefIfShouldUpdate() {\n        if (!this.doesLinkDisplayMatchHref(this.trackedLink)) {\n            this.updateLinkHref();\n        }\n    }\n\n    /**\n     * Clears the tracked link and its original href value so that it's back to default state\n     */\n    private resetLinkTracking() {\n        this.trackedLink = null;\n        this.originalHref = '';\n    }\n\n    /**\n     * Compares the normalized URL of inner text of element to its href to see if they match.\n     */\n    private doesLinkDisplayMatchHref(element: HTMLAnchorElement): boolean {\n        if (element) {\n            let display = element.innerText.trim();\n\n            // We first escape the display text so that any text passed into the regex is not\n            // treated as a special character.\n            let escapedDisplay = display.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n            let rule = new RegExp(`^(?:https?:\\\\/\\\\/)?${escapedDisplay}\\\\/?`, 'i');\n            let href = this.tryGetHref(element);\n            if (href !== null) {\n                return rule.test(href);\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Update href of an element in place to new display text if it's a valid URL\n     */\n    private updateLinkHref() {\n        if (this.trackedLink) {\n            let linkData = matchLink(this.trackedLink.innerText.trim());\n            if (linkData !== null) {\n                this.editor.addUndoSnapshot(() => {\n                    this.trackedLink.href = linkData.normalizedUrl;\n                });\n            }\n        }\n    }\n}\n","export * from './plugins/Paste/index';\n","export { default as Paste } from './Paste';\n","import convertPasteContentForSingleImage from './imageConverter/convertPasteContentForSingleImage';\nimport convertPastedContentForLI from './commonConverter/convertPastedContentForLI';\nimport convertPastedContentFromExcel from './excelConverter/convertPastedContentFromExcel';\nimport convertPastedContentFromPowerPoint from './pptConverter/convertPastedContentFromPowerPoint';\nimport convertPastedContentFromWord from './wordConverter/convertPastedContentFromWord';\nimport handleLineMerge from './lineMerge/handleLineMerge';\nimport { toArray } from 'roosterjs-editor-dom';\nimport { WAC_IDENTIFY_SELECTOR } from './officeOnlineConverter/constants';\nimport {\n    EditorPlugin,\n    ExperimentalFeatures,\n    IEditor,\n    PluginEvent,\n    PluginEventType,\n} from 'roosterjs-editor-types';\nimport convertPastedContentFromWordOnline, {\n    isWordOnlineWithList,\n} from './officeOnlineConverter/convertPastedContentFromWordOnline';\n\nconst WORD_ATTRIBUTE_NAME = 'xmlns:w';\nconst WORD_ATTRIBUTE_VALUE = 'urn:schemas-microsoft-com:office:word';\nconst EXCEL_ATTRIBUTE_NAME = 'xmlns:x';\nconst EXCEL_ATTRIBUTE_VALUE = 'urn:schemas-microsoft-com:office:excel';\nconst PROG_ID_NAME = 'ProgId';\nconst EXCEL_ONLINE_ATTRIBUTE_VALUE = 'Excel.Sheet';\nconst POWERPOINT_ATTRIBUTE_VALUE = 'PowerPoint.Slide';\nconst GOOGLE_SHEET_NODE_NAME = 'google-sheets-html-origin';\n\n/**\n * Paste plugin, handles BeforePaste event and reformat some special content, including:\n * 1. Content copied from Word\n * 2. Content copied from Excel\n * 3. Content copied from Word Online or OneNote Online\n */\nexport default class Paste implements EditorPlugin {\n    private editor: IEditor;\n\n    /**\n     * Construct a new instance of Paste class\n     * @param unknownTagReplacement Replace solution of unknown tags, default behavior is to replace with SPAN\n     */\n    constructor(private unknownTagReplacement: string = 'SPAN') {}\n\n    /**\n     * Get a friendly name of  this plugin\n     */\n    getName() {\n        return 'Paste';\n    }\n\n    /**\n     * Initialize this plugin. This should only be called from Editor\n     * @param editor Editor instance\n     */\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        this.editor = null;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    onPluginEvent(event: PluginEvent) {\n        if (event.eventType == PluginEventType.BeforePaste) {\n            const { htmlAttributes, fragment, sanitizingOption, clipboardData } = event;\n            const trustedHTMLHandler = this.editor.getTrustedHTMLHandler();\n            let wacListElements: Node[];\n\n            if (htmlAttributes[WORD_ATTRIBUTE_NAME] == WORD_ATTRIBUTE_VALUE) {\n                // Handle HTML copied from Word\n                convertPastedContentFromWord(event);\n            } else if (\n                htmlAttributes[EXCEL_ATTRIBUTE_NAME] == EXCEL_ATTRIBUTE_VALUE ||\n                htmlAttributes[PROG_ID_NAME] == EXCEL_ONLINE_ATTRIBUTE_VALUE\n            ) {\n                // Handle HTML copied from Excel\n                convertPastedContentFromExcel(event, trustedHTMLHandler);\n            } else if (htmlAttributes[PROG_ID_NAME] == POWERPOINT_ATTRIBUTE_VALUE) {\n                convertPastedContentFromPowerPoint(event, trustedHTMLHandler);\n            } else if (\n                (wacListElements = toArray(fragment.querySelectorAll(WAC_IDENTIFY_SELECTOR))) &&\n                wacListElements.length > 0\n            ) {\n                // Once it is known that the document is from WAC\n                // We need to remove the display property and margin from all the list item\n                wacListElements.forEach((el: HTMLElement) => {\n                    el.style.display = null;\n                    el.style.margin = null;\n                });\n                // call conversion function if the pasted content is from word online and\n                // has list element in the pasted content.\n                if (isWordOnlineWithList(fragment)) {\n                    convertPastedContentFromWordOnline(fragment);\n                }\n            } else if (fragment.querySelector(GOOGLE_SHEET_NODE_NAME)) {\n                sanitizingOption.additionalTagReplacements[GOOGLE_SHEET_NODE_NAME] = '*';\n            } else if (\n                this.editor.isFeatureEnabled(ExperimentalFeatures.ConvertSingleImageBody) &&\n                clipboardData.htmlFirstLevelChildTags?.length == 1 &&\n                clipboardData.htmlFirstLevelChildTags[0] == 'IMG'\n            ) {\n                convertPasteContentForSingleImage(event, trustedHTMLHandler);\n            } else {\n                convertPastedContentForLI(fragment);\n                handleLineMerge(fragment);\n            }\n\n            // Replace unknown tags with SPAN\n            sanitizingOption.unknownTagReplacement = this.unknownTagReplacement;\n        }\n    }\n}\n","import { BeforePasteEvent, TrustedHTMLHandler } from 'roosterjs-editor-types';\nimport { moveChildNodes } from 'roosterjs-editor-dom';\n\n/**\n * @internal\n * Convert pasted content if there are HTML and Image data in the Clipboard\n * @param event The BeforePaste event\n */\nexport default function convertPasteContentForSingleImage(\n    event: BeforePasteEvent,\n    trustedHTMLHandler: TrustedHTMLHandler\n) {\n    const { fragment, clipboardData } = event;\n    const { html, image } = clipboardData;\n\n    if (html && image) {\n        //If there are Html in the clipboard, and the html body only have one img children, use the HTML\n        const doc = new DOMParser().parseFromString(trustedHTMLHandler(html), 'text/html');\n        moveChildNodes(fragment, doc?.body);\n    }\n}\n","import {\n    changeElementTag,\n    getTagOfNode,\n    toArray,\n    wrap,\n    safeInstanceOf,\n} from 'roosterjs-editor-dom';\n\n/**\n * @internal\n * Convert content copied from Teams to be well-formed\n */\nexport default function convertPastedContentForLI(fragment: DocumentFragment) {\n    // Sometimes it is possible that we get LI nodes directly under DIV.\n    // In that case we need to convert DIV to UL. It is also possible to be OL, but we don't know it.\n    // So always assume it is UL here, and later user can change it.\n    if (isPureLiNode(fragment)) {\n        wrap(toArray(fragment.childNodes), 'UL');\n    } else if (\n        safeInstanceOf(fragment.firstChild, 'HTMLElement') &&\n        isPureLiNode(fragment.firstChild)\n    ) {\n        changeElementTag(fragment.firstChild as HTMLElement, 'UL');\n    }\n}\n\nfunction isPureLiNode(node: ParentNode & Node) {\n    if (node && !node.nextSibling && ['OL', 'UL', 'MENU'].indexOf(getTagOfNode(node)) < 0) {\n        let hasLi = false;\n        if (\n            toArray(node.childNodes).every(childNode => {\n                if (safeInstanceOf(childNode, 'Text') && !childNode.nodeValue?.trim()) {\n                    return true;\n                } else if (getTagOfNode(childNode) == 'LI') {\n                    hasLi = true;\n                    return true;\n                } else {\n                    return false;\n                }\n            }) &&\n            hasLi\n        ) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { BeforePasteEvent, TrustedHTMLHandler } from 'roosterjs-editor-types';\nimport { chainSanitizerCallback, moveChildNodes } from 'roosterjs-editor-dom';\n\nconst LAST_TD_END_REGEX = /<\\/\\s*td\\s*>((?!<\\/\\s*tr\\s*>)[\\s\\S])*$/i;\nconst LAST_TR_END_REGEX = /<\\/\\s*tr\\s*>((?!<\\/\\s*table\\s*>)[\\s\\S])*$/i;\nconst LAST_TR_REGEX = /<tr[^>]*>[^<]*/i;\nconst LAST_TABLE_REGEX = /<table[^>]*>[^<]*/i;\nconst DEFAULT_BORDER_STYLE = 'solid 1px #d4d4d4';\n\n/**\n * @internal\n * Convert pasted content from Excel, add borders when source doc doesn't have a border\n * @param event The BeforePaste event\n */\nexport default function convertPastedContentFromExcel(\n    event: BeforePasteEvent,\n    trustedHTMLHandler: TrustedHTMLHandler\n) {\n    const { fragment, sanitizingOption, htmlBefore, clipboardData } = event;\n    const html = excelHandler(clipboardData.html, htmlBefore);\n\n    if (clipboardData.html != html) {\n        const doc = new DOMParser().parseFromString(trustedHTMLHandler(html), 'text/html');\n        moveChildNodes(fragment, doc?.body);\n    }\n\n    chainSanitizerCallback(sanitizingOption.elementCallbacks, 'TD', element => {\n        if (element.style.borderStyle == 'none') {\n            element.style.border = DEFAULT_BORDER_STYLE;\n        }\n        return true;\n    });\n}\n\n/**\n * @internal Export for test only\n * @param html Source html\n */\nexport function excelHandler(html: string, htmlBefore: string): string {\n    if (html.match(LAST_TD_END_REGEX)) {\n        const trMatch = htmlBefore.match(LAST_TR_REGEX);\n        const tr = trMatch ? trMatch[0] : '<TR>';\n        html = tr + html + '</TR>';\n    }\n    if (html.match(LAST_TR_END_REGEX)) {\n        let tableMatch = htmlBefore.match(LAST_TABLE_REGEX);\n        let table = tableMatch ? tableMatch[0] : '<TABLE>';\n        html = table + html + '</TABLE>';\n    }\n\n    return html;\n}\n","import { BeforePasteEvent, TrustedHTMLHandler } from 'roosterjs-editor-types';\nimport { moveChildNodes } from 'roosterjs-editor-dom';\n\n/**\n * @internal\n * Convert pasted content from PowerPoint\n * @param event The BeforePaste event\n */\nexport default function convertPastedContentFromPowerPoint(\n    event: BeforePasteEvent,\n    trustedHTMLHandler: TrustedHTMLHandler\n) {\n    const { fragment, clipboardData } = event;\n\n    if (clipboardData.html && !clipboardData.text && clipboardData.image) {\n        // It is possible that PowerPoint copied both image and HTML but not plain text.\n        // We always prefer HTML if any.\n        const doc = new DOMParser().parseFromString(\n            trustedHTMLHandler(clipboardData.html),\n            'text/html'\n        );\n\n        moveChildNodes(fragment, doc?.body);\n    }\n}\n","import { BeforePasteEvent } from 'roosterjs-editor-types';\nimport { chainSanitizerCallback, moveChildNodes } from 'roosterjs-editor-dom';\nimport { createWordConverter } from './wordConverter';\nimport { createWordConverterArguments } from './WordConverterArguments';\nimport { processNodeConvert, processNodesDiscovery } from './converterUtils';\n\n/**\n * @internal\n * Converts all the Word generated list items in the specified node into standard HTML UL and OL tags\n */\nexport default function convertPastedContentFromWord(event: BeforePasteEvent) {\n    const { sanitizingOption, fragment } = event;\n\n    // Preserve <o:p> when its innerHTML is \"&nbsp;\" to avoid dropping an empty line\n    chainSanitizerCallback(sanitizingOption.elementCallbacks, 'O:P', element => {\n        moveChildNodes(element);\n        element.appendChild(element.ownerDocument.createTextNode('\\u00A0')); // &nbsp;\n        return true;\n    });\n\n    let wordConverter = createWordConverter();\n\n    // First find all the nodes that we need to check for list item information\n    // This call will return all the p and header elements under the root node.. These are the elements that\n    // Word uses a list items, so we'll only process them and avoid walking the whole tree.\n    let elements = fragment.querySelectorAll('p');\n    if (elements.length > 0) {\n        wordConverter.wordConverterArgs = createWordConverterArguments(elements);\n        if (processNodesDiscovery(wordConverter)) {\n            processNodeConvert(wordConverter);\n        }\n    }\n}\n","import WordConverterArguments from './WordConverterArguments';\nimport WordCustomData, { createCustomData } from './WordCustomData';\n\n/**\n * @internal\n * Processes HTML generated by Word, converting Word Lists into standard HTML UL and OL tags\n */\nexport default interface WordConverter {\n    /** Next unique id to be assigned to a list */\n    nextUniqueId: number;\n\n    /** Number of bullets converted */\n    numBulletsConverted: number;\n\n    /** Number of numbering converted */\n    numNumberedConverted: number;\n\n    /** The structure that records the status of the conversion */\n    wordConverterArgs: WordConverterArguments;\n\n    /** Custom data storage for list items */\n    wordCustomData: WordCustomData;\n}\n\n/**\n * @internal\n * create an empty WordConverter\n */\nexport function createWordConverter(): WordConverter {\n    return {\n        nextUniqueId: 1,\n        numBulletsConverted: 0,\n        numNumberedConverted: 0,\n        wordConverterArgs: null,\n        wordCustomData: createCustomData(),\n    };\n}\n","import LevelLists, { createLevelLists } from './LevelLists';\nimport ListItemMetadata from './ListItemMetadata';\nimport ListMetadata from './ListMetadata';\n\n/**\n * @internal\n * Contains the state of the WordConverter when called back after yielding\n */\nexport default interface WordConverterArguments {\n    /** The list of element nodes being processed */\n    nodes: NodeListOf<HTMLElement>;\n\n    /** The index of the element currently being processed */\n    currentIndex: number;\n\n    /**\n     * Holds the metadata for all the lists we have found\n     * key: unique list id, value: list metadata\n     */\n    lists: { [key: string]: ListMetadata };\n\n    /**\n     * Stores the list item meta data of the items we\n     * have found that need to be converted\n     */\n    listItems: ListItemMetadata[];\n\n    /**\n     * This array holds the list id of the lists we are processing\n     * that are next to each other.. This list will be used to determine\n     * if list items are next to each other or if they are separated...\n     * Separated items are ignored from the conversion\n     */\n\n    currentListIdsByLevels: LevelLists[];\n\n    /** Remembers the item that was last processed  */\n    lastProcessedItem: HTMLElement;\n}\n\n/**\n * @internal\n * create an empty WordConverterArguments\n */\nexport function createWordConverterArguments(\n    nodes: NodeListOf<HTMLElement>\n): WordConverterArguments {\n    return {\n        nodes: nodes,\n        currentIndex: 0,\n        lists: {},\n        listItems: [],\n        currentListIdsByLevels: [createLevelLists()],\n        lastProcessedItem: null,\n    };\n}\n","import ListItemMetadata from './ListItemMetadata';\nimport ListMetadata from './ListMetadata';\nimport WordConverter from './wordConverter';\nimport WordConverterArguments from './WordConverterArguments';\nimport { createLevelLists } from './LevelLists';\nimport { getObject, setObject } from './WordCustomData';\nimport { getStyles, getTagOfNode, moveChildNodes } from 'roosterjs-editor-dom';\nimport { NodeType } from 'roosterjs-editor-types';\n\n/** Word list metadata style name */\nconst LOOKUP_DEPTH = 5;\n\n/** Name for the word list id property in the custom data */\nconst UNIQUE_LIST_ID_CUSTOM_DATA = 'UniqueListId';\n\n/** Word list metadata style name */\nconst MSO_LIST_STYLE_NAME = 'mso-list';\n\n/** Regular expression to match line breaks */\nconst LINE_BREAKS = /[\\n|\\r]/gi;\n\n/**\n * @internal\n * Handles the pass 1: Discovery\n * During discovery, we'll parse the metadata out of the elements and store it in the list items dictionary.\n * We'll detect cases where the list items for a particular ordered list are not next to each other. Word does these\n * for numbered headers, and we don't want to convert those, because the numbering would be completely wrong.\n */\nexport function processNodesDiscovery(wordConverter: WordConverter): boolean {\n    let args = wordConverter.wordConverterArgs;\n    while (args.currentIndex < args.nodes.length) {\n        let node = args.nodes.item(args.currentIndex);\n\n        // Try to get the list metadata for the specified node\n        let itemMetadata = getListItemMetadata(node);\n        if (itemMetadata) {\n            let levelInfo =\n                args.currentListIdsByLevels[itemMetadata.level - 1] || createLevelLists();\n            args.currentListIdsByLevels[itemMetadata.level - 1] = levelInfo;\n\n            // We need to drop some list information if this is not an item next to another\n            if (args.lastProcessedItem && getRealPreviousSibling(node) != args.lastProcessedItem) {\n                // This list item is not next to the previous one. This means that there is some content in between them\n                // so we need to reset our list of list ids per level\n                resetCurrentLists(args);\n            }\n\n            // Get the list metadata for the list that will hold this item\n            let listMetadata = levelInfo.listsMetadata[itemMetadata.wordListId];\n            if (!listMetadata) {\n                // Get the first item fake bullet.. This will be used later to check what is the right type of list\n                let firstFakeBullet = getFakeBulletText(node, LOOKUP_DEPTH);\n\n                // This is a the first item of a list.. We'll create the list metadata using the information\n                // we already have from this first item\n                listMetadata = {\n                    numberOfItems: 0,\n                    uniqueListId: wordConverter.nextUniqueId++,\n                    firstFakeBullet: firstFakeBullet,\n\n                    // If the bullet we got is empty or not found, we ignore the list out.. this means\n                    // that this is not an item we need to convert of that the format doesn't match what\n                    // we are expecting\n                    ignore: !firstFakeBullet || firstFakeBullet.length == 0,\n\n                    // We'll use the first fake bullet to try to figure out which type of list we create. If this list has a second\n                    // item, we'll perform a better comparison, but for one item lists, this will be check that will determine the list type\n                    tagName: getFakeBulletTagName(firstFakeBullet),\n                };\n                levelInfo.listsMetadata[itemMetadata.wordListId] = listMetadata;\n                args.lists[listMetadata.uniqueListId.toString()] = listMetadata;\n            } else if (!listMetadata.ignore && listMetadata.numberOfItems == 1) {\n                // This is the second item we've seen for this list.. we'll compare the 2 fake bullet\n                // items we have an decide if we create ordered or unordered lists based on this.\n                // This is the best way we can do this since we cannot read the metadata that Word\n                // puts in the head of the HTML...\n                let secondFakeBullet = getFakeBulletText(node, LOOKUP_DEPTH);\n                listMetadata.tagName =\n                    listMetadata.firstFakeBullet == secondFakeBullet ? 'UL' : 'OL';\n            }\n\n            // Set the unique id to the list\n            itemMetadata.uniqueListId = listMetadata.uniqueListId;\n\n            // Check if we need to ignore this list... we'll either know already that we need to ignore\n            // it, or we'll know it because the previous list items are not next to this one\n            if (\n                listMetadata.ignore ||\n                (listMetadata.tagName == 'OL' &&\n                    listMetadata.numberOfItems > 0 &&\n                    levelInfo.currentUniqueListId != itemMetadata.uniqueListId)\n            ) {\n                // We need to ignore this item... and we also need to forget about the lists that\n                // are not at the root level\n                listMetadata.ignore = true;\n                args.currentListIdsByLevels[0].currentUniqueListId = -1;\n                args.currentListIdsByLevels = args.currentListIdsByLevels.slice(0, 1);\n            } else {\n                // This is an item we don't need to ignore... If added lists deep under this one before\n                // we'll drop their ids from the list of ids per level.. this is because this list item\n                // breaks the deeper lists.\n                if (args.currentListIdsByLevels.length > itemMetadata.level) {\n                    args.currentListIdsByLevels = args.currentListIdsByLevels.slice(\n                        0,\n                        itemMetadata.level\n                    );\n                }\n\n                levelInfo.currentUniqueListId = itemMetadata.uniqueListId;\n\n                // Add the list item into the list of items to be processed\n                args.listItems.push(itemMetadata);\n                listMetadata.numberOfItems++;\n            }\n\n            args.lastProcessedItem = node;\n        } else {\n            // Here, we know that this is not a list item, but we'll want to check if it is one \"no bullet\" list items...\n            // these can be created by creating a bullet and hitting delete on it it... The content will continue to be indented, but there will\n            // be no bullet and the list will continue correctly after that. Visually, it looks like the previous item has multiple lines, but\n            // the HTML generated has multiple paragraphs with the same class. We'll merge these when we find them, so the logic doesn't skips\n            // the list conversion thinking that the list items are not together...\n            let last = args.lastProcessedItem;\n            if (\n                last &&\n                getRealPreviousSibling(node) == last &&\n                node.tagName == last.tagName &&\n                node.className == last.className\n            ) {\n                // Add 2 line breaks and move all the nodes to the last item\n                last.appendChild(last.ownerDocument.createElement('br'));\n                last.appendChild(last.ownerDocument.createElement('br'));\n                moveChildNodes(last, node, true /*keepExistingChildren*/);\n\n                // Remove the item that we don't need anymore\n                node.parentNode.removeChild(node);\n            }\n        }\n\n        // Move to the next element are return true if more elements need to be processed\n        args.currentIndex++;\n    }\n\n    return args.listItems.length > 0;\n}\n\n/**\n * @internal\n * Handles the pass 2: Conversion\n * During conversion, we'll go over the elements that belong to a list that we've marked as a list to convert, and we'll perform the\n * conversion needed\n */\nexport function processNodeConvert(wordConverter: WordConverter): boolean {\n    let args = wordConverter.wordConverterArgs;\n    args.currentIndex = 0;\n\n    while (args.currentIndex < args.listItems.length) {\n        let metadata = args.listItems[args.currentIndex];\n        let node = metadata.originalNode;\n        let listMetadata = args.lists[metadata.uniqueListId.toString()];\n        if (!listMetadata.ignore) {\n            // We have a list item that we need to convert, get or create the list\n            // that hold this item out\n            let list = getOrCreateListForNode(wordConverter, node, metadata, listMetadata);\n            if (list) {\n                // Clean the element out.. this call gets rid of the fake bullet and unneeded nodes\n                cleanupListIgnore(node, LOOKUP_DEPTH);\n\n                // Create a new list item and transfer the children\n                let li = node.ownerDocument.createElement('LI');\n                moveChildNodes(li, node);\n\n                // Append the list item into the list\n                list.appendChild(li);\n\n                // Remove the node we just converted\n                node.parentNode.removeChild(node);\n\n                if (listMetadata.tagName == 'UL') {\n                    wordConverter.numBulletsConverted++;\n                } else {\n                    wordConverter.numNumberedConverted++;\n                }\n            }\n        }\n\n        args.currentIndex++;\n    }\n\n    return wordConverter.numBulletsConverted > 0 || wordConverter.numNumberedConverted > 0;\n}\n\n/**\n * Gets or creates the list (UL or OL) that holds this item out based on the\n * items content and the specified metadata\n */\nfunction getOrCreateListForNode(\n    wordConverter: WordConverter,\n    node: HTMLElement,\n    metadata: ListItemMetadata,\n    listMetadata: ListMetadata\n): Node {\n    // First get the last list next to this node under the specified level. This code\n    // path will return the list or will create lists if needed\n    let list = recurringGetOrCreateListAtNode(node, metadata.level, listMetadata);\n\n    // Here use the unique list ID to detect if we have the right list...\n    // it is possible to have 2 different lists next to each other with different formats, so\n    // we want to detect this an create separate lists for those cases\n    let listId = getObject(wordConverter.wordCustomData, list, UNIQUE_LIST_ID_CUSTOM_DATA);\n\n    // If we have a list with and ID, but the ID is different than the ID for this list item, this\n    // is a completely new list, so we'll append a new list for that\n    if ((listId && listId != metadata.uniqueListId) || (!listId && list.firstChild)) {\n        let newList = node.ownerDocument.createElement(listMetadata.tagName);\n        list.parentNode.insertBefore(newList, list.nextSibling);\n        list = newList;\n    }\n\n    // Set the list id into the custom data\n    setObject(\n        wordConverter.wordCustomData,\n        list,\n        UNIQUE_LIST_ID_CUSTOM_DATA,\n        metadata.uniqueListId\n    );\n\n    // This call will convert the list if needed to the right type of list required. This can happen\n    // on the cases where the first list item for this list is located after a deeper list. for that\n    // case, we will have created a UL for it, and we may need to convert it\n    return convertListIfNeeded(wordConverter, list, listMetadata);\n}\n\n/**\n * Converts the list between UL and OL if needed, by using the fake bullet and\n * information already stored in the list itself\n */\nfunction convertListIfNeeded(\n    wordConverter: WordConverter,\n    list: Node,\n    listMetadata: ListMetadata\n): Node {\n    // Check if we need to convert the list out\n    if (listMetadata.tagName != getTagOfNode(list)) {\n        // We have the wrong list type.. convert it, set the id again and transfer all the children\n        let newList = list.ownerDocument.createElement(listMetadata.tagName);\n        setObject(\n            wordConverter.wordCustomData,\n            newList,\n            UNIQUE_LIST_ID_CUSTOM_DATA,\n            getObject(wordConverter.wordCustomData, list, UNIQUE_LIST_ID_CUSTOM_DATA)\n        );\n        moveChildNodes(newList, list);\n        list.parentNode.insertBefore(newList, list);\n        list.parentNode.removeChild(list);\n        list = newList;\n    }\n\n    return list;\n}\n\n/**\n * Gets or creates the specified list\n */\nfunction recurringGetOrCreateListAtNode(\n    node: HTMLElement,\n    level: number,\n    listMetadata: ListMetadata\n): Node {\n    let parent: Node = null;\n    let possibleList: Node;\n    if (level == 1) {\n        // Root case, we'll check if the list is the previous sibling of the node\n        possibleList = getRealPreviousSibling(node);\n    } else {\n        // If we get here, we are looking for level 2 or deeper... get the upper list\n        // and check if the last element is a list\n        parent = recurringGetOrCreateListAtNode(node, level - 1, null);\n        possibleList = parent.lastChild;\n    }\n\n    // Check the element that we got and verify that it is a list\n    if (possibleList && possibleList.nodeType == NodeType.Element) {\n        let tag = getTagOfNode(possibleList);\n        if (tag == 'UL' || tag == 'OL') {\n            // We have a list.. use it\n            return possibleList;\n        }\n    }\n\n    // If we get here, it means we don't have a list and we need to create one\n    // this code path will always create new lists as UL lists\n    let newList = node.ownerDocument.createElement(listMetadata ? listMetadata.tagName : 'UL');\n    if (level == 1) {\n        // For level 1, we'll insert the list before the node\n        node.parentNode.insertBefore(newList, node);\n    } else {\n        // Any level 2 or above, we insert the list as the last\n        // child of the upper level list\n        parent.appendChild(newList);\n    }\n\n    return newList;\n}\n\n/**\n * Cleans up the node children by removing the children marked as mso-list: Ignore.\n * This nodes hold the fake bullet information that Word puts in and when\n * conversion is happening, we want to get rid of these elements\n */\nfunction cleanupListIgnore(node: Node, levels: number) {\n    let nodesToRemove: Node[] = [];\n\n    for (let child: Node = node.firstChild; child; child = child.nextSibling) {\n        // Clean up the item internally first if we need to based on the number of levels\n        if (child.nodeType == NodeType.Element && levels > 1) {\n            cleanupListIgnore(child, levels - 1);\n        }\n\n        // Try to convert word comments into ignore elements if we haven't done so for this element\n        child = fixWordListComments(child, true /*removeComments*/);\n\n        // Check if we can remove this item out\n        if (isEmptySpan(child) || isIgnoreNode(child)) {\n            nodesToRemove.push(child);\n        }\n    }\n\n    nodesToRemove.forEach(child => node.removeChild(child));\n}\n\n/**\n * Reads the word list meta dada out of the specified node. If the node\n * is not a Word list item, it returns null.\n */\nfunction getListItemMetadata(node: HTMLElement): ListItemMetadata {\n    if (node.nodeType == NodeType.Element) {\n        let listAttribute = getStyleValue(node, MSO_LIST_STYLE_NAME);\n        if (listAttribute && listAttribute.length > 0) {\n            try {\n                // Word mso-list property holds 3 space separated values in the following format: lst1 level1 lfo0\n                // Where:\n                // (0) List identified for the metadata in the &lt;head&gt; of the document. We cannot read the &lt;head&gt; meta data\n                // (1) Level of the list. This also maps to the &lt;head&gt; metadata that we cannot read, but\n                // for almost all cases, it maps to the list indentation (or level). We'll use it as the\n                // list indentation value\n                // (2) Contains a specific list identifier.\n                // Example value: \"l0 level1 lfo1\"\n                let listProps = listAttribute.split(' ');\n                if (listProps.length == 3) {\n                    return <ListItemMetadata>{\n                        level: parseInt(listProps[1].substr('level'.length)),\n                        wordListId: listAttribute,\n                        originalNode: node,\n                        uniqueListId: 0,\n                    };\n                }\n            } catch (e) {}\n        }\n    }\n    return null;\n}\n\nfunction isFakeBullet(fakeBullet: string): boolean {\n    return ['o', '', '', '-'].indexOf(fakeBullet) >= 0;\n}\n\n/** Given a fake bullet text, returns the type of list that should be used for it */\nfunction getFakeBulletTagName(fakeBullet: string): string {\n    return isFakeBullet(fakeBullet) ? 'UL' : 'OL';\n}\n\n/**\n * Finds the fake bullet text out of the specified node and returns it. For images, it will return\n * a bullet string. If not found, it returns null...\n */\nfunction getFakeBulletText(node: Node, levels: number): string {\n    // Word uses the following format for their bullets:\n    // &lt;p style=\"mso-list:l1 level1 lfo2\"&gt;\n    // &lt;span style=\"...\"&gt;\n    // &lt;span style=\"mso-list:Ignore\"&gt;1.&lt;span style=\"...\"&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;/span&gt;\n    // &lt;/span&gt;\n    // Content here...\n    // &lt;/p&gt;\n    //\n    // Basically, we need to locate the mso-list:Ignore SPAN, which holds either one text or image node. That\n    // text or image node will be the fake bullet we are looking for\n    let result: string = null;\n    let child: Node = node.firstChild;\n    while (!result && child) {\n        // First, check if we need to convert the Word list comments into real elements\n        child = fixWordListComments(child, true /*removeComments*/);\n\n        // Check if this is the node that holds the fake bullets (mso-list: Ignore)\n        if (isIgnoreNode(child)) {\n            // Yes... this is the node that holds either the text or image data\n            result = child.textContent.trim();\n\n            // This is the case for image case\n            if (result.length == 0) {\n                result = 'o';\n            }\n        } else if (child.nodeType == NodeType.Element && levels > 1) {\n            // If this is an element and we are not in the last level, try to get the fake bullet\n            // out of the child\n            result = getFakeBulletText(child, levels - 1);\n        }\n\n        child = child.nextSibling;\n    }\n\n    return result;\n}\n\n/**\n * If the specified element is a Word List comments, this code verifies and fixes\n * the markup when needed to ensure that Chrome bullet conversions work as expected\n * -----\n * We'll convert &lt;!--[if !supportLists]--&gt; and &lt;!--[endif]--&gt; comments into\n * &lt;span style=\"mso-list:Ignore\"&gt;&lt;/span&gt;... Chrome has a bug where it drops the\n * styles of the span, but we'll use these comments to recreate them out\n */\nfunction fixWordListComments(child: Node, removeComments: boolean): Node {\n    if (child.nodeType == NodeType.Comment) {\n        let value = (child as Comment).data;\n        if (value && value.trim().toLowerCase() == '[if !supportlists]') {\n            // We have a list ignore start, find the end.. We know is not more than\n            // 3 nodes away, so we'll optimize our checks\n            let nextElement = child;\n            let endComment: Node = null;\n            for (let j = 0; j < 4; j++) {\n                nextElement = getRealNextSibling(nextElement);\n                if (!nextElement) {\n                    break;\n                }\n                if (nextElement.nodeType == NodeType.Comment) {\n                    value = (nextElement as Comment).data;\n                    if (value && value.trim().toLowerCase() == '[endif]') {\n                        endComment = nextElement;\n                        break;\n                    }\n                }\n            }\n\n            // if we found the end node, wrap everything out\n            if (endComment) {\n                let newSpan = child.ownerDocument.createElement('span');\n                newSpan.setAttribute('style', 'mso-list: ignore');\n                nextElement = getRealNextSibling(child);\n                while (nextElement != endComment) {\n                    nextElement = nextElement.nextSibling as HTMLElement;\n                    newSpan.appendChild(nextElement.previousSibling);\n                }\n\n                // Insert the element out and use that one as the current child\n                endComment.parentNode.insertBefore(newSpan, endComment);\n\n                // Remove the comments out if the call specified it out\n                if (removeComments) {\n                    child.parentNode.removeChild(child);\n                    endComment.parentNode.removeChild(endComment);\n                }\n\n                // Last, make sure we return the new element out instead of the comment\n                child = newSpan;\n            }\n        }\n    }\n\n    return child;\n}\n\n/** Finds the real previous sibling, ignoring empty text nodes */\nfunction getRealPreviousSibling(node: Node): Node {\n    let prevSibling = node;\n    do {\n        prevSibling = prevSibling.previousSibling;\n    } while (prevSibling && isEmptyTextNode(prevSibling));\n    return prevSibling;\n}\n\n/** Finds the real next sibling, ignoring empty text nodes */\nfunction getRealNextSibling(node: Node): Node {\n    let nextSibling = node;\n    do {\n        nextSibling = nextSibling.nextSibling;\n    } while (nextSibling && isEmptyTextNode(nextSibling));\n\n    return nextSibling;\n}\n\n/**\n * Checks if the specified node is marked as a mso-list: Ignore. These\n * nodes need to be ignored when a list item is converted into standard\n * HTML lists\n */\nfunction isIgnoreNode(node: Node): boolean {\n    if (node.nodeType == NodeType.Element) {\n        let listAttribute = getStyleValue(node as HTMLElement, MSO_LIST_STYLE_NAME);\n        if (\n            listAttribute &&\n            listAttribute.length > 0 &&\n            listAttribute.trim().toLowerCase() == 'ignore'\n        ) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n/** Checks if the specified node is an empty span. */\nfunction isEmptySpan(node: Node): boolean {\n    return getTagOfNode(node) == 'SPAN' && !node.firstChild;\n}\n\n/** Reads the specified style value from the node */\nfunction getStyleValue(node: HTMLElement, styleName: string): string {\n    // Word uses non-standard names for the metadata that puts in the style of the element...\n    // Most browsers will not provide the information for those nonstandard values through the node.style\n    // property, so the only reliable way to read them is to get the attribute directly and do\n    // the required parsing..\n    return getStyles(node)[styleName] || null;\n}\n\n/** Checks if the node is an empty text node that can be ignored */\nfunction isEmptyTextNode(node: Node): boolean {\n    // No node is empty\n    if (!node) {\n        return true;\n    }\n\n    // Empty text node is empty\n    if (node.nodeType == NodeType.Text) {\n        let value = node.nodeValue;\n        value = value.replace(LINE_BREAKS, '');\n        return value.trim().length == 0;\n    }\n\n    // Span or Font with an empty child node is empty\n    let tagName = getTagOfNode(node);\n    if (node.firstChild == node.lastChild && (tagName == 'SPAN' || tagName == 'FONT')) {\n        return isEmptyTextNode(node.firstChild);\n    }\n\n    // If not found, then this is not empty\n    return false;\n}\n\n/** Resets the list */\nfunction resetCurrentLists(args: WordConverterArguments) {\n    for (let i = 0; i < args.currentListIdsByLevels.length; i++) {\n        let ll = args.currentListIdsByLevels[i];\n        if (ll) {\n            ll.currentUniqueListId = -1;\n        }\n    }\n}\n","import {\n    changeElementTag,\n    ContentTraverser,\n    getBlockElementAtNode,\n    getNextLeafSibling,\n    getPreviousLeafSibling,\n    getTagOfNode,\n} from 'roosterjs-editor-dom';\n\n/**\n * Process pasted content, if there are multiple blocks that are not wrapped by a shared ancestor node,\n * change the tag of first and last node to be SPAN so that it will be merged into current block\n * @param root Root node of content to process\n */\nexport default function handleLineMerge(root: Node) {\n    const traverser = ContentTraverser.createBodyTraverser(root);\n    const blocks: { start: Node; end: Node }[] = [];\n\n    for (\n        let block = traverser?.currentBlockElement;\n        block;\n        block = traverser.getNextBlockElement()\n    ) {\n        blocks.push({\n            start: block.getStartNode(),\n            end: block.getEndNode(),\n        });\n    }\n\n    if (blocks.length > 0) {\n        processBlock(blocks[0]);\n        processBlock(blocks[blocks.length - 1]);\n        checkAndAddBr(root, blocks[0], true /*isFirst*/);\n        checkAndAddBr(root, blocks[blocks.length - 1], false /*isFirst*/);\n    }\n}\n\nfunction processBlock(block: { start: Node; end: Node }) {\n    const { start, end } = block;\n\n    if (start == end && getTagOfNode(start) == 'DIV') {\n        const node = changeElementTag(start as HTMLElement, 'SPAN');\n        block.start = node;\n        block.end = node;\n\n        if (getTagOfNode(node.lastChild) == 'BR') {\n            node.removeChild(node.lastChild);\n        }\n    } else if (getTagOfNode(end) == 'BR') {\n        const node = end.ownerDocument.createTextNode('');\n        end.parentNode?.insertBefore(node, end);\n        block.end = node;\n        end.parentNode?.removeChild(end);\n    }\n}\n\nfunction checkAndAddBr(root: Node, block: { start: Node; end: Node }, isFirst: boolean) {\n    const blockElement = getBlockElementAtNode(root, block.start);\n    const sibling = isFirst\n        ? getNextLeafSibling(root, block.end)\n        : getPreviousLeafSibling(root, block.start);\n\n    if (blockElement?.contains(sibling)) {\n        (isFirst ? block.end : block.start).parentNode?.insertBefore(\n            block.start.ownerDocument.createElement('br'),\n            isFirst ? block.end.nextSibling : block.start\n        );\n    }\n}\n","import ListItemBlock, { createListItemBlock } from './ListItemBlock';\nimport {\n    WORD_ORDERED_LIST_SELECTOR,\n    WORD_UNORDERED_LIST_SELECTOR,\n    WORD_ONLINE_IDENTIFYING_SELECTOR,\n    LIST_CONTAINER_ELEMENT_CLASS_NAME,\n    ORDERED_LIST_TAG_NAME,\n    UNORDERED_LIST_TAG_NAME,\n} from './constants';\n\nimport {\n    splitParentNode,\n    getNextLeafSibling,\n    getFirstLeafNode,\n    getTagOfNode,\n    collapseNodes,\n    unwrap,\n    toArray,\n} from 'roosterjs-editor-dom';\n\n/**\n * @internal\n */\nexport function isWordOnlineWithList(fragment: DocumentFragment): boolean {\n    return !!(fragment && fragment.querySelector(WORD_ONLINE_IDENTIFYING_SELECTOR));\n}\n\n// Word Online pasted content DOM structure as of July 12th 2019\n//<html>\n//  <body>\n//      <div class='OutlineGroup'>  ----------> this layer may exist depend on the content user paste\n//          <div class=\"OutlineElement\">  ----------> text content\n//              <p></p>\n//          </div>\n//          <div class=\"ListItemWrapper\">  ----------> list items: for unordered list, all the items on the same level is under the same wrapper\n//              <ul>                                       list items in the same list can be divided into different ListItemWrapper\n//                  <li></li>                              list items in the same list can also be divided into different Outline Group;\n//                  <li></li>\n//              </ul>\n//          </div>\n//      </div>\n//      <div class='OutlineGroup'>\n//          <div class=\"ListItemWrapper\">  ----------> list items: for ordered list, each items has it's own wrapper\n//              <ol>\n//                  <li></li>\n//              </ol>\n//          </div>\n//          <div class=\"ListItemWrapper\">\n//              <ol>\n//                  <li></li>\n//              </ol>\n//          </div>\n//      </div>\n//  </body>\n//</html>\n//\n\n/**\n * @internal\n * Convert text copied from word online into text that's workable with rooster editor\n * @param fragment Document fragment that is being pasted into editor.\n */\nexport default function convertPastedContentFromWordOnline(fragment: DocumentFragment) {\n    sanitizeListItemContainer(fragment);\n    const listItemBlocks: ListItemBlock[] = getListItemBlocks(fragment);\n\n    listItemBlocks.forEach(itemBlock => {\n        // There are cases where consecutive List Elements are separated into different nodes:\n        // <div>\n        //   <div>\n        //      <ol></ol>\n        //   </div>\n        //   <div>\n        //      <ol></ol>\n        //   </div>\n        // </div>\n        // <div>\n        //   <div>\n        //      <ol></ol>\n        //   </div>\n        // </div>\n        // in the above case we want to collapse the two root level div into one and unwrap the list item nodes.\n        // after the following flattening the list will become following:\n        //\n        // <div>\n        //    <ol></ol>\n        // </div>\n        // <div>\n        //    <ol></ol>\n        // </div>\n        // <div>\n        //    <ol></ol>\n        // </div>\n        // Then we are start processing.\n        flattenListBlock(fragment, itemBlock);\n\n        // Find the node to insertBefore, which is next sibling node of the end of a listItemBlock.\n        itemBlock.insertPositionNode = itemBlock.endElement.nextSibling;\n\n        let convertedListElement: Element;\n        const doc = fragment.ownerDocument;\n\n        itemBlock.listItemContainers.forEach(listItemContainer => {\n            let listType: 'OL' | 'UL' = getContainerListType(listItemContainer); // list type that is contained by iterator.\n            // Initialize processed element with proper listType if this is the first element\n            if (!convertedListElement) {\n                convertedListElement = doc.createElement(listType);\n            }\n\n            // Get all list items(<li>) in the current iterator element.\n            const currentListItems = toArray(listItemContainer.querySelectorAll('li'));\n            currentListItems.forEach(item => {\n                // If item is in root level and the type of list changes then\n                // insert the current list into body and then reinitialize the convertedListElement\n                // Word Online is using data-aria-level to determine the the depth of the list item.\n                const itemLevel = parseInt(item.getAttribute('data-aria-level'));\n                // In first level list, there are cases where a consecutive list item DIV may have different list type\n                // When that happens we need to insert the processed elements into the document, then change the list type\n                // and keep the processing going.\n                if (getTagOfNode(convertedListElement) != listType && itemLevel == 1) {\n                    insertConvertedListToDoc(convertedListElement, fragment, itemBlock);\n                    convertedListElement = doc.createElement(listType);\n                }\n                insertListItem(convertedListElement, item, listType, doc);\n            });\n        });\n\n        insertConvertedListToDoc(convertedListElement, fragment, itemBlock);\n\n        // Once we finish the process the list items and put them into a list.\n        // After inserting the processed element,\n        // we need to remove all the non processed node from the parent node.\n        const parentContainer = itemBlock.startElement.parentNode;\n        if (parentContainer) {\n            itemBlock.listItemContainers.forEach(listItemContainer => {\n                parentContainer.removeChild(listItemContainer);\n            });\n        }\n    });\n}\n\n/**\n * The node processing is based on the premise of only ol/ul is in ListContainerWrapper class\n * However the html might be malformed, this function is to split all the other elements out of ListContainerWrapper\n * @param fragment pasted document that contains all the list element.\n */\nfunction sanitizeListItemContainer(fragment: DocumentFragment) {\n    const listItemContainerListEl = toArray(\n        fragment.querySelectorAll(`${WORD_ORDERED_LIST_SELECTOR}, ${WORD_UNORDERED_LIST_SELECTOR}`)\n    );\n    listItemContainerListEl.forEach(el => {\n        const replaceRegex = new RegExp(`\\\\b${LIST_CONTAINER_ELEMENT_CLASS_NAME}\\\\b`, 'g');\n        if (el.previousSibling) {\n            const prevParent = splitParentNode(el, true) as HTMLElement;\n            prevParent.className = prevParent.className.replace(replaceRegex, '');\n        }\n        if (el.nextSibling) {\n            const nextParent = splitParentNode(el, false) as HTMLElement;\n            nextParent.className = nextParent.className.replace(replaceRegex, '');\n        }\n    });\n}\n\n/**\n * Take all the list items in the document, and group the consecutive list times in a list block;\n * @param fragment pasted document that contains all the list element.\n */\nfunction getListItemBlocks(fragment: DocumentFragment): ListItemBlock[] {\n    const listElements = fragment.querySelectorAll('.' + LIST_CONTAINER_ELEMENT_CLASS_NAME);\n    const result: ListItemBlock[] = [];\n    let curListItemBlock: ListItemBlock;\n    for (let i = 0; i < listElements.length; i++) {\n        let curItem = listElements[i];\n        if (!curListItemBlock) {\n            curListItemBlock = createListItemBlock(curItem);\n        } else {\n            const { listItemContainers } = curListItemBlock;\n            const lastItemInCurBlock = listItemContainers[listItemContainers.length - 1];\n            if (\n                curItem == lastItemInCurBlock.nextSibling ||\n                getFirstLeafNode(curItem) ==\n                    getNextLeafSibling(lastItemInCurBlock.parentNode, lastItemInCurBlock)\n            ) {\n                listItemContainers.push(curItem);\n                curListItemBlock.endElement = curItem;\n            } else {\n                curListItemBlock.endElement = lastItemInCurBlock;\n                result.push(curListItemBlock);\n                curListItemBlock = createListItemBlock(curItem);\n            }\n        }\n    }\n\n    if (curListItemBlock?.listItemContainers.length > 0) {\n        result.push(curListItemBlock);\n    }\n\n    return result;\n}\n\n/**\n * Flatten the list items, so that all the consecutive list items are under the same parent.\n * @param fragment Root element of that contains the element.\n * @param listItemBlock The list item block needed to be flattened.\n */\nfunction flattenListBlock(fragment: DocumentFragment, listItemBlock: ListItemBlock) {\n    const collapsedListItemSections = collapseNodes(\n        fragment,\n        listItemBlock.startElement,\n        listItemBlock.endElement,\n        true\n    );\n    collapsedListItemSections.forEach(section => {\n        if (getTagOfNode(section.firstChild) == 'DIV') {\n            unwrap(section);\n        }\n    });\n}\n\n/**\n * Get the list type that the container contains. If there is no list in the container\n * return null;\n * @param listItemContainer Container that contains a list\n */\nfunction getContainerListType(listItemContainer: Element): 'OL' | 'UL' | null {\n    const tag = getTagOfNode(listItemContainer.firstChild);\n    return tag == UNORDERED_LIST_TAG_NAME || tag == ORDERED_LIST_TAG_NAME ? tag : null;\n}\n\n/**\n * Insert list item into the correct position of a list\n * @param listRootElement Root element of the list that is accepting a coming element.\n * @param itemToInsert List item that needed to be inserted.\n * @param listType Type of list(ul/ol)\n */\nfunction insertListItem(\n    listRootElement: Element,\n    itemToInsert: HTMLElement,\n    listType: string,\n    doc: HTMLDocument\n): void {\n    if (!listType) {\n        return;\n    }\n    // Get item level from 'data-aria-level' attribute\n    let itemLevel = parseInt(itemToInsert.getAttribute('data-aria-level'));\n    let curListLevel = listRootElement; // Level iterator to find the correct place for the current element.\n    // if the itemLevel is 1 it means the level iterator is at the correct place.\n    while (itemLevel > 1) {\n        if (!curListLevel.firstChild) {\n            // If the current level is empty, create empty list within the current level\n            // then move the level iterator into the next level.\n            curListLevel.appendChild(doc.createElement(listType));\n            curListLevel = curListLevel.firstElementChild;\n        } else {\n            // If the current level is not empty, the last item in the needs to be a UL or OL\n            // and the level iterator should move to the UL/OL at the last position.\n            let lastChild = curListLevel.lastElementChild;\n            let lastChildTag = getTagOfNode(lastChild);\n            if (lastChildTag == UNORDERED_LIST_TAG_NAME || lastChildTag == ORDERED_LIST_TAG_NAME) {\n                // If the last child is a list(UL/OL), then move the level iterator to last child.\n                curListLevel = lastChild;\n            } else {\n                // If the last child is not a list, then append a new list to the level\n                // and move the level iterator to the new level.\n                curListLevel.appendChild(doc.createElement(listType));\n                curListLevel = curListLevel.lastElementChild;\n            }\n        }\n        itemLevel--;\n    }\n\n    // Once the level iterator is at the right place, then append the list item in the level.\n    curListLevel.appendChild(itemToInsert);\n}\n\n/**\n * Insert the converted list item into the correct place.\n * @param convertedListElement List element that is converted from list item block\n * @param fragment Root element of that contains the converted listItemBlock\n * @param listItemBlock List item block that was converted.\n */\nfunction insertConvertedListToDoc(\n    convertedListElement: Element,\n    fragment: DocumentFragment,\n    listItemBlock: ListItemBlock\n) {\n    if (!convertedListElement) {\n        return;\n    }\n\n    const { insertPositionNode } = listItemBlock;\n    if (insertPositionNode) {\n        const parentNode = insertPositionNode.parentNode;\n        if (parentNode) {\n            parentNode.insertBefore(convertedListElement, insertPositionNode);\n        }\n    } else {\n        const parentNode = listItemBlock.startElement.parentNode;\n        if (parentNode) {\n            parentNode.appendChild(convertedListElement);\n        } else {\n            fragment.appendChild(convertedListElement);\n        }\n    }\n}\n","/**\n * @internal\n * Type that holds all the info of a consecutive list item block.\n */\nexport default interface ListItemBlock {\n    /**\n     * The first element in block of list item from pasted word online document.\n     */\n    startElement: Element;\n\n    /**\n     * The last element in block of list item from pasted word online document.\n     */\n    endElement: Element;\n\n    /**\n     * The position where the processed bulleted list should be inserted.\n     */\n    insertPositionNode: Node;\n\n    /**\n     * The list of containers that wraps each list item.\n     */\n    listItemContainers: Element[];\n}\n\n/**\n * @internal\n * Initialize an empty ListItemBlock\n */\nexport function createListItemBlock(listItem: Element = null): ListItemBlock {\n    return {\n        startElement: listItem,\n        endElement: listItem,\n        insertPositionNode: null,\n        listItemContainers: listItem ? [listItem] : [],\n    };\n}\n","export * from './plugins/Picker/index';\n","export { default as PickerPlugin } from './PickerPlugin';\n","import { replaceWithNode } from 'roosterjs-editor-api';\nimport {\n    Browser,\n    createRange,\n    isCharacterValue,\n    isModifierKey,\n    PartialInlineElement,\n} from 'roosterjs-editor-dom';\nimport {\n    ChangeSource,\n    EditorPlugin,\n    IEditor,\n    NodePosition,\n    PickerDataProvider,\n    PickerPluginOptions,\n    PluginDomEvent,\n    PluginEvent,\n    PluginEventType,\n    PluginInputEvent,\n    PluginKeyboardEvent,\n    PositionType,\n} from 'roosterjs-editor-types';\n\n// Character codes.\n// IE11 uses different character codes. which are noted below.\n// If adding a new key, test in IE to figure out what the code is.\nconst BACKSPACE_CHAR_CODE = 'Backspace';\nconst TAB_CHAR_CODE = 'Tab';\nconst ENTER_CHAR_CODE = 'Enter';\nconst ESC_CHAR_CODE = !Browser.isIE ? 'Escape' : 'Esc';\nconst LEFT_ARROW_CHAR_CODE = !Browser.isIE ? 'ArrowLeft' : 'Left';\nconst UP_ARROW_CHAR_CODE = !Browser.isIE ? 'ArrowUp' : 'Up';\nconst RIGHT_ARROW_CHAR_CODE = !Browser.isIE ? 'ArrowRight' : 'Right';\nconst DOWN_ARROW_CHAR_CODE = !Browser.isIE ? 'ArrowDown' : 'Down';\nconst DELETE_CHAR_CODE = !Browser.isIE ? 'Delete' : 'Del';\n\n// Input event input types.\nconst DELETE_CONTENT_BACKWARDS_INPUT_TYPE = 'deleteContentBackwards';\n\n// Unidentified key, the code for Android keyboard events.\nconst UNIDENTIFIED_KEY = 'Unidentified';\n// the char code for Android keyboard events on Webview below 51.\nconst UNIDENTIFIED_CODE = [0, 229];\n\n/**\n * PickerPlugin represents a plugin of editor which can handle picker related behaviors, including\n * - Show picker when special trigger key is pressed\n * - Hide picker\n * - Change selection in picker by Up/Down/Left/Right\n * - Apply selected item in picker\n *\n * PickerPlugin doesn't provide any UI, it just wraps related DOM events and invoke callback functions.\n * To show a picker UI, you need to build your own UI component. Please reference to\n * https://github.com/microsoft/roosterjs/tree/master/demo/scripts/controls/samplepicker\n */\nexport default class PickerPlugin<T extends PickerDataProvider = PickerDataProvider>\n    implements EditorPlugin {\n    private editor: IEditor;\n    private eventHandledOnKeyDown: boolean;\n    private blockSuggestions: boolean;\n    private isSuggesting: boolean;\n    private lastKnownRange: Range;\n\n    // For detecting backspace in Android\n    private isPendingInputEventHandling: boolean = false;\n    private currentInputLength: number;\n    private newInputLength: number;\n\n    constructor(public readonly dataProvider: T, private pickerOptions: PickerPluginOptions) {}\n\n    /**\n     * Get a friendly name\n     */\n    getName() {\n        return 'Picker';\n    }\n\n    /**\n     * Initialize this plugin. This should only be called from Editor\n     * @param editor Editor instance\n     */\n    public initialize(editor: IEditor) {\n        this.editor = editor;\n        this.dataProvider.onInitalize(\n            (htmlNode: Node) => {\n                this.editor.focus();\n\n                let wordToReplace = this.getWord(null);\n\n                // Safari drops our focus out so we get an empty word to replace when we call getWord.\n                // We fall back to using the lastKnownRange to try to get around this.\n                if ((!wordToReplace || wordToReplace.length == 0) && this.lastKnownRange) {\n                    this.editor.select(this.lastKnownRange);\n                    wordToReplace = this.getWord(null);\n                }\n\n                let insertNode = () => {\n                    if (wordToReplace) {\n                        replaceWithNode(\n                            this.editor,\n                            wordToReplace,\n                            htmlNode,\n                            true /* exactMatch */\n                        );\n                    } else {\n                        this.editor.insertNode(htmlNode);\n                    }\n                    this.setIsSuggesting(false);\n                };\n\n                this.editor.addUndoSnapshot(\n                    insertNode,\n                    this.pickerOptions.changeSource,\n                    this.pickerOptions.handleAutoComplete\n                );\n            },\n            (isSuggesting: boolean) => {\n                this.setIsSuggesting(isSuggesting);\n            },\n            editor\n        );\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    public dispose() {\n        this.editor = null;\n        this.dataProvider.onDispose();\n    }\n\n    /**\n     * Check if the plugin should handle the given event exclusively.\n     * Handle an event exclusively means other plugin will not receive this event in\n     * onPluginEvent method.\n     * If two plugins will return true in willHandleEventExclusively() for the same event,\n     * the final result depends on the order of the plugins are added into editor\n     * @param event The event to check\n     */\n    public willHandleEventExclusively(event: PluginEvent) {\n        return (\n            this.isSuggesting &&\n            (event.eventType == PluginEventType.KeyDown ||\n                event.eventType == PluginEventType.KeyUp ||\n                event.eventType == PluginEventType.Input)\n        );\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    public onPluginEvent(event: PluginEvent) {\n        switch (event.eventType) {\n            case PluginEventType.ContentChanged:\n                if (event.source == ChangeSource.SetContent && this.dataProvider.onContentChanged) {\n                    // Stop suggesting since content is fully changed\n                    if (this.isSuggesting) {\n                        this.setIsSuggesting(false);\n                    }\n\n                    // Undo and other major changes to document content fire this type of event.\n                    // Inform the data provider of the current picker placed elements in the body.\n                    let elementIds: string[] = [];\n                    this.editor.queryElements(\n                        \"[id^='\" + this.pickerOptions.elementIdPrefix + \"']\",\n                        element => {\n                            if (element.id) {\n                                elementIds.push(element.id);\n                            }\n                        }\n                    );\n                    this.dataProvider.onContentChanged(elementIds);\n                }\n                break;\n\n            case PluginEventType.KeyDown:\n                this.eventHandledOnKeyDown = false;\n                if (this.isAndroidKeyboardEvent(event)) {\n                    // On Android, the key for KeyboardEvent is \"Unidentified\" or undefined,\n                    // so handling should be done using the input rather than key down event\n                    // Since the key down event happens right before the input event, calculate the input\n                    // length here in preparation for onAndroidInputEvent\n                    this.currentInputLength = this.calcInputLength(event);\n                    this.isPendingInputEventHandling = true;\n                } else {\n                    this.onKeyDownEvent(event);\n                    this.isPendingInputEventHandling = false;\n                }\n                break;\n\n            case PluginEventType.Input:\n                if (this.isPendingInputEventHandling) {\n                    this.onAndroidInputEvent(event);\n                }\n                break;\n\n            case PluginEventType.KeyUp:\n                if (!this.eventHandledOnKeyDown && this.shouldHandleKeyUpEvent(event)) {\n                    this.onKeyUpDomEvent(event);\n                    this.isPendingInputEventHandling = false;\n                }\n                break;\n\n            case PluginEventType.MouseUp:\n                if (this.isSuggesting) {\n                    this.setIsSuggesting(false);\n                }\n                break;\n\n            case PluginEventType.Scroll:\n                if (this.dataProvider.onScroll) {\n                    // Dispatch scroll event to data provider\n                    this.dataProvider.onScroll(event.scrollContainer);\n                }\n                break;\n        }\n    }\n\n    private setLastKnownRange(range: Range) {\n        this.lastKnownRange = range;\n    }\n\n    private setIsSuggesting(isSuggesting: boolean) {\n        this.isSuggesting = isSuggesting;\n\n        if (!isSuggesting) {\n            this.setLastKnownRange(null);\n        }\n        this.dataProvider.onIsSuggestingChanged(isSuggesting);\n\n        this.setAriaOwns(isSuggesting);\n        this.setAriaActiveDescendant(isSuggesting ? 0 : null);\n    }\n\n    private cancelDefaultKeyDownEvent(event: PluginKeyboardEvent) {\n        this.eventHandledOnKeyDown = true;\n        event.rawEvent.preventDefault();\n        event.rawEvent.stopImmediatePropagation();\n    }\n\n    private getIdValue(node: Node): string {\n        let element = node as Element;\n        return element.attributes && element.attributes.getNamedItem('id')\n            ? (element.attributes.getNamedItem('id').value as string)\n            : null;\n    }\n\n    private getWordBeforeCursor(event: PluginKeyboardEvent): string {\n        let searcher = this.editor.getContentSearcherOfCursor(event);\n        return searcher ? searcher.getWordBefore() : null;\n    }\n\n    private replaceNode(currentNode: Node, replacementNode: Node) {\n        if (currentNode) {\n            this.editor.deleteNode(currentNode);\n        }\n        if (replacementNode) {\n            this.editor.insertNode(replacementNode);\n        }\n    }\n\n    private getRangeUntilAt(event: PluginKeyboardEvent): Range {\n        let positionContentSearcher = this.editor.getContentSearcherOfCursor(event);\n        let startPos: NodePosition;\n        let endPos: NodePosition;\n        positionContentSearcher.forEachTextInlineElement(textInline => {\n            let hasMatched = false;\n            let nodeContent = textInline.getTextContent();\n            let nodeIndex = nodeContent ? nodeContent.length : -1;\n            while (nodeIndex >= 0) {\n                if (nodeContent[nodeIndex] == this.pickerOptions.triggerCharacter) {\n                    startPos = textInline.getStartPosition().move(nodeIndex);\n                    hasMatched = true;\n                    break;\n                }\n                nodeIndex--;\n            }\n\n            if (hasMatched) {\n                endPos = textInline.getEndPosition();\n            }\n\n            return hasMatched;\n        });\n        return createRange(startPos, endPos) || this.editor.getDocument().createRange();\n    }\n\n    private shouldHandleKeyUpEvent(event: PluginKeyboardEvent) {\n        // onKeyUpDomEvent should only be called when a key that produces a character value is pressed\n        // This check will always fail on Android since the KeyboardEvent's key is \"Unidentified\" or undefined\n        // However, we don't need to check for modifier events on mobile, so can ignore this check\n        return (\n            this.isAndroidKeyboardEvent(event) ||\n            isCharacterValue(event.rawEvent) ||\n            (this.isSuggesting && !isModifierKey(event.rawEvent))\n        );\n    }\n\n    private onKeyUpDomEvent(event: PluginKeyboardEvent) {\n        if (this.isSuggesting) {\n            // Word before cursor represents the text prior to the cursor, up to and including the trigger symbol.\n            const wordBeforeCursor = this.getWord(event);\n            const wordBeforeCursorWithoutTriggerChar = wordBeforeCursor.substring(1);\n            const trimmedWordBeforeCursor = wordBeforeCursorWithoutTriggerChar.trim();\n\n            // If we hit a case where wordBeforeCursor is just the trigger character,\n            // that means we've gotten a onKeyUp event right after it's been typed.\n            // Otherwise, update the query string when:\n            // 1. There's an actual value\n            // 2. That actual value isn't just pure whitespace\n            // 3. That actual value isn't more than 4 words long (at which point we assume the person kept typing)\n            // Otherwise, we want to dismiss the picker plugin's UX.\n            if (\n                wordBeforeCursor == this.pickerOptions.triggerCharacter ||\n                (trimmedWordBeforeCursor &&\n                    trimmedWordBeforeCursor.length > 0 &&\n                    trimmedWordBeforeCursor.split(' ').length <= 4)\n            ) {\n                this.dataProvider.queryStringUpdated(\n                    trimmedWordBeforeCursor,\n                    wordBeforeCursorWithoutTriggerChar == trimmedWordBeforeCursor\n                );\n                this.setLastKnownRange(this.editor.getSelectionRange());\n            } else {\n                this.setIsSuggesting(false);\n            }\n        } else {\n            let wordBeforeCursor = this.getWordBeforeCursor(event);\n            if (!this.blockSuggestions) {\n                if (\n                    wordBeforeCursor != null &&\n                    wordBeforeCursor.split(' ').length <= 4 &&\n                    wordBeforeCursor[0] == this.pickerOptions.triggerCharacter\n                ) {\n                    this.setIsSuggesting(true);\n                    const wordBeforeCursorWithoutTriggerChar = wordBeforeCursor.substring(1);\n                    let trimmedWordBeforeCursor = wordBeforeCursorWithoutTriggerChar.trim();\n                    this.dataProvider.queryStringUpdated(\n                        trimmedWordBeforeCursor,\n                        wordBeforeCursorWithoutTriggerChar == trimmedWordBeforeCursor\n                    );\n                    this.setLastKnownRange(this.editor.getSelectionRange());\n                    if (this.dataProvider.setCursorPoint) {\n                        // Determine the bounding rectangle for the @mention\n                        let searcher = this.editor.getContentSearcherOfCursor(event);\n                        let rangeNode = this.editor.getDocument().createRange();\n                        let nodeBeforeCursor = searcher.getInlineElementBefore().getContainerNode();\n                        let rangeStartSuccessfullySet = this.setRangeStart(\n                            rangeNode,\n                            nodeBeforeCursor,\n                            wordBeforeCursor\n                        );\n                        if (!rangeStartSuccessfullySet) {\n                            // VSO 24891: Out of range error is occurring because nodeBeforeCursor\n                            // is not including the trigger character. In this case, the node before\n                            // the node before cursor is the trigger character, and this is where the range should start.\n                            let nodeBeforeNodeBeforeCursor = nodeBeforeCursor.previousSibling;\n                            this.setRangeStart(\n                                rangeNode,\n                                nodeBeforeNodeBeforeCursor,\n                                this.pickerOptions.triggerCharacter\n                            );\n                        }\n                        let rect = rangeNode.getBoundingClientRect();\n\n                        // Safari's support for range.getBoundingClientRect is incomplete.\n                        // We perform this check to fall back to getClientRects in case it's at the page origin.\n                        if (rect.left == 0 && rect.bottom == 0 && rect.top == 0) {\n                            rect = rangeNode.getClientRects()[0];\n                        }\n\n                        if (rect) {\n                            rangeNode.detach();\n\n                            // Display the @mention popup in the correct place\n                            let targetPoint = { x: rect.left, y: (rect.bottom + rect.top) / 2 };\n                            let bufferZone = (rect.bottom - rect.top) / 2;\n                            this.dataProvider.setCursorPoint(targetPoint, bufferZone);\n                        }\n                    }\n                }\n            } else {\n                if (\n                    wordBeforeCursor != null &&\n                    wordBeforeCursor[0] != this.pickerOptions.triggerCharacter\n                ) {\n                    this.blockSuggestions = false;\n                }\n            }\n        }\n    }\n\n    private onKeyDownEvent(event: PluginKeyboardEvent) {\n        let keyboardEvent = event.rawEvent;\n        if (this.isSuggesting) {\n            if (keyboardEvent.key == ESC_CHAR_CODE) {\n                this.setIsSuggesting(false);\n                this.blockSuggestions = true;\n                this.cancelDefaultKeyDownEvent(event);\n            } else if (keyboardEvent.key == BACKSPACE_CHAR_CODE) {\n                // #483: If we are backspacing over the trigger character that triggered this Picker\n                // then we need to hide the Picker\n                const wordBeforeCursor = this.getWord(event);\n                if (wordBeforeCursor == this.pickerOptions.triggerCharacter) {\n                    this.setIsSuggesting(false);\n                }\n            } else if (\n                this.dataProvider.shiftHighlight &&\n                (this.pickerOptions.isHorizontal\n                    ? keyboardEvent.key == LEFT_ARROW_CHAR_CODE ||\n                      keyboardEvent.key == RIGHT_ARROW_CHAR_CODE\n                    : keyboardEvent.key == UP_ARROW_CHAR_CODE ||\n                      keyboardEvent.key == DOWN_ARROW_CHAR_CODE)\n            ) {\n                this.dataProvider.shiftHighlight(\n                    this.pickerOptions.isHorizontal\n                        ? keyboardEvent.key == RIGHT_ARROW_CHAR_CODE\n                        : keyboardEvent.key == DOWN_ARROW_CHAR_CODE\n                );\n\n                if (this.dataProvider.getSelectedIndex) {\n                    this.setAriaActiveDescendant(this.dataProvider.getSelectedIndex());\n                }\n\n                this.cancelDefaultKeyDownEvent(event);\n            } else if (\n                this.dataProvider.selectOption &&\n                (keyboardEvent.key == ENTER_CHAR_CODE || keyboardEvent.key == TAB_CHAR_CODE)\n            ) {\n                this.dataProvider.selectOption();\n                this.cancelDefaultKeyDownEvent(event);\n            } else {\n                // Currently no op.\n            }\n        } else {\n            if (keyboardEvent.key == BACKSPACE_CHAR_CODE) {\n                const nodeRemoved = this.tryRemoveNode(event);\n                if (nodeRemoved) {\n                    this.cancelDefaultKeyDownEvent(event);\n                }\n            } else if (keyboardEvent.key == DELETE_CHAR_CODE) {\n                let searcher = this.editor.getContentSearcherOfCursor(event);\n                let nodeAfterCursor = searcher.getInlineElementAfter()\n                    ? searcher.getInlineElementAfter().getContainerNode()\n                    : null;\n                let nodeId = nodeAfterCursor ? this.getIdValue(nodeAfterCursor) : null;\n                if (nodeId && nodeId.indexOf(this.pickerOptions.elementIdPrefix) == 0) {\n                    let replacementNode = this.dataProvider.onRemove(nodeAfterCursor, false);\n                    this.replaceNode(nodeAfterCursor, replacementNode);\n                    this.cancelDefaultKeyDownEvent(event);\n                }\n            }\n        }\n    }\n\n    private onAndroidInputEvent(event: PluginInputEvent) {\n        this.newInputLength = this.calcInputLength(event);\n\n        if (\n            this.newInputLength < this.currentInputLength ||\n            (event.rawEvent as any).inputType === DELETE_CONTENT_BACKWARDS_INPUT_TYPE\n        ) {\n            const nodeRemoved = this.tryRemoveNode(event);\n            if (nodeRemoved) {\n                this.eventHandledOnKeyDown = true;\n            }\n        }\n    }\n\n    private calcInputLength(event: PluginEvent) {\n        const wordBeforCursor = this.getInlineElementBeforeCursor(event);\n        return wordBeforCursor ? wordBeforCursor.length : 0;\n    }\n\n    private tryRemoveNode(event: PluginDomEvent): boolean {\n        const searcher = this.editor.getContentSearcherOfCursor(event);\n        const inlineElementBefore = searcher.getInlineElementBefore();\n        const nodeBeforeCursor = inlineElementBefore\n            ? inlineElementBefore.getContainerNode()\n            : null;\n        const nodeId = nodeBeforeCursor ? this.getIdValue(nodeBeforeCursor) : null;\n        const inlineElementAfter = searcher.getInlineElementAfter();\n\n        if (\n            nodeId &&\n            nodeId.indexOf(this.pickerOptions.elementIdPrefix) == 0 &&\n            (inlineElementAfter == null || !(inlineElementAfter instanceof PartialInlineElement))\n        ) {\n            const replacementNode = this.dataProvider.onRemove(nodeBeforeCursor, true);\n            if (replacementNode) {\n                this.replaceNode(nodeBeforeCursor, replacementNode);\n                if (this.isPendingInputEventHandling) {\n                    this.editor.runAsync(editor => {\n                        editor.select(replacementNode, PositionType.After);\n                    });\n                } else {\n                    this.editor.select(replacementNode, PositionType.After);\n                }\n            } else {\n                this.editor.deleteNode(nodeBeforeCursor);\n            }\n            return true;\n        }\n        return false;\n    }\n\n    private getWord(event: PluginKeyboardEvent) {\n        let wordFromRange = this.getRangeUntilAt(event).toString();\n        let wordFromCache = this.getWordBeforeCursor(event);\n        // VSO 24891: In picker, trigger and mention are separated into two nodes.\n        // In this case, wordFromRange is the trigger character while wordFromCache is the whole string,\n        // so wordFromCache is what we want to return.\n        if (\n            wordFromRange == this.pickerOptions.triggerCharacter &&\n            wordFromRange != wordFromCache\n        ) {\n            return wordFromCache;\n        }\n        return wordFromRange;\n    }\n\n    private setRangeStart(rangeNode: Range, node: Node, target: string) {\n        let nodeOffset = node ? node.textContent.lastIndexOf(target) : -1;\n        if (nodeOffset > -1) {\n            rangeNode.setStart(node, nodeOffset);\n            return true;\n        }\n        return false;\n    }\n\n    private setAriaOwns(isSuggesting: boolean) {\n        this.editor.setEditorDomAttribute(\n            'aria-owns',\n            isSuggesting && this.pickerOptions.suggestionsLabel\n                ? this.pickerOptions.suggestionsLabel\n                : null\n        );\n    }\n\n    private setAriaActiveDescendant(selectedIndex: number) {\n        this.editor.setEditorDomAttribute(\n            'aria-activedescendant',\n            selectedIndex != null && this.pickerOptions.suggestionLabelPrefix\n                ? this.pickerOptions.suggestionLabelPrefix + selectedIndex.toString()\n                : null\n        );\n    }\n\n    private getInlineElementBeforeCursor(event: PluginEvent): string {\n        const searcher = this.editor.getContentSearcherOfCursor(event);\n        const element = searcher ? searcher.getInlineElementBefore() : null;\n        return element ? element.getTextContent() : null;\n    }\n\n    private isAndroidKeyboardEvent(event: PluginKeyboardEvent): boolean {\n        // Check keyboard events on Android for further handling.\n        // On Android Webview later 51, the KeyboardEvent's key is \"Unidentified\".\n        // On Android Webview below 51, the KeyboardEvent's key is not supported and always returns undefined,\n        // so using the charCode property, which is 0 or 229.\n        return (\n            event.rawEvent.key == UNIDENTIFIED_KEY ||\n            (event.rawEvent.key == undefined &&\n                UNIDENTIFIED_CODE.indexOf(event.rawEvent.charCode) > -1)\n        );\n    }\n}\n","export * from './plugins/TableResize/index';\n","export { default as TableResize } from './TableResize';\n","import { createElement, getComputedStyle, normalizeRect, VTable } from 'roosterjs-editor-dom';\nimport {\n    EditorPlugin,\n    IEditor,\n    PluginEvent,\n    PluginEventType,\n    Rect,\n    ChangeSource,\n    TableOperation,\n    ContentPosition,\n    CreateElementData,\n    KnownCreateElementDataIndex,\n} from 'roosterjs-editor-types';\n\nconst INSERTER_COLOR = '#4A4A4A';\nconst INSERTER_COLOR_DARK_MODE = 'white';\nconst INSERTER_SIDE_LENGTH = 12;\nconst INSERTER_BORDER_SIZE = 1;\nconst INSERTER_HOVER_OFFSET = 5;\nconst MIN_CELL_WIDTH = 30;\nconst MIN_CELL_HEIGHT = 20;\nconst CELL_RESIZER_WIDTH = 4;\nconst TABLE_RESIZER_LENGTH = 12;\n\nconst enum ResizeState {\n    None,\n    Horizontal,\n    Vertical,\n    Both, // when resizing the whole table\n}\n\nfunction getHorizontalDistance(rect: Rect, pos: number, toLeft: boolean): number {\n    return toLeft ? pos - rect.left : rect.right - pos;\n}\n\n/**\n * TableResize plugin, provides the ability to resize a table by drag-and-drop\n */\nexport default class TableResize implements EditorPlugin {\n    private editor: IEditor;\n    private onMouseMoveDisposer: () => void;\n    private tableRectMap: { table: HTMLTableElement; rect: Rect }[] = null;\n    private resizerContainer: HTMLDivElement;\n    private tableResizerContainer: HTMLDivElement;\n    private currentTable: HTMLTableElement;\n    private currentTd: HTMLTableCellElement;\n    private currentCellsToResize: HTMLTableCellElement[] = [];\n    private nextCellsToResize: HTMLTableCellElement[] = [];\n    private horizontalResizer: HTMLDivElement;\n    private verticalResizer: HTMLDivElement;\n    private tableResizer: HTMLDivElement;\n    private resizingState: ResizeState = ResizeState.None;\n\n    private currentInsertTd: HTMLTableCellElement;\n    private insertingState: ResizeState = ResizeState.None;\n    private inserter: HTMLDivElement;\n    private isRTL: boolean;\n\n    private currentTableVerticalBorder: number;\n    private currentTableHorizontalBorder: number;\n    private resizingVtable: VTable;\n\n    /**\n     * Get a friendly name of  this plugin\n     */\n    getName() {\n        return 'TableResize';\n    }\n\n    /**\n     * Initialize this plugin. This should only be called from Editor\n     * @param editor Editor instance\n     */\n    initialize(editor: IEditor) {\n        this.editor = editor;\n        this.setupResizerContainer();\n        this.onMouseMoveDisposer = this.editor.addDomEventHandler('mousemove', this.onMouseMove);\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        this.onMouseMoveDisposer();\n        this.tableRectMap = null;\n        this.removeResizerContainer();\n        this.setCurrentTable(null);\n        this.editor = null;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    onPluginEvent(e: PluginEvent) {\n        switch (e.eventType) {\n            case PluginEventType.Input:\n            case PluginEventType.ContentChanged:\n            case PluginEventType.Scroll:\n                this.setTableResizer(null);\n                this.tableRectMap = null;\n                break;\n        }\n    }\n\n    private setupResizerContainer() {\n        const document = this.editor.getDocument();\n        this.resizerContainer = document.createElement('div');\n        this.editor.insertNode(this.resizerContainer, {\n            updateCursor: false,\n            insertOnNewLine: false,\n            replaceSelection: false,\n            position: ContentPosition.Outside,\n        });\n\n        this.tableResizerContainer = document.createElement('div');\n        this.editor.insertNode(this.tableResizerContainer, {\n            updateCursor: false,\n            insertOnNewLine: false,\n            replaceSelection: false,\n            position: ContentPosition.Outside,\n        });\n    }\n\n    private removeResizerContainer() {\n        this.resizerContainer?.parentNode?.removeChild(this.resizerContainer);\n        this.resizerContainer = null;\n        this.tableResizerContainer?.parentNode?.removeChild(this.tableResizerContainer);\n        this.tableResizerContainer = null;\n    }\n\n    private onMouseOutInserter = () => {\n        this.setCurrentInsertTd(ResizeState.None);\n    };\n\n    private onMouseMove = (e: MouseEvent) => {\n        if (this.resizingState != ResizeState.None) {\n            return;\n        }\n\n        if (!this.tableRectMap) {\n            this.cacheRects();\n        }\n\n        if (this.tableRectMap) {\n            this.setCurrentTable(null);\n\n            for (let i = this.tableRectMap.length - 1; i >= 0; i--) {\n                const { table, rect } = this.tableRectMap[i];\n\n                if (\n                    e.pageX <=\n                        rect.right + (this.isRTL ? INSERTER_SIDE_LENGTH : TABLE_RESIZER_LENGTH) &&\n                    e.pageX >=\n                        rect.left - (this.isRTL ? TABLE_RESIZER_LENGTH : INSERTER_SIDE_LENGTH) &&\n                    e.pageY >= rect.top - INSERTER_SIDE_LENGTH &&\n                    e.pageY <= rect.bottom + TABLE_RESIZER_LENGTH\n                ) {\n                    this.setCurrentTable(table);\n                    break;\n                }\n            }\n\n            if (this.currentTable) {\n                const map = this.tableRectMap.filter(map => map.table == this.currentTable)[0];\n                this.setTableResizer(map.rect);\n                for (let i = 0; i < this.currentTable.rows.length; i++) {\n                    const tr = this.currentTable.rows[i];\n                    let j = 0;\n                    for (; j < tr.cells.length; j++) {\n                        const td = tr.cells[j];\n                        const tdRect = normalizeRect(td.getBoundingClientRect());\n\n                        if (\n                            tdRect &&\n                            (this.isRTL ? e.pageX >= tdRect.left : e.pageX <= tdRect.right) &&\n                            e.pageY <= tdRect.bottom\n                        ) {\n                            // check vertical inserter\n                            if (\n                                i == 0 &&\n                                e.pageY >= tdRect.top - INSERTER_HOVER_OFFSET &&\n                                e.pageY <= tdRect.top + INSERTER_HOVER_OFFSET\n                            ) {\n                                let verticalInserterTd: HTMLTableCellElement = null;\n                                // set inserter at current td\n                                if (\n                                    this.isRTL\n                                        ? e.pageX <=\n                                          tdRect.left + (tdRect.right - tdRect.left) / 2.0\n                                        : e.pageX >=\n                                          tdRect.left + (tdRect.right - tdRect.left) / 2.0\n                                ) {\n                                    verticalInserterTd = td;\n                                } else if (\n                                    this.isRTL ? e.pageX <= tdRect.right : e.pageX >= tdRect.left\n                                ) {\n                                    // set inserter at previous td if it exists\n                                    const preTd = td.previousElementSibling as HTMLTableCellElement;\n                                    if (preTd) {\n                                        verticalInserterTd = preTd;\n                                    }\n                                }\n                                if (verticalInserterTd) {\n                                    this.setCurrentTd(null);\n                                    // we hide the inserter if left mouse button is pressed\n                                    if (e.buttons == 0) {\n                                        this.setCurrentInsertTd(\n                                            ResizeState.Vertical,\n                                            verticalInserterTd,\n                                            map.rect\n                                        );\n                                    }\n                                    break;\n                                }\n                                // check horizontal inserter\n                            } else if (\n                                j == 0 &&\n                                (this.isRTL\n                                    ? e.pageX >= tdRect.right - INSERTER_HOVER_OFFSET\n                                    : e.pageX <= tdRect.left + INSERTER_HOVER_OFFSET)\n                            ) {\n                                let horizontalInserterTd: HTMLTableCellElement = null;\n                                // set inserter at current td\n                                if (e.pageY >= tdRect.top + (tdRect.bottom - tdRect.top) / 2.0) {\n                                    horizontalInserterTd = td;\n                                } else if (e.pageY >= tdRect.top) {\n                                    // set insert at previous td if it exists\n                                    const preTd = this.currentTable.rows[i - 1]?.cells[0];\n                                    if (preTd) {\n                                        horizontalInserterTd = preTd;\n                                    }\n                                }\n\n                                if (horizontalInserterTd) {\n                                    this.setCurrentTd(null);\n                                    // we hide the inserter if left mouse button is pressed\n                                    if (e.buttons == 0) {\n                                        this.setCurrentInsertTd(\n                                            ResizeState.Horizontal,\n                                            horizontalInserterTd,\n                                            map.rect\n                                        );\n                                    }\n                                    break;\n                                }\n                            } else {\n                                this.setCurrentTd(\n                                    td,\n                                    map.rect,\n                                    this.isRTL ? tdRect.left : tdRect.right,\n                                    tdRect.bottom\n                                );\n                                this.setCurrentInsertTd(ResizeState.None);\n                                break;\n                            }\n                        }\n                    }\n                    if (j < tr.cells.length) {\n                        break;\n                    }\n                }\n            } else {\n                this.setTableResizer(null);\n            }\n        }\n    };\n\n    private setCurrentInsertTd(insertingState: ResizeState.None): void;\n    private setCurrentInsertTd(\n        insertingState: ResizeState,\n        td: HTMLTableCellElement,\n        tableRect: Rect\n    ): void;\n    private setCurrentInsertTd(\n        insertingState: ResizeState,\n        td?: HTMLTableCellElement,\n        tableRect?: Rect\n    ) {\n        if (td != this.currentInsertTd || insertingState != this.insertingState) {\n            if (this.currentInsertTd) {\n                this.inserter?.parentNode?.removeChild(this.inserter);\n                this.inserter = null;\n            }\n            this.insertingState = insertingState;\n            this.currentInsertTd = td;\n            if (this.currentInsertTd) {\n                this.inserter = this.createInserter(tableRect);\n                this.resizerContainer.appendChild(this.inserter);\n            }\n        }\n    }\n\n    private createInserter(tableRect: Rect) {\n        if (this.insertingState == ResizeState.None) {\n            return;\n        }\n\n        const rect = normalizeRect(this.currentInsertTd.getBoundingClientRect());\n        const editorBackgroundColor = this.editor.getDefaultFormat().backgroundColor;\n        const inserterBackgroundColor = editorBackgroundColor || 'white';\n        const inserterColor = this.editor.isDarkMode() ? INSERTER_COLOR_DARK_MODE : INSERTER_COLOR;\n        const leftOrRight = this.isRTL ? 'right' : 'left';\n        const outerDivStyle = `position: fixed; width: ${INSERTER_SIDE_LENGTH}px; height: ${INSERTER_SIDE_LENGTH}px; font-size: 16px; color: ${inserterColor}; line-height: 10px; vertical-align: middle; text-align: center; cursor: pointer; border: solid ${INSERTER_BORDER_SIZE}px ${inserterColor}; border-radius: 50%; background-color: ${inserterBackgroundColor}`;\n        const HORIZONTAL_INSERTER: CreateElementData = {\n            tag: 'div',\n            style: outerDivStyle,\n            children: [\n                {\n                    tag: 'div',\n                    style: `position: absolute; ${leftOrRight}: 12px; top: 5px; height: 3px; border-top: 1px solid ${inserterColor}; border-bottom: 1px solid ${inserterColor}; border-right: 1px solid ${inserterColor}; border-left: 0px; box-sizing: border-box; background-color: ${inserterBackgroundColor};`,\n                },\n                '+',\n            ],\n        };\n        const VERTICAL_INSERTER: CreateElementData = {\n            tag: 'div',\n            style: outerDivStyle,\n            children: [\n                {\n                    tag: 'div',\n                    style: `position: absolute; left: 5px; top: 12px; width: 3px; border-left: 1px solid ${inserterColor}; border-right: 1px solid ${inserterColor}; border-bottom: 1px solid ${inserterColor}; border-top: 0px; box-sizing: border-box; background-color: ${inserterBackgroundColor}`,\n                },\n                '+',\n            ],\n        };\n\n        const inserter = createElement(\n            this.insertingState == ResizeState.Horizontal ? HORIZONTAL_INSERTER : VERTICAL_INSERTER,\n            this.editor.getDocument()\n        ) as HTMLDivElement;\n\n        if (rect) {\n            if (this.insertingState == ResizeState.Horizontal) {\n                if (this.isRTL) {\n                    inserter.style.left = `${rect.right}px`;\n                } else {\n                    inserter.style.left = `${\n                        rect.left - (INSERTER_SIDE_LENGTH - 1 + 2 * INSERTER_BORDER_SIZE)\n                    }px`;\n                }\n                inserter.style.top = `${rect.bottom - 8}px`;\n                (inserter.firstChild as HTMLElement).style.width = `${\n                    tableRect.right - tableRect.left\n                }px`;\n            } else {\n                if (this.isRTL) {\n                    inserter.style.left = `${rect.left - 8}px`;\n                } else {\n                    inserter.style.left = `${rect.right - 8}px`;\n                }\n                inserter.style.top = `${\n                    rect.top - (INSERTER_SIDE_LENGTH - 1 + 2 * INSERTER_BORDER_SIZE)\n                }px`;\n                (inserter.firstChild as HTMLElement).style.height = `${\n                    tableRect.bottom - tableRect.top\n                }px`;\n            }\n        }\n\n        inserter.addEventListener('click', this.insertTd);\n        inserter.addEventListener('mouseout', this.onMouseOutInserter);\n\n        return inserter;\n    }\n\n    private insertTd = () => {\n        let vtable = new VTable(this.currentInsertTd);\n        if (this.insertingState === ResizeState.Vertical) {\n            vtable.normalizeTableCellSize();\n            // Since adding new column will cause table width to change, we need to remove width properties\n            vtable.table.removeAttribute('width');\n            vtable.table.style.width = null;\n        }\n        this.editor.addUndoSnapshot((start, end) => {\n            vtable.edit(\n                this.insertingState == ResizeState.Horizontal\n                    ? TableOperation.InsertBelow\n                    : TableOperation.InsertRight\n            );\n            vtable.writeBack();\n            this.editor.select(start, end);\n            this.setCurrentInsertTd(ResizeState.None);\n            // need to update the position of table resizer as new row/column has been added\n            if (this.currentTable) {\n                const rect = normalizeRect(this.currentTable.getBoundingClientRect());\n                this.setTableResizer(rect);\n            }\n        }, ChangeSource.Format);\n    };\n\n    private setCurrentTable(table: HTMLTableElement) {\n        if (this.currentTable != table) {\n            this.setCurrentTd(null);\n            this.setCurrentInsertTd(ResizeState.None);\n            this.currentTable = table;\n        }\n    }\n\n    private setCurrentTd(td: null): void;\n    private setCurrentTd(\n        td: HTMLTableCellElement,\n        tableRect: Rect,\n        resizerPosX: number,\n        bottom: number\n    ): void;\n    private setCurrentTd(\n        td: HTMLTableCellElement,\n        tableRect?: Rect,\n        resizerPosX?: number,\n        bottom?: number\n    ) {\n        if (this.currentTd != td) {\n            if (this.currentTd) {\n                this.horizontalResizer?.parentNode?.removeChild(this.horizontalResizer);\n                this.verticalResizer?.parentNode?.removeChild(this.verticalResizer);\n                this.horizontalResizer = null;\n                this.verticalResizer = null;\n            }\n\n            this.currentTd = td;\n\n            if (this.currentTd) {\n                this.horizontalResizer = this.createCellsResizer(\n                    true /*horizontal*/,\n                    tableRect.left,\n                    bottom - CELL_RESIZER_WIDTH + 1,\n                    tableRect.right - tableRect.left,\n                    CELL_RESIZER_WIDTH\n                );\n                this.verticalResizer = this.createCellsResizer(\n                    false /*horizontal*/,\n                    resizerPosX - CELL_RESIZER_WIDTH + 1,\n                    tableRect.top,\n                    CELL_RESIZER_WIDTH,\n                    tableRect.bottom - tableRect.top\n                );\n\n                this.resizerContainer.appendChild(this.horizontalResizer);\n                this.resizerContainer.appendChild(this.verticalResizer);\n            }\n        }\n    }\n\n    private setTableResizer(rect: Rect | null): void {\n        // remove old one if exists\n        while (this.tableResizerContainer?.hasChildNodes()) {\n            this.tableResizerContainer.removeChild(this.tableResizerContainer.lastChild);\n        }\n        this.tableResizer = null;\n        // add new one if exists\n        if (rect) {\n            this.tableResizer = this.createTableResizer(rect);\n            this.tableResizerContainer.appendChild(this.tableResizer);\n        }\n    }\n\n    private createTableResizer(rect: Rect): HTMLDivElement {\n        const div = createElement(\n            this.isRTL\n                ? KnownCreateElementDataIndex.TableResizerRTL\n                : KnownCreateElementDataIndex.TableResizerLTR,\n            this.editor.getDocument()\n        ) as HTMLDivElement;\n\n        div.style.top = `${rect.bottom}px`;\n        div.style.left = this.isRTL\n            ? `${rect.left - TABLE_RESIZER_LENGTH - 2}px`\n            : `${rect.right}px`;\n        div.style.width = `${TABLE_RESIZER_LENGTH}px`;\n        div.style.height = `${TABLE_RESIZER_LENGTH}px`;\n\n        div.addEventListener('mousedown', this.startResizingTable);\n\n        return div;\n    }\n\n    private createCellsResizer(\n        horizontal: boolean,\n        left: number,\n        top: number,\n        width: number,\n        height: number\n    ): HTMLDivElement {\n        const div = createElement(\n            horizontal\n                ? KnownCreateElementDataIndex.TableHorizontalResizer\n                : KnownCreateElementDataIndex.TableVerticalResizer,\n            this.editor.getDocument()\n        ) as HTMLDivElement;\n        div.style.top = `${top}px`;\n        div.style.left = `${left}px`;\n        div.style.width = `${width}px`;\n        div.style.height = `${height}px`;\n\n        div.addEventListener(\n            'mousedown',\n            horizontal ? this.startHorizontalResizeCells : this.startVerticalResizeCells\n        );\n\n        return div;\n    }\n\n    private startResizingTable = (e: MouseEvent) => {\n        if (!this.currentTable) {\n            return;\n        }\n        this.resizingVtable = new VTable(\n            this.currentTable,\n            true /* normalize the table for resizing */\n        );\n        this.resizingState = ResizeState.Both;\n\n        const rect = this.resizingVtable.table.getBoundingClientRect();\n        this.currentTableVerticalBorder = this.isRTL ? rect.left : rect.right;\n        this.currentTableHorizontalBorder = rect.bottom;\n\n        this.startResizeCells(e);\n    };\n\n    private startHorizontalResizeCells = (e: MouseEvent) => {\n        if (!this.currentTd) {\n            return;\n        }\n        this.resizingVtable = new VTable(\n            this.currentTd,\n            true /* normalize the table for resizing */\n        );\n        this.resizingState = ResizeState.Horizontal;\n        this.startResizeCells(e);\n    };\n\n    private startVerticalResizeCells = (e: MouseEvent) => {\n        if (!this.currentTd) {\n            return;\n        }\n        this.resizingVtable = new VTable(\n            this.currentTd,\n            true /* normalize the table for resizing */\n        );\n        this.resizingState = ResizeState.Vertical;\n        if (this.resizingVtable) {\n            const rect = normalizeRect(this.currentTd.getBoundingClientRect());\n\n            // calculate and retrieve the cells of the two columns shared by the current vertical resizer\n            this.currentCellsToResize = this.resizingVtable.getCellsWithBorder(\n                this.isRTL ? rect.left : rect.right,\n                !this.isRTL\n            );\n\n            this.nextCellsToResize = this.resizingVtable.getCellsWithBorder(\n                this.isRTL ? rect.left : rect.right,\n                this.isRTL\n            );\n        }\n        this.startResizeCells(e);\n    };\n\n    private startResizeCells(e: MouseEvent) {\n        const doc = this.editor.getDocument();\n        doc.addEventListener('mousemove', this.frameAnimateResizeCells, true);\n        doc.addEventListener('mouseup', this.endResizeCells, true);\n    }\n\n    private frameAnimateResizeCells = (e: MouseEvent) => {\n        this.editor.runAsync(() => this.resizeCells(e));\n    };\n\n    private resizeTable = (mouseX: number, mouseY: number) => {\n        const rect = normalizeRect(this.resizingVtable.table.getBoundingClientRect());\n        const ratioX =\n            1.0 +\n            (this.isRTL\n                ? (this.currentTableVerticalBorder - mouseX) /\n                  (rect.right - this.currentTableVerticalBorder)\n                : (mouseX - this.currentTableVerticalBorder) /\n                  (this.currentTableVerticalBorder - rect.left));\n        const ratioY =\n            1.0 +\n            (mouseY - this.currentTableHorizontalBorder) /\n                (this.currentTableHorizontalBorder - rect.top);\n\n        const shouldResizeX = Math.abs(ratioX - 1.0) > 1e-3;\n        const shouldResizeY = Math.abs(ratioY - 1.0) > 1e-3;\n        if (shouldResizeX || shouldResizeY) {\n            for (let i = 0; i < this.resizingVtable.cells.length; i++) {\n                for (let j = 0; j < this.resizingVtable.cells[i].length; j++) {\n                    const cell = this.resizingVtable.cells[i][j];\n                    if (cell.td) {\n                        if (shouldResizeX) {\n                            // the width of some external table is fixed, we need to make it resizable\n                            this.resizingVtable.table.style.width = null;\n                            const newWidth = cell.width * ratioX;\n                            cell.td.style.boxSizing = 'border-box';\n                            if (newWidth >= MIN_CELL_WIDTH) {\n                                cell.td.style.wordBreak = 'break-word';\n                                cell.td.style.whiteSpace = 'normal';\n                                cell.td.style.width = `${newWidth}px`;\n                            }\n                        }\n\n                        if (shouldResizeY) {\n                            // the height of some external table is fixed, we need to make it resizable\n                            this.resizingVtable.table.style.height = null;\n                            if (j == 0) {\n                                const newHeight = cell.height * ratioY;\n                                if (newHeight >= MIN_CELL_HEIGHT) {\n                                    cell.td.style.height = `${newHeight}px`;\n                                }\n                            } else {\n                                cell.td.style.height = null;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return;\n    };\n\n    private resizeRows = (newPos: number, rect: Rect) => {\n        this.resizingVtable.table.removeAttribute('height');\n        this.resizingVtable.table.style.height = null;\n        this.resizingVtable.forEachCellOfCurrentRow(cell => {\n            if (cell.td) {\n                cell.td.style.height = cell.td == this.currentTd ? `${newPos - rect.top}px` : null;\n            }\n        });\n    };\n\n    private canResizeColumns = (newPos: number): boolean => {\n        for (let i = 0; i < this.currentCellsToResize.length; i++) {\n            const td = this.currentCellsToResize[i];\n            const rect = normalizeRect(td.getBoundingClientRect());\n            const width = getHorizontalDistance(rect, newPos, !this.isRTL);\n            if (width < MIN_CELL_WIDTH) {\n                return false;\n            }\n        }\n\n        for (let i = 0; i < this.nextCellsToResize.length; i++) {\n            const td = this.nextCellsToResize[i];\n            let width: number = Number.MAX_SAFE_INTEGER;\n            if (td) {\n                const rect = normalizeRect(td.getBoundingClientRect());\n                width = getHorizontalDistance(rect, newPos, this.isRTL);\n            }\n\n            if (width < MIN_CELL_WIDTH) {\n                return false;\n            }\n        }\n        return true;\n    };\n\n    private resizeColumns = (newPos: number, isShiftPressed: boolean) => {\n        if (!this.canResizeColumns(newPos)) {\n            return;\n        }\n\n        // Since we allow the user to resize the table width on adjusting the border of the last cell,\n        // we need to make the table width resizable by setting it as null;\n        // We also allow the user to resize the table width if Shift key is pressed\n        const isLastCell: boolean = this.nextCellsToResize.length == 0;\n\n        if (isLastCell || isShiftPressed) {\n            this.resizingVtable.table.style.width = null;\n        }\n\n        this.currentCellsToResize.forEach(td => {\n            const rect = normalizeRect(td.getBoundingClientRect());\n            td.style.wordBreak = 'break-word';\n            td.style.whiteSpace = 'normal';\n            td.style.boxSizing = 'border-box';\n            td.style.width = `${getHorizontalDistance(rect, newPos, !this.isRTL)}px`;\n        });\n\n        this.nextCellsToResize.forEach(td => {\n            if (!isShiftPressed) {\n                td.style.wordBreak = 'break-word';\n                td.style.whiteSpace = 'normal';\n                td.style.boxSizing = 'border-box';\n                td.style.width = null;\n            }\n        });\n    };\n\n    private resizeCells = (e: MouseEvent) => {\n        this.setTableResizer(null);\n        if (this.resizingState === ResizeState.None) {\n            return;\n        } else if (this.resizingState === ResizeState.Both) {\n            this.resizeTable(e.pageX, e.pageY);\n            this.resizingVtable.writeBack();\n        } else if (this.currentTd) {\n            const rect = normalizeRect(this.currentTd.getBoundingClientRect());\n            if (rect) {\n                const newPos = this.resizingState == ResizeState.Horizontal ? e.pageY : e.pageX;\n                if (this.resizingState === ResizeState.Horizontal) {\n                    this.resizeRows(newPos, rect);\n                } else {\n                    this.resizeColumns(newPos, e.shiftKey);\n                }\n                this.resizingVtable.writeBack();\n            }\n        }\n    };\n\n    private endResizeCells = (e: MouseEvent) => {\n        const doc = this.editor.getDocument();\n        doc.removeEventListener('mousemove', this.frameAnimateResizeCells, true);\n        doc.removeEventListener('mouseup', this.endResizeCells, true);\n        this.currentCellsToResize = [];\n        this.nextCellsToResize = [];\n\n        this.editor.addUndoSnapshot((start, end) => {\n            this.frameAnimateResizeCells(e);\n            this.editor.select(start, end);\n        }, ChangeSource.Format);\n\n        this.setCurrentTd(null);\n        this.setTableResizer(null);\n\n        this.resizingVtable = null;\n        this.resizingState = ResizeState.None;\n    };\n\n    private cacheRects() {\n        this.tableRectMap = [];\n        this.editor.queryElements('table', table => {\n            if (table.isContentEditable) {\n                const rect = normalizeRect(table.getBoundingClientRect());\n                if (rect) {\n                    this.tableRectMap.push({\n                        table,\n                        rect,\n                    });\n                }\n            }\n        });\n        this.isRTL = getComputedStyle(this.editor.getDocument().body, 'direction') == 'rtl';\n    }\n}\n","/*! @license DOMPurify 2.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.0/LICENSE */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.DOMPurify = factory());\n}(this, function () { 'use strict';\n\n  function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var hasOwnProperty = Object.hasOwnProperty,\n      setPrototypeOf = Object.setPrototypeOf,\n      isFrozen = Object.isFrozen,\n      getPrototypeOf = Object.getPrototypeOf,\n      getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n  var freeze = Object.freeze,\n      seal = Object.seal,\n      create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n  var _ref = typeof Reflect !== 'undefined' && Reflect,\n      apply = _ref.apply,\n      construct = _ref.construct;\n\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return new (Function.prototype.bind.apply(Func, [null].concat(_toConsumableArray(args))))();\n    };\n  }\n\n  var arrayForEach = unapply(Array.prototype.forEach);\n  var arrayPop = unapply(Array.prototype.pop);\n  var arrayPush = unapply(Array.prototype.push);\n\n  var stringToLowerCase = unapply(String.prototype.toLowerCase);\n  var stringMatch = unapply(String.prototype.match);\n  var stringReplace = unapply(String.prototype.replace);\n  var stringIndexOf = unapply(String.prototype.indexOf);\n  var stringTrim = unapply(String.prototype.trim);\n\n  var regExpTest = unapply(RegExp.prototype.test);\n\n  var typeErrorCreate = unconstruct(TypeError);\n\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return apply(func, thisArg, args);\n    };\n  }\n\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return construct(func, args);\n    };\n  }\n\n  /* Add properties to a lookup table */\n  function addToSet(set, array) {\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n\n    var l = array.length;\n    while (l--) {\n      var element = array[l];\n      if (typeof element === 'string') {\n        var lcElement = stringToLowerCase(element);\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n\n          element = lcElement;\n        }\n      }\n\n      set[element] = true;\n    }\n\n    return set;\n  }\n\n  /* Shallow clone an object */\n  function clone(object) {\n    var newObject = create(null);\n\n    var property = void 0;\n    for (property in object) {\n      if (apply(hasOwnProperty, object, [property])) {\n        newObject[property] = object[property];\n      }\n    }\n\n    return newObject;\n  }\n\n  /* IE10 doesn't support __lookupGetter__ so lets'\n   * simulate it. It also automatically checks\n   * if the prop is function or getter and behaves\n   * accordingly. */\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      var desc = getOwnPropertyDescriptor(object, prop);\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n\n      object = getPrototypeOf(object);\n    }\n\n    function fallbackValue(element) {\n      console.warn('fallback value for', element);\n      return null;\n    }\n\n    return fallbackValue;\n  }\n\n  var html = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n\n  // SVG\n  var svg = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n\n  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n\n  // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n  var svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'fedropshadow', 'feimage', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n\n  var mathMl = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']);\n\n  // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n  var mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n\n  var text = freeze(['#text']);\n\n  var html$1 = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n\n  var svg$1 = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n\n  var mathMl$1 = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n\n  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  // eslint-disable-next-line unicorn/better-regex\n  var MUSTACHE_EXPR = seal(/\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n  var ERB_EXPR = seal(/<%[\\s\\S]*|[\\s\\S]*%>/gm);\n  var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n  var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n  function _toConsumableArray$1(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {Document} document The document object (to determine policy name suffix)\n   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported).\n   */\n  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n    if ((typeof trustedTypes === 'undefined' ? 'undefined' : _typeof(trustedTypes)) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    }\n\n    // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n    var suffix = null;\n    var ATTR_NAME = 'data-tt-policy-suffix';\n    if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n      suffix = document.currentScript.getAttribute(ATTR_NAME);\n    }\n\n    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML: function createHTML(html$$1) {\n          return html$$1;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n\n  function createDOMPurify() {\n    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n    var DOMPurify = function DOMPurify(root) {\n      return createDOMPurify(root);\n    };\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '2.3.0';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n\n      return DOMPurify;\n    }\n\n    var originalDocument = window.document;\n\n    var document = window.document;\n    var DocumentFragment = window.DocumentFragment,\n        HTMLTemplateElement = window.HTMLTemplateElement,\n        Node = window.Node,\n        Element = window.Element,\n        NodeFilter = window.NodeFilter,\n        _window$NamedNodeMap = window.NamedNodeMap,\n        NamedNodeMap = _window$NamedNodeMap === undefined ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n        Text = window.Text,\n        Comment = window.Comment,\n        DOMParser = window.DOMParser,\n        trustedTypes = window.trustedTypes;\n\n\n    var ElementPrototype = Element.prototype;\n\n    var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    var getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n      var template = document.createElement('template');\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n\n    var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n    var emptyHTML = trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML('') : '';\n\n    var _document = document,\n        implementation = _document.implementation,\n        createNodeIterator = _document.createNodeIterator,\n        createDocumentFragment = _document.createDocumentFragment,\n        getElementsByTagName = _document.getElementsByTagName;\n    var importNode = originalDocument.importNode;\n\n\n    var documentMode = {};\n    try {\n      documentMode = clone(document).documentMode ? document.documentMode : {};\n    } catch (_) {}\n\n    var hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n\n    var MUSTACHE_EXPR$$1 = MUSTACHE_EXPR,\n        ERB_EXPR$$1 = ERB_EXPR,\n        DATA_ATTR$$1 = DATA_ATTR,\n        ARIA_ATTR$$1 = ARIA_ATTR,\n        IS_SCRIPT_OR_DATA$$1 = IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE$$1 = ATTR_WHITESPACE;\n    var IS_ALLOWED_URI$$1 = IS_ALLOWED_URI;\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray$1(html), _toConsumableArray$1(svg), _toConsumableArray$1(svgFilters), _toConsumableArray$1(mathMl), _toConsumableArray$1(text)));\n\n    /* Allowed attribute names */\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray$1(html$1), _toConsumableArray$1(svg$1), _toConsumableArray$1(mathMl$1), _toConsumableArray$1(xml)));\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    var FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    var FORBID_ATTR = null;\n\n    /* Decide if ARIA attributes are okay */\n    var ALLOW_ARIA_ATTR = true;\n\n    /* Decide if custom data attributes are okay */\n    var ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    var SAFE_FOR_TEMPLATES = false;\n\n    /* Decide if document with <html>... should be returned */\n    var WHOLE_DOCUMENT = false;\n\n    /* Track whether config is already set on this instance of DOMPurify. */\n    var SET_CONFIG = false;\n\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n    var FORCE_BODY = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    var RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n    var RETURN_DOM_FRAGMENT = false;\n\n    /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n     * `Node` is imported into the current `Document`. If this flag is not enabled the\n     * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n     * DOMPurify.\n     *\n     * This defaults to `true` starting DOMPurify 2.2.0. Note that setting it to `false`\n     * might cause XSS from attacks hidden in closed shadowroots in case the browser\n     * supports Declarative Shadow: DOM https://web.dev/declarative-shadow-dom/\n     */\n    var RETURN_DOM_IMPORT = true;\n\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n    var RETURN_TRUSTED_TYPE = false;\n\n    /* Output should be free from DOM clobbering attacks? */\n    var SANITIZE_DOM = true;\n\n    /* Keep element content when removing element? */\n    var KEEP_CONTENT = true;\n\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n    var IN_PLACE = false;\n\n    /* Allow usage of profiles like html, svg and mathMl */\n    var USE_PROFILES = {};\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    var FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n\n    /* Tags that are safe for data: URIs */\n    var DATA_URI_TAGS = null;\n    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n\n    /* Attributes safe for values like \"javascript:\" */\n    var URI_SAFE_ATTRIBUTES = null;\n    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'summary', 'title', 'value', 'style', 'xmlns']);\n\n    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n    var NAMESPACE = HTML_NAMESPACE;\n    var IS_EMPTY_INPUT = false;\n\n    /* Keep a reference to config to pass to hooks */\n    var CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n    var _parseConfig = function _parseConfig(cfg) {\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n\n      /* Shield configuration object from tampering */\n      if (!cfg || (typeof cfg === 'undefined' ? 'undefined' : _typeof(cfg)) !== 'object') {\n        cfg = {};\n      }\n\n      /* Shield configuration object from prototype pollution */\n      cfg = clone(cfg);\n\n      /* Set configuration parameters */\n      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n      RETURN_DOM_IMPORT = cfg.RETURN_DOM_IMPORT !== false; // Default true\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n      IS_ALLOWED_URI$$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$$1;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n\n      /* Parse profile info */\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray$1(text)));\n        ALLOWED_ATTR = [];\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html);\n          addToSet(ALLOWED_ATTR, html$1);\n        }\n\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg);\n          addToSet(ALLOWED_ATTR, svg$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl);\n          addToSet(ALLOWED_ATTR, mathMl$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n\n      /* Merge configuration parameters */\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n      }\n\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n      }\n\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n      }\n\n      /* Add #text in case KEEP_CONTENT is set to true */\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      }\n\n      // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n      if (freeze) {\n        freeze(cfg);\n      }\n\n      CONFIG = cfg;\n    };\n\n    var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n\n    var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']);\n\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n    var ALL_SVG_TAGS = addToSet({}, svg);\n    addToSet(ALL_SVG_TAGS, svgFilters);\n    addToSet(ALL_SVG_TAGS, svgDisallowed);\n\n    var ALL_MATHML_TAGS = addToSet({}, mathMl);\n    addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n\n    /**\n     *\n     *\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n    var _checkValidNamespace = function _checkValidNamespace(element) {\n      var parent = getParentNode(element);\n\n      // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: HTML_NAMESPACE,\n          tagName: 'template'\n        };\n      }\n\n      var tagName = stringToLowerCase(element.tagName);\n      var parentTagName = stringToLowerCase(parent.tagName);\n\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        }\n\n        // The only way to switch from MathML to SVG is via\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        }\n\n        // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        }\n\n        // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        }\n\n        // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        // Certain elements are allowed in both SVG and HTML\n        // namespace. We need to specify them explicitly\n        // so that they don't get erronously deleted from\n        // HTML namespace.\n        var commonSvgAndHTMLElements = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n\n        // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n        return !ALL_MATHML_TAGS[tagName] && (commonSvgAndHTMLElements[tagName] || !ALL_SVG_TAGS[tagName]);\n      }\n\n      // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG or MathML). Return false just in case.\n      return false;\n    };\n\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n    var _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, { element: node });\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        try {\n          node.outerHTML = emptyHTML;\n        } catch (_) {\n          node.remove();\n        }\n      }\n    };\n\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n    var _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n\n      node.removeAttribute(name);\n\n      // We void attribute values for unremovable \"is\"\" attributes\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n    var _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      var doc = void 0;\n      var leadingWhitespace = void 0;\n\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n\n      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, 'text/html');\n        } catch (_) {}\n      }\n\n      /* Use createHTMLDocument in case DOMParser is not available */\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n        } catch (_) {\n          // Syntax error if dirtyPayload is invalid xml\n        }\n      }\n\n      var body = doc.body || doc.documentElement;\n\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n\n      /* Work on whole document or just its body */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n\n    /**\n     * _createIterator\n     *\n     * @param  {Document} root document/fragment to create iterator for\n     * @return {Iterator} iterator instance\n     */\n    var _createIterator = function _createIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n    var _isClobbered = function _isClobbered(elm) {\n      if (elm instanceof Text || elm instanceof Comment) {\n        return false;\n      }\n\n      if (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function') {\n        return true;\n      }\n\n      return false;\n    };\n\n    /**\n     * _isNode\n     *\n     * @param  {Node} obj object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n    var _isNode = function _isNode(object) {\n      return (typeof Node === 'undefined' ? 'undefined' : _typeof(Node)) === 'object' ? object instanceof Node : object && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n    var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n\n      arrayForEach(hooks[entryPoint], function (hook) {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n    var _sanitizeElements = function _sanitizeElements(currentNode) {\n      var content = void 0;\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeElements', currentNode, null);\n\n      /* Check if element is clobbered or can clobber */\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Check if tagname contains Unicode */\n      if (stringMatch(currentNode.nodeName, /[\\u0080-\\uFFFF]/)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Now let's check the element's type and name */\n      var tagName = stringToLowerCase(currentNode.nodeName);\n\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName: tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n\n      /* Detect mXSS attempts abusing namespace confusion */\n      if (!_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Remove element if anything forbids its presence */\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Keep content except for bad-listed elements */\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n          if (childNodes && parentNode) {\n            var childCount = childNodes.length;\n\n            for (var i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Check whether element has a valid namespace */\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Sanitize element content to be template-safe */\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        content = stringReplace(content, MUSTACHE_EXPR$$1, ' ');\n        content = stringReplace(content, ERB_EXPR$$1, ' ');\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n          currentNode.textContent = content;\n        }\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeElements', currentNode, null);\n\n      return false;\n    };\n\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$$1, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$$1, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        return false;\n\n        /* Check value is safe. First, is attr inert? If so, is safe */\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$$1, stringReplace(value, ATTR_WHITESPACE$$1, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$$1, stringReplace(value, ATTR_WHITESPACE$$1, ''))) ; else if (!value) ; else {\n        return false;\n      }\n\n      return true;\n    };\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      var attr = void 0;\n      var value = void 0;\n      var lcName = void 0;\n      var l = void 0;\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n      var attributes = currentNode.attributes;\n\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n\n      var hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      l = attributes.length;\n\n      /* Go backwards over all attributes; safely remove bad ones */\n      while (l--) {\n        attr = attributes[l];\n        var _attr = attr,\n            name = _attr.name,\n            namespaceURI = _attr.namespaceURI;\n\n        value = stringTrim(attr.value);\n        lcName = stringToLowerCase(name);\n\n        /* Execute a hook if present */\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n\n        /* Remove attribute */\n        _removeAttribute(name, currentNode);\n\n        /* Did the hooks approve of the attribute? */\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n\n        /* Work around a security issue in jQuery 3.0 */\n        if (regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n          continue;\n        }\n\n        /* Sanitize attribute content to be template-safe */\n        if (SAFE_FOR_TEMPLATES) {\n          value = stringReplace(value, MUSTACHE_EXPR$$1, ' ');\n          value = stringReplace(value, ERB_EXPR$$1, ' ');\n        }\n\n        /* Is `value` valid for this attribute? */\n        var lcTag = currentNode.nodeName.toLowerCase();\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n\n        /* Handle invalid data-* attribute set by try-catching it */\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      var shadowNode = void 0;\n      var shadowIterator = _createIterator(fragment);\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n\n        /* Deep shadow DOM detected */\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(shadowNode);\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    // eslint-disable-next-line complexity\n    DOMPurify.sanitize = function (dirty, cfg) {\n      var body = void 0;\n      var importedNode = void 0;\n      var currentNode = void 0;\n      var oldNode = void 0;\n      var returnNode = void 0;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n      IS_EMPTY_INPUT = !dirty;\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n\n      /* Stringify, in case dirty is an object */\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        // eslint-disable-next-line no-negated-condition\n        if (typeof dirty.toString !== 'function') {\n          throw typeErrorCreate('toString is not a function');\n        } else {\n          dirty = dirty.toString();\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        }\n      }\n\n      /* Check we can run. Otherwise fall back or ignore */\n      if (!DOMPurify.isSupported) {\n        if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n          if (typeof dirty === 'string') {\n            return window.toStaticHTML(dirty);\n          }\n\n          if (_isNode(dirty)) {\n            return window.toStaticHTML(dirty.outerHTML);\n          }\n        }\n\n        return dirty;\n      }\n\n      /* Assign config vars */\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n\n      /* Clean up removed elements */\n      DOMPurify.removed = [];\n\n      /* Check if dirty is correctly typed for IN_PLACE */\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n\n      if (IN_PLACE) ; else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n\n        /* Initialize the document to work on */\n        body = _initDocument(dirty);\n\n        /* Check we have a DOM node from the data */\n        if (!body) {\n          return RETURN_DOM ? null : emptyHTML;\n        }\n      }\n\n      /* Remove first element node (ours) if FORCE_BODY is set */\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n\n      /* Get node iterator */\n      var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\n      /* Now start iterating over the created document */\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Fix IE's strange behavior with manipulated textNodes #89 */\n        if (currentNode.nodeType === 3 && currentNode === oldNode) {\n          continue;\n        }\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n\n        /* Shadow DOM detected, sanitize it */\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(currentNode);\n\n        oldNode = currentNode;\n      }\n\n      oldNode = null;\n\n      /* If we sanitized `dirty` in-place, return it. */\n      if (IN_PLACE) {\n        return dirty;\n      }\n\n      /* Return sanitized string or DOM */\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n\n        if (RETURN_DOM_IMPORT) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n\n        return returnNode;\n      }\n\n      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n      /* Sanitize final string template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, ERB_EXPR$$1, ' ');\n      }\n\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n    DOMPurify.setConfig = function (cfg) {\n      _parseConfig(cfg);\n      SET_CONFIG = true;\n    };\n\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {string} tag Tag name of containing element.\n     * @param  {string} attr Attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n\n      var lcTag = stringToLowerCase(tag);\n      var lcName = stringToLowerCase(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     */\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        arrayPop(hooks[entryPoint]);\n      }\n    };\n\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     */\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n\n    return DOMPurify;\n  }\n\n  var purify = createDOMPurify();\n\n  return purify;\n\n}));\n//# sourceMappingURL=purify.js.map\n","export * from './plugins/Watermark/index';\n","export { default as Watermark } from './Watermark';\n","import { applyFormat, getEntitySelector, getTagOfNode } from 'roosterjs-editor-dom';\nimport { insertEntity } from 'roosterjs-editor-api';\nimport {\n    DefaultFormat,\n    EditorPlugin,\n    Entity,\n    EntityOperation,\n    IEditor,\n    PluginEvent,\n    PluginEventType,\n    ContentPosition,\n} from 'roosterjs-editor-types';\n\nconst ENTITY_TYPE = 'WATERMARK_WRAPPER';\n\n/**\n * A watermark plugin to manage watermark string for roosterjs\n */\nexport default class Watermark implements EditorPlugin {\n    private editor: IEditor;\n    private disposer: () => void;\n\n    /**\n     * Create an instance of Watermark plugin\n     * @param watermark The watermark string\n     */\n    constructor(private watermark: string, private format?: DefaultFormat) {\n        this.format = this.format || {\n            fontSize: '14px',\n            textColors: {\n                lightModeColor: '#AAAAAA',\n                darkModeColor: '#6B6B6B',\n            },\n        };\n    }\n\n    /**\n     * Get a friendly name of  this plugin\n     */\n    getName() {\n        return 'Watermark';\n    }\n\n    /**\n     * Initialize this plugin. This should only be called from Editor\n     * @param editor Editor instance\n     */\n    initialize(editor: IEditor) {\n        this.editor = editor;\n        this.disposer = this.editor.addDomEventHandler({\n            focus: this.showHideWatermark,\n            blur: this.showHideWatermark,\n        });\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        this.disposer();\n        this.disposer = null;\n        this.editor = null;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    onPluginEvent(event: PluginEvent) {\n        if (\n            event.eventType == PluginEventType.EditorReady ||\n            (event.eventType == PluginEventType.ContentChanged &&\n                (<Entity>event.data)?.type != ENTITY_TYPE)\n        ) {\n            this.showHideWatermark();\n        } else if (\n            event.eventType == PluginEventType.EntityOperation &&\n            event.entity.type == ENTITY_TYPE\n        ) {\n            const {\n                operation,\n                entity: { wrapper },\n            } = event;\n            if (operation == EntityOperation.ReplaceTemporaryContent) {\n                this.removeWatermark(wrapper);\n            } else if (event.operation == EntityOperation.NewEntity) {\n                applyFormat(wrapper, this.format, this.editor.isDarkMode());\n                wrapper.spellcheck = false;\n            }\n        }\n    }\n\n    private showHideWatermark = () => {\n        const hasFocus = this.editor.hasFocus();\n        const watermarks = this.editor.queryElements(getEntitySelector(ENTITY_TYPE));\n        const isShowing = watermarks.length > 0;\n\n        if (hasFocus && isShowing) {\n            watermarks.forEach(this.removeWatermark);\n            this.editor.focus();\n        } else if (!hasFocus && !isShowing && this.editor.isEmpty()) {\n            insertEntity(\n                this.editor,\n                ENTITY_TYPE,\n                this.editor.getDocument().createTextNode(this.watermark),\n                false /*isBlock*/,\n                false /*isReadonly*/,\n                ContentPosition.Begin\n            );\n        }\n    };\n\n    private removeWatermark = (wrapper: HTMLElement) => {\n        const parentNode = wrapper.parentNode;\n        parentNode?.removeChild(wrapper);\n\n        // After remove watermark node, if it leaves an empty DIV, append a BR node into it to make it a regular empty line\n        if (\n            this.editor.contains(parentNode) &&\n            getTagOfNode(parentNode) == 'DIV' &&\n            !parentNode.firstChild\n        ) {\n            parentNode.appendChild(this.editor.getDocument().createElement('BR'));\n        }\n    };\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./Editor.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3CcWWZIXycQmG6-Xknk-sV{border:solid 1px #0bc;overflow:auto;padding:10px;outline:none;position:absolute;left:0;top:0;right:0;bottom:0}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"editor\": \"_3CcWWZIXycQmG6-Xknk-sV\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport Editor from './editor/Editor';\nimport Ribbon from './ribbon/Ribbon';\nimport { getAllPluginArray, getPlugins } from './plugins';\n\nconst styles = require('./MainPane.scss');\n\nexport default function PopoutMainPane(props: {}) {\n    const plugins = getPlugins();\n\n    return (\n        <div className={styles.mainPane}>\n            <Ribbon\n                plugin={plugins.ribbon}\n                className={styles.noGrow}\n                ref={plugins.ribbon.refCallback}\n            />\n            <div className={styles.body}>\n                <Editor\n                    plugins={getAllPluginArray(true /*showSidePane*/)}\n                    className={styles.editor}\n                    initState={plugins.editorOptions.getBuildInPluginState()}\n                    snapshotService={plugins.snapshot.getSnapshotService()}\n                />\n            </div>\n        </div>\n    );\n}\n","import * as React from 'react';\nimport MainPaneBase from '../MainPaneBase';\nimport RibbonButtonType from './RibbonButtonType';\nimport RibbonPlugin from './RibbonPlugin';\nimport { FormatState, IEditor } from 'roosterjs-editor-types';\n\nconst styles = require('./RibbonButton.scss');\n\nexport interface RibbonButtonProps {\n    plugin: RibbonPlugin;\n    button: RibbonButtonType;\n    format: FormatState;\n    onClicked: () => void;\n}\n\nexport interface RibbonButtonState {\n    isDropDownShown: boolean;\n}\n\nexport default class RibbonButton extends React.Component<RibbonButtonProps, RibbonButtonState> {\n    constructor(props: RibbonButtonProps) {\n        super(props);\n        this.state = {\n            isDropDownShown: false,\n        };\n    }\n\n    render() {\n        let button = this.props.button;\n        let editor = this.props.plugin.getEditor();\n        let isImageButton = !!button.image;\n        let className = isImageButton ? styles.button : styles.textButton;\n\n        if (\n            editor &&\n            this.props.format &&\n            button.checked &&\n            button.checked(this.props.format, editor)\n        ) {\n            className += ' ' + styles.checked;\n        }\n        return (\n            <span className={styles.dropDownButton}>\n                <button\n                    disabled={!!button.isDisabled && button.isDisabled(editor)}\n                    onClick={button.dropDownItems ? this.onShowDropDown : () => this.onExecute()}\n                    className={className}>\n                    {isImageButton ? (\n                        <img src={button.image} width={32} height={32} title={button.title} />\n                    ) : (\n                        button.title\n                    )}\n                </button>\n                {button.dropDownItems && this.state.isDropDownShown && (\n                    <DropDown\n                        editor={editor}\n                        button={button}\n                        onHideDropDown={this.onHideDropDown}\n                    />\n                )}\n            </span>\n        );\n    }\n\n    private onExecute = (value?: string) => {\n        const { button, plugin } = this.props;\n        const editor = plugin.getEditor();\n        this.onHideDropDown();\n        if (button.onClick) {\n            button.onClick(editor, value);\n            MainPaneBase.getInstance().updateFormatState();\n        }\n\n        this.props.onClicked();\n    };\n\n    private onShowDropDown = () => {\n        if (!this.props.button.preserveOnClickAway) {\n            this.getDocument().addEventListener('click', this.onHideDropDown);\n        }\n        this.setState({\n            isDropDownShown: true,\n        });\n    };\n\n    private onHideDropDown = () => {\n        this.props.plugin.getEditor().stopShadowEdit();\n\n        this.getDocument().removeEventListener('click', this.onHideDropDown);\n        this.setState({\n            isDropDownShown: false,\n        });\n    };\n\n    private getDocument() {\n        return this.props.plugin.getEditor().getDocument();\n    }\n}\n\nfunction DropDown(props: {\n    editor: IEditor;\n    button: RibbonButtonType;\n    onHideDropDown: () => void;\n}) {\n    const { editor, button, onHideDropDown } = props;\n    return (\n        <div className={styles.dropDown}>\n            {Object.keys(button.dropDownItems).map(key =>\n                button.dropDownRenderer ? (\n                    <div key={key}>\n                        {button.dropDownRenderer(\n                            editor,\n                            onHideDropDown,\n                            key,\n                            button.dropDownItems[key]\n                        )}\n                    </div>\n                ) : (\n                    <DropDownItem\n                        editor={editor}\n                        itemName={key}\n                        displayName={button.dropDownItems[key]}\n                        buttonOnClick={button.onClick}\n                    />\n                )\n            )}\n        </div>\n    );\n}\n\nfunction DropDownItem(props: {\n    editor: IEditor;\n    itemName: string;\n    displayName: string;\n    buttonOnClick: (editor: IEditor, key: string) => void;\n}) {\n    const { editor, itemName, displayName, buttonOnClick } = props;\n    const onClick = React.useCallback(() => {\n        editor.stopShadowEdit();\n        buttonOnClick?.(editor, itemName);\n    }, []);\n    const onMouseOver = React.useCallback(() => {\n        editor.startShadowEdit();\n        buttonOnClick?.(editor, itemName);\n    }, []);\n\n    return (\n        <div\n            key={props.itemName}\n            onClick={onClick}\n            onMouseOver={onMouseOver}\n            className={styles.dropDownItem}>\n            {displayName}\n        </div>\n    );\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./RibbonButton.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3ajw3rPcjq1s73X8m37g2a{border-width:0;border-radius:4px;margin:2px;padding:0;background-color:#fff;cursor:pointer}._3ajw3rPcjq1s73X8m37g2a:hover{background-color:#aaf7ff}._3ajw3rPcjq1s73X8m37g2a.YPx6kciCUsVgv1VIDBkpf{background-color:#00b0c4}._3xOVARN8rJRqs54uhzdFX0{height:32px;vertical-align:top;background-color:transparent;border-width:0;border-radius:3px;cursor:pointer}._3xOVARN8rJRqs54uhzdFX0:hover{background-color:#aaf7ff}.NqpcjvgDTfCLoRSkpCSiv{position:relative;width:32px;height:32px;overflow:visible}._1NKQAG-3Kjz5czA31qZY3b{z-index:1;border:solid 1px #0bc;display:inline-block;background-color:#fff;padding:4px;box-shadow:2px 2px 4px gray;position:absolute;top:14px;left:0}._37f4aOPMyXx5r-hibr6ATz{cursor:pointer;padding:2px;white-space:nowrap;min-width:60px}._37f4aOPMyXx5r-hibr6ATz:hover{background-color:#aaf7ff}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"button\": \"_3ajw3rPcjq1s73X8m37g2a\",\n\t\"checked\": \"YPx6kciCUsVgv1VIDBkpf\",\n\t\"textButton\": \"_3xOVARN8rJRqs54uhzdFX0\",\n\t\"dropDownButton\": \"NqpcjvgDTfCLoRSkpCSiv\",\n\t\"dropDown\": \"_1NKQAG-3Kjz5czA31qZY3b\",\n\t\"dropDownItem\": \"_37f4aOPMyXx5r-hibr6ATz\"\n};\nmodule.exports = exports;\n","import getLastClipboardData from './getLastClipboardData';\nimport MainPaneBase from '../MainPaneBase';\nimport renderInsertLinkDialog from './renderInsertLinkDialog';\nimport renderTableOptions from './renderTableOptions';\nimport RibbonButtonType from './RibbonButtonType';\nimport { Alignment, ClearFormatMode, Direction, Indentation } from 'roosterjs-editor-types';\nimport { Browser } from 'roosterjs-editor-dom';\nimport { getDarkColor } from 'roosterjs-color-utils';\nimport { trustedHTMLHandler } from '../../utils/trustedHTMLHandler';\nimport {\n    setFontName,\n    setFontSize,\n    toggleBold,\n    toggleItalic,\n    toggleUnderline,\n    toggleBullet,\n    toggleNumbering,\n    setIndentation,\n    changeCapitalization,\n    setAlignment,\n    toggleBlockQuote,\n    removeLink,\n    toggleSuperscript,\n    toggleSubscript,\n    toggleStrikethrough,\n    setDirection,\n    clearFormat,\n    toggleHeader,\n    toggleCodeBlock,\n    insertImage,\n    setTextColor,\n    setBackgroundColor,\n} from 'roosterjs-editor-api';\n\nconst buttons: { [key: string]: RibbonButtonType } = {\n    bold: {\n        title: 'Bold',\n        image: require('../svg/bold.svg'),\n        onClick: toggleBold,\n        checked: format => format.isBold,\n    },\n    italic: {\n        title: 'Italic',\n        image: require('../svg/italic.svg'),\n        onClick: toggleItalic,\n        checked: format => format.isItalic,\n    },\n    underline: {\n        title: 'Underline',\n        image: require('../svg/underline.svg'),\n        onClick: toggleUnderline,\n        checked: format => format.isUnderline,\n    },\n    fontName: {\n        title: 'Font',\n        image: require('../svg/fontname.svg'),\n        onClick: setFontName,\n        dropDownItems: {\n            Arial: 'Arial',\n            Calibri: 'Calibri',\n            'Courier New': 'Courier New',\n            Tahoma: 'Tahoma',\n            'Times New Roman': 'Times New Roman',\n        },\n    },\n    fontSize: {\n        title: 'Font size',\n        image: require('../svg/fontsize.svg'),\n        onClick: setFontSize,\n        dropDownItems: {\n            '8pt': '8',\n            '10pt': '10',\n            '12pt': '12',\n            '16pt': '16',\n            '20pt': '20',\n            '36pt': '36',\n            '72pt': '72',\n        },\n    },\n    textColor: {\n        title: 'Text color',\n        image: require('../svg/textcolor.svg'),\n        onClick: (editor, color) =>\n            setTextColor(editor, {\n                lightModeColor: color,\n                darkModeColor: getDarkColor(color),\n            }),\n        dropDownItems: {\n            '#51a7f9': 'Light Blue',\n            '#6fc040': 'Light Green',\n            '#f5d427': 'Light Yellow',\n            '#f3901d': 'Light Orange',\n            '#ed5c57': 'Light Red',\n            '#b36ae2': 'Light Purple',\n            '#0c64c0': 'Blue',\n            '#0c882a': 'Green',\n            '#dcbe22': 'Yellow',\n            '#de6a19': 'Orange',\n            '#c82613': 'Red',\n            '#763e9b': 'Purple',\n            '#174e86': 'Dark Blue',\n            '#0f5c1a': 'Dark Green',\n            '#c3971d': 'Dark Yellow',\n            '#be5b17': 'Dark Orange',\n            '#861106': 'Dark Red',\n            '#5e327c': 'Dark Purple',\n            '#002451': 'Darker Blue',\n            '#06400c': 'Darker Green',\n            '#a37519': 'Darker Yellow',\n            '#934511': 'Darker Orange',\n            '#570606': 'Darker Red',\n            '#3b204d': 'Darker Purple',\n            '#ffffff': 'White',\n            '#cccccc': 'Light Gray',\n            '#999999': 'Gray',\n            '#666666': 'Dark Gray',\n            '#333333': 'Darker Gray',\n            '#000000': 'Black',\n        },\n    },\n    backColor: {\n        title: 'Highlight',\n        image: require('../svg/backcolor.svg'),\n        onClick: (editor, color) =>\n            setBackgroundColor(editor, {\n                lightModeColor: color,\n                darkModeColor: getDarkColor(color),\n            }),\n        dropDownItems: {\n            '#00ffff': 'Cyan',\n            '#00ff00': 'Green',\n            '#ffff00': 'Yellow',\n            '#ff8000': 'Orange',\n            '#ff0000': 'Red',\n            '#ff00ff': 'Magenta',\n            '#80ffff': 'Light Cyan',\n            '#80ff80': 'Light Green',\n            '#ffff80': 'Light Yellow',\n            '#ffc080': 'Light Orange',\n            '#ff8080': 'Light Red',\n            '#ff80ff': 'Light Magenta',\n            '#ffffff': 'White',\n            '#cccccc': 'Light Gray',\n            '#999999': 'Gray',\n            '#666666': 'Dark Gray',\n            '#333333': 'Darker Gray',\n            '#000000': 'Black',\n        },\n    },\n    capitalization: {\n        title: 'Change case',\n        image: require('../svg/capitalization.svg'),\n        onClick: changeCapitalization,\n        dropDownItems: {\n            sentence: 'Sentence case.',\n            lowercase: 'lowercase',\n            uppercase: 'UPPERCASE',\n            capitalize: 'Capitalize Each Word',\n        },\n    },\n    bullet: {\n        title: 'Bullet',\n        image: require('../svg/bullets.svg'),\n        onClick: toggleBullet,\n        checked: format => format.isBullet,\n    },\n    numbering: {\n        title: 'Numbering',\n        image: require('../svg/numbering.svg'),\n        onClick: editor => toggleNumbering(editor),\n        checked: format => format.isNumbering,\n    },\n    outdent: {\n        title: 'Decrease indent',\n        image: require('../svg/outdent.svg'),\n        onClick: editor => setIndentation(editor, Indentation.Decrease),\n    },\n    indent: {\n        title: 'Increase indent',\n        image: require('../svg/indent.svg'),\n        onClick: editor => setIndentation(editor, Indentation.Increase),\n    },\n    blockQuote: {\n        title: 'Quote',\n        image: require('../svg/blockquote.svg'),\n        onClick: editor => toggleBlockQuote(editor),\n        checked: format => format.isBlockQuote,\n    },\n    alignLeft: {\n        title: 'Align left',\n        image: require('../svg/alignleft.svg'),\n        onClick: editor => setAlignment(editor, Alignment.Left),\n    },\n    alignCenter: {\n        title: 'Align center',\n        image: require('../svg/aligncenter.svg'),\n        onClick: editor => setAlignment(editor, Alignment.Center),\n    },\n    alignRight: {\n        title: 'Align right',\n        image: require('../svg/alignright.svg'),\n        onClick: editor => setAlignment(editor, Alignment.Right),\n    },\n    insertLink: {\n        title: 'Insert hyperlink',\n        image: require('../svg/createlink.svg'),\n        onClick: null,\n        dropDownItems: { '0': 'dummy' },\n        dropDownRenderer: renderInsertLinkDialog,\n        preserveOnClickAway: true,\n    },\n    unlink: {\n        title: 'Remove hyperlink',\n        image: require('../svg/unlink.svg'),\n        onClick: removeLink,\n    },\n    table: {\n        title: 'Show table options',\n        image: require('../svg/table.svg'),\n        onClick: null,\n        dropDownItems: { 0: 'dummy' },\n        dropDownRenderer: renderTableOptions,\n        preserveOnClickAway: true,\n    },\n    insertImage: {\n        title: 'Insert inline image',\n        image: require('../svg/inlineimage.svg'),\n        onClick: editor => {\n            const document = editor.getDocument();\n            let fileInput = document.createElement('input') as HTMLInputElement;\n            fileInput.type = 'file';\n            fileInput.accept = 'image/*';\n            fileInput.style.display = 'none';\n            fileInput.addEventListener('change', () => {\n                let file = fileInput.files[0];\n                if (file) {\n                    insertImage(editor, file);\n                }\n            });\n            document.body.appendChild(fileInput);\n            fileInput.click();\n            document.body.removeChild(fileInput);\n        },\n    },\n    superscript: {\n        title: 'Superscript',\n        image: require('../svg/superscript.svg'),\n        onClick: toggleSuperscript,\n        checked: format => format.isSuperscript,\n    },\n    subscript: {\n        title: 'Subscript',\n        image: require('../svg/subscript.svg'),\n        onClick: toggleSubscript,\n        checked: format => format.isSubscript,\n    },\n    strikethrough: {\n        title: 'Strikethrough',\n        image: require('../svg/strikethrough.svg'),\n        onClick: toggleStrikethrough,\n        checked: format => format.isStrikeThrough,\n    },\n    header: {\n        title: 'Header',\n        image: require('../svg/header.svg'),\n        onClick: (editor, value) => toggleHeader(editor, parseInt(value)),\n        dropDownItems: {\n            '0': 'No header',\n            '1': 'Header 1',\n            '2': 'Header 2',\n            '3': 'Header 3',\n            '4': 'Header 4',\n            '5': 'Header 5',\n            '6': 'Header 6',\n        },\n    },\n    code: {\n        title: 'Code block',\n        image: require('../svg/code.svg'),\n        onClick: editor => toggleCodeBlock(editor),\n    },\n    ltr: {\n        title: 'Left-to-right',\n        image: require('../svg/ltr.svg'),\n        onClick: editor => setDirection(editor, Direction.LeftToRight),\n    },\n    rtl: {\n        title: 'Right-to-left',\n        image: require('../svg/rtl.svg'),\n        onClick: editor => setDirection(editor, Direction.RightToLeft),\n    },\n    undo: {\n        title: 'Undo',\n        image: require('../svg/undo.svg'),\n        onClick: editor => editor.undo(),\n    },\n    redo: {\n        title: 'Redo',\n        image: require('../svg/redo.svg'),\n        onClick: editor => editor.redo(),\n    },\n    clearFormat: {\n        title: 'Remove formatting',\n        image: require('../svg/removeformat.svg'),\n        onClick: (editor, key) => {\n            const handlers: Record<string, ClearFormatMode> = {\n                autodetect: ClearFormatMode.AutoDetect,\n                block: ClearFormatMode.Block,\n                selection: ClearFormatMode.Inline,\n            };\n            clearFormat(editor, handlers[key]);\n        },\n        dropDownItems: {\n            autodetect: 'Remove format (Autodetect)',\n            selection: 'Remove formatting of selected text',\n            block: 'Remove formatting of selected paragraphs',\n        },\n    },\n    dark: {\n        title: 'Dark Mode',\n        image: require('../svg/moon.svg'),\n        onClick: editor => {\n            const isDark = !editor.isDarkMode();\n            editor.setDarkModeState(isDark);\n        },\n        checked: (format, editor) => editor.isDarkMode(),\n        isHidden: () => !MainPaneBase.getInstance().isDarkModeSupported(),\n    },\n    paste: {\n        title: 'Paste Again',\n        onClick: (editor, key) => {\n            editor.focus();\n            const data = getLastClipboardData(editor).data;\n\n            if (data) {\n                switch (key) {\n                    case 'original':\n                        editor.paste(data);\n                        break;\n                    case 'text':\n                        editor.paste(data, true);\n                        break;\n                    case 'merge':\n                        editor.paste(data, false, true);\n                        break;\n                }\n            } else {\n                alert('No clipboard data found');\n            }\n        },\n        isDisabled: editor => !getLastClipboardData(editor).data,\n        dropDownItems: {\n            original: 'Paste Original',\n            text: 'Paste Text',\n            merge: 'Paste and Merge Format',\n        },\n    },\n    export: {\n        title: 'Export',\n        onClick: editor => {\n            let w = window.open();\n            w.document.write(trustedHTMLHandler(editor.getContent()));\n        },\n    },\n    clear: {\n        title: 'Clear',\n        onClick: editor => {\n            editor.addUndoSnapshot(() => {\n                editor.setContent('');\n            });\n        },\n    },\n    popout: {\n        title: 'Popout',\n        isDisabled: editor =>\n            !(Browser.isChrome || Browser.isFirefox) || editor.getDocument().defaultView != window,\n        onClick: () => {\n            MainPaneBase.getInstance().popout();\n        },\n    },\n};\n\nexport default buttons;\n","import * as React from 'react';\nimport { createLink } from 'roosterjs-editor-api';\nimport { IEditor } from 'roosterjs-editor-types';\n\nconst styles = require('./InsertLink.scss');\n\ninterface InsertLinkProps {\n    editor: IEditor;\n    onDismiss: () => void;\n    url: string;\n    displayText: string;\n}\n\nclass InsertLink extends React.Component<InsertLinkProps, {}> {\n    private txtUrl: HTMLInputElement;\n    private txtDisplayText: HTMLInputElement;\n\n    render() {\n        return (\n            <table>\n                <tbody>\n                    <tr>\n                        <td className={styles.title}>Url:</td>\n                        <td>\n                            <input type={'text'} ref={ref => (this.txtUrl = ref)} />\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Display text:</td>\n                        <td>\n                            <input type={'text'} ref={ref => (this.txtDisplayText = ref)} />\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colSpan={2} className={styles.buttonRow}>\n                            <button className={styles.button} onClick={this.onOk}>\n                                OK\n                            </button>\n                            <button className={styles.button} onClick={this.props.onDismiss}>\n                                Cancel\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        );\n    }\n\n    componentDidMount() {\n        this.txtUrl.value = this.props.url;\n        this.txtDisplayText.value = this.props.displayText;\n    }\n\n    private onOk = () => {\n        this.props.onDismiss();\n        createLink(this.props.editor, this.txtUrl.value, null, this.txtDisplayText.value);\n    };\n}\n\nexport default function renderInsertLinkDialog(editor: IEditor, onDismiss: () => void) {\n    let a = editor.getElementAtCursor('a[href]') as HTMLAnchorElement;\n    return (\n        <InsertLink\n            editor={editor}\n            onDismiss={onDismiss}\n            url={a ? a.href : ''}\n            displayText={a ? a.innerText : ''}\n        />\n    );\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./InsertLink.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1ADsd8rhf-G2fzcrG4GQko{white-space:nowrap}.UKERg7wFmbMxPn89Rsq8Q{text-align:center}._1_lZeOtfPE-C7m6ST5dJjH{width:80px;margin:10px}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"title\": \"_1ADsd8rhf-G2fzcrG4GQko\",\n\t\"buttonRow\": \"UKERg7wFmbMxPn89Rsq8Q\",\n\t\"button\": \"_1_lZeOtfPE-C7m6ST5dJjH\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport { IEditor } from 'roosterjs-editor-types';\nimport { insertTable } from 'roosterjs-editor-api';\n\nconst styles = require('./TableOptions.scss');\n\ninterface TableOptionsProps {\n    editor: IEditor;\n    onDismiss: () => void;\n}\n\nclass TableOptions extends React.Component<TableOptionsProps, {}> {\n    private cols = React.createRef<HTMLInputElement>();\n    private rows = React.createRef<HTMLInputElement>();\n\n    render() {\n        return (\n            <div className={styles.editTable}>\n                <div className={styles.close}>\n                    <button onClick={this.props.onDismiss}>X</button>\n                </div>\n                <table>\n                    <tbody>\n                        <tr>\n                            <th colSpan={2}>Insert Table</th>\n                        </tr>\n                        <tr>\n                            <td>Columns:</td>\n                            <td>\n                                <input type=\"text\" ref={this.cols} />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>Rows:</td>\n                            <td>\n                                <input type=\"text\" ref={this.rows} />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colSpan={2} className={styles.buttonRow}>\n                                <button onClick={this.onInsertTable} className={styles.button}>\n                                    Insert\n                                </button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n\n    private onInsertTable = () => {\n        this.props.onDismiss();\n\n        let cols = parseInt(this.cols.current.value);\n        let rows = parseInt(this.rows.current.value);\n        if (cols > 0 && cols <= 10 && rows > 0 && rows <= 10) {\n            insertTable(this.props.editor, cols, rows);\n        }\n    };\n}\n\nexport default function renderTableOptions(editor: IEditor, onDismiss: () => void) {\n    return <TableOptions editor={editor} onDismiss={onDismiss} />;\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./TableOptions.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3FDwFXuRevcSXLrRv7Kf9s{float:right}._2JmLf5JN0n9PHCNkJP2K8Z{margin:2px 4px;min-width:80px}._3Hnxx_WI6XlWwbkFVN-auf{text-align:center}._3Zt1VuRxZnFMhDueXyYknz{white-space:nowrap}.AUzhDCBgVaRmtRAPl5SCX{width:506px}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"close\": \"_3FDwFXuRevcSXLrRv7Kf9s\",\n\t\"button\": \"_2JmLf5JN0n9PHCNkJP2K8Z\",\n\t\"buttonRow\": \"_3Hnxx_WI6XlWwbkFVN-auf\",\n\t\"label\": \"_3Zt1VuRxZnFMhDueXyYknz\",\n\t\"editTable\": \"AUzhDCBgVaRmtRAPl5SCX\"\n};\nmodule.exports = exports;\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii02MjU1IC04NzQwIDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM2NjY7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxnIGlkPSJGQjpfQm9sZCIgZGF0YS1uYW1lPSJGQjogQm9sZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY5OTkgLTkxOTUuOTk5KSI+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzIyOTciIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDIyOTciIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzQ0IDQ1NS45OTkpIi8+CiAgICA8cGF0aCBpZD0iUGF0aF8xNTM2IiBkYXRhLW5hbWU9IlBhdGggMTUzNiIgY2xhc3M9ImNscy0yIiBkPSJNOS44MjgtOS4wMzFhMy44ODgsMy44ODgsMCwwLDEsMS41NDguMzExLDQuMDEyLDQuMDEyLDAsMCwxLDEuMjcuODU1LDQuMDEyLDQuMDEyLDAsMCwxLC44NTUsMS4yNywzLjg4OCwzLjg4OCwwLDAsMSwuMzExLDEuNTQ4QTMuODg4LDMuODg4LDAsMCwxLDEzLjUtMy41YTQuMDEyLDQuMDEyLDAsMCwxLS44NTUsMS4yNyw0LjAxMiw0LjAxMiwwLDAsMS0xLjI3Ljg1NSwzLjg4OCwzLjg4OCwwLDAsMS0xLjU0OC4zMTFIMy4xODhWLTE1LjkzN0g5LjgyOGEzLjM4NCwzLjM4NCwwLDAsMSwxLjM0NS4yNywzLjQ2NSwzLjQ2NSwwLDAsMSwxLjEuNzM5LDMuNDY1LDMuNDY1LDAsMCwxLC43MzksMS4xLDMuMzg0LDMuMzg0LDAsMCwxLC4yNywxLjM0NSwzLjM4NCwzLjM4NCwwLDAsMS0uMjcsMS4zNDUsMy40NjUsMy40NjUsMCwwLDEtLjczOSwxLjEsMy40NjUsMy40NjUsMCwwLDEtMS4xLjczOUEzLjM4NCwzLjM4NCwwLDAsMSw5LjgyOC05LjAzMVpNNi4zNzUtOS41NjJINy45NjlhMi4wMzQsMi4wMzQsMCwwLDAsLjgyMi0uMTcsMi4xNzYsMi4xNzYsMCwwLDAsLjY3Ny0uNDU3LDIuMTksMi4xOSwwLDAsMCwuNDU3LS42NzIsMi4wMjQsMi4wMjQsMCwwLDAsLjE3LS44MjYsMi4wMzQsMi4wMzQsMCwwLDAtLjE3LS44MjIsMi4xNzYsMi4xNzYsMCwwLDAtLjQ1Ny0uNjc3LDIuMTc2LDIuMTc2LDAsMCwwLS42NzctLjQ1NywyLjAzNCwyLjAzNCwwLDAsMC0uODIyLS4xN0g2LjM3NVpNOC41LTMuMTg3YTIuMDM0LDIuMDM0LDAsMCwwLC44MjItLjE3QTIuMTc2LDIuMTc2LDAsMCwwLDEwLTMuODE0YTIuMTksMi4xOSwwLDAsMCwuNDU3LS42NzIsMi4wMjQsMi4wMjQsMCwwLDAsLjE3LS44MjYsMi4wMzQsMi4wMzQsMCwwLDAtLjE3LS44MjJBMi4xNzYsMi4xNzYsMCwwLDAsMTAtNi44MTFhMi4xNzYsMi4xNzYsMCwwLDAtLjY3Ny0uNDU3LDIuMDM0LDIuMDM0LDAsMCwwLS44MjItLjE3SDYuMzc1djQuMjVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NTIgNDc5Ljk5OSkiLz4KICA8L2c+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii02MjE5IC04NzQwIDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM2NjY7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxnIGlkPSJGQjpfSXRhbGljcyIgZGF0YS1uYW1lPSJGQjogSXRhbGljcyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY5OTkgLTkxOTUuOTk5KSI+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzIyOTgiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDIyOTgiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzgwIDQ1NS45OTkpIi8+CiAgICA8cGF0aCBpZD0iUGF0aF8xNTUyIiBkYXRhLW5hbWU9IlBhdGggMTU1MiIgY2xhc3M9ImNscy0yIiBkPSJNMTAuODA4LTE3SDExLjkyTDYuMjU5LDBINS4xMzhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3ODggNDc5Ljk5OSkiLz4KICA8L2c+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii02MTgzIC04NzQwIDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM2NjY7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxnIGlkPSJGQjpfVW5kZXJsaW5lIiBkYXRhLW5hbWU9IkZCOiBVbmRlcmxpbmUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02OTk5IC05MTk2KSI+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzIyOTkiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDIyOTkiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODE2IDQ1NikiLz4KICAgIDxwYXRoIGlkPSJQYXRoXzE1NjgiIGRhdGEtbmFtZT0iUGF0aCAxNTY4IiBjbGFzcz0iY2xzLTIiIGQ9Ik0xMy44MTMtMTd2OS41NjNBNS4yLDUuMiwwLDAsMSwxMy40LTUuMzY2LDUuMzQ0LDUuMzQ0LDAsMCwxLDEyLjI2LTMuNjc3LDUuMzQ0LDUuMzQ0LDAsMCwxLDEwLjU3MS0yLjU0LDUuMiw1LjIsMCwwLDEsOC41LTIuMTI1LDUuMiw1LjIsMCwwLDEsNi40MjktMi41NCw1LjM0NCw1LjM0NCwwLDAsMSw0Ljc0LTMuNjc3LDUuMzQ0LDUuMzQ0LDAsMCwxLDMuNi01LjM2NmE1LjIsNS4yLDAsMCwxLS40MTUtMi4wNzFWLTE3SDQuMjV2OS41NjNhNC4wOTIsNC4wOTIsMCwwLDAsLjMzNiwxLjY1MkE0LjMzNiw0LjMzNiwwLDAsMCw1LjUtNC40MzdhNC4zMzYsNC4zMzYsMCwwLDAsMS4zNDkuOTEzQTQuMDkyLDQuMDkyLDAsMCwwLDguNS0zLjE4N2E0LjA5Miw0LjA5MiwwLDAsMCwxLjY1Mi0uMzM2QTQuMzM2LDQuMzM2LDAsMCwwLDExLjUtNC40MzdhNC4zMzYsNC4zMzYsMCwwLDAsLjkxMy0xLjM0OSw0LjA5Miw0LjA5MiwwLDAsMCwuMzM2LTEuNjUyVi0xN1pNMy4xODgtMS4wNjJIMTMuODEzVjBIMy4xODhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MjQgNDgwKSIvPgogIDwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii02MzI3IC04NzQwIDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM2NjY7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxnIGlkPSJGQjpfRm9udCIgZGF0YS1uYW1lPSJGQjogRm9udCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY5OTkgLTkxOTUuOTk5KSI+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzIyOTUiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDIyOTUiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjcyIDQ1NS45OTkpIi8+CiAgICA8cGF0aCBpZD0iUGF0aF8xNTA0IiBkYXRhLW5hbWU9IlBhdGggMTUwNCIgY2xhc3M9ImNscy0yIiBkPSJNNi4zNS04LjVIMy4yMTJMMi41MDctNi4zNzVIMS4zODZsMi44MzktOC41SDUuMzM3TDcuNTYyLTguMjE4LDYuODktNi44NzNaTTUuOTkzLTkuNTYyLDQuNzgxLTEzLjIsMy41NjktOS41NjJabTguMTUxLDUuNjM2cS4xNDEuMzQuMjYxLjYwNmExLjc4MiwxLjc4MiwwLDAsMCwuMjg2LjQ1MiwxLjA0NiwxLjA0NiwwLDAsMCwuNDE1LjI4MiwxLjgzOCwxLjgzOCwwLDAsMCwuNjQ3LjF2LjM2NUgxMi4wMjhWLTIuNDlxLjE0MSwwLC4zMTEsMGExLjE5MywxLjE5MywwLDAsMCwuMzItLjAzMy41MjQuNTI0LDAsMCwwLC4yNDktLjEzNy40MTguNDE4LDAsMCwwLC4xLS4zMDcsMS4zODIsMS4zODIsMCwwLDAtLjA1NC0uMzI0cS0uMDU0LS4yMDgtLjEzMy0uNDQ4dC0uMTc0LS40OTRxLS4xLS4yNTMtLjE4My0uNDc3dC0uMTU0LS4zODZxLS4wNjYtLjE2Mi0uMDkxLS4yMkg4LjVxLS4wMjUuMDY2LS4xLjIyOFQ4LjIzLTQuN3EtLjEuMjItLjIuNDY5dC0uMTkxLjQ4NnEtLjA4Ny4yMzctLjE0MS40NDRhMS40LDEuNCwwLDAsMC0uMDU0LjMzMi4zODIuMzgyLDAsMCwwLC4xLjI5NUEuNTcxLjU3MSwwLDAsMCw4LTIuNTQ0YTEuNDYyLDEuNDYyLDAsMCwwLC4zMi4wNDJxLjE3LDAsLjMuMDEydi4zNjVINS41Vi0yLjQ5YTIuOTA5LDIuOTA5LDAsMCwwLC42MzEtLjE3NC45ODQuOTg0LDAsMCwwLC4zNjUtLjI3LDEuNjksMS42OSwwLDAsMCwuMjQ5LS40MjdsLjI3NC0uNjU2LDMuMjU0LTcuNjdoLjY4MVpNMTEuNzI5LTYuMzc1LDEwLjI2LTkuNTM4bC0xLjQsMy4xNjNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2ODAgNDc5Ljk5OSkiLz4KICA8L2c+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2aWV3Qm94PSItOCAtOCAzMiAzMiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPHRpdGxlPmZvbnRzaXplMTY8L3RpdGxlPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9ImZvbnRzaXplMTYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJHcm91cC01IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjAwMDAwMCwgLTIuMTAwMDAwKSI+CiAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJGaWxsLTEiIGZpbGw9IiMyRTc3RDAiIHBvaW50cz0iMTQuMDU4NTcxNCAzLjY1NTcxNDI5IDExLjcxNCAxLjMxMTcxNDI5IDkuMzcgMy42NTU3MTQyOSA4LjkxNTcxNDI5IDMuMjAxNDI4NTcgMTEuNzE0IDAuNDAyNTcxNDI5IDE0LjUxMjg1NzEgMy4yMDE0Mjg1NyI+PC9wb2x5Z29uPgogICAgICAgICAgICA8cG9seWdvbiBpZD0iRmlsbC0yIiBmaWxsPSIjMkU3N0QwIiBwb2ludHM9IjExLjcxNDI4NTcgOC4xNjkwODU3MSA4LjkxNiA1LjM3MDIyODU3IDkuMzY5NzE0MjkgNC45MTU5NDI4NiAxMS43MTQyODU3IDcuMjU5MzcxNDMgMTQuMDU4ODU3MSA0LjkxNTk0Mjg2IDE0LjUxMjU3MTQgNS4zNzAyMjg1NyI+PC9wb2x5Z29uPgogICAgICAgICAgICA8cGF0aCBkPSJNNC45MDUxNDI4Niw1LjA0NTc3MTQzIEw0Ljg3MTQyODU3LDUuMDQ1NzcxNDMgQzQuNzc2NTcxNDMsNS40MTk0ODU3MSA0LjY4NDU3MTQzLDUuNzE4MzQyODYgNC41OTU0Mjg1Nyw1Ljk0MTIgTDIuNTc4Mjg1NzEsMTEuNDI4NjI4NiBMNy4yMDY4NTcxNCwxMS40Mjg2Mjg2IEw1LjE4MTE0Mjg2LDUuOTU4MzQyODYgTDQuOTA1MTQyODYsNS4wNDU3NzE0MyBaIE04Ljg2NDU3MTQzLDE2LjAwMDA1NzEgTDcuNDkxNDI4NTcsMTIuMjEwOTE0MyBMMi4yODUxNDI4NiwxMi4yMTA5MTQzIEwwLjkxMjU3MTQyOSwxNi4wMDAwNTcxIEwwLDE2LjAwMDA1NzEgTDQuNTI4NTcxNDMsNC4wMDAwNTcxNCBMNS4zMTU0Mjg1Nyw0LjAwMDA1NzE0IEw5Ljc5MzcxNDI5LDE2LjAwMDA1NzEgTDguODY0NTcxNDMsMTYuMDAwMDU3MSBaIiBpZD0iRmlsbC0zIiBmaWxsPSIjNjY2NjY2Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii02MTEyIC04NzQwIDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM2NjY7CiAgICAgIH0KCiAgICAgIC5jbHMtMyB7CiAgICAgICAgZmlsbDogI0Q4MjMwMDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9IkZCOl9Db2xvciIgZGF0YS1uYW1lPSJGQjogQ29sb3IiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02OTk5IC05MTk0LjkpIj4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMjMwMSIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMjMwMSIgY2xhc3M9ImNscy0xIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4ODcgNDU2KSIvPgogICAgPGcgaWQ9Ikdyb3VwXzM4MDkiIGRhdGEtbmFtZT0iR3JvdXAgMzgwOSI+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzE2MDAiIGRhdGEtbmFtZT0iUGF0aCAxNjAwIiBjbGFzcz0iY2xzLTIiIGQ9Ik0zLjkyNi0zLjE4N0gyLjgwNkw3LjQxMy0xN0g4LjUyNUwxMy4xMzItMy4xODdIMTIuMDExTDEwLjYtNy40MzdINS4zMzdaTTUuNjk0LTguNWg0LjU0OUw3Ljk2OS0xNS4zMTVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4OTUgNDc5Ljk5OSkiLz4KICAgICAgPHBhdGggaWQ9IlBhdGhfMTAwMCIgZGF0YS1uYW1lPSJQYXRoIDEwMDAiIGNsYXNzPSJjbHMtMyIgZD0iTTEzLjgxMy0yLjEyNXYxLjA2M0gyLjEyNVYtMi4xMjVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4OTUgNDgwKSIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2aWV3Qm94PSItOCAtOCAzMiAzMiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPHRpdGxlPkhpZ2hsaWdodDwvdGl0bGU+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iaGlnaGxpZ2h0ZXIxNiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTE1LjM0OTI0MDgsMS4zMTI1IEMxNS41NjkwNTI4LDEuNTM4NjkwNDggMTUuNzMzOTExOCwxLjc5MTY2NjY3IDE1Ljg0MzgxNzgsMi4wNzE0Mjg1NyBDMTUuOTQ3OTM5MywyLjM1MTE5MDQ4IDE2LDIuNjM5ODgwOTUgMTYsMi45Mzc1IEMxNiwzLjIyOTE2NjY3IDE1Ljk0NzkzOTMsMy41MTQ4ODA5NSAxNS44NDM4MTc4LDMuNzk0NjQyODYgQzE1LjczMzkxMTgsNC4wNzQ0MDQ3NiAxNS41NjkwNTI4LDQuMzI3MzgwOTUgMTUuMzQ5MjQwOCw0LjU1MzU3MTQzIEw3LjQ5Njc0NjIsMTIuNjMzOTI4NiBMNS4zMzYyMjU2LDEyLjgwMzU3MTQgTDUuMzM2MjI1NiwxMy43MTQyODU3IEwwLDEzLjcxNDI4NTcgTDIuNjcyNDUxMTksMTEuODkyODU3MSBMMy4xMTQ5Njc0Niw5LjM5Mjg1NzE0IEwzLjczMTAxOTUyLDguNzUgTDMuNzIyMzQyNzMsOC43NSBMMTEuNTc0ODM3MywwLjY2OTY0Mjg1NyBDMTEuNzk0NjQ5MywwLjQ0MzQ1MjM4MSAxMi4wNDA0OTE3LDAuMjc2Nzg1NzE0IDEyLjMxMjM2NDQsMC4xNjk2NDI4NTcgQzEyLjU4NDIzNzIsMC4wNTY1NDc2MTkgMTIuODYxODk0NCw4Ljg4MTc4NDJlLTE1IDEzLjE0NTMzNjIsOC44ODE3ODQyZS0xNSBDMTMuNDM0NTYyNSw4Ljg4MTc4NDJlLTE1IDEzLjcxNTExMjEsMC4wNTY1NDc2MTkgMTMuOTg2OTg0OCwwLjE2OTY0Mjg1NyBDMTQuMjU4ODU3NiwwLjI3Njc4NTcxNCAxNC41MDQ2OTk5LDAuNDQzNDUyMzgxIDE0LjcyNDUxMTksMC42Njk2NDI4NTcgTDE1LjM0OTI0MDgsMS4zMTI1IFogTTE0LjcyNDUxMTksMy45MDE3ODU3MSBDMTQuODQ1OTg3LDMuNzc2Nzg1NzEgMTQuOTQxNDMxNywzLjYzMDk1MjM4IDE1LjAxMDg0NiwzLjQ2NDI4NTcxIEMxNS4wNzQ0NzU4LDMuMjkxNjY2NjcgMTUuMTA2MjkwNywzLjExMzA5NTI0IDE1LjEwNjI5MDcsMi45Mjg1NzE0MyBDMTUuMTAwNTA2MSwyLjc1IDE1LjA2NTc5OSwyLjU3NzM4MDk1IDE1LjAwMjE2OTIsMi40MTA3MTQyOSBDMTQuOTM4NTM5NCwyLjI0NDA0NzYyIDE0Ljg0NTk4NywyLjA5NTIzODEgMTQuNzI0NTExOSwxLjk2NDI4NTcxIEwxNC4wOTExMDYzLDEuMzEyNSBDMTMuOTY5NjMxMiwxLjE4NzUgMTMuODI3OTEwMywxLjA5MjI2MTkgMTMuNjY1OTQzNiwxLjAyNjc4NTcxIEMxMy40OTgxOTIzLDAuOTU1MzU3MTQzIDEzLjMyNzU0ODgsMC45MTk2NDI4NTcgMTMuMTU0MDEzLDAuOTE5NjQyODU3IEMxMi45Njg5MDgyLDAuOTI1NTk1MjM4IDEyLjc5NTM3MjQsMC45NjEzMDk1MjQgMTIuNjMzNDA1NiwxLjAyNjc4NTcxIEMxMi40NzE0Mzg5LDEuMDkyMjYxOSAxMi4zMjk3MTgsMS4xODc1IDEyLjIwODI0MywxLjMxMjUgTDQuOTgwNDc3MjIsOC43NSBMNy40OTY3NDYyLDExLjMzOTI4NTcgTDE0LjcyNDUxMTksMy45MDE3ODU3MSBaIiBpZD0iU2hhcGUiIGZpbGw9IiM2NjY2NjYiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgIDxwb2x5Z29uIGlkPSJTaGFwZSIgZmlsbD0iI0ZGQjkwMCIgZmlsbC1ydWxlPSJub256ZXJvIiBwb2ludHM9IjE2IDE2IDAgMTYgMCAxNSAxNiAxNSI+PC9wb2x5Z29uPgogICAgPC9nPgo8L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnMiIKICAgd2lkdGg9IjMyNSIKICAgaGVpZ2h0PSIzODAiPgogIDx0aXRsZQogICAgIGlkPSJ0aXRsZTM4MzIiPlJvbWFuIGxldHRlciBBIChjYXBpdGFsIGFuZCBsb3dlciBjYXNlKTwvdGl0bGU+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+Um9tYW4gbGV0dGVyIEEgKGNhcGl0YWwgYW5kIGxvd2VyIGNhc2UpPC9kYzp0aXRsZT4KICAgICAgICA8ZGM6ZGF0ZT4yMDE0LTA1LTI2PC9kYzpkYXRlPgogICAgICAgIDxkYzpjcmVhdG9yPgogICAgICAgICAgPGNjOkFnZW50PgogICAgICAgICAgICA8ZGM6dGl0bGU+SHlkcmFyZ3lydW08L2RjOnRpdGxlPgogICAgICAgICAgPC9jYzpBZ2VudD4KICAgICAgICA8L2RjOmNyZWF0b3I+CiAgICAgICAgPGRjOnB1Ymxpc2hlcj4KICAgICAgICAgIDxjYzpBZ2VudD4KICAgICAgICAgICAgPGRjOnRpdGxlPldpa2lwZWRpYTwvZGM6dGl0bGU+CiAgICAgICAgICA8L2NjOkFnZW50PgogICAgICAgIDwvZGM6cHVibGlzaGVyPgogICAgICAgIDxkYzpkZXNjcmlwdGlvbj5UaW1lcyBOZXcgUm9tYW4gY2FwaXRhbCAmcXVvdDtBJnF1b3Q7IGFuZCBBYmFkaSBNVCBDb25kZW5zZWQgTGlnaHQgbG93ZXJjYXNlICZxdW90O2EmcXVvdDs8L2RjOmRlc2NyaXB0aW9uPgogICAgICAgIDxjYzpsaWNlbnNlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9wdWJsaWNkb21haW4vIiAvPgogICAgICA8L2NjOldvcms+CiAgICAgIDxjYzpMaWNlbnNlCiAgICAgICAgIHJkZjphYm91dD0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvcHVibGljZG9tYWluLyI+CiAgICAgICAgPGNjOnBlcm1pdHMKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zI1JlcHJvZHVjdGlvbiIgLz4KICAgICAgICA8Y2M6cGVybWl0cwogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjRGlzdHJpYnV0aW9uIiAvPgogICAgICAgIDxjYzpwZXJtaXRzCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyNEZXJpdmF0aXZlV29ya3MiIC8+CiAgICAgIDwvY2M6TGljZW5zZT4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMzcyLjY1OTEyKSIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxyZWN0CiAgICAgICB5PSIzNzIuMzYyIgogICAgICAgeD0iMCIKICAgICAgIGhlaWdodD0iMzgwIgogICAgICAgd2lkdGg9IjMyNSIKICAgICAgIGlkPSJyZWN0MzA3MSIKICAgICAgIHN0eWxlPSJmaWxsOnRyYW5zcGFyZW50IiAvPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gMTkzLjYxMjUsNTY1LjAxMjE5IEggMTA0LjQ2MzQxIEwgODguODQxMSw2MDEuMzUxMDUgYyAtMy44NDkwMyw4Ljk0MzI0IC01Ljc3MzUyLDE1LjYyMjM0IC01Ljc3MzQ3LDIwLjAzNzMyIDAsMy41MDkzOCAxLjY0MTQzLDYuNjIyNTIgNC45MjQ0Myw5LjMzOTQzIDMuMzk2MSwyLjYwMzczIDEwLjY0MTIyLDQuMzAxOCAyMS43MzUzOSw1LjA5NDIzIHYgNi4yODI4OSBIIDM3LjIxOTUzIHYgLTYuMjgyODkgYyA5LjYyMjQzLC0xLjY5ODA3IDE1Ljg0ODcxLC0zLjkwNTU3IDE4LjY3ODg2LC02LjYyMjUgNS43NzM0NCwtNS40MzM4MyAxMi4xNjk1MiwtMTYuNDcxMzMgMTkuMTg4MjgsLTMzLjExMjUyIGwgODAuOTk4MzEsLTE4OS41MDU0OCBoIDUuOTQzMjcgbCA4MC4xNDkyNywxOTEuNTQzMTggYyA2LjQ1MjQ4LDE1LjM5NTkzIDEyLjI4MjU0LDI1LjQxNDU4IDE3LjQ5MDIsMzAuMDU1OTcgNS4zMjA0MSw0LjUyODIyIDEyLjY3ODc0LDcuMDc1MzMgMjIuMDc1MDEsNy42NDEzNSB2IDYuMjgyODkgaCAtOTAuODQ3MTYgdiAtNi4yODI4OSBjIDkuMTY5NDYsLTAuNDUyODEgMTUuMzM5MTMsLTEuOTgxMDggMTguNTA5MDUsLTQuNTg0ODEgMy4yODI3NywtMi42MDM3IDQuOTI0MjUsLTUuNzczNDUgNC45MjQ0MiwtOS41MDkyMyAwLC00Ljk4MTAxIC0yLjI2NDI4LC0xMi44NDg3NiAtNi43OTIzMSwtMjMuNjAzMjggTCAxOTMuNjEyNSw1NjUuMDEyMTkgbSAtNC43NTQ2MiwtMTIuNTY1NzggLTM5LjA1NTc5LC05My4wNTQ2NiAtNDAuMDc0NjQsOTMuMDU0NjYgaCA3OS4xMzA0MyIKICAgICAgIHN0eWxlPSJmb250LXNpemU6MzQ3Ljc2NjMyNjlweDtmb250LWZhbWlseTonVGltZXMgTmV3IFJvbWFuJzstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidUaW1lcyBOZXcgUm9tYW4sJztmaWxsOiMyRTc3RDAiCiAgICAgICBpZD0icGF0aDMwNjAiIC8+CiAgICA8cGF0aAogICAgICAgZD0ibSA3Mi45NDkwMSw1MDAuMTMwNTMgYyAxNC41MDgyMiwtOC4wNjAwMSAyNi42OTMyNSwtMTIuMDkwMDggMzYuNTU1MTIsLTEyLjA5MDIxIDE0LjIyMzcxLDAgMjQuOTg2MzYsNC4xMjUwMyAzMi4yODc5OCwxMi4zNzQ2OCA3LjMwMTQ0LDguMzQ0NzQgMTAuOTUyMjEsMTkuNTM0MSAxMC45NTIzMSwzMy41NjgxMiB2IDcxLjU0NTYyIGMgMCw1LjIxNTQgMi40NjUzNSw3LjgyMzA5IDcuMzk2MzYsNy44MjMwOCAyLjU2MDE3LDAgNS4xMjA0NSwtMC43MTExOCA3LjY4MDg0LC0yLjEzMzU3IHYgMTUuNTAzOTIgYyAtNC41NTE3MiwyLjA4NjE1IC05LjE5ODE1LDMuMTI5MjMgLTEzLjkzOTMsMy4xMjkyMyAtMTIuMzI3MzYsMCAtMTguNjgwNjUsLTcuMjU0MTIgLTE5LjA1OTg2LC0yMS43NjIzOCAtNC42NDY1Miw3LjIwNjcyIC05LjgxNDQ4LDEyLjY1OTE3IC0xNS41MDM5MiwxNi4zNTczNCAtNS42ODk1OCwzLjYwMzM2IC0xMS44NTMyMSw1LjQwNTA0IC0xOC40OTA5Miw1LjQwNTA0IC0xMC44MTAxMSwwIC0xOS44NjU5MSwtMy45MzUyNSAtMjcuMTY3NDIsLTExLjgwNTc0IC03LjMwMTU1LC03Ljg3MDQ3IC0xMC45NTIzMiwtMTcuNDk1MjIgLTEwLjk1MjMxLC0yOC44NzQyNyAwLC0xMi4wNDI3NSA0LjUwNDE4LC0yMi4wNDY4IDEzLjUxMjU5LC0zMC4wMTIxOCA5LjEwMzE5LC03Ljk2NTI0IDI4LjYzNzE2LC0xMy4zNzAyNyA1OC42MDE5OCwtMTYuMjE1MSB2IC0xMS42NjM1IGMgMCwtNy42ODA3NCAtMi41MTI5NSwtMTMuOTg2NjEgLTcuNTM4NjEsLTE4LjkxNzYzIC00LjkzMDk4LC01LjAyNTYyIC0xMS4wOTQ2MSwtNy41Mzg0OCAtMTguNDkwOTEsLTcuNTM4NiAtMTAuNTI1NjQsMCAtMjIuNDczNjEsNS4yMTU1IC0zNS44NDM5MywxNS42NDYxNSB2IC0yMC4zNCBtIDYxLjg3MzQ1LDU2Ljc1Mjg4IGMgLTIzLjQyMTg5LDIuODQ0ODIgLTM4LjI2MjAyLDYuODc0ODkgLTQ0LjUyMDQ0LDEyLjA5MDIxIC02LjE2MzY2LDUuMTIwNjIgLTkuMjQ1NDgsMTEuNjYzNTUgLTkuMjQ1NDUsMTkuNjI4ODIgMCw3LjIwNjc0IDIuMjc1NzcsMTMuMTgwNzMgNi44Mjc0MSwxNy45MjE5NiA0LjU1MTU3LDQuNjQ2NDUgMTAuMjg4NDksNi45Njk2NyAxNy4yMTA3OCw2Ljk2OTY1IDguNjI5MDMsMCAxNS43NDA5MSwtMy42MDMzNCAyMS4zMzU2NywtMTAuODEwMDcgNS41OTQ2LC03LjIwNjY4IDguMzkxOTQsLTE2LjQ1MjEzIDguMzkyMDMsLTI3LjczNjM3IHYgLTE4LjA2NDIiCiAgICAgICBzdHlsZT0iZm9udC1zaXplOjI5MS4zMDMwMDkwM3B4O2ZvbnQtZmFtaWx5OidBYmFkaSBNVCBDb25kZW5zZWQgTGlnaHQnOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J0FiYWRpIE1UIENvbmRlbnNlZCBMaWdodCwgQm9sZCc7ZmlsbDojMDAwIgogICAgICAgaWQ9InBhdGgzMDY0IiAvPgogIDwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMDU2OCAtMTA0NTcgMzIgMzIiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6IG5vbmU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogIzY2NjsKICAgICAgfQoKICAgICAgLmNscy0zIHsKICAgICAgICBmaWxsOiAjMkU3N0QwOwogICAgICB9CiAgICA8L3N0eWxlPgogIDwvZGVmcz4KICA8ZyBpZD0iXzAwLVVMIiBkYXRhLW5hbWU9IjAwLVVMIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE2MzUgLTEwOTEyLjk5OSkiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8yMzA2IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyMzA2IiBjbGFzcz0iY2xzLTEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNjcgNDU1Ljk5OSkiLz4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMzA1NyIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMzA1NyIgY2xhc3M9ImNscy0yIiB3aWR0aD0iMTMiIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA3OCA0NjYuOTk5KSIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8zMDU4IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzMDU4IiBjbGFzcz0iY2xzLTIiIHdpZHRoPSIxMyIgaGVpZ2h0PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDc4IDQ2OS45OTkpIi8+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNTkiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNTkiIGNsYXNzPSJjbHMtMiIgd2lkdGg9IjEzIiBoZWlnaHQ9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNzggNDcyLjk5OSkiLz4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMzA2MCIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMzA2MCIgY2xhc3M9ImNscy0yIiB3aWR0aD0iMTMiIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA3OCA0NzUuOTk5KSIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8zMDYyIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzMDYyIiBjbGFzcz0iY2xzLTMiIHdpZHRoPSIxIiBoZWlnaHQ9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNzUgNDY2Ljk5OSkiLz4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMzA2NSIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMzA2NSIgY2xhc3M9ImNscy0zIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDc1IDQ2OS45OTkpIi8+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNjQiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNjQiIGNsYXNzPSJjbHMtMyIgd2lkdGg9IjEiIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA3NSA0NzIuOTk5KSIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8zMDYzIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzMDYzIiBjbGFzcz0iY2xzLTMiIHdpZHRoPSIxIiBoZWlnaHQ9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNzUgNDc1Ljk5OSkiLz4KICA8L2c+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMDUzNiAtMTA0NTcgMzIgMzIiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6IG5vbmU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogIzY2NjsKICAgICAgfQoKICAgICAgLmNscy0zIHsKICAgICAgICBmaWxsOiAjMkU3N0QwOwogICAgICB9CiAgICA8L3N0eWxlPgogIDwvZGVmcz4KICA8ZyBpZD0iXzAxLU9MIiBkYXRhLW5hbWU9IjAxLU9MIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE2MDMgLTEwOTEyLjk5OSkiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8yMzA2IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyMzA2IiBjbGFzcz0iY2xzLTEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNjcgNDU1Ljk5OSkiLz4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMzA1NyIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMzA1NyIgY2xhc3M9ImNscy0yIiB3aWR0aD0iMTIiIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA3OSA0NjYuOTk5KSIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8zMDU4IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzMDU4IiBjbGFzcz0iY2xzLTIiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDc5IDQ3MC45OTkpIi8+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNTkiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNTkiIGNsYXNzPSJjbHMtMiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNzkgNDc0Ljk5OSkiLz4KICAgIDxwYXRoIGlkPSJQYXRoXzE4MzMiIGRhdGEtbmFtZT0iUGF0aCAxODMzIiBjbGFzcz0iY2xzLTMiIGQ9Ik0xLjEyMS0xNC4xYTEuNSwxLjUsMCwwLDEtLjMxMS4xNzguODc3Ljg3NywwLDAsMS0uMzUzLjA4N3YtLjU3M3EuMjU3LS4wOTEuNDktLjJhMi4zNzYsMi4zNzYsMCwwLDAsLjQ0OC0uMjc0SDEuOHYzLjJIMS4xMjFabS0uMDA4LDMuNDg2YTEuNDE0LDEuNDE0LDAsMCwxLC4zOTQuMDU0LjkuOSwwLDAsMSwuMzI0LjE2Ni43OTQuNzk0LDAsMCwxLC4yMTYuMjc4LjkuOSwwLDAsMSwuMDc5LjM5Ljk4Mi45ODIsMCwwLDEtLjEuNDUyLDEuNDksMS40OSwwLDAsMS0uMjQ1LjM0OSwyLjAxMywyLjAxMywwLDAsMS0uMzIuMjc0cS0uMTc0LjEyLS4zMi4yMjRBMS43NDQsMS43NDQsMCwwLDAsLjktOC4yMjJhLjMwNy4zMDcsMCwwLDAtLjEuMjEySDIuMTI1di41NzNILjA0MnEwLS4xOTEsMC0uMzRBLjg5Ljg5LDAsMCwxLC4xMjUtOC4xYTEuMzksMS4zOSwwLDAsMSwuMzQtLjQ3N3EuMjE2LS4yLjQyNy0uMzYxYTMuNDE5LDMuNDE5LDAsMCwwLC4zNjktLjMzMi41NDguNTQ4LDAsMCwwLC4xNTgtLjM5LjM2Ni4zNjYsMCwwLDAtLjEyNS0uMzE1LjU0OS41NDksMCwwLDAtLjMzMi0uMDkxLjk1OC45NTgsMCwwLDAtLjQxMS4wOTEsMS42MDgsMS42MDgsMCwwLDAtLjM2MS4yMzJ2LS42MDZBMS42NzQsMS42NzQsMCwwLDEsMS4xMTItMTAuNjE3Wm0uMyw1LjhhLjk0NC45NDQsMCwwLDEsLjUwNi4yMjQuNjM5LjYzOSwwLDAsMSwuMjA4LjUwNi44NzcuODc3LDAsMCwxLS4xLjQ0Ljg2NS44NjUsMCwwLDEtLjI3LjI5NSwxLjE5LDEuMTksMCwwLDEtLjM4Ni4xNjYsMS44NTgsMS44NTgsMCwwLDEtLjQ0NC4wNTQsMi41LDIuNSwwLDAsMS0uNC0uMDMzLDEuMzQxLDEuMzQxLDAsMCwxLS4zODYtLjEyNXYtLjYwNmExLjE1NSwxLjE1NSwwLDAsMCwuMzQ0LjE3NCwxLjI5MiwxLjI5MiwwLDAsMCwuMzg2LjA1OC44LjgsMCwwLDAsLjM4Ni0uMDkxLjM1MS4zNTEsMCwwLDAsLjE3LS4zNC4zMjYuMzI2LDAsMCwwLS4xMDgtLjI3LjY1Ny42NTcsMCwwLDAtLjI2MS0uMTI1LDEuMzQ3LDEuMzQ3LDAsMCwwLS4zMi0uMDM3SC40NDh2LS41MzFILjcxNEExLjM3NywxLjM3NywwLDAsMCwxLTUuMDg0LjUwOC41MDgsMCwwLDAsMS4yMzMtNS4yYS4zMjMuMzIzLDAsMCwwLC4xLS4yNTcuMzIuMzIsMCwwLDAtLjEzNy0uMy42MjEuNjIxLDAsMCwwLS4zMjgtLjA4MywxLjA2OCwxLjA2OCwwLDAsMC0uNjE0LjJWLTYuMmExLjQ1MiwxLjQ1MiwwLDAsMSwuMzc4LS4xMjksMi4wOTIsMi4wOTIsMCwwLDEsLjM5NC0uMDM3LDEuNjQzLDEuNjQzLDAsMCwxLC4zNjUuMDQyLjk0Ni45NDYsMCwwLDEsLjMyNC4xMzcuNzg3Ljc4NywwLDAsMSwuMjMyLjI0NS42NzEuNjcxLDAsMCwxLC4wOTEuMzU3Ljc0Ljc0LDAsMCwxLS4xNjIuNS44NjguODY4LDAsMCwxLS40NjEuMjYxWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA3NSA0ODAuOTk5KSIvPgogIDwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMDQwOCAtMTA0NTcgMzIgMzIiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6IG5vbmU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogIzY2NjsKICAgICAgfQoKICAgICAgLmNscy0zIHsKICAgICAgICBmaWxsOiAjMkU3N0QwOwogICAgICB9CiAgICA8L3N0eWxlPgogIDwvZGVmcz4KICA8ZyBpZD0iXzA1LUluZGVudExlZnQiIGRhdGEtbmFtZT0iMDUtSW5kZW50TGVmdCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExNDc1IC0xMDkxMi45OTkpIj4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMjMwNiIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMjMwNiIgY2xhc3M9ImNscy0xIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDY3IDQ1NS45OTkpIi8+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNTciIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNTciIGNsYXNzPSJjbHMtMiIgd2lkdGg9IjkiIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA4MiA0NjYuOTk5KSIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8zMDU4IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzMDU4IiBjbGFzcz0iY2xzLTIiIHdpZHRoPSI2IiBoZWlnaHQ9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwODIgNDY4Ljk5OSkiLz4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMzA1OSIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMzA1OSIgY2xhc3M9ImNscy0yIiB3aWR0aD0iOSIgaGVpZ2h0PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDgyIDQ3MC45OTkpIi8+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNjAiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNjAiIGNsYXNzPSJjbHMtMiIgd2lkdGg9IjYiIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA4MiA0NzIuOTk5KSIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8zMDYxIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzMDYxIiBjbGFzcz0iY2xzLTIiIHdpZHRoPSI5IiBoZWlnaHQ9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwODIgNDc0Ljk5OSkiLz4KICAgIDxnIGlkPSJHcm91cF8zOTg5IiBkYXRhLW5hbWU9Ikdyb3VwIDM5ODkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMSkiPgogICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNjIiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNjIiIGNsYXNzPSJjbHMtMyIgd2lkdGg9IjYiIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA4NiA0NzAuOTk5KSIvPgogICAgICA8cGF0aCBpZD0iQXJyb3ciIGNsYXNzPSJjbHMtMyIgZD0iTTExMzk1LDEwOTE3di00aDR2MWgtM3YzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE0Njg5LjEzOCA4MTIuMzI2KSByb3RhdGUoLTQ1KSIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMDM3NiAtMTA0NTcgMzIgMzIiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6IG5vbmU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogIzY2NjsKICAgICAgfQoKICAgICAgLmNscy0zIHsKICAgICAgICBmaWxsOiAjMkU3N0QwOwogICAgICB9CiAgICA8L3N0eWxlPgogIDwvZGVmcz4KICA8ZyBpZD0iXzA2LUluZGVudFJpZ2h0IiBkYXRhLW5hbWU9IjA2LUluZGVudFJpZ2h0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE0NDMgLTEwOTEyLjk5OSkiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8yMzA2IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyMzA2IiBjbGFzcz0iY2xzLTEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNjcgNDU1Ljk5OSkiLz4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMzA1NyIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMzA1NyIgY2xhc3M9ImNscy0yIiB3aWR0aD0iOSIgaGVpZ2h0PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDgyIDQ2Ni45OTkpIi8+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNTgiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNTgiIGNsYXNzPSJjbHMtMiIgd2lkdGg9IjYiIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA4MiA0NjguOTk5KSIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8zMDU5IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzMDU5IiBjbGFzcz0iY2xzLTIiIHdpZHRoPSI5IiBoZWlnaHQ9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwODIgNDcwLjk5OSkiLz4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMzA2MCIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMzA2MCIgY2xhc3M9ImNscy0yIiB3aWR0aD0iNiIgaGVpZ2h0PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDgyIDQ3Mi45OTkpIi8+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNjEiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNjEiIGNsYXNzPSJjbHMtMiIgd2lkdGg9IjkiIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA4MiA0NzQuOTk5KSIvPgogICAgPGcgaWQ9Ikdyb3VwXzM5ODgiIGRhdGEtbmFtZT0iR3JvdXAgMzk4OCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjE2NS45OTkgOTQyLjk5OCkgcm90YXRlKDE4MCkiPgogICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNjIiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNjIiIGNsYXNzPSJjbHMtMyIgd2lkdGg9IjYiIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA4NiA0NzAuOTk5KSIvPgogICAgICA8cGF0aCBpZD0iQXJyb3ciIGNsYXNzPSJjbHMtMyIgZD0iTTExMzk1LDEwOTE3di00aDR2MWgtM3YzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE0Njg5LjEzOCA4MTIuMzI2KSByb3RhdGUoLTQ1KSIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii02MDQxIC0xMDMzMiAzMiAzMiI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogbm9uZTsKICAgICAgfQoKICAgICAgLmNscy0yIHsKICAgICAgICBmaWxsOiAjNjY2OwogICAgICAgIHN0cm9rZTogcmdiYSgwLDAsMCwwKTsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9IkZCOl9CbG9ja3F1b3RlIiBkYXRhLW5hbWU9IkZCOiBCbG9ja3F1b3RlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzA2OCAtMTA3MzcuOTk5KSI+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzIzMDYiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDIzMDYiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAyNyA0MDUuOTk5KSIvPgogICAgPHBhdGggaWQ9IlBhdGhfMTgzMiIgZGF0YS1uYW1lPSJQYXRoIDE4MzIiIGNsYXNzPSJjbHMtMiIgZD0iTTAsLjU0OEgyLjc1NlYzLjRhNi43NzksNi43NzksMCwwLDEtLjA1OC44NzIsNC45OSw0Ljk5LDAsMCwxLS4xOTEuODY3LDQuMTM4LDQuMTM4LDAsMCwxLS4zNDQuNzkzLDIuNywyLjcsMCwwLDEtLjUxLjY1MiwyLjI1LDIuMjUsMCwwLDEtLjcuNDQsMi40MTksMi40MTksMCwwLDEtLjkwOS4xNjJ2LTEuM2ExLjEzMiwxLjEzMiwwLDAsMCwuNTM1LS4xMiwxLjIyNSwxLjIyNSwwLDAsMCwuMzg2LS4zMTUsMS42LDEuNiwwLDAsMCwuMjUzLS40NTIsMy40MzEsMy40MzEsMCwwLDAsLjE0OS0uNTMxLDQuNjQxLDQuNjQxLDAsMCwwLC4wNzUtLjU1MnEuMDIxLS4yNzguMDIxLS41MUgwWm03LjI2MywwVjMuNGE2LjgsNi44LDAsMCwxLS4xMzMsMS4zMiwzLjk2NywzLjk2NywwLDAsMS0uNDQ4LDEuMjIsMi42NywyLjY3LDAsMCwxLS44MzQuOSwyLjI3OSwyLjI3OSwwLDAsMS0xLjMuMzQ5di0xLjNhMS4wOCwxLjA4LDAsMCwwLC43NDMtLjI1MywxLjY2NCwxLjY2NCwwLDAsMCwuNDQtLjYzMSwzLjE4OSwzLjE4OSwwLDAsMCwuMjA4LS44MDlBNi40LDYuNCwwLDAsMCw1Ljk5MywzLjRINC41MzJWLjU0OFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMzkgNDE4LjQ1MSkiLz4KICA8L2c+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMDUwNCAtMTA0NTcgMzIgMzIiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6IG5vbmU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogIzY2NjsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9Il8wMi1MZWZ0IiBkYXRhLW5hbWU9IjAyLUxlZnQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTU3MSAtMTA5MTIuOTk5KSI+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzIzMDYiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDIzMDYiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA2NyA0NTUuOTk5KSIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8zMDU3IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzMDU3IiBjbGFzcz0iY2xzLTIiIHdpZHRoPSIxNyIgaGVpZ2h0PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDc1IDQ2NC45OTkpIi8+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNTgiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNTgiIGNsYXNzPSJjbHMtMiIgd2lkdGg9IjEzIiBoZWlnaHQ9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNzUgNDY3Ljk5OSkiLz4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMzA1OSIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMzA1OSIgY2xhc3M9ImNscy0yIiB3aWR0aD0iMTciIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA3NSA0NzAuOTk5KSIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8zMDYwIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzMDYwIiBjbGFzcz0iY2xzLTIiIHdpZHRoPSIxMyIgaGVpZ2h0PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDc1IDQ3My45OTkpIi8+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNjEiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNjEiIGNsYXNzPSJjbHMtMiIgd2lkdGg9IjE3IiBoZWlnaHQ9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNzUgNDc2Ljk5OSkiLz4KICA8L2c+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMDQ3MiAtMTA0NTcgMzIgMzIiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6IG5vbmU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogIzY2NjsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9Il8wMy1DZW50ZXIiIGRhdGEtbmFtZT0iMDMtQ2VudGVyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE1MzkgLTEwOTEyLjk5OSkiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8yMzA2IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyMzA2IiBjbGFzcz0iY2xzLTEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNjcgNDU1Ljk5OSkiLz4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMzA1NyIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMzA1NyIgY2xhc3M9ImNscy0yIiB3aWR0aD0iMTciIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA3NSA0NjQuOTk5KSIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8zMDU4IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzMDU4IiBjbGFzcz0iY2xzLTIiIHdpZHRoPSIxMyIgaGVpZ2h0PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDc3IDQ2Ny45OTkpIi8+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNTkiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNTkiIGNsYXNzPSJjbHMtMiIgd2lkdGg9IjE3IiBoZWlnaHQ9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNzUgNDcwLjk5OSkiLz4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMzA2MCIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMzA2MCIgY2xhc3M9ImNscy0yIiB3aWR0aD0iMTMiIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA3NyA0NzMuOTk5KSIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8zMDYxIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzMDYxIiBjbGFzcz0iY2xzLTIiIHdpZHRoPSIxNyIgaGVpZ2h0PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDc1IDQ3Ni45OTkpIi8+CiAgPC9nPgo8L3N2Zz4K\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMDQ0MCAtMTA0NTcgMzIgMzIiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6IG5vbmU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogIzY2NjsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9Il8wNC1SaWdodCIgZGF0YS1uYW1lPSIwNC1SaWdodCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExNTA3IC0xMDkxMi45OTkpIj4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMjMwNiIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMjMwNiIgY2xhc3M9ImNscy0xIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDY3IDQ1NS45OTkpIi8+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNTciIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNTciIGNsYXNzPSJjbHMtMiIgd2lkdGg9IjE3IiBoZWlnaHQ9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNzUgNDY0Ljk5OSkiLz4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMzA1OCIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMzA1OCIgY2xhc3M9ImNscy0yIiB3aWR0aD0iMTMiIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA3OSA0NjcuOTk5KSIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8zMDU5IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAzMDU5IiBjbGFzcz0iY2xzLTIiIHdpZHRoPSIxNyIgaGVpZ2h0PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDc1IDQ3MC45OTkpIi8+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzMwNjAiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDMwNjAiIGNsYXNzPSJjbHMtMiIgd2lkdGg9IjEzIiBoZWlnaHQ9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNzkgNDczLjk5OSkiLz4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMzA2MSIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMzA2MSIgY2xhc3M9ImNscy0yIiB3aWR0aD0iMTciIGhlaWdodD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA3NSA0NzYuOTk5KSIvPgogIDwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii01ODk2IC04ODk2IDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM2NjY7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxnIGlkPSJGQjpfTGluayIgZGF0YS1uYW1lPSJGQjogTGluayIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY4ODQgLTkxOTkuOTk5KSI+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzIyOTUiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDIyOTUiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTg4IDMwMy45OTkpIi8+CiAgICA8cGF0aCBpZD0iUGF0aF8xNzAxIiBkYXRhLW5hbWU9IlBhdGggMTcwMSIgY2xhc3M9ImNscy0yIiBkPSJNNC43ODEtMTAuNjI1YTMuNTg3LDMuNTg3LDAsMCwxLDEuNDQ4LjI5NSwzLjc4OCwzLjc4OCwwLDAsMSwxLjE3OS44LDMuNzg4LDMuNzg4LDAsMCwxLC44LDEuMTc5QTMuNTg3LDMuNTg3LDAsMCwxLDguNS02LjkwNmEzLjU4NywzLjU4NywwLDAsMS0uMjk1LDEuNDQ4LDMuNzg4LDMuNzg4LDAsMCwxLS44LDEuMTc5LDMuNzg4LDMuNzg4LDAsMCwxLTEuMTc5LjgsMy41ODcsMy41ODcsMCwwLDEtMS40NDguMjk1SC41MzFBMy41ODcsMy41ODcsMCwwLDEtLjkxNy0zLjQ4MmEzLjc4OCwzLjc4OCwwLDAsMS0xLjE3OS0uOCwzLjc4OCwzLjc4OCwwLDAsMS0uOC0xLjE3OSwzLjU4NywzLjU4NywwLDAsMS0uMjk1LTEuNDQ4LDMuNTg3LDMuNTg3LDAsMCwxLC4yOTUtMS40NDgsMy43ODgsMy43ODgsMCwwLDEsLjgtMS4xNzksMy43ODgsMy43ODgsMCwwLDEsMS4xNzktLjgsMy41ODcsMy41ODcsMCwwLDEsMS40NDgtLjI5NWguNTMxdjEuMDYzYTQuOTI5LDQuOTI5LDAsMCwwLTEuMjA4LjE0NSwyLjkyNiwyLjkyNiwwLDAsMC0xLjAxNy40NjUsMi4zMjcsMi4zMjcsMCwwLDAtLjcuODIyLDIuNjI1LDIuNjI1LDAsMCwwLS4yNjEsMS4yMjQsMi41MjksMi41MjksMCwwLDAsLjIxMiwxLjAyOSwyLjczNywyLjczNywwLDAsMCwuNTczLjg0M0EyLjczNywyLjczNywwLDAsMC0uNS00LjQ2MiwyLjUyOSwyLjUyOSwwLDAsMCwuNTMxLTQuMjVoNC4yNWEyLjUyOSwyLjUyOSwwLDAsMCwxLjAyOS0uMjEyLDIuNzM3LDIuNzM3LDAsMCwwLC44NDMtLjU3MywyLjczNywyLjczNywwLDAsMCwuNTczLS44NDMsMi41MjksMi41MjksMCwwLDAsLjIxMi0xLjAyOSwyLjYyNSwyLjYyNSwwLDAsMC0uMjYxLTEuMjI0LDIuMzI3LDIuMzI3LDAsMCwwLS43LS44MjIsMi45MjYsMi45MjYsMCwwLDAtMS4wMTctLjQ2NUE0LjkyOSw0LjkyOSwwLDAsMCw0LjI1LTkuNTYydi0xLjA2MlptLTUuODQ0LDQuMjVWLTcuNDM3QTQuOTI5LDQuOTI5LDAsMCwwLC4xNDUtNy41ODNhMi45MjYsMi45MjYsMCwwLDAsMS4wMTctLjQ2NSwyLjMyNywyLjMyNywwLDAsMCwuNy0uODIyLDIuNjI1LDIuNjI1LDAsMCwwLC4yNjEtMS4yMjQsMi41MjksMi41MjksMCwwLDAtLjIxMi0xLjAyOSwyLjczNywyLjczNywwLDAsMC0uNTczLS44NDNBMi43MzcsMi43MzcsMCwwLDAsLjUtMTIuNTM4LDIuNTI5LDIuNTI5LDAsMCwwLS41MzEtMTIuNzVoLTQuMjVhMi41MjksMi41MjksMCwwLDAtMS4wMjkuMjEyLDIuNzM3LDIuNzM3LDAsMCwwLS44NDMuNTczLDIuNzM3LDIuNzM3LDAsMCwwLS41NzMuODQzLDIuNTI5LDIuNTI5LDAsMCwwLS4yMTIsMS4wMjksMi42MjUsMi42MjUsMCwwLDAsLjI2MSwxLjIyNCwyLjMyNywyLjMyNywwLDAsMCwuNy44MjIsMi45MjYsMi45MjYsMCwwLDAsMS4wMTcuNDY1LDQuOTI5LDQuOTI5LDAsMCwwLDEuMjA4LjE0NXYxLjA2M2gtLjUzMUEzLjU4NywzLjU4NywwLDAsMS02LjIzLTYuNjdhMy43ODgsMy43ODgsMCwwLDEtMS4xNzktLjgsMy43ODgsMy43ODgsMCwwLDEtLjgtMS4xNzlBMy41ODcsMy41ODcsMCwwLDEtOC41LTEwLjA5NGEzLjU4NywzLjU4NywwLDAsMSwuMjk1LTEuNDQ4LDMuNzg4LDMuNzg4LDAsMCwxLC44LTEuMTc5LDMuNzg4LDMuNzg4LDAsMCwxLDEuMTc5LS44LDMuNTg3LDMuNTg3LDAsMCwxLDEuNDQ4LS4yOTVoNC4yNWEzLjU4NywzLjU4NywwLDAsMSwxLjQ0OC4yOTUsMy43ODgsMy43ODgsMCwwLDEsMS4xNzkuOCwzLjc4OCwzLjc4OCwwLDAsMSwuOCwxLjE3OSwzLjU4NywzLjU4NywwLDAsMSwuMjk1LDEuNDQ4LDMuNTg3LDMuNTg3LDAsMCwxLS4yOTUsMS40NDgsMy43ODgsMy43ODgsMCwwLDEtLjgsMS4xNzksMy43ODgsMy43ODgsMCwwLDEtMS4xNzkuOCwzLjU4NywzLjU4NywwLDAsMS0xLjQ0OC4yOTVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDA0IDMyNy45OTkpIi8+CiAgPC9nPgo8L3N2Zz4K\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii01ODYwIC04ODk2IDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM2NjY7CiAgICAgIH0KCiAgICAgIC5jbHMtMyB7CiAgICAgICAgZmlsbDogI0Q4MjMwMDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9IkZCOl9VbmxpbmsiIGRhdGEtbmFtZT0iRkI6IFVubGluayIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY4ODAgLTkxOTkuOTk5KSI+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzIyOTUiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDIyOTUiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAyMCAzMDMuOTk5KSIvPgogICAgPGcgaWQ9Ikdyb3VwXzM5MTAiIGRhdGEtbmFtZT0iR3JvdXAgMzkxMCI+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzE3MTIiIGRhdGEtbmFtZT0iUGF0aCAxNzEyIiBjbGFzcz0iY2xzLTIiIGQ9Ik0tLjUzMS0xMy44MTJhMy41NTgsMy41NTgsMCwwLDEsMS40NDQuMjk1LDMuODU0LDMuODU0LDAsMCwxLDEuMTc5LjgsMy43LDMuNywwLDAsMSwuOCwxLjE3OSwzLjYzMiwzLjYzMiwwLDAsMSwuMjkxLDEuNDQ4LDMuNjMyLDMuNjMyLDAsMCwxLS4yOTEsMS40NDgsMy43LDMuNywwLDAsMS0uOCwxLjE3OSwzLjg1NCwzLjg1NCwwLDAsMS0xLjE3OS44LDMuNTU4LDMuNTU4LDAsMCwxLTEuNDQ0LjI5NWgtLjUzMVYtNy40MzdoLjUzMUEyLjU3MiwyLjU3MiwwLDAsMCwuNS03LjY0NWEyLjY3OSwyLjY3OSwwLDAsMCwuODQzLS41NjksMi43MjQsMi43MjQsMCwwLDAsLjU3My0uODQ3LDIuNTU4LDIuNTU4LDAsMCwwLC4yMTItMS4wMzMsMi41MjksMi41MjksMCwwLDAtLjIxMi0xLjAyOSwyLjczNywyLjczNywwLDAsMC0uNTczLS44NDNBMi43MzcsMi43MzcsMCwwLDAsLjUtMTIuNTM4LDIuNTI5LDIuNTI5LDAsMCwwLS41MzEtMTIuNzVoLTQuMjVhMi41NTgsMi41NTgsMCwwLDAtMS4wMzMuMjEyLDIuNzI0LDIuNzI0LDAsMCwwLS44NDcuNTczLDIuNjc5LDIuNjc5LDAsMCwwLS41NjkuODQzLDIuNTcyLDIuNTcyLDAsMCwwLS4yMDgsMS4wMjlBMi42LDIuNiwwLDAsMC03LjIzLTkuMDZhMi42NjYsMi42NjYsMCwwLDAsLjU2OS44NDcsMi42NjYsMi42NjYsMCwwLDAsLjg0Ny41NjksMi42LDIuNiwwLDAsMCwxLjAzMy4yMDhoLjUzMXYxLjA2M2gtLjUzMUEzLjU4NywzLjU4NywwLDAsMS02LjIzLTYuNjdhMy43ODgsMy43ODgsMCwwLDEtMS4xNzktLjgsMy43ODgsMy43ODgsMCwwLDEtLjgtMS4xNzlBMy41ODcsMy41ODcsMCwwLDEtOC41LTEwLjA5NGEzLjU4NywzLjU4NywwLDAsMSwuMjk1LTEuNDQ4LDMuNzg4LDMuNzg4LDAsMCwxLC44LTEuMTc5LDMuNzg4LDMuNzg4LDAsMCwxLDEuMTc5LS44LDMuNTg3LDMuNTg3LDAsMCwxLDEuNDQ4LS4yOTVaTTcuNDIxLTcuMWEyLjY2MSwyLjY2MSwwLDAsMC0uMjYxLS45NzEsMi42ODYsMi42ODYsMCwwLDAtLjU3My0uNzgsMi42NSwyLjY1LDAsMCwwLS44MTgtLjUyMywyLjU3NCwyLjU3NCwwLDAsMC0uOTg4LS4xOTFINC4yNXYtMS4wNjJoLjUzMWEzLjU4NywzLjU4NywwLDAsMSwxLjQ0OC4yOTUsMy43ODgsMy43ODgsMCwwLDEsMS4xNzkuOCwzLjc4OCwzLjc4OCwwLDAsMSwuOCwxLjE3OUEzLjU4NywzLjU4NywwLDAsMSw4LjUtNi45MDZhMy42MzIsMy42MzIsMCwwLDEtLjA5MS44Wm0tOS41NDYuMTkxYTIuNiwyLjYsMCwwLDAsLjIwOCwxLjAzMywyLjY2NiwyLjY2NiwwLDAsMCwuNTY5Ljg0N0EyLjY2NiwyLjY2NiwwLDAsMC0uNS00LjQ1OCwyLjYsMi42LDAsMCwwLC41MzEtNC4yNUgxLjk5MkwzLjA1NS0zLjE4N0guNTMxQTMuNTg3LDMuNTg3LDAsMCwxLS45MTctMy40ODJhMy43ODgsMy43ODgsMCwwLDEtMS4xNzktLjgsMy43ODgsMy43ODgsMCwwLDEtLjgtMS4xNzksMy41ODcsMy41ODcsMCwwLDEtLjI5NS0xLjQ0OCwzLjU4NywzLjU4NywwLDAsMSwuMjk1LTEuNDQ4LDMuNzg4LDMuNzg4LDAsMCwxLC44LTEuMTc5LDMuNzg4LDMuNzg4LDAsMCwxLDEuMTc5LS44LDMuNTg3LDMuNTg3LDAsMCwxLDEuNDQ4LS4yOTVoLjUzMXYxLjA2M0guNTMxQTIuNTU4LDIuNTU4LDAsMCwwLS41LTkuMzUxYTIuNzI0LDIuNzI0LDAsMCwwLS44NDcuNTczLDIuNjc5LDIuNjc5LDAsMCwwLS41NjkuODQzQTIuNTcyLDIuNTcyLDAsMCwwLTIuMTI1LTYuOTA2Wm0xMC42LDIuMzc0TDYuNi0yLjY1Niw4LjQ3NS0uNzcybC0uNzQ3Ljc0N0w1Ljg0NC0xLjksMy45NTktLjAxNywzLjIxMi0uNzcyLDUuMS0yLjY1NiwzLjIxMi00LjU0MWwuNzQ3LS43NDdMNS44NDQtMy40LDcuNzI4LTUuMjg4WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAzNiAzMjcuOTk5KSIvPgogICAgICA8cGF0aCBpZD0iUGF0aF8xMzkxIiBkYXRhLW5hbWU9IlBhdGggMTM5MSIgY2xhc3M9ImNscy0zIiBkPSJNOC40NzUtNC41MzIsNi42LTIuNjU2LDguNDc1LS43NzJsLS43NDcuNzQ3TDUuODQ0LTEuOSwzLjk1OS0uMDE3LDMuMjEyLS43NzIsNS4xLTIuNjU2LDMuMjEyLTQuNTQxbC43NDctLjc0N0w1Ljg0NC0zLjQsNy43MjgtNS4yODhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDM2IDMyNy45OTkpIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii03OTQ0IC0xMDQwMCAzMiAzMiI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogbm9uZTsKICAgICAgfQoKICAgICAgLmNscy0yIHsKICAgICAgICBmaWxsOiAjNjY2OwogICAgICB9CiAgICA8L3N0eWxlPgogIDwvZGVmcz4KICA8ZyBpZD0iRkI6X1RhYmxlIiBkYXRhLW5hbWU9IkZCOiBUYWJsZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg5OTYgLTEwNzk5Ljk5OSkiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8yMjk1IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyMjk1IiBjbGFzcz0iY2xzLTEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNTIgMzk5Ljk5OSkiLz4KICAgIDxwYXRoIGlkPSJTdWJ0cmFjdGlvbl8xIiBkYXRhLW5hbWU9IlN1YnRyYWN0aW9uIDEiIGNsYXNzPSJjbHMtMiIgZD0iTTkwMDksMTA4MTJoLTEzdi0xMmgxM3YxMlptLTQtM3YyaDN2LTJabS00LDB2Mmgzdi0yWm0tNCwwdjJoM3YtMlptOC0zdjJoM3YtMlptLTQsMHYyaDN2LTJabS00LDB2Mmgzdi0yWm04LTN2Mmgzdi0yWm0tNCwwdjJoM3YtMlptLTQsMHYyaDN2LTJabTAtMnYxaDExdi0xWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTc5MzQgLTEwMzkwKSIvPgogIDwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii02MTExIC04NjkyIDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICMyRTc3RDA7CiAgICAgICAgc3Ryb2tlOiAjZmZmOwogICAgICAgIHN0cm9rZS13aWR0aDogMS41cHg7CiAgICAgIH0KCiAgICAgIC5jbHMtMyB7CiAgICAgICAgZmlsbDogIzY2NjsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9IlRCOl9JbnNlcnQiIGRhdGEtbmFtZT0iVEI6IEluc2VydCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTYzNjYgLTkxNjAuOTk5KSI+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzIyOTEiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDIyOTEiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjU1IDQ2OC45OTkpIi8+CiAgICA8ZyBpZD0iR3JvdXBfMzg4MCIgZGF0YS1uYW1lPSJHcm91cCAzODgwIj4KICAgICAgPHBhdGggaWQ9IlBhdGhfOTkwIiBkYXRhLW5hbWU9IlBhdGggOTkwIiBjbGFzcz0iY2xzLTIiIGQ9Ik0xLjA2My0zLjE4N0gxMS45OTVMNC43ODEtMTAuNDA5LDEuMDYzLTYuNjgyWm0xNC44NzUsMHYtLjMwN0wxMi4yMTktNy4yMjIsMTAuODQxLTUuODQ0bDIuNjY1LDIuNjU2WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYzIDQ5Mi45OTkpIi8+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzE0NTIiIGRhdGEtbmFtZT0iUGF0aCAxNDUyIiBjbGFzcz0iY2xzLTMiIGQ9Ik0xNy0xNC44NzV2MTIuNzVIMHYtMTIuNzVaTTEuMDYzLTEzLjgxMnY1LjYyTDQuNzgxLTExLjlsNS4zMTMsNS4zMTMsMi4xMjUtMi4xMjUsMy43MTksMy43MXYtOC44MDdabTAsMTAuNjI1SDExLjk5NUw0Ljc4MS0xMC40MDksMS4wNjMtNi42ODJabTE0Ljg3NSwwdi0uMzA3TDEyLjIxOS03LjIyMiwxMC44NDEtNS44NDRsMi42NjUsMi42NTZabS0yLjY1Ni03LjQzN2EuNTExLjUxMSwwLDAsMS0uMzc0LS4xNTguNTExLjUxMSwwLDAsMS0uMTU4LS4zNzQuNTExLjUxMSwwLDAsMSwuMTU4LS4zNzQuNTExLjUxMSwwLDAsMSwuMzc0LS4xNTguNTExLjUxMSwwLDAsMSwuMzc0LjE1OC41MTEuNTExLDAsMCwxLC4xNTguMzc0LjUxMS41MTEsMCwwLDEtLjE1OC4zNzRBLjUxMS41MTEsMCwwLDEsMTMuMjgxLTEwLjYyNVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2MyA0OTIuOTk5KSIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii01ODI0IC04ODk2IDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM2NjY7CiAgICAgIH0KCiAgICAgIC5jbHMtMyB7CiAgICAgICAgZmlsbDogIzJFNzdEMDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9IkZCOl9TdXBlcnN0cmluZyIgZGF0YS1uYW1lPSJGQjogU3VwZXJzdHJpbmciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02ODc2IC05MTk5Ljk5OSkiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8yMjk1IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyMjk1IiBjbGFzcz0iY2xzLTEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNTIgMzAzLjk5OSkiLz4KICAgIDxnIGlkPSJHcm91cF8zOTIxIiBkYXRhLW5hbWU9Ikdyb3VwIDM5MjEiPgogICAgICA8cGF0aCBpZD0iUGF0aF8xNzIzIiBkYXRhLW5hbWU9IlBhdGggMTcyMyIgY2xhc3M9ImNscy0yIiBkPSJNNS42Mi0xMi45NjZhLjc1NC43NTQsMCwwLDAtLjA4Ny4xbC0uMDc5LjExMkg3LjQzOHYxLjA2M0g0LjI1di0uNTMxQTEuODcyLDEuODcyLDAsMCwxLDQuNDA4LTEzYTIuOSwyLjksMCwwLDEsLjM5NC0uNjM5LDQuNDI1LDQuNDI1LDAsMCwxLC41MS0uNTMxbC41MS0uNDQ4YTMuNTMzLDMuNTMzLDAsMCwwLC4zOTQtLjQuNjEuNjEsMCwwLDAsLjE1OC0uMzkuNTExLjUxMSwwLDAsMC0uMTU4LS4zNzQuNTExLjUxMSwwLDAsMC0uMzc0LS4xNTguNTExLjUxMSwwLDAsMC0uMzc0LjE1OC41MTEuNTExLDAsMCwwLS4xNTguMzc0SDQuMjVhMS41NjQsMS41NjQsMCwwLDEsLjEyNS0uNjIzLDEuNiwxLjYsMCwwLDEsLjM0LS41MDYsMS42LDEuNiwwLDAsMSwuNTA2LS4zNEExLjU2NCwxLjU2NCwwLDAsMSw1Ljg0NC0xN2ExLjU2NCwxLjU2NCwwLDAsMSwuNjIzLjEyNSwxLjYsMS42LDAsMCwxLC41MDYuMzQsMS42LDEuNiwwLDAsMSwuMzQuNTA2LDEuNTY0LDEuNTY0LDAsMCwxLC4xMjUuNjIzLDEuNTUzLDEuNTUzLDAsMCwxLS4xMjUuNjEsMS42ODcsMS42ODcsMCwwLDEtLjM0LjUxOUg2Ljk2NFptLTIuMTY3LjIxNkwuMjY2LTguNSwzLjQ1My00LjI1SDIuMTI1TC0uNC03LjYxMi0yLjkyMi00LjI1SC00LjI1TC0xLjA2Mi04LjUtNC4yNS0xMi43NWgxLjMyOEwtLjQtOS4zODgsMi4xMjUtMTIuNzVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDY4IDMyNy45OTkpIi8+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzEzOTQiIGRhdGEtbmFtZT0iUGF0aCAxMzk0IiBjbGFzcz0iY2xzLTMiIGQ9Ik01LjYyLTEyLjk2NmEuNzU0Ljc1NCwwLDAsMC0uMDg3LjFsLS4wNzkuMTEySDcuNDM4djEuMDYzSDQuMjV2LS41MzFBMS44NzIsMS44NzIsMCwwLDEsNC40MDgtMTNhMi45LDIuOSwwLDAsMSwuMzk0LS42MzksNC40MjUsNC40MjUsMCwwLDEsLjUxLS41MzFsLjUxLS40NDhhMy41MzMsMy41MzMsMCwwLDAsLjM5NC0uNC42MS42MSwwLDAsMCwuMTU4LS4zOS41MTEuNTExLDAsMCwwLS4xNTgtLjM3NC41MTEuNTExLDAsMCwwLS4zNzQtLjE1OC41MTEuNTExLDAsMCwwLS4zNzQuMTU4LjUxMS41MTEsMCwwLDAtLjE1OC4zNzRINC4yNWExLjU2NCwxLjU2NCwwLDAsMSwuMTI1LS42MjMsMS42LDEuNiwwLDAsMSwuMzQtLjUwNiwxLjYsMS42LDAsMCwxLC41MDYtLjM0QTEuNTY0LDEuNTY0LDAsMCwxLDUuODQ0LTE3YTEuNTY0LDEuNTY0LDAsMCwxLC42MjMuMTI1LDEuNiwxLjYsMCwwLDEsLjUwNi4zNCwxLjYsMS42LDAsMCwxLC4zNC41MDYsMS41NjQsMS41NjQsMCwwLDEsLjEyNS42MjMsMS41NTMsMS41NTMsMCwwLDEtLjEyNS42MSwxLjY4NywxLjY4NywwLDAsMS0uMzQuNTE5SDYuOTY0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA2OCAzMjcuOTk5KSIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii01ODk2IC04ODYwIDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM2NjY7CiAgICAgIH0KCiAgICAgIC5jbHMtMyB7CiAgICAgICAgZmlsbDogIzJFNzdEMDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9IkZCOl9TdWJzdHJpbmciIGRhdGEtbmFtZT0iRkI6IFN1YnN0cmluZyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY4ODQgLTkxOTUuOTk5KSI+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzIyOTUiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDIyOTUiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTg4IDMzNS45OTkpIi8+CiAgICA8ZyBpZD0iR3JvdXBfMzkzMiIgZGF0YS1uYW1lPSJHcm91cCAzOTMyIj4KICAgICAgPHBhdGggaWQ9IlBhdGhfMTczNCIgZGF0YS1uYW1lPSJQYXRoIDE3MzQiIGNsYXNzPSJjbHMtMiIgZD0iTTUuNjItMS4yNzhhLjc1NC43NTQsMCwwLDAtLjA4Ny4xbC0uMDc5LjExMkg3LjQzOFYwSDQuMjVWLS41MzFhMS44NzIsMS44NzIsMCwwLDEsLjE1OC0uNzhBMi45LDIuOSwwLDAsMSw0LjgtMS45NTFhNC40MjUsNC40MjUsMCwwLDEsLjUxLS41MzFsLjUxLS40NDhhMy41MzMsMy41MzMsMCwwLDAsLjM5NC0uNC42MS42MSwwLDAsMCwuMTU4LS4zOS41MTEuNTExLDAsMCwwLS4xNTgtLjM3NC41MTEuNTExLDAsMCwwLS4zNzQtLjE1OC41MTEuNTExLDAsMCwwLS4zNzQuMTU4LjUxMS41MTEsMCwwLDAtLjE1OC4zNzRINC4yNWExLjU2NCwxLjU2NCwwLDAsMSwuMTI1LS42MjMsMS42LDEuNiwwLDAsMSwuMzQtLjUwNiwxLjYsMS42LDAsMCwxLC41MDYtLjM0LDEuNTY0LDEuNTY0LDAsMCwxLC42MjMtLjEyNSwxLjU2NCwxLjU2NCwwLDAsMSwuNjIzLjEyNSwxLjYsMS42LDAsMCwxLC41MDYuMzQsMS42LDEuNiwwLDAsMSwuMzQuNTA2LDEuNTY0LDEuNTY0LDAsMCwxLC4xMjUuNjIzLDEuNTUzLDEuNTUzLDAsMCwxLS4xMjUuNjEsMS42ODcsMS42ODcsMCwwLDEtLjM0LjUxOUg2Ljk2NFpNMy40NTMtMTIuNzUuMjY2LTguNSwzLjQ1My00LjI1SDIuMTI1TC0uNC03LjYxMi0yLjkyMi00LjI1SC00LjI1TC0xLjA2Mi04LjUtNC4yNS0xMi43NWgxLjMyOEwtLjQtOS4zODgsMi4xMjUtMTIuNzVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDA0IDM1OS45OTkpIi8+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzEzOTciIGRhdGEtbmFtZT0iUGF0aCAxMzk3IiBjbGFzcz0iY2xzLTMiIGQ9Ik01LjYyLTEuMjc4YS43NTQuNzU0LDAsMCwwLS4wODcuMWwtLjA3OS4xMTJINy40MzhWMEg0LjI1Vi0uNTMxYTEuODcyLDEuODcyLDAsMCwxLC4xNTgtLjc4QTIuOSwyLjksMCwwLDEsNC44LTEuOTUxYTQuNDI1LDQuNDI1LDAsMCwxLC41MS0uNTMxbC41MS0uNDQ4YTMuNTMzLDMuNTMzLDAsMCwwLC4zOTQtLjQuNjEuNjEsMCwwLDAsLjE1OC0uMzkuNTExLjUxMSwwLDAsMC0uMTU4LS4zNzQuNTExLjUxMSwwLDAsMC0uMzc0LS4xNTguNTExLjUxMSwwLDAsMC0uMzc0LjE1OC41MTEuNTExLDAsMCwwLS4xNTguMzc0SDQuMjVhMS41NjQsMS41NjQsMCwwLDEsLjEyNS0uNjIzLDEuNiwxLjYsMCwwLDEsLjM0LS41MDYsMS42LDEuNiwwLDAsMSwuNTA2LS4zNCwxLjU2NCwxLjU2NCwwLDAsMSwuNjIzLS4xMjUsMS41NjQsMS41NjQsMCwwLDEsLjYyMy4xMjUsMS42LDEuNiwwLDAsMSwuNTA2LjM0LDEuNiwxLjYsMCwwLDEsLjM0LjUwNiwxLjU2NCwxLjU2NCwwLDAsMSwuMTI1LjYyMywxLjU1MywxLjU1MywwLDAsMS0uMTI1LjYxLDEuNjg3LDEuNjg3LDAsMCwxLS4zNC41MTlINi45NjRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDA0IDM1OS45OTkpIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii01ODYwIC04ODYwIDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM2NjY7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxnIGlkPSJGQjpfU3RyaWtlb3V0IiBkYXRhLW5hbWU9IkZCOiBTdHJpa2VvdXQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02ODgwIC05MTk1Ljk5OSkiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8yMjk1IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyMjk1IiBjbGFzcz0iY2xzLTEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMjAgMzM1Ljk5OSkiLz4KICAgIDxwYXRoIGlkPSJQYXRoXzE3NDUiIGRhdGEtbmFtZT0iUGF0aCAxNzQ1IiBjbGFzcz0iY2xzLTIiIGQ9Ik04LjUtNy40MzdINC4yOTJhMi4wODMsMi4wODMsMCwwLDAsLjE0NS42NDMsMS41ODksMS41ODksMCwwLDAsLjMyNC41MDYsMS4zOTEsMS4zOTEsMCwwLDAsLjQ5NC4zMjgsMS43NTMsMS43NTMsMCwwLDAsLjY1Ni4xMTYsMS43MjUsMS43MjUsMCwwLDAsLjYxOC0uMTEyLDIuMjg3LDIuMjg3LDAsMCwwLC41NTItLjN2LjczYTIuMTgzLDIuMTgzLDAsMCwxLS42MjMuMjUzLDIuOTM2LDIuOTM2LDAsMCwxLS42ODEuMDc5LDIuNCwyLjQsMCwwLDEtLjkwOS0uMTY2LDIuMTA4LDIuMTA4LDAsMCwxLS43MS0uNDY1LDIuMTYsMi4xNiwwLDAsMS0uNDY5LS43MSwyLjU2MiwyLjU2MiwwLDAsMS0uMTg3LS45SDIuNTgyYTMuMjM0LDMuMjM0LDAsMCwxLS4yLjg3NiwyLjM0NywyLjM0NywwLDAsMS0uNDIzLjcxNCwxLjg4NiwxLjg4NiwwLDAsMS0uNjUyLjQ3N0EyLjEyNywyLjEyNywwLDAsMSwuNDIzLTUuMiwxLjU4LDEuNTgsMCwwLDEtMS4wMTMtNmgtLjAxN3YuNjg5aC0uNzY0Vi03LjQzN0gtMy4yMzd2Mi4xMjVoLS43NzJWLTYuMDZoLS4wMTdBMS42LDEuNiwwLDAsMS01LjUtNS4yYTIsMiwwLDAsMS0uNi0uMDg3LDEuMzUsMS4zNSwwLDAsMS0uNDgxLS4yNjEsMS4yMTMsMS4yMTMsMCwwLDEtLjMyLS40MzYsMS40NjksMS40NjksMCwwLDEtLjExNi0uNiwyLDIsMCwwLDEsLjA1LS40NDQsMS4yNTMsMS4yNTMsMCwwLDEsLjE3NC0uNDExSC04LjVWLTguNWg0LjQ5MWExLjM1NywxLjM1NywwLDAsMC0uMjQ5LS43NjguODU5Ljg1OSwwLDAsMC0uNzMtLjI5NSwyLjIzNiwyLjIzNiwwLDAsMC0uODM0LjE1NCwyLjcsMi43LDAsMCwwLS43MjYuNDM2di0uNzg5YTIuNjM1LDIuNjM1LDAsMCwxLC43OC0uMzM2LDMuNDc4LDMuNDc4LDAsMCwxLC44NDctLjEsMS42MzgsMS42MzgsMCwwLDEsMS4yNTMuNDM2QTEuODQ3LDEuODQ3LDAsMCwxLTMuMjQ2LTguNWgxLjQ1M3YtMy44OTNoLjc2NHYzLjEzOGguMDE3QTEuOCwxLjgsMCwwLDEsLjYzOS0xMC4yYTIuMDU5LDIuMDU5LDAsMCwxLC43MjIuMTIsMS42NzUsMS42NzUsMCwwLDEsLjU2NC4zNDQsMS44NzMsMS44NzMsMCwwLDEsLjQuNTQsMi41MTMsMi41MTMsMCwwLDEsLjIyNC43SDMuNjE5YTIuMjc0LDIuMjc0LDAsMCwxLC4zNDQtLjczOUEyLjI2OSwyLjI2OSwwLDAsMSw0LjUtOS43N2EyLjI2MiwyLjI2MiwwLDAsMSwuNjg1LS4zMjQsMi45LDIuOSwwLDAsMSwuOC0uMTA4LDMuMjE5LDMuMjE5LDAsMCwxLC41NjkuMDUsMS44ODcsMS44ODcsMCwwLDEsLjUzNS4xODN2Ljc4YTEuODkyLDEuODkyLDAsMCwwLTEuMTM3LS4zNzQsMS41MzksMS41MzksMCwwLDAtLjkzNC4yODIsMS43OTQsMS43OTQsMCwwLDAtLjU5NC43OEg4LjVabS0xMi41MDksMGgtMS43YS44MjUuODI1LDAsMCwwLS40MDcuMy45MjEuOTIxLDAsMCwwLS4xMTYuNS43Ny43NywwLDAsMCwuMDc1LjM0OS43MzUuNzM1LDAsMCwwLC4yLjI0OS44NTEuODUxLDAsMCwwLC4yOTEuMTQ5LDEuMjA3LDEuMjA3LDAsMCwwLC4zNDkuMDUsMS4yODQsMS4yODQsMCwwLDAsLjU0OC0uMTEyLDEuMjUsMS4yNSwwLDAsMCwuNDExLS4zQTEuMzM4LDEuMzM4LDAsMCwwLTQuMS02LjcwN2ExLjYyNiwxLjYyNiwwLDAsMCwuMDkxLS41NDhaTS40NDgtOS41NjJBMS40MzEsMS40MzEsMCwwLDAtLjQ0LTkuMjhhMS40MzQsMS40MzQsMCwwLDAtLjUxNS43OGgyLjdhMS40MjIsMS40MjIsMCwwLDAtLjQ1Ny0uNzcyQTEuMjQ3LDEuMjQ3LDAsMCwwLC40NDgtOS41NjJaTS4zMzItNS44NDRhMS4zNjYsMS4zNjYsMCwwLDAsLjYxLS4xMjksMS4zLDEuMywwLDAsMCwuNDQtLjM0OSwxLjY1MywxLjY1MywwLDAsMCwuMjc4LS41MSwyLjc1LDIuNzUsMCwwLDAsLjEzMy0uNjA2SC0xLjAyOXYuMTc0YTEuNTI3LDEuNTI3LDAsMCwwLC4xLjU1NiwxLjM3NiwxLjM3NiwwLDAsMCwuMjc4LjQ0OCwxLjMwNywxLjMwNywwLDAsMCwuNDMyLjNBMS4zNDgsMS4zNDgsMCwwLDAsLjMzMi01Ljg0NFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMzYgMzU5Ljk5OSkiLz4KICA8L2c+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+CiA8Zz4KICA8bGluZSBpZD0ic3ZnXzEiIHkyPSIyNCIgeDI9IjEzIiB5MT0iOSIgeDE9IjEzIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZT0iIzAwMCIgZmlsbD0ibm9uZSIvPgogIDxsaW5lIGlkPSJzdmdfMiIgeTI9IjI0IiB4Mj0iMjAiIHkxPSI5IiB4MT0iMjAiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIi8+CiAgPGxpbmUgaWQ9InN2Z18zIiB5Mj0iMTYiIHgyPSIyMCIgeTE9IjE2IiB4MT0iMTMiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIi8+CiA8L2c+Cjwvc3ZnPg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+CiA8Zz4KICA8bGluZSBpZD0ic3ZnXzEiIHkyPSIxNi41IiB4Mj0iNyIgeTE9IjEwIiB4MT0iMTMiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIi8+CiAgPGxpbmUgaWQ9InN2Z18yIiB5Mj0iMTYuNSIgeDI9IjciIHkxPSIyMyIgeDE9IjEzIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZT0iIzAwMCIgZmlsbD0ibm9uZSIvPgogIDxsaW5lIGlkPSJzdmdfMyIgeTI9IjE2LjUiIHgyPSIyNiIgeTE9IjEwIiB4MT0iMjAiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIi8+CiAgPGxpbmUgaWQ9InN2Z180IiB5Mj0iMTYuNSIgeDI9IjI2IiB5MT0iMjMiIHgxPSIyMCIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2U9IiMwMDAiIGZpbGw9Im5vbmUiLz4KIDwvZz4KPC9zdmc+\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii01ODk2IC04ODI0IDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM2NjY7CiAgICAgIH0KCiAgICAgIC5jbHMtMyB7CiAgICAgICAgZmlsbDogIzJFNzdEMDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9IkZCOl9QYXJhZ3JhcGhfSW4iIGRhdGEtbmFtZT0iRkI6IFBhcmFncmFwaCBJbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY4ODQgLTkxOTEuOTk5KSI+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzIyOTUiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDIyOTUiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTg4IDM2Ny45OTkpIi8+CiAgICA8ZyBpZD0iR3JvdXBfMzk1NCIgZGF0YS1uYW1lPSJHcm91cCAzOTU0Ij4KICAgICAgPHBhdGggaWQ9IlBhdGhfMTc1NiIgZGF0YS1uYW1lPSJQYXRoIDE3NTYiIGNsYXNzPSJjbHMtMiIgZD0iTS03LjQzNy0xMi45NjZsNS41MjgsNS41MjhMLTcuNDM3LTEuOTA5Wm0xLjA2Myw4LjVMLTMuNC03LjQzN2wtMi45NzItMi45NzJaTTYuMzc1LTE0Ljg3NXYxMi43NUg3LjQzOHYxLjA2M0gyLjEyNVYtMi4xMjVIMy4xODhWLTguNUgxLjU5NEEzLjYzMiwzLjYzMiwwLDAsMSwuMTQ1LTguNzkxYTMuNzQ1LDMuNzQ1LDAsMCwxLTEuMTgzLS44LDMuNzQ1LDMuNzQ1LDAsMCwxLS44LTEuMTgzLDMuNjMyLDMuNjMyLDAsMCwxLS4yOTEtMS40NDgsMy42MzIsMy42MzIsMCwwLDEsLjI5MS0xLjQ0OCwzLjc0NSwzLjc0NSwwLDAsMSwuOC0xLjE4MywzLjc0NSwzLjc0NSwwLDAsMSwxLjE4My0uOCwzLjYzMiwzLjYzMiwwLDAsMSwxLjQ0OC0uMjkxSDcuNDM4djEuMDYzWk0zLjE4OC05LjU2MnYtNS4zMTJIMS41OTRhMi41NTgsMi41NTgsMCwwLDAtMS4wMzMuMjEyLDIuNzI0LDIuNzI0LDAsMCwwLS44NDcuNTczLDIuNjc5LDIuNjc5LDAsMCwwLS41NjkuODQzLDIuNTcyLDIuNTcyLDAsMCwwLS4yMDgsMS4wMjksMi42LDIuNiwwLDAsMCwuMjA4LDEuMDMzLDIuNjY2LDIuNjY2LDAsMCwwLC41NjkuODQ3QTIuNjY2LDIuNjY2LDAsMCwwLC41Ni05Ljc3YTIuNiwyLjYsMCwwLDAsMS4wMzMuMjA4Wk01LjMxMy0yLjEyNXYtMTIuNzVINC4yNXYxMi43NVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMDQgMzkxLjk5OSkiLz4KICAgICAgPHBhdGggaWQ9IlBhdGhfMTQwNCIgZGF0YS1uYW1lPSJQYXRoIDE0MDQiIGNsYXNzPSJjbHMtMyIgZD0iTS03LjQzNy0xMi45NjZsNS41MjgsNS41MjhMLTcuNDM3LTEuOTA5Wm0xLjA2Myw4LjVMLTMuNC03LjQzN2wtMi45NzItMi45NzJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDA0IDM5MS45OTkpIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii01ODYwIC04ODI0IDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM2NjY7CiAgICAgIH0KCiAgICAgIC5jbHMtMyB7CiAgICAgICAgZmlsbDogIzJFNzdEMDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9IkZCOl9QYXJhZ3JhcGhfT3V0IiBkYXRhLW5hbWU9IkZCOiBQYXJhZ3JhcGggT3V0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjg4MCAtOTE5MS45OTkpIj4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMjI5NSIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMjI5NSIgY2xhc3M9ImNscy0xIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDIwIDM2Ny45OTkpIi8+CiAgICA8ZyBpZD0iR3JvdXBfMzk2NSIgZGF0YS1uYW1lPSJHcm91cCAzOTY1Ij4KICAgICAgPHBhdGggaWQ9IlBhdGhfMTc2NyIgZGF0YS1uYW1lPSJQYXRoIDE3NjciIGNsYXNzPSJjbHMtMiIgZD0iTTEuMDYzLTE1LjkzN3YxLjA2M0gwdjEyLjc1SDEuMDYzdjEuMDYzSC00LjI1Vi0yLjEyNWgxLjA2M1YtOC41SC00Ljc4MUEzLjYzMiwzLjYzMiwwLDAsMS02LjIzLTguNzkxYTMuNzQ1LDMuNzQ1LDAsMCwxLTEuMTgzLS44LDMuNzQ1LDMuNzQ1LDAsMCwxLS44LTEuMTgzQTMuNjMyLDMuNjMyLDAsMCwxLTguNS0xMi4yMTlhMy42MzIsMy42MzIsMCwwLDEsLjI5MS0xLjQ0OCwzLjc0NSwzLjc0NSwwLDAsMSwuOC0xLjE4MywzLjc0NSwzLjc0NSwwLDAsMSwxLjE4My0uOCwzLjYzMiwzLjYzMiwwLDAsMSwxLjQ0OC0uMjkxWm0tNC4yNSw2LjM3NXYtNS4zMTJILTQuNzgxYTIuNTU4LDIuNTU4LDAsMCwwLTEuMDMzLjIxMiwyLjcyNCwyLjcyNCwwLDAsMC0uODQ3LjU3MywyLjY3OSwyLjY3OSwwLDAsMC0uNTY5Ljg0MywyLjU3MiwyLjU3MiwwLDAsMC0uMjA4LDEuMDI5LDIuNiwyLjYsMCwwLDAsLjIwOCwxLjAzMywyLjY2NiwyLjY2NiwwLDAsMCwuNTY5Ljg0NywyLjY2NiwyLjY2NiwwLDAsMCwuODQ3LjU2OSwyLjYsMi42LDAsMCwwLDEuMDMzLjIwOFptMi4xMjUsNy40Mzh2LTEyLjc1SC0yLjEyNXYxMi43NVptOC41LTEwLjg0MVYtMS45MDlMMS45MDktNy40MzdaTTYuMzc1LTEwLjQwOSwzLjQtNy40MzcsNi4zNzUtNC40NjZaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDM2IDM5MS45OTkpIi8+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzE0MDEiIGRhdGEtbmFtZT0iUGF0aCAxNDAxIiBjbGFzcz0iY2xzLTMiIGQ9Ik03LjQzOC0xMi45NjZWLTEuOTA5TDEuOTA5LTcuNDM3Wk02LjM3NS0xMC40MDksMy40LTcuNDM3LDYuMzc1LTQuNDY2WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAzNiAzOTEuOTk5KSIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2aWV3Qm94PSItOCAtOCAzMiAzMiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik04LjUsMC4wMzEyNSBDOS4wMDAwMDI1LDAuMDMxMjUgOS40ODE3Njg1MiwwLjA5NjM1MzUxNTYgOS45NDUzMTI1LDAuMjI2NTYyNSBDMTAuNDA4ODU2NSwwLjM1Njc3MTQ4NCAxMC44NDM3NDgsMC41NDE2NjU0NjkgMTEuMjUsMC43ODEyNSBDMTEuNjU2MjUyLDEuMDIwODM0NTMgMTIuMDI2MDQsMS4zMDcyOSAxMi4zNTkzNzUsMS42NDA2MjUgQzEyLjY5MjcxLDEuOTczOTYgMTIuOTc5MTY1NSwyLjM0Mzc0Nzk3IDEzLjIxODc1LDIuNzUgQzEzLjQ1ODMzNDUsMy4xNTYyNTIwMyAxMy42NDMyMjg1LDMuNTkxMTQzNTIgMTMuNzczNDM3NSw0LjA1NDY4NzUgQzEzLjkwMzY0NjUsNC41MTgyMzE0OCAxMy45Njg3NSw0Ljk5OTk5NzUgMTMuOTY4NzUsNS41IEMxMy45Njg3NSw2LjIxMzU0NTIzIDEzLjgzMjAzMjYsNi45MDIzNDA0MyAxMy41NTg1OTM4LDcuNTY2NDA2MjUgQzEzLjI4NTE1NDksOC4yMzA0NzIwNyAxMi44OTU4MzU5LDguODE1MTAxNjQgMTIuMzkwNjI1LDkuMzIwMzEyNSBMNS44NTE1NjI1LDE1Ljg1MTU2MjUgTDUuMTQ4NDM3NSwxNS4xNDg0Mzc1IEwxMS42Nzk2ODc1LDguNjA5Mzc1IEMxMi4wOTExNDc5LDguMTk3OTE0NjEgMTIuNDA4ODUzLDcuNzIyNjU4OTUgMTIuNjMyODEyNSw3LjE4MzU5Mzc1IEMxMi44NTY3NzIsNi42NDQ1Mjg1NSAxMi45Njg3NSw2LjA4MzMzNjI1IDEyLjk2ODc1LDUuNSBDMTIuOTY4NzUsNC44OTA2MjE5NSAxMi44NTAyNjE2LDQuMzE1MTA2ODcgMTIuNjEzMjgxMiwzLjc3MzQzNzUgQzEyLjM3NjMwMDksMy4yMzE3NjgxMyAxMi4wNTQ2ODk1LDIuNzU3ODE0NTMgMTEuNjQ4NDM3NSwyLjM1MTU2MjUgQzExLjI0MjE4NTUsMS45NDUzMTA0NyAxMC43NjgyMzE5LDEuNjIzNjk5MSAxMC4yMjY1NjI1LDEuMzg2NzE4NzUgQzkuNjg0ODkzMTIsMS4xNDk3Mzg0IDkuMTA5Mzc4MDUsMS4wMzEyNSA4LjUsMS4wMzEyNSBDNy45Mzc0OTcxOSwxLjAzMTI1IDcuNDQxNDA4NCwxLjExNTg4NDU3IDcuMDExNzE4NzUsMS4yODUxNTYyNSBDNi41ODIwMjkxLDEuNDU0NDI3OTMgNi4xODQ4OTc2NiwxLjY3ODM4NDAyIDUuODIwMzEyNSwxLjk1NzAzMTI1IEM1LjQ1NTcyNzM0LDIuMjM1Njc4NDggNS4xMDU0NzA0MywyLjU1MjA4MTU2IDQuNzY5NTMxMjUsMi45MDYyNSBDNC40MzM1OTIwNywzLjI2MDQxODQ0IDQuMDgwNzMxMDIsMy42MjQ5OTgxMyAzLjcxMDkzNzUsNCBMNyw0IEw3LDUgTDIsNSBMMiwwIEwzLDAgTDMsMy4yODkwNjI1IEMzLjI4NjQ1OTc3LDIuOTk3Mzk0MzggMy41NjExOTY2LDIuNzE0ODQ1MTIgMy44MjQyMTg3NSwyLjQ0MTQwNjI1IEM0LjA4NzI0MDksMi4xNjc5NjczOCA0LjM1MDI1OTEsMS45MTAxNTc0NiA0LjYxMzI4MTI1LDEuNjY3OTY4NzUgQzQuODc2MzAzNCwxLjQyNTc4MDA0IDUuMTQ0NTI5ODgsMS4yMDQ0MjgwOSA1LjQxNzk2ODc1LDEuMDAzOTA2MjUgQzUuNjkxNDA3NjIsMC44MDMzODQ0MTQgNS45ODMwNzEzNywwLjYzMTUxMTEzMyA2LjI5Mjk2ODc1LDAuNDg4MjgxMjUgQzYuNjAyODY2MTMsMC4zNDUwNTEzNjcgNi45Mzg4MDAyNywwLjIzMzA3MzMyIDcuMzAwNzgxMjUsMC4xNTIzNDM3NSBDNy42NjI3NjIyMywwLjA3MTYxNDE3OTcgOC4wNjI0OTc4MSwwLjAzMTI1IDguNSwwLjAzMTI1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJVbmRvXzE2eDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0idW5kbyI+CiAgICAgICAgICAgIDx1c2UgaWQ9Ik1hc2siIGZpbGw9IiM2NjY2NjYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2aWV3Qm94PSItOCAtOCAzMiAzMiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik04LjUsMC4wMzEyNSBDOS4wMDAwMDI1LDAuMDMxMjUgOS40ODE3Njg1MiwwLjA5NjM1MzUxNTYgOS45NDUzMTI1LDAuMjI2NTYyNSBDMTAuNDA4ODU2NSwwLjM1Njc3MTQ4NCAxMC44NDM3NDgsMC41NDE2NjU0NjkgMTEuMjUsMC43ODEyNSBDMTEuNjU2MjUyLDEuMDIwODM0NTMgMTIuMDI2MDQsMS4zMDcyOSAxMi4zNTkzNzUsMS42NDA2MjUgQzEyLjY5MjcxLDEuOTczOTYgMTIuOTc5MTY1NSwyLjM0Mzc0Nzk3IDEzLjIxODc1LDIuNzUgQzEzLjQ1ODMzNDUsMy4xNTYyNTIwMyAxMy42NDMyMjg1LDMuNTkxMTQzNTIgMTMuNzczNDM3NSw0LjA1NDY4NzUgQzEzLjkwMzY0NjUsNC41MTgyMzE0OCAxMy45Njg3NSw0Ljk5OTk5NzUgMTMuOTY4NzUsNS41IEMxMy45Njg3NSw2LjIxMzU0NTIzIDEzLjgzMjAzMjYsNi45MDIzNDA0MyAxMy41NTg1OTM4LDcuNTY2NDA2MjUgQzEzLjI4NTE1NDksOC4yMzA0NzIwNyAxMi44OTU4MzU5LDguODE1MTAxNjQgMTIuMzkwNjI1LDkuMzIwMzEyNSBMNS44NTE1NjI1LDE1Ljg1MTU2MjUgTDUuMTQ4NDM3NSwxNS4xNDg0Mzc1IEwxMS42Nzk2ODc1LDguNjA5Mzc1IEMxMi4wOTExNDc5LDguMTk3OTE0NjEgMTIuNDA4ODUzLDcuNzIyNjU4OTUgMTIuNjMyODEyNSw3LjE4MzU5Mzc1IEMxMi44NTY3NzIsNi42NDQ1Mjg1NSAxMi45Njg3NSw2LjA4MzMzNjI1IDEyLjk2ODc1LDUuNSBDMTIuOTY4NzUsNC44OTA2MjE5NSAxMi44NTAyNjE2LDQuMzE1MTA2ODcgMTIuNjEzMjgxMiwzLjc3MzQzNzUgQzEyLjM3NjMwMDksMy4yMzE3NjgxMyAxMi4wNTQ2ODk1LDIuNzU3ODE0NTMgMTEuNjQ4NDM3NSwyLjM1MTU2MjUgQzExLjI0MjE4NTUsMS45NDUzMTA0NyAxMC43NjgyMzE5LDEuNjIzNjk5MSAxMC4yMjY1NjI1LDEuMzg2NzE4NzUgQzkuNjg0ODkzMTIsMS4xNDk3Mzg0IDkuMTA5Mzc4MDUsMS4wMzEyNSA4LjUsMS4wMzEyNSBDNy45Mzc0OTcxOSwxLjAzMTI1IDcuNDQxNDA4NCwxLjExNTg4NDU3IDcuMDExNzE4NzUsMS4yODUxNTYyNSBDNi41ODIwMjkxLDEuNDU0NDI3OTMgNi4xODQ4OTc2NiwxLjY3ODM4NDAyIDUuODIwMzEyNSwxLjk1NzAzMTI1IEM1LjQ1NTcyNzM0LDIuMjM1Njc4NDggNS4xMDU0NzA0MywyLjU1MjA4MTU2IDQuNzY5NTMxMjUsMi45MDYyNSBDNC40MzM1OTIwNywzLjI2MDQxODQ0IDQuMDgwNzMxMDIsMy42MjQ5OTgxMyAzLjcxMDkzNzUsNCBMNyw0IEw3LDUgTDIsNSBMMiwwIEwzLDAgTDMsMy4yODkwNjI1IEMzLjI4NjQ1OTc3LDIuOTk3Mzk0MzggMy41NjExOTY2LDIuNzE0ODQ1MTIgMy44MjQyMTg3NSwyLjQ0MTQwNjI1IEM0LjA4NzI0MDksMi4xNjc5NjczOCA0LjM1MDI1OTEsMS45MTAxNTc0NiA0LjYxMzI4MTI1LDEuNjY3OTY4NzUgQzQuODc2MzAzNCwxLjQyNTc4MDA0IDUuMTQ0NTI5ODgsMS4yMDQ0MjgwOSA1LjQxNzk2ODc1LDEuMDAzOTA2MjUgQzUuNjkxNDA3NjIsMC44MDMzODQ0MTQgNS45ODMwNzEzNywwLjYzMTUxMTEzMyA2LjI5Mjk2ODc1LDAuNDg4MjgxMjUgQzYuNjAyODY2MTMsMC4zNDUwNTEzNjcgNi45Mzg4MDAyNywwLjIzMzA3MzMyIDcuMzAwNzgxMjUsMC4xNTIzNDM3NSBDNy42NjI3NjIyMywwLjA3MTYxNDE3OTcgOC4wNjI0OTc4MSwwLjAzMTI1IDguNSwwLjAzMTI1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJSZWRvXzE2eDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0idW5kbyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiPgogICAgICAgICAgICA8dXNlIGlkPSJNYXNrIiBmaWxsPSIjNjY2NjY2IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii01ODYwIC04Nzg4IDMyIDMyIj4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIsIC5jbHMtMyB7CiAgICAgICAgZmlsbDogIzJFNzdEMDsKICAgICAgfQoKICAgICAgLmNscy0zIHsKICAgICAgICBzdHJva2U6ICNmZmY7CiAgICAgICAgc3Ryb2tlLXdpZHRoOiAxLjVweDsKICAgICAgfQoKICAgICAgLmNscy00IHsKICAgICAgICBmaWxsOiAjNjY2OwogICAgICB9CiAgICA8L3N0eWxlPgogIDwvZGVmcz4KICA8ZyBpZD0iRkI6X0Zvcm1hdHRpbmciIGRhdGEtbmFtZT0iRkI6IEZvcm1hdHRpbmciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02ODIwIC05MjkxLjk5OCkiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8yMjk1IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyMjk1IiBjbGFzcz0iY2xzLTEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk2MCA1MDMuOTk4KSIvPgogICAgPGcgaWQ9Ikdyb3VwXzM5NzYiIGRhdGEtbmFtZT0iR3JvdXAgMzk3NiI+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzE4MDAiIGRhdGEtbmFtZT0iUGF0aCAxODAwIiBjbGFzcz0iY2xzLTIiIGQ9Ik0xMC4zMTgtMS4wNjJoMy40OTVWMEg1LjYyTDMuNTYxLTIuMDU5YTEuNTYxLDEuNTYxLDAsMCwxLS4zNDQtLjUxOSwxLjYsMS42LDAsMCwxLS4xMi0uNjEsMS42LDEuNiwwLDAsMSwuMTItLjYxLDEuNTYxLDEuNTYxLDAsMCwxLC4zNDQtLjUxOUw3LjE3Mi03LjkyN2wtLjU0LTEuNjM1SDIuOTNMMi4yMjUtNy40MzdIMS4wNjNMNC4yNS0xN0g1LjMxM0w4LjA0My04LjhsMy4xMTMtMy4xLDUsNVpNNi4yNzUtMTAuNjI1LDQuNzgxLTE1LjEwNywzLjI4Ny0xMC42MjVabTQuODgxLjIxNkw2LjU5MS01Ljg0NGwzLjUsMy41LDQuNTY1LTQuNTY1Wk04LjgwNy0xLjA2MmwuNTQtLjUzMS0zLjUtMy41TDQuMzE2LTMuNTYxYS41MTEuNTExLDAsMCwwLS4xNTguMzc0LjUxMS41MTEsMCwwLDAsLjE1OC4zNzRMNi4wNjgtMS4wNjJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5NjggNTI3Ljk5OCkiLz4KICAgICAgPHBhdGggaWQ9IlBhdGhfMTM5NyIgZGF0YS1uYW1lPSJQYXRoIDEzOTciIGNsYXNzPSJjbHMtMyIgZD0iTTguODA3LTEuMDYybC41NC0uNTMxLTMuNS0zLjVMNC4zMTYtMy41NjFhLjUxMS41MTEsMCwwLDAtLjE1OC4zNzQuNTExLjUxMSwwLDAsMCwuMTU4LjM3NEw2LjA2OC0xLjA2MloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk2OCA1MjcuOTk4KSIvPgogICAgICA8cGF0aCBpZD0iUGF0aF8xMzk4IiBkYXRhLW5hbWU9IlBhdGggMTM5OCIgY2xhc3M9ImNscy00IiBkPSJNMTAuMzE4LTEuMDYyaDMuNDk1VjBINS42MkwzLjU2MS0yLjA1OWExLjU2MSwxLjU2MSwwLDAsMS0uMzQ0LS41MTksMS42LDEuNiwwLDAsMS0uMTItLjYxLDEuNiwxLjYsMCwwLDEsLjEyLS42MSwxLjU2MSwxLjU2MSwwLDAsMSwuMzQ0LS41MTlsNy42LTcuNTg3LDUsNVptLjgzOC05LjM0N0w2LjU5MS01Ljg0NGwzLjUsMy41LDQuNTY1LTQuNTY1Wk04LjgwNy0xLjA2MmwuNTQtLjUzMS0zLjUtMy41TDQuMzE2LTMuNTYxYS41MTEuNTExLDAsMCwwLS4xNTguMzc0LjUxMS41MTEsMCwwLDAsLjE1OC4zNzRMNi4wNjgtMS4wNjJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5NjggNTI3Ljk5OCkiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0yMCAtMjAgODggODgiPjxwYXRoIGQ9Ik0yNC45OTcgNDcuNTExQzExLjIxNCA0Ny41MTEgMCAzNi4yOTggMCAyMi41MTUgMCAxMi45NjkgNS4zMTQgNC4zOTIgMTMuODY5LjEzMmExIDEgMCAwIDEgMS4xNTEuMTg2Yy4zMDMuMzAzLjM4MS43NjYuMTkyIDEuMTVDMTMuNjUxIDQuNjQgMTIuODYgOC4wNSAxMi44NiAxMS42MDFjMCAxMi42ODEgMTAuMzE2IDIyLjk5NyAyMi45OTcgMjIuOTk3IDMuNTkgMCA3LjAzMy0uODA5IDEwLjIzNi0yLjQwM2ExIDEgMCAwIDEgMS4zNDMgMS4zMzZjLTQuMjQgOC42MjItMTIuODM5IDEzLjk4LTIyLjQzOSAxMy45OHpNMTIuMjQ4IDMuMzcyQzUuODYyIDcuNjA4IDIgMTQuNzA5IDIgMjIuNTE1YzAgMTIuNjggMTAuMzE2IDIyLjk5NiAyMi45OTcgMjIuOTk2IDcuODU0IDAgMTQuOTgxLTMuODk4IDE5LjIwNy0xMC4zNDMtMi42NjguOTUtNS40NjQgMS40My04LjM0NiAxLjQzLTEzLjc4MyAwLTI0Ljk5Ny0xMS4yMTQtMjQuOTk3LTI0Ljk5NyAwLTIuODQuNDY2LTUuNTk2IDEuMzg3LTguMjI5eiIgZmlsbD0iIzAxMDAwMiIvPjwvc3ZnPg==\"","import ApiPaneProps from './ApiPaneProps';\nimport ApiPlaygroundPane from './ApiPlaygroundPane';\nimport SidePanePluginImpl from '../SidePanePluginImpl';\nimport { PluginEvent } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nexport default class ApiPlaygroundPlugin extends SidePanePluginImpl<\n    ApiPlaygroundPane,\n    ApiPaneProps\n> {\n    constructor() {\n        super(ApiPlaygroundPane, 'api', 'API Playground');\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return {\n            ...base,\n            getEditor: () => {\n                return this.editor;\n            },\n        };\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        this.getComponent(component => component.onPluginEvent(e));\n    }\n}\n","import * as React from 'react';\nimport apiEntries, { ApiPlaygroundReactComponent } from './apiEntries';\nimport ApiPaneProps from './ApiPaneProps';\nimport { PluginEvent } from 'roosterjs-editor-types';\nimport { SidePaneElement } from '../SidePaneElement';\n\nconst styles = require('./ApiPlaygroundPane.scss');\n\nexport interface ApiPlaygroundPaneState {\n    current: string;\n}\n\nexport default class ApiPlaygroundPane extends React.Component<ApiPaneProps, ApiPlaygroundPaneState>\n    implements SidePaneElement {\n    private select = React.createRef<HTMLSelectElement>();\n    private pane = React.createRef<ApiPlaygroundReactComponent>();\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = { current: 'empty' };\n    }\n\n    render() {\n        let componentClass = apiEntries[this.state.current].component;\n        let pane: JSX.Element = null;\n        if (componentClass) {\n            pane = React.createElement(componentClass, { ...this.props, ref: this.pane });\n        }\n\n        return (\n            <>\n                <div className={styles.header}>\n                    <h3>Select an API to try</h3>\n\n                    <select ref={this.select} value={this.state.current} onChange={this.onChange}>\n                        {Object.keys(apiEntries).map(key => (\n                            <option value={key} key={key}>\n                                {apiEntries[key].name}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n                {pane}\n            </>\n        );\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (this.pane.current && this.pane.current.onPluginEvent) {\n            this.pane.current.onPluginEvent(e);\n        }\n    }\n\n    setHashPath(path: string[]) {\n        let paneName = path && Object.keys(apiEntries).indexOf(path[0]) >= 0 ? path[0] : null;\n\n        if (paneName && paneName != this.state.current) {\n            this.setState({\n                current: paneName,\n            });\n        } else {\n            this.props.updateHash(null, [this.state.current]);\n        }\n    }\n\n    private onChange = () => {\n        this.props.updateHash(null, [this.select.current.value]);\n    };\n}\n","import * as React from 'react';\nimport ApiPaneProps, { ApiPlaygroundComponent } from './ApiPaneProps';\nimport BlockElementsPane from './blockElements/BlockElementsPane';\nimport GetDarkColorPane from './darkColor/GetDarkColorPane';\nimport GetSelectedRegionsPane from './region/GetSelectedRegionsPane';\nimport InsertContentPane from './insertContent/InsertContentPane';\nimport InsertEntityPane from './insertEntity/InsertEntityPane';\nimport MatchLinkPane from './matchLink/MatchLinkPane';\nimport SanitizerPane from './sanitizer/SanitizerPane';\nimport VListPane from './vlist/VListPane';\nimport VTablePane from './vtable/VTablePane';\n\nexport interface ApiPlaygroundReactComponent\n    extends React.Component<ApiPaneProps, any>,\n        ApiPlaygroundComponent {}\n\ninterface ApiEntry {\n    name: string;\n    component?: { new (prpos: ApiPaneProps): ApiPlaygroundReactComponent };\n}\n\nconst apiEntries: { [key: string]: ApiEntry } = {\n    empty: {\n        name: 'Please select',\n    },\n    block: {\n        name: 'Block Elements',\n        component: BlockElementsPane,\n    },\n    sanitizer: {\n        name: 'HTML Sanitizer',\n        component: SanitizerPane,\n    },\n    matchlink: {\n        name: 'Match Link',\n        component: MatchLinkPane,\n    },\n    insertContent: {\n        name: 'Insert Content',\n        component: InsertContentPane,\n    },\n    region: {\n        name: 'Get Selected Regions',\n        component: GetSelectedRegionsPane,\n    },\n    entity: {\n        name: 'Insert Entity',\n        component: InsertEntityPane,\n    },\n    vlist: {\n        name: 'VList',\n        component: VListPane,\n    },\n    vtable: {\n        name: 'VTable',\n        component: VTablePane,\n    },\n    getDarkColor: {\n        name: 'getDarkColor',\n        component: GetDarkColorPane,\n    },\n    more: {\n        name: 'Coming soon...',\n    },\n};\n\nexport default apiEntries;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { BlockElement, PluginEvent, PluginEventType, PositionType } from 'roosterjs-editor-types';\nimport { createRange, isBlockElement } from 'roosterjs-editor-dom';\n\nconst styles = require('./BlockElementsPane.scss');\n\nexport interface BlockElementPaneState {\n    blocks: BlockElement[];\n}\n\nexport default class BlockElementsPane extends React.Component<\n    ApiPaneProps,\n    BlockElementPaneState\n> {\n    private checkGetBlocks = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            blocks: [],\n        };\n    }\n\n    render() {\n        return (\n            <div>\n                <button onClick={this.onGetBlocks}>Get blocks</button>\n                <input\n                    type=\"checkbox\"\n                    id=\"checkGetBlocks\"\n                    ref={this.checkGetBlocks}\n                    onClick={this.update}\n                />\n                <label htmlFor=\"checkGetBlocks\">Auto refresh</label>\n                {this.state.blocks.map((block, index) => (\n                    <pre\n                        key={index}\n                        className={styles.block}\n                        onMouseOver={() => this.onMouseOver(block)}>\n                        {isNodeBlockElement(block) ? (\n                            this.renderBlock(block)\n                        ) : (\n                            <i onDoubleClick={() => this.collapse(block)}>\n                                {this.renderBlock(block)}\n                            </i>\n                        )}\n                    </pre>\n                ))}\n            </div>\n        );\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (\n            e.eventType == PluginEventType.KeyPress ||\n            e.eventType == PluginEventType.ContentChanged\n        ) {\n            if (this.checkGetBlocks.current.checked) {\n                this.update();\n            } else {\n                this.setBlocks([]);\n            }\n        }\n    }\n\n    private update = () => {\n        this.props.getEditor().runAsync(this.onGetBlocks);\n    };\n\n    private collapse(block: BlockElement) {\n        block.collapseToSingleElement();\n        this.props.getEditor().triggerContentChangedEvent();\n        if (!this.checkGetBlocks.current.checked) {\n            this.onGetBlocks();\n        }\n    }\n\n    private renderBlock(block: BlockElement): JSX.Element {\n        let isNodeBlock = isNodeBlockElement(block);\n        return (\n            <div\n                onDoubleClick={!isNodeBlock && (() => this.collapse(block))}\n                title={\n                    isNodeBlock\n                        ? 'This is a NodeBlockElement'\n                        : 'This is a StartEndBlockElement, double to collapse'\n                }\n                style={{ fontStyle: isNodeBlock ? 'normal' : 'italic' }}>\n                {getTextContent(block) || '<NO CONTENT>'}\n            </div>\n        );\n    }\n\n    private setBlocks(blocks: BlockElement[]) {\n        this.setState({\n            blocks: blocks,\n        });\n    }\n\n    private onGetBlocks = () => {\n        let traverser = this.props.getEditor().getBodyTraverser();\n        let block = traverser && traverser.currentBlockElement;\n        let blocks: BlockElement[] = [];\n\n        while (block) {\n            blocks.push(block);\n            block = traverser.getNextBlockElement();\n        }\n\n        this.setBlocks(blocks);\n    };\n\n    private onMouseOver = (block: BlockElement) => {\n        this.props\n            .getEditor()\n            .select(block.getStartNode(), 0, block.getEndNode(), PositionType.End);\n    };\n}\n\nfunction getTextContent(block: BlockElement): string {\n    return block.getStartNode() == block.getEndNode()\n        ? block.getStartNode().textContent\n        : createRange(block.getStartNode(), block.getEndNode()).toString();\n}\n\nfunction isNodeBlockElement(block: BlockElement): boolean {\n    return block.getStartNode() == block.getEndNode() && isBlockElement(block.getStartNode());\n}\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./BlockElementsPane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1_jgBU84mPgcYlpMVPoqWE{overflow:hidden;text-overflow:ellipsis;cursor:pointer;margin:3px 0;white-space:nowrap}._1_jgBU84mPgcYlpMVPoqWE:hover{background-color:#eee}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"block\": \"_1_jgBU84mPgcYlpMVPoqWE\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { getDarkColor } from 'roosterjs-color-utils';\n\ninterface GetDarkColorPaneState {\n    lightColor: string;\n    darkColor: string;\n}\n\nconst styles = require('./GetDarkColorPane.scss');\n\nexport default class GetDarkColorPane extends React.Component<ApiPaneProps, GetDarkColorPaneState> {\n    private lightColor = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            lightColor: '',\n            darkColor: '',\n        };\n    }\n\n    render() {\n        return (\n            <>\n                <div>\n                    Light Color:{' '}\n                    <input\n                        type=\"input\"\n                        ref={this.lightColor}\n                        onChange={this.onInputChange}\n                        value={this.state.lightColor}\n                    />\n                </div>\n                <hr />\n                <div>\n                    Light Color:\n                    <div className={styles.lightBackground}>\n                        <div\n                            className={styles.result}\n                            style={{ backgroundColor: this.state.lightColor }}\n                        />\n                    </div>\n                </div>\n                <div>\n                    DarkColor: <span>{this.state.darkColor}</span>\n                    <div className={styles.darkBackground}>\n                        <div\n                            className={styles.result}\n                            style={{ backgroundColor: this.state.darkColor }}\n                        />\n                    </div>\n                </div>\n            </>\n        );\n    }\n\n    private onInputChange = () => {\n        let lightColor = this.lightColor.current.value;\n        let darkColor = '';\n\n        try {\n            darkColor = getDarkColor(lightColor);\n        } catch (e) {\n            darkColor = e;\n        }\n\n        this.setState({\n            lightColor: lightColor,\n            darkColor: darkColor,\n        });\n    };\n}\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./GetDarkColorPane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2QN9z7UV4YLHwj9CQ-6ra6{position:absolute;left:25px;right:25px;top:25px;bottom:25px}.KAuwbJuev3yAQmPcrB-wl,.bIPZz2lZ0Dy0-dW2Poeua,._2r_v4LIS95O1jezeMfgUpS{position:relative;width:100px;height:100px;border:solid 1px black}.bIPZz2lZ0Dy0-dW2Poeua{background-color:white}._2r_v4LIS95O1jezeMfgUpS{background-color:#333333}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"result\": \"_2QN9z7UV4YLHwj9CQ-6ra6\",\n\t\"backgroundBase\": \"KAuwbJuev3yAQmPcrB-wl\",\n\t\"lightBackground\": \"bIPZz2lZ0Dy0-dW2Poeua\",\n\t\"darkBackground\": \"_2r_v4LIS95O1jezeMfgUpS\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { IEditor, PositionType, Region } from 'roosterjs-editor-types';\nimport {\n    createRange,\n    getSelectedBlockElementsInRegion,\n    getTagOfNode,\n    safeInstanceOf,\n} from 'roosterjs-editor-dom';\n\nconst styles = require('./GetSelectedRegionsPane.scss');\n\ninterface GetSelectedRegionsPaneState {\n    regions: Region[];\n}\n\nexport default class GetSelectedRegionsPane extends React.Component<\n    ApiPaneProps,\n    GetSelectedRegionsPaneState\n> {\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = { regions: [] };\n    }\n\n    render() {\n        const editor = this.props.getEditor();\n        return (\n            <>\n                <div>\n                    <button onClick={this.getSelectedRegions}>Get Selected Regions</button>&nbsp;\n                    <button onClick={this.clearAll}>Clear</button>\n                </div>\n                <div>\n                    {this.state.regions.map((region, i) => (\n                        <Region key={i} region={region} editor={editor} index={i} />\n                    ))}\n                </div>\n            </>\n        );\n    }\n\n    private getSelectedRegions = () => {\n        this.setState({\n            regions: this.props.getEditor().getSelectedRegions(),\n        });\n    };\n\n    private clearAll = () => {\n        this.setState({\n            regions: [],\n        });\n    };\n}\n\nfunction Region({ region, editor, index }: { region: Region; editor: IEditor; index: number }) {\n    const selectRegion = React.useCallback(() => {\n        const blocks = getSelectedBlockElementsInRegion(region);\n        if (blocks.length > 0) {\n            const range = createRange(\n                blocks[0].getStartNode(),\n                PositionType.Begin,\n                blocks[blocks.length - 1].getEndNode(),\n                PositionType.End\n            );\n            editor.focus();\n            editor.select(range);\n        }\n    }, [region]);\n\n    return (\n        <div>\n            <hr />\n            <div>\n                <b>Region {index}</b>\n            </div>\n            <div>\n                Root node: <NodeName node={region.rootNode} />\n            </div>\n            <div>\n                Node Before: <NodeName node={region.nodeBefore} />\n            </div>\n            <div>\n                Node After: <NodeName node={region.nodeAfter} />\n            </div>\n            <div>\n                Selected blocks: <button onClick={selectRegion}>Select</button>\n            </div>\n        </div>\n    );\n}\n\nfunction NodeName({ node }: { node: Node }) {\n    const mouseOver = React.useCallback(() => {\n        if (safeInstanceOf(node, 'HTMLElement')) {\n            node.className += ' ' + styles.hover;\n        }\n    }, [node]);\n\n    const mouseOut = React.useCallback(() => {\n        if (safeInstanceOf(node, 'HTMLElement')) {\n            let classNames = node.className.split(' ');\n            classNames = classNames.filter(name => name != styles.hover);\n            node.className = classNames.join(' ').trim();\n        }\n    }, [node]);\n\n    return node ? (\n        safeInstanceOf(node, 'HTMLElement') ? (\n            <span onMouseOver={mouseOver} onMouseOut={mouseOut} className={styles.regionNode}>\n                {getTagOfNode(node)}#{node.id}\n            </span>\n        ) : (\n            <span className={styles.regionNode}>{node.nodeValue.substr(0, 10)}</span>\n        )\n    ) : null;\n}\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./GetSelectedRegionsPane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".deySpGrN2RNEpBoMFR8Uh{font-weight:bold;background-color:#aaf7ff}._2mBGUX8vWQF-5jynECLtGD{background-color:#00b0c4;border:solid 2px #09a}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"regionNode\": \"deySpGrN2RNEpBoMFR8Uh\",\n\t\"hover\": \"_2mBGUX8vWQF-5jynECLtGD\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { ContentPosition, InsertOptionBasic } from 'roosterjs-editor-types';\n\nconst styles = require('./InsertContentPane.scss');\n\nexport interface InsertContentPaneState {\n    content: string;\n    position: ContentPosition;\n    updateCursor: boolean;\n    replaceSelection: boolean;\n    insertOnNewLine: boolean;\n}\n\nexport default class InsertContentPane extends React.Component<\n    ApiPaneProps,\n    InsertContentPaneState\n> {\n    private html = React.createRef<HTMLTextAreaElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            content: '',\n            position: ContentPosition.SelectionStart,\n            updateCursor: true,\n            replaceSelection: true,\n            insertOnNewLine: false,\n        };\n    }\n\n    render() {\n        return (\n            <table>\n                <tr>\n                    <td>HTML Content</td>\n                    <td>\n                        <textarea\n                            className={styles.text}\n                            ref={this.html}\n                            value={this.state.content}\n                            onChange={() => this.setState({ content: this.html.current.value })}\n                        />\n                    </td>\n                </tr>\n                <tr>\n                    <td>Insert at</td>\n                    <td>\n                        <div>\n                            <input\n                                type=\"radio\"\n                                name=\"position\"\n                                checked={this.state.position == ContentPosition.Begin}\n                                id=\"insertBegin\"\n                                onClick={() => this.setPosition(ContentPosition.Begin)}\n                            />\n                            <label htmlFor=\"insertBegin\">Begin</label>\n                        </div>\n                        <div>\n                            <input\n                                type=\"radio\"\n                                name=\"position\"\n                                checked={this.state.position == ContentPosition.End}\n                                id=\"insertEnd\"\n                                onClick={() => this.setPosition(ContentPosition.End)}\n                            />\n                            <label htmlFor=\"insertEnd\">End</label>\n                        </div>\n                        <div>\n                            <input\n                                type=\"radio\"\n                                name=\"position\"\n                                checked={this.state.position == ContentPosition.SelectionStart}\n                                id=\"insertSelectionStart\"\n                                onClick={() => this.setPosition(ContentPosition.SelectionStart)}\n                            />\n                            <label htmlFor=\"insertSelectionStart\">SelectionStart</label>\n                        </div>\n                        <div>\n                            <input\n                                type=\"radio\"\n                                name=\"position\"\n                                checked={this.state.position == ContentPosition.Outside}\n                                id=\"insertOutside\"\n                                onClick={() => this.setPosition(ContentPosition.Outside)}\n                            />\n                            <label htmlFor=\"insertOutside\">Outside</label>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <td>Cursor option</td>\n                    <td>\n                        <input\n                            type=\"checkbox\"\n                            id=\"insertUpdateCursor\"\n                            checked={this.state.updateCursor}\n                            onClick={() =>\n                                this.setState({ updateCursor: !this.state.updateCursor })\n                            }\n                        />\n                        <label htmlFor=\"insertUpdateCursor\">Update cursor</label>\n                    </td>\n                </tr>\n                <tr>\n                    <td>Replace option</td>\n                    <td>\n                        <input\n                            type=\"checkbox\"\n                            id=\"insertReplaceSelection\"\n                            checked={this.state.replaceSelection}\n                            onClick={() =>\n                                this.setState({ replaceSelection: !this.state.replaceSelection })\n                            }\n                        />\n                        <label htmlFor=\"insertReplaceSelection\">Replace selection</label>\n                    </td>\n                </tr>\n                <tr>\n                    <td>New line option</td>\n                    <td>\n                        <input\n                            type=\"checkbox\"\n                            id=\"insertOnNewLine\"\n                            checked={this.state.insertOnNewLine}\n                            onClick={() =>\n                                this.setState({ insertOnNewLine: !this.state.insertOnNewLine })\n                            }\n                        />\n                        <label htmlFor=\"insertOnNewLine\">Insert on new line</label>\n                    </td>\n                </tr>\n                <tr>\n                    <td colSpan={2} className={styles.buttonRow}>\n                        <button onClick={this.onClick}>Insert Content</button>\n                    </td>\n                </tr>\n            </table>\n        );\n    }\n\n    private setPosition(position: ContentPosition) {\n        this.setState({\n            position: position,\n        });\n    }\n\n    private onClick = () => {\n        let editor = this.props.getEditor();\n        if (this.state.position != ContentPosition.Range) {\n            const inputOption: InsertOptionBasic = {\n                position: this.state.position,\n                updateCursor: this.state.updateCursor,\n                replaceSelection: this.state.replaceSelection,\n                insertOnNewLine: this.state.insertOnNewLine,\n            };\n            editor.addUndoSnapshot(() => editor.insertContent(this.state.content, inputOption));\n        }\n    };\n}\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./InsertContentPane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3zqjTFVESq7ErkoLCRZ-6U{resize:none;min-height:100px;max-height:200px}._3eEmGG3kPCcFFRLXYSrjlt{text-align:center}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"text\": \"_3zqjTFVESq7ErkoLCRZ-6U\",\n\t\"buttonRow\": \"_3eEmGG3kPCcFFRLXYSrjlt\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { Entity } from 'roosterjs-editor-types';\nimport { getEntityFromElement, getEntitySelector } from 'roosterjs-editor-dom';\nimport { insertEntity } from 'roosterjs-editor-api';\nimport { trustedHTMLHandler } from '../../../../utils/trustedHTMLHandler';\n\nconst styles = require('./InsertEntityPane.scss');\n\ninterface InsertEntityPaneState {\n    entities: Entity[];\n}\n\nexport default class InsertEntityPane extends React.Component<ApiPaneProps, InsertEntityPaneState> {\n    private entityType = React.createRef<HTMLInputElement>();\n    private html = React.createRef<HTMLTextAreaElement>();\n    private styleInline = React.createRef<HTMLInputElement>();\n    private styleBlock = React.createRef<HTMLInputElement>();\n    private isReadonly = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            entities: [],\n        };\n    }\n\n    render() {\n        return (\n            <>\n                <div>\n                    Type: <input type=\"input\" ref={this.entityType} />\n                </div>\n                <div>\n                    HTML: <textarea className={styles.textarea} ref={this.html}></textarea>\n                </div>\n                <div>\n                    Style:\n                    <input\n                        type=\"radio\"\n                        name=\"entityStyle\"\n                        ref={this.styleInline}\n                        id=\"styleInline\"\n                    />\n                    <label htmlFor=\"styleInline\">Inline</label>{' '}\n                    <input type=\"radio\" name=\"entityStyle\" ref={this.styleBlock} id=\"styleBlock\" />\n                    <label htmlFor=\"styleBlock\">Block</label>\n                </div>\n                <div>\n                    Readonly: <input type=\"checkbox\" ref={this.isReadonly} />\n                </div>\n                <div>\n                    <button onClick={this.insertEntity}>Insert Entity</button>\n                </div>\n                <hr />\n                <div>\n                    <button onClick={this.onGetEntities}>Get all entities</button>\n                </div>\n                <div>\n                    {this.state.entities.map(entity => (\n                        <EntityButton key={entity.id} entity={entity} />\n                    ))}\n                </div>\n            </>\n        );\n    }\n\n    private insertEntity = () => {\n        const entityType = this.entityType.current.value;\n        const node = document.createElement('span');\n        node.innerHTML = trustedHTMLHandler(this.html.current.value);\n        const isBlock = this.styleBlock.current.checked;\n        const isReadonly = this.isReadonly.current.checked;\n\n        if (node) {\n            insertEntity(this.props.getEditor(), entityType, node, isBlock, isReadonly);\n        }\n    };\n\n    private onGetEntities = () => {\n        const selector = getEntitySelector();\n        const nodes = this.props.getEditor().queryElements(selector);\n        const allEntities = nodes.map(node => getEntityFromElement(node));\n\n        this.setState({\n            entities: allEntities.filter(e => !!e),\n        });\n    };\n}\n\nfunction EntityButton({ entity }: { entity: Entity }) {\n    let background = '';\n    const onMouseOver = React.useCallback(() => {\n        background = entity.wrapper.style.backgroundColor;\n        entity.wrapper.style.backgroundColor = 'blue';\n    }, [entity]);\n\n    const onMouseOut = React.useCallback(() => {\n        entity.wrapper.style.backgroundColor = background;\n    }, [entity]);\n\n    return (\n        <div onMouseOver={onMouseOver} onMouseOut={onMouseOut}>\n            Type: {entity.type}\n            <br />\n            Id: {entity.id}\n            <br />\n            Readonly: {entity.isReadonly ? 'True' : 'False'}\n            <br />\n            <br />\n        </div>\n    );\n}\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./InsertEntityPane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3w8Hon1pjNxrKF0BoO_5HY{outline:none;resize:none;min-height:40px;width:90%}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"textarea\": \"_3w8Hon1pjNxrKF0BoO_5HY\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { LinkData } from 'roosterjs-editor-types';\nimport { matchLink } from 'roosterjs-editor-dom';\n\ninterface MatchLinkState {\n    linkData: LinkData;\n}\n\nexport default class MatchLinkPane extends React.Component<ApiPaneProps, MatchLinkState> {\n    private url = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = { linkData: undefined };\n    }\n\n    render() {\n        let { scheme, originalUrl, normalizedUrl } = this.state.linkData || ({} as LinkData);\n        return (\n            <>\n                <div>\n                    Url: <input type=\"input\" ref={this.url} />{' '}\n                    <button onClick={this.onMatchLink}>Match Link</button>\n                </div>\n                {this.state.linkData === null ? (\n                    <div>Not matched</div>\n                ) : (\n                    <>\n                        <div>Schema: {scheme || ''}</div>\n                        <div>Original Url: {originalUrl || ''}</div>\n                        <div>Normalized Url: {normalizedUrl || ''}</div>\n                    </>\n                )}\n            </>\n        );\n    }\n\n    private onMatchLink = () => {\n        let match = matchLink(this.url.current.value);\n        this.setState({\n            linkData: match,\n        });\n    };\n}\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { HtmlSanitizer } from 'roosterjs-editor-dom';\n\nconst styles = require('./SanitizerPane.scss');\n\nexport default class SanitizerPane extends React.Component<ApiPaneProps, {}> {\n    private source = React.createRef<HTMLTextAreaElement>();\n    private result = React.createRef<HTMLTextAreaElement>();\n    private sanitizer = new HtmlSanitizer();\n\n    render() {\n        return (\n            <>\n                <h3>Input</h3>\n                <textarea className={styles.textarea} ref={this.source} />\n                <div>\n                    <button className={styles.button} onClick={this.inline}>\n                        Inline CSS\n                    </button>\n                    <button className={styles.button} onClick={this.sanitize}>\n                        Sanitize\n                    </button>\n                </div>\n                <h3>Result</h3>\n                <textarea className={styles.textarea} ref={this.result} />\n            </>\n        );\n    }\n\n    private inline = () => {\n        this.result.current.value = this.sanitizer.exec(this.source.current.value, true);\n    };\n\n    private sanitize = () => {\n        this.result.current.value = HtmlSanitizer.sanitizeHtml(this.source.current.value);\n    };\n}\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./SanitizerPane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".z_Kjs2wjz5dWJBsuOtSYN{outline:none;resize:none;min-height:100px;height:300px}._1jzoyXnrzDHw1HFmidMaWi{margin:10px;height:35px;width:80px;flex:0 0 auto}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"textarea\": \"z_Kjs2wjz5dWJBsuOtSYN\",\n\t\"button\": \"_1jzoyXnrzDHw1HFmidMaWi\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport VListItem from 'roosterjs-editor-dom/lib/list/VListItem';\nimport { createVListFromRegion, VList } from 'roosterjs-editor-dom';\nimport { IEditor, ListType, PositionType } from 'roosterjs-editor-types';\n\ninterface VListPaneState {\n    vlist: VList;\n}\n\nconst ListTypeToString = {\n    [ListType.None]: 'None',\n    [ListType.Ordered]: 'Ordered',\n    [ListType.Unordered]: 'Unordered',\n};\n\nfunction VListItemPane(props: { editor: IEditor; item: VListItem; onChange: () => void }) {\n    const { item, editor, onChange } = props;\n    const type = item.getListType();\n\n    const onMouseOver = React.useCallback(() => {\n        const node = item.getNode();\n        editor.select(node);\n    }, [props.item, editor]);\n\n    const onOrdered = React.useCallback(() => {\n        item.changeListType(ListType.Ordered);\n        onChange();\n    }, [props.item, editor]);\n    const onUnrdered = React.useCallback(() => {\n        item.changeListType(ListType.Unordered);\n        onChange();\n    }, [props.item, editor]);\n    const onIndent = React.useCallback(() => {\n        item.indent();\n        onChange();\n    }, [props.item, editor]);\n    const onOutdent = React.useCallback(() => {\n        item.outdent();\n        onChange();\n    }, [props.item, editor]);\n\n    return (\n        <div>\n            <button onClick={onOrdered}>1.</button>\n            <button onClick={onUnrdered}>*</button>\n            <button onClick={onOutdent}>&lt;-</button>\n            <button onClick={onIndent}>-&gt;</button>\n            <span\n                style={{\n                    marginLeft: item.getLevel() * 20 + 'px',\n                    display: 'inline-block',\n                    cursor: 'pointer',\n                }}\n                onMouseOver={onMouseOver}>\n                {ListTypeToString[type]}\n            </span>\n        </div>\n    );\n}\n\nexport default class VListPane extends React.Component<ApiPaneProps, VListPaneState> {\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            vlist: null,\n        };\n    }\n\n    render() {\n        const editor = this.props.getEditor();\n        return (\n            <>\n                <button onClick={this.createVList}>Create VList from cursor</button>\n                {this.state.vlist && (\n                    <>\n                        {this.state.vlist.items.map(item => (\n                            <VListItemPane item={item} editor={editor} onChange={this.onChange} />\n                        ))}\n                        <button onClick={this.onWriteback}>Write back</button>\n                    </>\n                )}\n            </>\n        );\n    }\n\n    private createVList = () => {\n        const editor = this.props.getEditor();\n        const node = editor.getElementAtCursor();\n        const region = editor.getSelectedRegions()[0];\n        const vlist = node\n            ? createVListFromRegion(region, false /*includingSiblingList*/, node)\n            : null;\n\n        this.setState({\n            vlist: vlist,\n        });\n    };\n\n    private onWriteback = () => {\n        const editor = this.props.getEditor();\n        editor.addUndoSnapshot(() => {\n            this.state.vlist?.writeBack();\n            editor.focus();\n            editor.select(this.state.vlist.items[0]?.getNode(), PositionType.Begin);\n        });\n        this.createVList();\n    };\n\n    private onChange = () => {\n        this.forceUpdate();\n    };\n}\n","import * as Color from 'color';\nimport * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport ColorPicker from '../../../colorPicker/ColorPicker';\nimport { getTagOfNode, VTable } from 'roosterjs-editor-dom';\nimport { IEditor, PositionType, TableFormat, TableOperation, VCell } from 'roosterjs-editor-types';\n\nconst TABLE_FORMAT = {\n    default: createTableFormat('#FFF', '#FFF', '#ABABAB', '#ABABAB', '#ABABAB'),\n    lightLines: createTableFormat('#FFF', '#FFF', null, '#92C0E0'),\n    towTones: createTableFormat('#C0E4FF', '#FFF'),\n    lightBands: createTableFormat('#D8D8D8', '#FFF'),\n    grid: createTableFormat('#D8D8D8', '#FFF', '#ABABAB', '#ABABAB', '#ABABAB'),\n    clear: createTableFormat('#FFF', '#FFF'),\n};\n\ninterface VTablePaneState {\n    vtable: VTable;\n}\n\nconst styles = require('./VTablePane.scss');\n\nfunction TableCell(props: {\n    cell: VCell;\n    editor: IEditor;\n    isCurrent: boolean;\n    onClickCell: (td: HTMLTableCellElement) => void;\n}) {\n    const { cell, editor, isCurrent } = props;\n    const onMouseOver = React.useCallback(() => {\n        editor.select(cell.td);\n    }, [cell, editor]);\n    const onClick = React.useCallback(() => {\n        if (cell.td) {\n            props.onClickCell(cell.td);\n        }\n    }, [cell, editor]);\n\n    const text = cell.td\n        ? getTagOfNode(cell.td)\n        : cell.spanAbove && cell.spanLeft\n        ? ''\n        : cell.spanAbove\n        ? ''\n        : cell.spanLeft\n        ? ''\n        : '';\n\n    return (\n        <div\n            style={{ cursor: 'pointer', border: isCurrent ? 'solid 2px black' : '' }}\n            onMouseOver={onMouseOver}\n            onClick={onClick}>\n            {text}\n        </div>\n    );\n}\n\nexport default class VTablePane extends React.Component<ApiPaneProps, VTablePaneState> {\n    private evenBgColor = React.createRef<HTMLInputElement>();\n    private oddBgColor = React.createRef<HTMLInputElement>();\n    private topBorderColor = React.createRef<HTMLInputElement>();\n    private bottomBorderColor = React.createRef<HTMLInputElement>();\n    private verticalBorderColor = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            vtable: null,\n        };\n    }\n\n    render() {\n        const editor = this.props.getEditor();\n        const currentTd = this.state.vtable?.getCurrentTd();\n        return (\n            <>\n                <button onClick={this.createVTable}>Create VTable from cursor</button>\n                {this.state.vtable && (\n                    <>\n                        <table\n                            style={{\n                                border: 'solid 1px black',\n                            }}>\n                            {this.state.vtable.cells.map(row => (\n                                <tr>\n                                    {row.map(cell => (\n                                        <td>\n                                            <TableCell\n                                                cell={cell}\n                                                editor={editor}\n                                                isCurrent={currentTd == cell.td}\n                                                onClickCell={this.onClickCell}\n                                            />\n                                        </td>\n                                    ))}\n                                </tr>\n                            ))}\n                        </table>\n                        <table>\n                            <tr>\n                                <th colSpan={2}>Edit Table</th>\n                            </tr>\n                            <tr>\n                                <td>Insert</td>\n                                <td>\n                                    {this.renderEditTableButton(\n                                        'Above',\n                                        TableOperation.InsertAbove\n                                    )}\n                                    {this.renderEditTableButton(\n                                        'Below',\n                                        TableOperation.InsertBelow\n                                    )}\n                                    {this.renderEditTableButton('Left', TableOperation.InsertLeft)}\n                                    {this.renderEditTableButton(\n                                        'Right',\n                                        TableOperation.InsertRight\n                                    )}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Delete</td>\n                                <td>\n                                    {this.renderEditTableButton(\n                                        'Table',\n                                        TableOperation.DeleteTable\n                                    )}\n                                    {this.renderEditTableButton(\n                                        'Column',\n                                        TableOperation.DeleteColumn\n                                    )}\n                                    {this.renderEditTableButton('Row', TableOperation.DeleteRow)}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Merge</td>\n                                <td>\n                                    {this.renderEditTableButton('Above', TableOperation.MergeAbove)}\n                                    {this.renderEditTableButton('Below', TableOperation.MergeBelow)}\n                                    {this.renderEditTableButton('Left', TableOperation.MergeLeft)}\n                                    {this.renderEditTableButton('Right', TableOperation.MergeRight)}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Split</td>\n                                <td>\n                                    {this.renderEditTableButton(\n                                        'Horizontally',\n                                        TableOperation.SplitHorizontally\n                                    )}\n                                    {this.renderEditTableButton(\n                                        'Vertically',\n                                        TableOperation.SplitVertically\n                                    )}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Align</td>\n                                <td>\n                                    {this.renderEditTableButton('Left', TableOperation.AlignLeft)}\n                                    {this.renderEditTableButton(\n                                        'Center',\n                                        TableOperation.AlignCenter\n                                    )}\n                                    {this.renderEditTableButton('Right', TableOperation.AlignRight)}\n                                </td>\n                            </tr>\n                            <tr>\n                                <th colSpan={2}>Format Table</th>\n                            </tr>\n                            <tr>\n                                <td>Predefined:</td>\n                                <td>\n                                    {this.renderFormatTableButton('Default', TABLE_FORMAT.default)}\n                                    {this.renderFormatTableButton('Grid', TABLE_FORMAT.grid)}\n                                    {this.renderFormatTableButton(\n                                        'Light lines',\n                                        TABLE_FORMAT.lightLines\n                                    )}\n                                    {this.renderFormatTableButton(\n                                        'Two tones',\n                                        TABLE_FORMAT.towTones\n                                    )}\n                                    {this.renderFormatTableButton(\n                                        'Light bands',\n                                        TABLE_FORMAT.lightBands\n                                    )}\n                                    {this.renderFormatTableButton('Clear', TABLE_FORMAT.clear)}\n                                </td>\n                            </tr>\n                            <tr>\n                                <th colSpan={2} className={styles.buttonRow}>\n                                    Customized Colors:\n                                </th>\n                            </tr>\n                            <CustomizeFormatRow text=\"Even row\" inputRef={this.evenBgColor} />\n                            <CustomizeFormatRow text=\"Odd row\" inputRef={this.oddBgColor} />\n                            <CustomizeFormatRow text=\"Top border\" inputRef={this.topBorderColor} />\n                            <CustomizeFormatRow\n                                text=\"Bottom border\"\n                                inputRef={this.bottomBorderColor}\n                            />\n                            <CustomizeFormatRow\n                                text=\"Vertical border\"\n                                inputRef={this.verticalBorderColor}\n                            />\n                            <tr>\n                                <td\n                                    colSpan={2}\n                                    className={styles.buttonRow}\n                                    onClick={this.onCustomizeFormat}>\n                                    <button className={styles.button}>Apply Format</button>\n                                </td>\n                            </tr>\n                        </table>\n                        <button onClick={this.onWriteBack}>Write back</button>\n                    </>\n                )}\n            </>\n        );\n    }\n\n    private createVTable = () => {\n        const editor = this.props.getEditor();\n        const node = editor.getElementAtCursor('td,th') as HTMLTableCellElement;\n        const vtable = node ? new VTable(node) : null;\n\n        this.setState({ vtable });\n    };\n\n    private onClickCell = (td: HTMLTableCellElement) => {\n        const vtable = new VTable(td);\n        this.setState({ vtable });\n    };\n\n    private renderEditTableButton(text: string, operation: TableOperation): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    this.state.vtable.edit(operation);\n                    this.forceUpdate();\n                }}>\n                {text}\n            </button>\n        );\n    }\n\n    private renderFormatTableButton(text: string, format: TableFormat): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    this.state.vtable.applyFormat(format);\n                    this.forceUpdate();\n                }}>\n                {text}\n            </button>\n        );\n    }\n\n    private onCustomizeFormat = () => {\n        const format = createTableFormat(\n            this.evenBgColor.current.value || undefined,\n            this.oddBgColor.current.value || undefined,\n            this.topBorderColor.current.value || undefined,\n            this.bottomBorderColor.current.value || undefined,\n            this.verticalBorderColor.current.value || undefined\n        );\n\n        this.state.vtable.applyFormat(format);\n        this.forceUpdate();\n    };\n\n    private onWriteBack = () => {\n        const editor = this.props.getEditor();\n        editor.addUndoSnapshot(() => {\n            const vtable = this.state.vtable;\n            const td = vtable.getCurrentTd();\n            vtable.writeBack();\n            editor.focus();\n            editor.select(td, PositionType.Begin);\n        });\n        this.createVTable();\n    };\n}\n\nfunction createTableFormat(\n    bgColorEven?: string,\n    bgColorOdd?: string,\n    topBorder?: string,\n    bottomBorder?: string,\n    verticalBorder?: string\n): TableFormat {\n    return {\n        bgColorEven: bgColorEven,\n        bgColorOdd: bgColorOdd,\n        topBorderColor: topBorder,\n        bottomBorderColor: bottomBorder,\n        verticalBorderColor: verticalBorder,\n    };\n}\n\nfunction CustomizeFormatRow(props: { text: string; inputRef: React.RefObject<HTMLInputElement> }) {\n    const [isColorPickerShowing, setIsColorPickerShowing] = React.useState(false);\n    const onShowColorPicker = React.useCallback(() => {\n        setIsColorPickerShowing(!isColorPickerShowing);\n    }, [isColorPickerShowing]);\n    const setColor = React.useCallback((color: Color) => {\n        props.inputRef.current.value = color.hex().toString();\n    }, []);\n    let color: Color;\n    try {\n        color = Color(props.inputRef.current.value);\n    } catch {\n        color = Color('white');\n    }\n    return (\n        <>\n            <tr>\n                <td className={styles.label}>\n                    <button onClick={onShowColorPicker}>{props.text}</button>\n                </td>\n                <td>\n                    <input type=\"text\" ref={props.inputRef} />\n                </td>\n            </tr>\n            {isColorPickerShowing && (\n                <tr>\n                    <td colSpan={2}>\n                        <ColorPicker initColor={color} onSelect={setColor} />\n                    </td>\n                </tr>\n            )}\n        </>\n    );\n}\n","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\n\nvar reverseNames = {};\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (colorNames.hasOwnProperty(name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar keyword = /(\\D+)/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\n\t\tif (!rgb) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = (parseFloat(match[1]) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = num.toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n","module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n","var conversions = require('./conversions');\nvar route = require('./route');\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","var conversions = require('./conversions');\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","import * as Color from 'color';\nimport * as React from 'react';\nimport { getComputedStyle } from 'roosterjs-editor-dom';\n\nconst styles = require('./ColorPicker.scss');\n\nexport interface ColorPickerProps {\n    initColor: Color;\n    onSelect?: (color: Color) => void;\n    className?: string;\n}\n\nconst enum Keys {\n    PageUp = 33,\n    PageDown = 34,\n    End = 35,\n    Home = 36,\n    Left = 37,\n    Up = 38,\n    Right = 39,\n    Down = 40,\n}\n\nexport default function ColorPicker(props: ColorPickerProps): JSX.Element {\n    const hueBar = React.useRef<HTMLDivElement>(null);\n    const picker = React.useRef<HTMLDivElement>(null);\n    const hsv = props.initColor.hsv();\n    const [hue, setHue] = React.useState(hsv.hue());\n    const [saturation, setSaturation] = React.useState(hsv.saturationv());\n    const [value, setValue] = React.useState(hsv.value());\n    const isRtl = getComputedStyle(document.body, 'direction') == 'rtl';\n\n    const onMouseDownHueBar = React.useCallback((e: React.MouseEvent<EventTarget>) => {\n        startDrag(hueBar.current!, x => setHue(x * 360));\n    }, []);\n\n    const onMouseDownPicker = React.useCallback((e: React.MouseEvent<EventTarget>) => {\n        startDrag(picker.current!, (x, y) => {\n            setSaturation(x * 100);\n            setValue(100 - y * 100);\n        });\n    }, []);\n\n    const onChangeHue = React.useCallback(\n        (e: React.KeyboardEvent<EventTarget>) => {\n            let newHue = hue;\n            switch (e.which) {\n                case Keys.Left:\n                    newHue += isRtl ? 1 : -1;\n                    break;\n                case Keys.Up:\n                    newHue--;\n                    break;\n                case Keys.Right:\n                    newHue += isRtl ? -1 : 1;\n                    break;\n                case Keys.Down:\n                    newHue++;\n                    break;\n                case Keys.PageUp:\n                    newHue -= 10;\n                    break;\n                case Keys.PageDown:\n                    newHue += 10;\n                    break;\n                case Keys.Home:\n                    newHue = 0;\n                    break;\n                case Keys.End:\n                    newHue = 360;\n                    break;\n            }\n            setHue(Math.max(Math.min(newHue, 360), 0));\n        },\n        [hue, isRtl]\n    );\n\n    const onChangeColor = React.useCallback(\n        (e: React.KeyboardEvent<EventTarget>) => {\n            let newSaturation = saturation;\n            let newValue = value;\n            switch (e.which) {\n                case Keys.Left:\n                    newSaturation += isRtl ? 1 : -1;\n                    break;\n                case Keys.Right:\n                    newSaturation += isRtl ? -1 : 1;\n                    break;\n                case Keys.Home:\n                    newSaturation = 0;\n                    break;\n                case Keys.End:\n                    newSaturation = 100;\n                    break;\n                case Keys.Up:\n                    newValue++;\n                    break;\n                case Keys.Down:\n                    newValue--;\n                    break;\n                case Keys.PageUp:\n                    newValue += 10;\n                    break;\n                case Keys.PageDown:\n                    newValue -= 10;\n                    break;\n            }\n            setSaturation(Math.max(Math.min(newSaturation, 100), 0));\n            setValue(Math.max(Math.min(newValue, 100), 0));\n        },\n        [saturation, value, isRtl]\n    );\n\n    React.useEffect(() => {\n        props.onSelect?.(props.initColor);\n    }, []);\n\n    React.useEffect(() => {\n        props.onSelect?.(Color.hsv(hue, saturation, value).rgb());\n    }, [hue, saturation, value]);\n\n    return (\n        <div className={styles.container}>\n            <div\n                tabIndex={0}\n                className={styles.picker}\n                ref={picker}\n                style={{\n                    backgroundColor: Color.hsv(hue, 100, 100).rgb().toString(),\n                }}\n                onKeyDown={onChangeColor}\n                onMouseDown={onMouseDownPicker}>\n                <div className={styles.layer1}>\n                    <div className={styles.layer2} />\n                </div>\n                <div\n                    className={styles.currentColor}\n                    style={{\n                        left: saturation + '%',\n                        top: 100 - value + '%',\n                    }}>\n                    <div />\n                </div>\n            </div>\n\n            <div\n                className={styles.newColor}\n                style={{ backgroundColor: Color.hsv(hue, saturation, value).rgb().toString() }}\n            />\n            <div\n                className={styles.initColor}\n                style={{ backgroundColor: props.initColor.toString() }}\n            />\n\n            <div\n                className={styles.hueBar}\n                ref={hueBar}\n                tabIndex={0}\n                onMouseDown={onMouseDownHueBar}\n                onKeyDown={onChangeHue}>\n                <div\n                    className={styles.currentColor}\n                    style={{\n                        left: hue / 3.6 + '%',\n                    }}>\n                    <div />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction startDrag(element: HTMLElement, callback: (x: number, y: number) => void) {\n    const rect = element.getBoundingClientRect();\n    const document = element.ownerDocument;\n\n    const onMouseChange = (e: MouseEvent) => {\n        const left = e.pageX - rect.left;\n        const top = e.pageY - rect.top;\n        let x = Math.round((left * 100) / rect.width) / 100;\n        let y = Math.round((top * 100) / rect.height) / 100;\n        x = Math.min(Math.max(x, 0), 1);\n        y = Math.min(Math.max(y, 0), 1);\n\n        callback(x, y);\n\n        if (e.type == 'mouseup') {\n            document.removeEventListener('mousemove', onMouseChange, true /*useCapture*/);\n            document.removeEventListener('mouseup', onMouseChange, true /*useCapture*/);\n        } else {\n            e.stopPropagation();\n            e.preventDefault();\n        }\n    };\n\n    document.addEventListener('mousemove', onMouseChange, true /*useCapture*/);\n    document.addEventListener('mouseup', onMouseChange, true /*useCapture*/);\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./ColorPicker.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".zzrG7QTYWevpNEutHRteL{border:solid 1px black;position:relative;width:100%;height:250px}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp{position:absolute;top:5px;left:5px;right:60px;bottom:25px}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp .tACuk57Dyi-G8vSeWqr1J{width:100%;height:100%;background:linear-gradient(to right, white, rgba(255,255,255,0))}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp ._2spr_UnliyPKejcb4aR4VA{width:100%;height:100%;background:linear-gradient(to top, black, rgba(0,0,0,0))}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp .w4z5tFrATWvV5ruSLWsJp{position:absolute}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp .w4z5tFrATWvV5ruSLWsJp div{position:absolute;box-sizing:border-box;left:-6px;top:-6px;width:12px;height:12px;border:solid 2px black;border-radius:50%}.zzrG7QTYWevpNEutHRteL .dtqPj9iGhxveR4Am-elmu{position:absolute;top:5px;width:50px;right:5px;bottom:50%}.zzrG7QTYWevpNEutHRteL ._3eWedriXwotOrDVbydtjbM{position:absolute;top:50%;width:50px;right:5px;bottom:5px}.zzrG7QTYWevpNEutHRteL ._3MccxpeP-m7bKvTxQer9Ky{position:absolute;left:5px;right:60px;bottom:5px;height:15px;background:linear-gradient(to right, red 0%, #ff0 17%, lime 33%, cyan 50%, blue 67%, #f0f 83%, red 100%)}.zzrG7QTYWevpNEutHRteL ._3MccxpeP-m7bKvTxQer9Ky .w4z5tFrATWvV5ruSLWsJp{position:absolute;height:100%}.zzrG7QTYWevpNEutHRteL ._3MccxpeP-m7bKvTxQer9Ky .w4z5tFrATWvV5ruSLWsJp div{position:absolute;box-sizing:border-box;left:-4px;width:8px;top:-2px;bottom:-2px;border:solid 2px black;border-radius:20%}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"container\": \"zzrG7QTYWevpNEutHRteL\",\n\t\"picker\": \"_2oyU282TgFscZ5UHgcUmdp\",\n\t\"layer1\": \"tACuk57Dyi-G8vSeWqr1J\",\n\t\"layer2\": \"_2spr_UnliyPKejcb4aR4VA\",\n\t\"currentColor\": \"w4z5tFrATWvV5ruSLWsJp\",\n\t\"newColor\": \"dtqPj9iGhxveR4Am-elmu\",\n\t\"initColor\": \"_3eWedriXwotOrDVbydtjbM\",\n\t\"hueBar\": \"_3MccxpeP-m7bKvTxQer9Ky\"\n};\nmodule.exports = exports;\n","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/sass-loader/dist/cjs.js!./VTablePane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1npSAsDS54nnYHLeTCHICi{text-align:center}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"buttonRow\": \"_1npSAsDS54nnYHLeTCHICi\"\n};\nmodule.exports = exports;\n","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/sass-loader/dist/cjs.js!./ApiPlaygroundPane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._12Yaq4bmIYMlsqqYimZ13I{flex:0 0 auto;padding-bottom:5px}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"header\": \"_12Yaq4bmIYMlsqqYimZ13I\"\n};\nmodule.exports = exports;\n","import BuildInPluginState, { BuildInPluginProps, UrlPlaceholder } from '../../BuildInPluginState';\nimport getDefaultContentEditFeatureSettings from './getDefaultContentEditFeatureSettings';\nimport OptionsPane from './OptionsPane';\nimport SidePanePluginImpl from '../SidePanePluginImpl';\nimport { ExperimentalFeatures } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nconst initialState: BuildInPluginState = {\n    pluginList: {\n        contentEdit: true,\n        hyperlink: true,\n        paste: true,\n        watermark: false,\n        imageEdit: true,\n        cutPasteListChain: true,\n        tableResize: true,\n        customReplace: true,\n        pickerPlugin: true,\n        contextMenu: true,\n    },\n    contentEditFeatures: getDefaultContentEditFeatureSettings(),\n    defaultFormat: {},\n    linkTitle: 'Ctrl+Click to follow the link:' + UrlPlaceholder,\n    watermarkText: 'Type content here ...',\n    forcePreserveRatio: false,\n    showRibbon: true,\n    supportDarkMode: true,\n    experimentalFeatures: [\n        ExperimentalFeatures.PasteWithLinkPreview,\n        ExperimentalFeatures.SingleDirectionResize,\n        ExperimentalFeatures.ImageRotate,\n        ExperimentalFeatures.ImageCrop,\n        ExperimentalFeatures.AlwaysApplyDefaultFormat,\n        ExperimentalFeatures.ConvertSingleImageBody,\n    ],\n};\n\nexport default class EditorOptionsPlugin extends SidePanePluginImpl<\n    OptionsPane,\n    BuildInPluginProps\n> {\n    constructor() {\n        super(OptionsPane, 'options', 'Editor Options');\n    }\n\n    getBuildInPluginState(): BuildInPluginState {\n        let result: BuildInPluginState;\n        this.getComponent(component => (result = component.getState()));\n        return result || initialState;\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return {\n            ...initialState,\n            ...base,\n        };\n    }\n}\n","import * as React from 'react';\nimport BuildInPluginState, { BuildInPluginProps } from '../../BuildInPluginState';\nimport Code from './Code';\nimport ContentEditFeatures from './ContentEditFeatures';\nimport DefaultFormatPane from './DefaultFormat';\nimport EditorCode from './codes/EditorCode';\nimport ExperimentalFeaturesPane from './ExperimentalFeatures';\nimport MainPaneBase from '../../MainPaneBase';\nimport Plugins from './Plugins';\n\nconst htmlStart =\n    '<html>\\n' +\n    '<body>\\n' +\n    '<div id=\"contentDiv\" style=\"width: 800px; height: 400px; border: solid 1px black; overflow: auto\"></div>\\n';\nconst htmlButtons =\n    '<button id=buttonB><b>B</b></button>\\n' +\n    '<button id=buttonI><i>I</i></button>\\n' +\n    '<button id=buttonU><u>U</u></button>\\n' +\n    '<button id=buttonBullet>Bullet</button>\\n' +\n    '<button id=buttonNumbering>Numbering</button>\\n' +\n    '<button id=buttonUndo>Undo</button>\\n' +\n    '<button id=buttonRedo>Redo</button>\\n';\nconst darkButton = '<button id=buttonDark>Dark Mode</button>\\n';\nconst htmlEnd =\n    '<script src=\"https://microsoft.github.io/roosterjs/rooster-min.js\"></script>\\n' +\n    '</body>\\n' +\n    '</html>';\n\nexport default class OptionsPane extends React.Component<BuildInPluginProps, BuildInPluginState> {\n    private exportForm = React.createRef<HTMLFormElement>();\n    private exportData = React.createRef<HTMLInputElement>();\n    private showRibbon = React.createRef<HTMLInputElement>();\n    private darkMode = React.createRef<HTMLInputElement>();\n\n    constructor(props: BuildInPluginProps) {\n        super(props);\n        this.state = { ...props };\n    }\n    render() {\n        return (\n            <div>\n                <div>\n                    <button onClick={this.onExport}>Export to CodePen</button>\n                </div>\n                <div>\n                    <br />\n                </div>\n                <details>\n                    <summary>\n                        <b>Plugins:</b>\n                    </summary>\n                    <Plugins state={this.state} resetState={this.resetState} />\n                </details>\n                <details>\n                    <summary>\n                        <b>Content edit features:</b>\n                    </summary>\n                    <ContentEditFeatures\n                        state={this.state.contentEditFeatures}\n                        resetState={this.resetState}\n                    />\n                </details>\n                <details>\n                    <summary>\n                        <b>Default Format:</b>\n                    </summary>\n                    <DefaultFormatPane\n                        state={this.state.defaultFormat}\n                        resetState={this.resetState}\n                    />\n                </details>\n                <details>\n                    <summary>\n                        <b>Experimental features:</b>\n                    </summary>\n                    <ExperimentalFeaturesPane\n                        state={this.state.experimentalFeatures}\n                        resetState={this.resetState}\n                    />\n                </details>\n                <div>\n                    <br />\n                </div>\n                <div>\n                    <input\n                        id=\"showRibbon\"\n                        type=\"checkbox\"\n                        checked={this.state.showRibbon}\n                        onChange={this.onToggleRibbon}\n                        ref={this.showRibbon}\n                    />\n                    <label htmlFor=\"showRibbon\">Show format buttons</label>\n                </div>{' '}\n                <div>\n                    <input\n                        id=\"darkMode\"\n                        type=\"checkbox\"\n                        checked={this.state.supportDarkMode}\n                        onChange={this.onToggleDarkMode}\n                        ref={this.darkMode}\n                    />\n                    <label htmlFor=\"darkMode\">Support dark mode</label>\n                </div>\n                <hr />\n                <details>\n                    <summary>\n                        <b>HTML Code:</b>\n                    </summary>\n                    <div>\n                        <code>\n                            <pre>{this.getHtml()}</pre>\n                        </code>\n                    </div>\n                </details>\n                <details>\n                    <summary>\n                        <b>Typescript Code:</b>\n                    </summary>\n                    <Code state={this.state} />\n                </details>\n                <form\n                    ref={this.exportForm}\n                    method=\"POST\"\n                    action=\"https://codepen.io/pen/define\"\n                    target=\"_blank\">\n                    <input name=\"data\" type=\"hidden\" ref={this.exportData} />\n                </form>\n            </div>\n        );\n    }\n\n    getState(): BuildInPluginState {\n        return { ...this.state };\n    }\n\n    private resetState = (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => {\n        let state: BuildInPluginState = {\n            linkTitle: this.state.linkTitle,\n            watermarkText: this.state.watermarkText,\n            showRibbon: this.state.showRibbon,\n            pluginList: { ...this.state.pluginList },\n            contentEditFeatures: { ...this.state.contentEditFeatures },\n            defaultFormat: { ...this.state.defaultFormat },\n            experimentalFeatures: this.state.experimentalFeatures,\n            forcePreserveRatio: this.state.forcePreserveRatio,\n            supportDarkMode: this.state.supportDarkMode,\n        };\n\n        if (callback) {\n            callback(state);\n            this.setState(state);\n        }\n\n        if (resetEditor) {\n            MainPaneBase.getInstance().resetEditorPlugin(state);\n        }\n    };\n\n    private onExport = () => {\n        let editor = new EditorCode(this.state);\n        let code = editor.getCode();\n        let json = {\n            title: 'RoosterJs',\n            html: this.getHtml(),\n            head: '',\n            js: code,\n            js_pre_processor: 'typescript',\n        };\n        this.exportData.current.value = JSON.stringify(json);\n        this.exportForm.current.submit();\n    };\n\n    private onToggleRibbon = () => {\n        let showRibbon = this.showRibbon.current.checked;\n        this.setState({\n            showRibbon,\n        });\n        MainPaneBase.getInstance().setIsRibbonShown(showRibbon);\n    };\n\n    private onToggleDarkMode = () => {\n        let supportDarkMode = this.darkMode.current.checked;\n        this.setState({\n            supportDarkMode,\n        });\n        MainPaneBase.getInstance().setIsDarkModeSupported(supportDarkMode);\n    };\n\n    private getHtml() {\n        return `${htmlStart}${this.state.showRibbon ? htmlButtons : ''}${\n            this.state.supportDarkMode ? darkButton : ''\n        }${htmlEnd}`;\n    }\n}\n","import * as React from 'react';\nimport BuildInPluginState from '../../BuildInPluginState';\nimport EditorCode from './codes/EditorCode';\n\nexport interface CodeProps {\n    state: BuildInPluginState;\n}\n\nexport default class Code extends React.Component<CodeProps, {}> {\n    render() {\n        let editor = new EditorCode(this.props.state);\n        return (\n            <div>\n                <pre>{editor.getCode()}</pre>\n            </div>\n        );\n    }\n}\n","import CodeElement from './CodeElement';\n\nconst codeMap: { [id: string]: string } = {\n    buttonB: 'roosterjs.toggleBold(editor)',\n    buttonI: 'roosterjs.toggleItalic(editor)',\n    buttonU: 'roosterjs.toggleUnderline(editor)',\n    buttonBullet: 'roosterjs.toggleBullet(editor)',\n    buttonNumbering: 'roosterjs.toggleNumbering(editor)',\n    buttonUndo: 'editor.undo()',\n    buttonRedo: 'editor.redo()',\n};\nconst buttonDark = 'editor.setDarkModeState(!editor.isDarkMode())';\n\nexport default class ButtonsCode extends CodeElement {\n    constructor(private supportDarkMode: boolean) {\n        super();\n    }\n\n    getCode() {\n        const map = this.supportDarkMode ? { ...codeMap, buttonDark: buttonDark } : codeMap;\n        return Object.keys(map)\n            .map(\n                id =>\n                    `document.getElementById('${id}').addEventListener('click', () => ${map[id]});\\n`\n            )\n            .join('');\n    }\n}\n","import CodeElement from './CodeElement';\n\nexport default class DarkModeCode extends CodeElement {\n    constructor(private darkModeSupported: boolean) {\n        super();\n    }\n\n    getCode() {\n        return this.darkModeSupported ? 'roosterjs.getDarkColor' : null;\n    }\n}\n","import CodeElement from './CodeElement';\nimport { DefaultFormat } from 'roosterjs-editor-types';\n\nexport default class DefaultFormatCode extends CodeElement {\n    constructor(private defaultFormat: DefaultFormat) {\n        super();\n    }\n\n    getCode() {\n        let {\n            bold,\n            italic,\n            underline,\n            fontFamily,\n            fontSize,\n            textColor,\n            backgroundColor,\n        } = this.defaultFormat;\n        let lines = [\n            bold ? 'bold: true,\\n' : null,\n            italic ? 'italic: true,\\n' : null,\n            underline ? 'underline: true,\\n' : null,\n            fontFamily ? `fontFamily: '${this.encode(fontFamily)}',\\n` : null,\n            fontSize ? `fontSize: '${this.encode(fontSize)}',\\n` : null,\n            textColor ? `textColor: '${this.encode(textColor)}',\\n` : null,\n            backgroundColor ? `backgroundColor: '${this.encode(backgroundColor)}',\\n` : null,\n        ].filter(line => !!line);\n\n        return lines.length > 0 ? '{\\n' + this.indent(lines.join('')) + '}' : '';\n    }\n}\n","import CodeElement from './CodeElement';\nimport { ExperimentalFeatures } from 'roosterjs-editor-types';\n\nexport default class ExperimentalFeaturesCode extends CodeElement {\n    constructor(private experimentalFeatures: ExperimentalFeatures[]) {\n        super();\n    }\n\n    getCode() {\n        return (this.experimentalFeatures || [])\n            .map(name => this.indent(\"'\" + name + \"',\"))\n            .join('\\n');\n    }\n}\n","import BuildInPluginState from '../../../BuildInPluginState';\nimport CodeElement from './CodeElement';\nimport ContentEditCode from './ContentEditCode';\nimport HyperLinkCode from './HyperLinkCode';\nimport PickerPluginCode from './PickerPluginCode';\nimport WatermarkCode from './WatermarkCode';\nimport {\n    CustomReplaceCode,\n    CutPasteListChainCode,\n    ImageEditCode,\n    PasteCode,\n    TableResizeCode,\n} from './SimplePluginCode';\n\nexport default class PluginsCode extends CodeElement {\n    private plugins: CodeElement[];\n\n    constructor(private state: BuildInPluginState) {\n        super();\n\n        let pluginList = state.pluginList;\n        this.plugins = [\n            pluginList.contentEdit && new ContentEditCode(state.contentEditFeatures),\n            pluginList.hyperlink && new HyperLinkCode(state.linkTitle),\n            pluginList.paste && new PasteCode(),\n            pluginList.watermark && new WatermarkCode(this.state.watermarkText),\n            pluginList.imageEdit && new ImageEditCode(),\n            pluginList.cutPasteListChain && new CutPasteListChainCode(),\n            pluginList.tableResize && new TableResizeCode(),\n            pluginList.pickerPlugin && new PickerPluginCode(),\n            pluginList.customReplace && new CustomReplaceCode(),\n        ].filter(plugin => !!plugin);\n    }\n\n    getCode() {\n        let code = '[\\n';\n        code += this.indent(this.plugins.map(plugin => plugin.getCode() + ',\\n').join(''));\n        code += ']';\n        return code;\n    }\n}\n","import CodeElement from './CodeElement';\nimport ContentEditFeaturesCode from './ContentEditFeaturesCode';\nimport { ContentEditFeatureSettings } from 'roosterjs-editor-types';\n\nexport default class ContentEditCode extends CodeElement {\n    private features: ContentEditFeaturesCode;\n    constructor(settings: ContentEditFeatureSettings) {\n        super();\n        this.features = new ContentEditFeaturesCode(settings);\n    }\n\n    getCode() {\n        return 'new roosterjs.ContentEdit(' + this.features.getCode() + ')';\n    }\n}\n","import CodeElement from './CodeElement';\nimport getDefaultContentEditFeatureSettings from '../getDefaultContentEditFeatureSettings';\nimport { ContentEditFeatureSettings } from 'roosterjs-editor-types';\n\nexport default class ContentEditFeaturesCode extends CodeElement {\n    constructor(private state: ContentEditFeatureSettings) {\n        super();\n    }\n\n    getCode() {\n        let defaultValues = getDefaultContentEditFeatureSettings();\n        let features = Object.keys(defaultValues)\n            .map((key: keyof ContentEditFeatureSettings) => {\n                let checked = this.state[key];\n\n                return typeof checked != 'boolean' || checked == defaultValues[key]\n                    ? null\n                    : `${key}: ${checked ? 'true' : 'false'},\\n`;\n            })\n            .filter(line => !!line);\n        return features.length > 0 ? '{\\n' + this.indent(features.join('')) + '}' : '';\n    }\n}\n","import CodeElement from './CodeElement';\nimport { UrlPlaceholder } from '../../../BuildInPluginState';\n\nexport default class HyperLinkCode extends CodeElement {\n    constructor(private linkTitle: string) {\n        super();\n    }\n\n    getCode() {\n        return 'new roosterjs.HyperLink(' + this.getLinkCallback() + ')';\n    }\n\n    private getLinkCallback() {\n        if (!this.linkTitle) {\n            return '';\n        }\n\n        let index = this.linkTitle.indexOf(UrlPlaceholder);\n        if (index >= 0) {\n            let left = this.linkTitle.substr(0, index);\n            let right = this.linkTitle.substr(index + UrlPlaceholder.length);\n            return (\n                'url => ' +\n                (left ? `'${this.encode(left)}' + ` : '') +\n                'url' +\n                (right ? ` + '${this.encode(right)}'` : '')\n            );\n        } else {\n            return `() => '${this.linkTitle}'`;\n        }\n    }\n}\n","import CodeElement from './CodeElement';\n\nexport default class PickerPluginCode extends CodeElement {\n    constructor() {\n        super();\n    }\n\n    getCode() {\n        return (\n            'new roosterjs.PickerPlugin({\\n' +\n            '    onInitalize: (insertNodeCallback, setIsSuggestingCallback) => {},\\n' +\n            '    onDispose: () => {},\\n' +\n            '    onIsSuggestingChanged: (isSuggesting) => {},\\n' +\n            '    queryStringUpdated: (queryString) => {},\\n' +\n            '    onRemove: (nodeRemoved, isBackwards) => null,\\n' +\n            '    }, {\\n' +\n            \"    elementIdPrefix: 'samplepicker-',\\n\" +\n            \"    changeSource: 'SAMPLE_COLOR_PICKER',\\n\" +\n            \"    triggerCharacter: ':',\\n\" +\n            '    isHorizontal: true,\\n' +\n            '})'\n        );\n    }\n}\n","import CodeElement from './CodeElement';\n\nexport default class WatermarkCode extends CodeElement {\n    constructor(private watermarkText: string) {\n        super();\n    }\n\n    getCode() {\n        return `new roosterjs.Watermark('${this.encode(this.watermarkText)}')`;\n    }\n}\n","import CodeElement from './CodeElement';\n\nclass SimplePluginCode extends CodeElement {\n    constructor(private name: string) {\n        super();\n    }\n\n    getCode() {\n        return `new roosterjs.${this.name}()`;\n    }\n}\n\nexport class PasteCode extends SimplePluginCode {\n    constructor() {\n        super('Paste');\n    }\n}\n\nexport class ImageEditCode extends SimplePluginCode {\n    constructor() {\n        super('ImageEdit');\n    }\n}\n\nexport class CutPasteListChainCode extends SimplePluginCode {\n    constructor() {\n        super('CutPasteListChain');\n    }\n}\n\nexport class TableResizeCode extends SimplePluginCode {\n    constructor() {\n        super('TableResize');\n    }\n}\n\nexport class CustomReplaceCode extends SimplePluginCode {\n    constructor() {\n        super('CustomReplace');\n    }\n}\n","import * as React from 'react';\nimport BuildInPluginState from '../../BuildInPluginState';\nimport { ContentEditFeatureSettings } from 'roosterjs-editor-types';\nimport { getAllFeatures } from 'roosterjs-editor-plugins/lib/ContentEdit';\n\ntype ContentEditItemId = keyof ContentEditFeatureSettings;\n\nconst styles = require('./OptionsPane.scss');\nconst EditFeatureDescriptionMap: Record<keyof ContentEditFeatureSettings, string> = {\n    autoBullet: 'Auto Bullet / Numbering',\n    indentWhenTab: 'Indent list when Tab',\n    outdentWhenShiftTab: 'Outdent list when Shift + Tab',\n    outdentWhenBackspaceOnEmptyFirstLine: 'Outdent list when Backspace on empty first Line',\n    outdentWhenEnterOnEmptyLine: 'Outdent list when Enter on empty line',\n    mergeInNewLineWhenBackspaceOnFirstChar:\n        'Merge in new line when Backspace on first char in list',\n    maintainListChain: 'Maintain the continued list numbers',\n    unquoteWhenBackspaceOnEmptyFirstLine: 'Unquote when Backspace on empty first line',\n    unquoteWhenEnterOnEmptyLine: 'Unquote when Enter on empty line',\n    tabInTable: 'Tab to jump cell in table',\n    upDownInTable: 'Up / Down to jump cell in table',\n    insertLineBeforeStructuredNodeFeature:\n        'Enter to create new line before table/list at beginning of editor content',\n    autoLink: 'Auto link',\n    unlinkWhenBackspaceAfterLink: 'Auto unlink when backspace right after a hyperlink',\n    defaultShortcut: 'Default Shortcuts',\n    noCycleCursorMove: 'Avoid moving cycle moving cursor when Ctrl+Left/Right',\n    clickOnEntity: 'Fire an event when click on a readonly entity',\n    escapeFromEntity: 'Fire an event when Escape from a readonly entity',\n    enterBeforeReadonlyEntity: 'Start a new line when Enter before an event',\n    backspaceAfterEntity: 'Fire an event when Backspace after an entity',\n    deleteBeforeEntity: 'Fire an event when Delete before an event',\n    markdownBold: 'Markdown style Bolding',\n    markdownItalic: 'Markdown style Italics',\n    markdownStrikethru: 'Markdown style Strikethrough',\n    markdownInlineCode: 'Markdown style Code blocks',\n    maintainListChainWhenDelete:\n        'Maintain the list of number in the right order after press delete before the first item',\n};\n\nexport interface ContentEditFeaturessProps {\n    state: ContentEditFeatureSettings;\n    resetState: (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => void;\n}\n\nexport default class ContentEditFeatures extends React.Component<ContentEditFeaturessProps, {}> {\n    render() {\n        const features = getAllFeatures();\n        return (\n            <table>\n                <tbody>\n                    {Object.keys(features).map((key: ContentEditItemId) =>\n                        this.renderContentEditItem(key, EditFeatureDescriptionMap[key])\n                    )}\n                </tbody>\n            </table>\n        );\n    }\n\n    private renderContentEditItem(\n        id: ContentEditItemId,\n        text: string,\n        moreOptions?: JSX.Element\n    ): JSX.Element {\n        const checked = this.props.state[id];\n\n        return (\n            <tr>\n                <td className={styles.checkboxColumn}>\n                    <input\n                        type=\"checkbox\"\n                        id={id}\n                        checked={checked}\n                        title={id}\n                        onChange={() => this.onContentEditClick(id)}\n                    />\n                </td>\n                <td>\n                    <div>\n                        <label htmlFor={id} title={id}>\n                            {text}\n                        </label>\n                    </div>\n                    {checked && moreOptions}\n                </td>\n            </tr>\n        );\n    }\n\n    private onContentEditClick = (id: ContentEditItemId) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(id) as HTMLInputElement;\n            state.contentEditFeatures[id] = checkbox.checked;\n        }, true);\n    };\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3QUL-cTI2rzYtI4ueZE5lr{vertical-align:top}._pll-4jUC7rvgi0vFQdY1{white-space:nowrap}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"checkboxColumn\": \"_3QUL-cTI2rzYtI4ueZE5lr\",\n\t\"defaultFormatLabel\": \"_pll-4jUC7rvgi0vFQdY1\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport BuildInPluginState from '../../BuildInPluginState';\nimport { DefaultFormat } from 'roosterjs-editor-types';\n\ntype ToggleFormatId = 'bold' | 'italic' | 'underline';\ntype ModeIndependentColorId = 'textColors' | 'backgroundColors';\ntype SelectFormatId = Exclude<keyof DefaultFormat, ToggleFormatId | ModeIndependentColorId>;\n\nconst styles = require('./OptionsPane.scss');\nconst NOT_SET = 'NotSet';\n\nexport interface DefaultFormatProps {\n    state: DefaultFormat;\n    resetState: (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => void;\n}\n\nexport default class DefaultFormatPane extends React.Component<DefaultFormatProps, {}> {\n    render() {\n        return (\n            <>\n                <table>\n                    <tbody>\n                        {this.renderFormatItem('bold', 'Bold')}\n                        {this.renderFormatItem('italic', 'Italic')}\n                        {this.renderFormatItem('underline', 'Underline')}\n                    </tbody>\n                </table>\n                <table>\n                    <tbody>\n                        {this.renderSelectItem('fontFamily', 'Font family: ', {\n                            [NOT_SET]: 'Not Set',\n                            Arial: 'Arial',\n                            Calibri: 'Calibri',\n                            'Courier New': 'Courier New',\n                            Tahoma: 'Tahoma',\n                            'Times New Roman': 'Times New Roman',\n                        })}\n                        {this.renderSelectItem('fontSize', 'Font size: ', {\n                            [NOT_SET]: 'Not Set',\n                            '8pt': '8',\n                            '10pt': '10',\n                            '12pt': '12',\n                            '16pt': '16',\n                            '20pt': '20',\n                            '36pt': '36',\n                            '72pt': '72',\n                        })}\n                        {this.renderSelectItem('textColor', 'Text color: ', {\n                            [NOT_SET]: 'Not Set',\n                            '#757b80': 'Gray',\n                            '#bd1398': 'Violet',\n                            '#7232ad': 'Purple',\n                            '#006fc9': 'Blue',\n                            '#4ba524': 'Green',\n                            '#e2c501': 'Yellow',\n                            '#d05c12': 'Orange',\n                            '#ff0000': 'Red',\n                            '#ffffff': 'White',\n                            '#000000': 'Black',\n                        })}\n                        {this.renderSelectItem('backgroundColor', 'Back color: ', {\n                            [NOT_SET]: 'Not Set',\n                            '#ffff00': 'Yellow',\n                            '#00ff00': 'Green',\n                            '#00ffff': 'Cyan',\n                            '#ff00ff': 'Purple',\n                            '#0000ff': 'Blue',\n                            '#ff0000': 'Red',\n                            '#bebebe': 'Gray',\n                            '#666666': 'Dark Gray',\n                            '#ffffff': 'White',\n                            '#000000': 'Black',\n                        })}\n                    </tbody>\n                </table>\n            </>\n        );\n    }\n\n    private renderFormatItem(id: ToggleFormatId, text: string): JSX.Element {\n        let checked = (this.props.state[id] as boolean) || false;\n        return (\n            <tr>\n                <td className={styles.checkboxColumn}>\n                    <input\n                        type=\"checkbox\"\n                        id={id}\n                        checked={checked}\n                        onChange={() => this.onFormatClick(id)}\n                    />\n                </td>\n                <td>\n                    <div>\n                        <label htmlFor={id}>{text}</label>\n                    </div>\n                </td>\n            </tr>\n        );\n    }\n\n    private renderSelectItem(\n        id: SelectFormatId,\n        label: string,\n        items: { [key: string]: string }\n    ): JSX.Element {\n        return (\n            <tr>\n                <td className={styles.defaultFormatLabel}>{label}</td>\n                <td>\n                    <select\n                        id={id}\n                        onChange={() => this.onSelectChanged(id)}\n                        defaultValue={(this.props.state[id] || NOT_SET) as string}>\n                        {Object.keys(items).map(key => (\n                            <option value={key} key={key}>\n                                {items[key]}\n                            </option>\n                        ))}\n                    </select>\n                </td>\n            </tr>\n        );\n    }\n\n    private onFormatClick = (id: ToggleFormatId) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(id) as HTMLInputElement;\n            state.defaultFormat[id] = checkbox.checked;\n        }, true);\n    };\n\n    private onSelectChanged = (id: SelectFormatId) => {\n        this.props.resetState(state => {\n            let value = (document.getElementById(id) as HTMLSelectElement).value;\n            state.defaultFormat[id] = value == NOT_SET ? null : value;\n        }, true);\n    };\n}\n","import * as React from 'react';\nimport BuildInPluginState from '../../BuildInPluginState';\nimport { ExperimentalFeatures } from 'roosterjs-editor-types';\n\nexport interface ExperimentalFeaturesProps {\n    state: ExperimentalFeatures[];\n    resetState: (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => void;\n}\n\nconst FeatureNames: { [key in ExperimentalFeatures]?: string } = {\n    [ExperimentalFeatures.SingleDirectionResize]: 'Resize an image horizontally or vertically',\n    [ExperimentalFeatures.PasteWithLinkPreview]: 'Try retrieve link preview information when paste',\n    [ExperimentalFeatures.ImageRotate]: 'Rotate an inline image',\n    [ExperimentalFeatures.ImageCrop]: 'Crop an inline image',\n    [ExperimentalFeatures.AlwaysApplyDefaultFormat]: 'Apply the default format to all elements',\n    [ExperimentalFeatures.ConvertSingleImageBody]:\n        'Paste Html instead of image when Html have one Img Children (Animated Image Paste)',\n};\n\nexport default class ExperimentalFeaturesPane extends React.Component<\n    ExperimentalFeaturesProps,\n    {}\n> {\n    render() {\n        return (\n            <>\n                {Object.keys(FeatureNames).map((name: keyof typeof FeatureNames) =>\n                    this.renderFeature(name)\n                )}\n            </>\n        );\n    }\n\n    private renderFeature(name: ExperimentalFeatures): JSX.Element {\n        let checked = this.props.state.indexOf(name) >= 0;\n        return (\n            <div>\n                <input\n                    type=\"checkbox\"\n                    checked={checked}\n                    id={name}\n                    onChange={() => this.onClick(name)}\n                />\n                <label htmlFor={name}>{FeatureNames[name]}</label>\n            </div>\n        );\n    }\n\n    private onClick = (name: ExperimentalFeatures) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(name) as HTMLInputElement;\n            let index = state.experimentalFeatures.indexOf(name);\n\n            if (checkbox.checked && index < 0) {\n                state.experimentalFeatures.push(name);\n            } else if (!checkbox.checked && index >= 0) {\n                state.experimentalFeatures.splice(index, 1);\n            }\n        }, true);\n    };\n}\n","import * as React from 'react';\nimport BuildInPluginState, { BuildInPluginList, UrlPlaceholder } from '../../BuildInPluginState';\n\ntype PluginItemId = keyof BuildInPluginList;\n\nconst styles = require('./OptionsPane.scss');\n\nexport interface PluginsProps {\n    state: BuildInPluginState;\n    resetState: (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => void;\n}\n\nexport default class Plugins extends React.Component<PluginsProps, {}> {\n    private linkTitle = React.createRef<HTMLInputElement>();\n    private watermarkText = React.createRef<HTMLInputElement>();\n    private forcePreserveRatio = React.createRef<HTMLInputElement>();\n\n    render() {\n        return (\n            <table>\n                <tbody>\n                    {this.renderPluginItem('contentEdit', 'Content Edit')}\n                    {this.renderPluginItem(\n                        'hyperlink',\n                        'Hyperlink Plugin',\n                        this.renderInputBox(\n                            'Label title: ',\n                            this.linkTitle,\n                            this.props.state.linkTitle,\n                            'Use \"' + UrlPlaceholder + '\" for the url string',\n                            (state, value) => (state.linkTitle = value)\n                        )\n                    )}\n                    {this.renderPluginItem('paste', 'Paste Plugin')}\n                    {this.renderPluginItem(\n                        'watermark',\n                        'Watermark Plugin',\n                        this.renderInputBox(\n                            'Watermark text: ',\n                            this.watermarkText,\n                            this.props.state.watermarkText,\n                            '',\n                            (state, value) => (state.watermarkText = value)\n                        )\n                    )}\n                    {this.renderPluginItem(\n                        'imageEdit',\n                        'Image Edit Plugin',\n                        this.renderCheckBox(\n                            'Force preserve ratio',\n                            this.forcePreserveRatio,\n                            this.props.state.forcePreserveRatio,\n                            (state, value) => (state.forcePreserveRatio = value)\n                        )\n                    )}\n                    {this.renderPluginItem('cutPasteListChain', 'CutPasteListChainPlugin')}\n                    {this.renderPluginItem('tableResize', 'Table Resize Plugin')}\n                    {this.renderPluginItem('pickerPlugin', 'Sample Picker Plugin')}\n                    {this.renderPluginItem('customReplace', 'Custom Replace Plugin (autocomplete)')}\n                    {this.renderPluginItem(\n                        'contextMenu',\n                        'Show customized context menu for special cases'\n                    )}\n                </tbody>\n            </table>\n        );\n    }\n\n    private renderPluginItem(\n        id: PluginItemId,\n        text: string,\n        moreOptions?: JSX.Element\n    ): JSX.Element {\n        const checked = this.props.state.pluginList[id];\n\n        return (\n            <tr>\n                <td className={styles.checkboxColumn}>\n                    <input\n                        type=\"checkbox\"\n                        id={id}\n                        checked={checked}\n                        onChange={() => this.onPluginClick(id)}\n                    />\n                </td>\n                <td>\n                    <div>\n                        <label htmlFor={id}>{text}</label>\n                    </div>\n                    {checked && moreOptions}\n                </td>\n            </tr>\n        );\n    }\n\n    private renderInputBox(\n        label: string,\n        ref: React.RefObject<HTMLInputElement>,\n        value: string,\n        placeholder: string,\n        onChange: (state: BuildInPluginState, value: string) => void\n    ): JSX.Element {\n        return (\n            <div>\n                {label}\n                <input\n                    type=\"text\"\n                    ref={ref}\n                    value={value}\n                    placeholder={placeholder}\n                    onChange={() =>\n                        this.props.resetState(state => onChange(state, ref.current.value), false)\n                    }\n                    onBlur={() => this.props.resetState(null, true)}\n                />\n            </div>\n        );\n    }\n\n    private renderCheckBox(\n        label: string,\n        ref: React.RefObject<HTMLInputElement>,\n        value: boolean,\n        onChange: (state: BuildInPluginState, value: boolean) => void\n    ): JSX.Element {\n        return (\n            <div>\n                <input\n                    type=\"checkbox\"\n                    ref={ref}\n                    checked={value}\n                    onChange={() =>\n                        this.props.resetState(state => onChange(state, ref.current.checked), true)\n                    }\n                    onBlur={() => this.props.resetState(null, true)}\n                />\n                {label}\n            </div>\n        );\n    }\n\n    private onPluginClick = (id: PluginItemId) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(id) as HTMLInputElement;\n            state.pluginList[id] = checkbox.checked;\n        }, true);\n    };\n}\n","import EventViewPane from './EventViewPane';\nimport SidePanePluginImpl from '../SidePanePluginImpl';\nimport { PluginEvent } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nexport default class EventViewPlugin extends SidePanePluginImpl<\n    EventViewPane,\n    SidePaneElementProps\n> {\n    constructor() {\n        super(EventViewPane, 'event', 'Event Viewer');\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        this.getComponent(component => component.addEvent(e));\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return base;\n    }\n}\n","import * as React from 'react';\nimport { getTagOfNode, HtmlSanitizer, readFile, safeInstanceOf } from 'roosterjs-editor-dom';\nimport { PendableFormatState, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nconst styles = require('./EventViewPane.scss');\n\nexport interface EventEntry {\n    index: number;\n    time: Date;\n    event: PluginEvent;\n}\n\nexport interface EventViewPaneState {\n    displayCount: number;\n    currentIndex: number;\n}\n\nconst EventTypeMap = {\n    [PluginEventType.BeforeDispose]: 'BeforeDispose',\n    [PluginEventType.BeforePaste]: 'BeforePaste',\n    [PluginEventType.CompositionEnd]: 'CompositionEnd',\n    [PluginEventType.ContentChanged]: 'ContentChanged',\n    [PluginEventType.EditorReady]: 'EditorReady',\n    [PluginEventType.EntityOperation]: 'EntityOperation',\n    [PluginEventType.ExtractContentWithDom]: 'ExtractContentWithDom',\n    [PluginEventType.KeyDown]: 'KeyDown',\n    [PluginEventType.KeyPress]: 'KeyPress',\n    [PluginEventType.KeyUp]: 'KeyUp',\n    [PluginEventType.MouseDown]: 'MouseDown',\n    [PluginEventType.MouseUp]: 'MouseUp',\n    [PluginEventType.Input]: 'Input',\n    [PluginEventType.PendingFormatStateChanged]: 'PendingFormatStateChanged',\n    [PluginEventType.Scroll]: 'Scroll',\n    [PluginEventType.BeforeCutCopy]: 'BeforeCutCopy',\n    [PluginEventType.ContextMenu]: 'ContextMenu',\n    [PluginEventType.EnteredShadowEdit]: 'EnteredShadowEdit',\n    [PluginEventType.LeavingShadowEdit]: 'LeavingShadowEdit',\n    [PluginEventType.EditImage]: 'EditImage',\n    [PluginEventType.BeforeSetContent]: 'BeforeSetContent',\n};\n\nexport default class EventViewPane extends React.Component<\n    SidePaneElementProps,\n    EventViewPaneState\n> {\n    private events: EventEntry[] = [];\n    private displayCount = React.createRef<HTMLSelectElement>();\n    private lasteIndex = 0;\n\n    constructor(props: SidePaneElementProps) {\n        super(props);\n        this.state = {\n            displayCount: 20,\n            currentIndex: -1,\n        };\n    }\n\n    render() {\n        let displayCount = Math.min(this.events.length, this.state.displayCount);\n        let displayedEvents =\n            displayCount > 0 ? this.events.slice(this.events.length - displayCount) : [];\n        displayedEvents = displayedEvents.reverse();\n\n        return (\n            <>\n                <div>\n                    Show item count:\n                    <select\n                        defaultValue={this.state.displayCount.toString()}\n                        ref={this.displayCount}\n                        onChange={this.onDisplayCountChanged}>\n                        <option value={'0'}>Disabled</option>\n                        <option value={'20'}>20</option>\n                        <option value={'50'}>50</option>\n                        <option value={'100'}>100</option>\n                    </select>{' '}\n                    <button onClick={this.clear}>Clear all</button>\n                </div>\n                <div>\n                    {displayedEvents.map(event => (\n                        <details key={event.index.toString()}>\n                            <summary>\n                                {`${event.time.getHours()}:${event.time.getMinutes()}:${event.time.getSeconds()}.${event.time.getMilliseconds()} `}\n                                {EventTypeMap[event.event.eventType]}\n                            </summary>\n                            <div className={styles.eventContent}>\n                                {this.renderEvent(event.event)}\n                            </div>\n                        </details>\n                    ))}\n                </div>\n            </>\n        );\n    }\n\n    addEvent(event: PluginEvent) {\n        if (this.state.displayCount > 0) {\n            if (event.eventType == PluginEventType.BeforePaste) {\n                const sanitizer = new HtmlSanitizer(event.sanitizingOption);\n                const fragment = event.fragment.cloneNode(true /*deep*/) as DocumentFragment;\n\n                sanitizer.convertGlobalCssToInlineCss(fragment);\n                sanitizer.sanitize(fragment);\n                (event.clipboardData as any).html = this.getHtml(fragment);\n            }\n\n            this.events.push({\n                time: new Date(),\n                event: event,\n                index: this.lasteIndex++,\n            });\n\n            while (this.events.length > 100) {\n                this.events.shift();\n            }\n            this.setState({\n                currentIndex: this.lasteIndex,\n            });\n        }\n    }\n\n    private renderEvent(event: PluginEvent): JSX.Element {\n        switch (event.eventType) {\n            case PluginEventType.KeyDown:\n            case PluginEventType.KeyPress:\n            case PluginEventType.KeyUp:\n                return (\n                    <span>\n                        Key=\n                        {event.rawEvent.which}\n                    </span>\n                );\n\n            case PluginEventType.MouseDown:\n            case PluginEventType.MouseUp:\n            case PluginEventType.ContextMenu:\n                return (\n                    <span>\n                        Button=\n                        {event.rawEvent.button}, SrcElement=\n                        {event.rawEvent.target && getTagOfNode(event.rawEvent.target as Node)},\n                        PageX=\n                        {event.rawEvent.pageX}, PageY=\n                        {event.rawEvent.pageY}\n                    </span>\n                );\n\n            case PluginEventType.ContentChanged:\n                return (\n                    <span>\n                        Source=\n                        {event.source}, Data=\n                        {event.data && event.data.toString && event.data.toString()}\n                    </span>\n                );\n\n            case PluginEventType.BeforePaste:\n                return (\n                    <span>\n                        Types=\n                        {event.clipboardData.types.join()}\n                        {this.renderPasteContent('Palin text', event.clipboardData.text)}\n                        {this.renderPasteContent(\n                            'Sanitized HTML',\n                            (event.clipboardData as any).html\n                        )}\n                        {this.renderPasteContent('Original HTML', event.clipboardData.rawHtml)}\n                        {this.renderPasteContent('Image', event.clipboardData.image, img => (\n                            <img\n                                ref={ref => ref && this.renderImage(ref, img)}\n                                className={styles.img}\n                            />\n                        ))}\n                        {this.renderPasteContent(\n                            'LinkPreview',\n                            event.clipboardData.linkPreview\n                                ? JSON.stringify(event.clipboardData.linkPreview)\n                                : ''\n                        )}\n                        {Object.keys(event.clipboardData.customValues).map(contentType =>\n                            this.renderPasteContent(\n                                contentType,\n                                event.clipboardData.customValues[contentType]\n                            )\n                        )}\n                    </span>\n                );\n            case PluginEventType.PendingFormatStateChanged:\n                const formatState = event.formatState;\n                const keys = Object.keys(formatState) as (keyof PendableFormatState)[];\n                return <span>{keys.map(key => `${key}=${event.formatState[key]}; `)}</span>;\n\n            case PluginEventType.EntityOperation:\n                const {\n                    operation,\n                    entity: { id, type },\n                } = event;\n                return (\n                    <span>\n                        Operation={operation} Type={type}; Id={id}\n                    </span>\n                );\n\n            case PluginEventType.BeforeCutCopy:\n                const { isCut } = event;\n                return <span>isCut={isCut ? 'true' : 'false'}</span>;\n\n            case PluginEventType.EditImage:\n                return (\n                    <>\n                        <span>new src={event.newSrc.substr(0, 100)}</span>\n                    </>\n                );\n\n            default:\n                return null;\n        }\n    }\n\n    private clear = () => {\n        this.events = [];\n        this.setState({\n            currentIndex: -1,\n        });\n    };\n\n    private renderImage = (img: HTMLImageElement, imageFile: File) => {\n        readFile(imageFile, dataUrl => (img.src = dataUrl));\n    };\n\n    private onDisplayCountChanged = () => {\n        let value = parseInt(this.displayCount.current.value);\n        this.setState({\n            displayCount: value,\n        });\n    };\n\n    private renderPasteContent(\n        title: string,\n        content: any,\n        renderer: (content: any) => JSX.Element = content => <span>{content}</span>\n    ): JSX.Element {\n        return (\n            content && (\n                <details>\n                    <summary>{title}</summary>\n                    <div className={styles.pasteContent}>{renderer(content)}</div>\n                </details>\n            )\n        );\n    }\n\n    private getHtml(fragment: DocumentFragment) {\n        const stringArray: string[] = [];\n        for (let child = fragment.firstChild; child; child = child.nextSibling) {\n            stringArray.push(\n                safeInstanceOf(child, 'HTMLElement')\n                    ? child.outerHTML\n                    : safeInstanceOf(child, 'Text')\n                    ? child.nodeValue\n                    : ''\n            );\n        }\n\n        return stringArray.join('');\n    }\n}\n","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/sass-loader/dist/cjs.js!./EventViewPane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2TlmgQ1bW5R050B6jYhEX{max-width:100%;max-height:300px}.ffJacBjxWzCVBw1QPEOh4{font-family:'Courier New';font-size:10.5pt;margin:10px}.bUF-XqoekK8dhSeJ-0o5c{margin-left:20px}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"img\": \"_2TlmgQ1bW5R050B6jYhEX\",\n\t\"pasteContent\": \"ffJacBjxWzCVBw1QPEOh4\",\n\t\"eventContent\": \"bUF-XqoekK8dhSeJ-0o5c\"\n};\nmodule.exports = exports;\n","import FormatStatePane, { FormatStatePaneProps } from './FormatStatePane';\nimport SidePanePluginImpl from '../SidePanePluginImpl';\nimport { getFormatState } from 'roosterjs-editor-api';\nimport { getPositionRect } from 'roosterjs-editor-dom';\nimport { IEditor, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nexport default class FormatStatePlugin extends SidePanePluginImpl<\n    FormatStatePane,\n    FormatStatePaneProps\n> {\n    constructor() {\n        super(FormatStatePane, 'format', 'Format State');\n    }\n\n    initialize(editor: IEditor) {\n        super.initialize(editor);\n        this.editor.runAsync(editor => {\n            editor.focus();\n\n            this.updateFormatState();\n        });\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return {\n            ...base,\n            ...this.getFormatState(),\n        };\n    }\n\n    onPluginEvent(event: PluginEvent) {\n        if (\n            event.eventType == PluginEventType.KeyUp ||\n            event.eventType == PluginEventType.MouseUp ||\n            event.eventType == PluginEventType.ContentChanged\n        ) {\n            this.updateFormatState();\n        }\n    }\n\n    updateFormatState() {\n        this.getComponent(component => component.setFormatState(this.getFormatState()));\n    }\n\n    private getFormatState() {\n        const format = this.editor && getFormatState(this.editor);\n        const position = this.editor && this.editor.getFocusedPosition();\n        const rect = position && getPositionRect(position);\n        return {\n            format,\n            inIME: this.editor && this.editor.isInIME(),\n            x: rect ? rect.left : 0,\n            y: rect ? rect.top : 0,\n        };\n    }\n}\n","import * as React from 'react';\nimport { Browser } from 'roosterjs-editor-dom';\nimport { FormatState } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nconst styles = require('./FormatStatePane.scss');\n\nexport interface FormatStatePaneState {\n    format: FormatState;\n    inIME: boolean;\n    x: number;\n    y: number;\n}\nexport interface FormatStatePaneProps extends FormatStatePaneState, SidePaneElementProps {}\n\nexport default class FormatStatePane extends React.Component<\n    FormatStatePaneProps,\n    FormatStatePaneState\n> {\n    constructor(props: FormatStatePaneProps) {\n        super(props);\n        this.state = {\n            format: props.format,\n            inIME: props.inIME,\n            x: props.x,\n            y: props.y,\n        };\n    }\n\n    setFormatState(state: FormatStatePaneState) {\n        this.setState(state);\n    }\n\n    render() {\n        let { format, x, y } = this.state;\n        return format ? (\n            <table>\n                <tbody>\n                    <tr>\n                        <td className={styles.title}>Position</td>\n                        <td>{`${x},${y}`}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Font</td>\n                        <td>\n                            <span>{`${format.fontName}, ${format.fontSize}`}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Colors</td>\n                        <td>\n                            <span\n                                style={{\n                                    color: format.textColor,\n                                    backgroundColor: format.backgroundColor,\n                                }}>{`${format.textColor} / ${format.backgroundColor}`}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>IME</td>\n                        <td>{this.renderSpan(this.state.inIME, 'InIME')}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Formats</td>\n                        <td>\n                            {this.renderSpan(format.isBold, 'Bold')}\n                            {this.renderSpan(format.isItalic, 'Italic')}\n                            {this.renderSpan(format.isUnderline, 'Underline')}\n                            {this.renderSpan(format.isStrikeThrough, 'Strike')}\n                            {this.renderSpan(format.isSubscript, 'Subscript')}\n                            {this.renderSpan(format.isSuperscript, 'Superscript')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Structure</td>\n                        <td>\n                            {this.renderSpan(format.isBullet, 'Bullet')}\n                            {this.renderSpan(format.isNumbering, 'Numbering')}\n                            {this.renderSpan(format.isBlockQuote, 'Quote')}\n                            {this.renderSpan(format.canUnlink, 'In Link')}\n                            {this.renderSpan(format.canAddImageAltText, 'In Image')}\n                            <span\n                                className={\n                                    format.headerLevel == 0 && styles.inactive\n                                }>{`Header ${format.headerLevel}`}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Undo</td>\n                        <td>\n                            {this.renderSpan(format.canUndo, 'Can Undo')}\n                            {this.renderSpan(format.canRedo, 'Can Redo')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Browser</td>\n                        <td>\n                            {this.renderSpan(Browser.isChrome, 'Chrome')}\n                            {this.renderSpan(Browser.isEdge, 'Edge')}\n                            {this.renderSpan(Browser.isFirefox, 'Firefox')}\n                            {this.renderSpan(Browser.isIE11OrGreater, 'IE10/11')}\n                            {this.renderSpan(Browser.isIE, 'IE')}\n                            {this.renderSpan(Browser.isIEOrEdge, 'IE/Edge')}\n                            {this.renderSpan(Browser.isSafari, 'Safari')}\n                            {this.renderSpan(Browser.isWebKit, 'Webkit')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>OS</td>\n                        <td>\n                            {this.renderSpan(Browser.isMac, 'MacOS')}\n                            {this.renderSpan(Browser.isWin, 'Windows')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>User Agent</td>\n                        <td>{window.navigator.userAgent}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>App Version</td>\n                        <td>{window.navigator.appVersion}</td>\n                    </tr>\n                </tbody>\n            </table>\n        ) : (\n            <div>Please focus into editor</div>\n        );\n    }\n\n    private renderSpan(formatState: boolean, text: string): JSX.Element {\n        return <span className={formatState ? '' : styles.inactive}>{text + ' '}</span>;\n    }\n}\n","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/sass-loader/dist/cjs.js!./FormatStatePane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2HXvsNDp44ok-mZyQwNNCy{color:#eee}._1HxlX2f9hy_xnwciZLYJ3w{font-weight:bold}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"inactive\": \"_2HXvsNDp44ok-mZyQwNNCy\",\n\t\"title\": \"_1HxlX2f9hy_xnwciZLYJ3w\"\n};\nmodule.exports = exports;\n","import getLastClipboardData from './getLastClipboardData';\nimport Ribbon from './Ribbon';\nimport {\n    ChangeSource,\n    ClipboardData,\n    EditorPlugin,\n    IEditor,\n    PluginEvent,\n    PluginEventType,\n} from 'roosterjs-editor-types';\n\nexport default class RibbonPlugin implements EditorPlugin {\n    editor: IEditor;\n    ribbon: Ribbon;\n\n    getName() {\n        return 'Ribbon';\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.editor = null;\n    }\n\n    getEditor() {\n        return this.editor;\n    }\n\n    refCallback = (ref: Ribbon) => {\n        this.ribbon = ref;\n    };\n\n    onPluginEvent(event: PluginEvent) {\n        if (this.ribbon) {\n            if (\n                event.eventType == PluginEventType.KeyDown ||\n                event.eventType == PluginEventType.MouseUp\n            ) {\n                const wrapper = getLastClipboardData(this.editor);\n                wrapper.data = null;\n                this.ribbon.forceUpdate();\n            } else if (event.eventType == PluginEventType.ContentChanged) {\n                const wrapper = getLastClipboardData(this.editor);\n                if (event.source == ChangeSource.Paste) {\n                    wrapper.data = event.data as ClipboardData;\n                } else {\n                    wrapper.data = null;\n                }\n                this.ribbon.forceUpdate();\n            } else if (event.eventType == PluginEventType.EditorReady) {\n                this.ribbon.forceUpdate();\n            }\n        }\n    }\n}\n","import * as React from 'react';\nimport SidePanePlugin from '../../SidePanePlugin';\nimport SnapshotPane from './SnapshotPane';\nimport UndoSnapshots from './UndoSnapshots';\nimport { createSnapshots } from 'roosterjs-editor-dom';\nimport { GetContentMode, IEditor, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\n\nexport default class SnapshotPlugin implements SidePanePlugin {\n    private editorInstance: IEditor;\n    private component: SnapshotPane;\n    private snapshotService: UndoSnapshots;\n    private static snapshots = createSnapshots(1e7);\n\n    constructor() {\n        this.snapshotService = new UndoSnapshots(SnapshotPlugin.snapshots, this.updateSnapshots);\n    }\n\n    getName() {\n        return 'Snapshot';\n    }\n\n    initialize(editor: IEditor) {\n        this.editorInstance = editor;\n    }\n\n    dispose() {\n        this.editorInstance = null;\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (e.eventType == PluginEventType.EditorReady) {\n            this.updateSnapshots();\n        }\n    }\n\n    getTitle() {\n        return 'Undo Snapshots';\n    }\n\n    renderSidePane() {\n        return <SnapshotPane {...this.getComponentProps()} ref={this.refCallback} />;\n    }\n\n    getSnapshotService() {\n        return this.snapshotService;\n    }\n\n    private refCallback = (ref: SnapshotPane) => {\n        this.component = ref;\n        if (ref) {\n            this.updateSnapshots();\n        }\n    };\n\n    private getComponentProps() {\n        return {\n            onRestoreSnapshot: this.onRestoreSnapshot,\n            onTakeSnapshot: this.onTakeSnapshot,\n            onMove: this.onMove,\n        };\n    }\n\n    private onTakeSnapshot = () => {\n        return this.editorInstance.getContent(GetContentMode.RawHTMLWithSelection);\n    };\n\n    private onMove = (step: number) => {\n        let sanpshot = this.snapshotService.move(step);\n        this.onRestoreSnapshot(sanpshot);\n    };\n\n    private onRestoreSnapshot = (snapshot: string) => {\n        this.editorInstance.focus();\n        this.editorInstance.setContent(snapshot, false /*triggerContentChangedEvent*/);\n    };\n\n    private updateSnapshots = () => {\n        if (!this.component) {\n            return;\n        }\n\n        this.component.updateSnapshots(\n            this.snapshotService.getSnapshots(),\n            this.snapshotService.getCurrentIndex(),\n            this.snapshotService.getAutoCompleteIndex()\n        );\n    };\n}\n","import * as React from 'react';\n\nconst styles = require('./SnapshotPane.scss');\n\nexport interface SnapshotPaneProps {\n    onTakeSnapshot: () => string;\n    onRestoreSnapshot: (snapshot: string) => void;\n    onMove: (moveStep: number) => void;\n}\n\nexport interface SnapshotPaneState {\n    snapshots: string[];\n    currentIndex: number;\n    autoCompleteIndex: number;\n}\n\nexport default class SnapshotPane extends React.Component<SnapshotPaneProps, SnapshotPaneState> {\n    private textarea: HTMLTextAreaElement;\n\n    constructor(props: SnapshotPaneProps) {\n        super(props);\n\n        this.state = {\n            snapshots: [],\n            currentIndex: -1,\n            autoCompleteIndex: -1,\n        };\n    }\n\n    render() {\n        return (\n            <div className={styles.snapshotPane}>\n                <h3>Undo Snapshots</h3>\n                <div className={styles.snapshotList}>\n                    {this.state.snapshots.map(this.renderItem)}\n                </div>\n                <h3>Selected Snapshot</h3>\n                <div className={styles.buttons}>\n                    <button onClick={this.takeSnapshot}>{'Take snapshot'}</button>{' '}\n                    <button onClick={() => this.props.onRestoreSnapshot(this.textarea.value)}>\n                        {'Restore snapshot'}\n                    </button>\n                </div>\n                <textarea\n                    ref={ref => (this.textarea = ref)}\n                    className={styles.textarea}\n                    spellCheck={false}\n                />\n            </div>\n        );\n    }\n\n    updateSnapshots(snapshots: string[], currentIndex: number, autoCompleteIndex: number) {\n        this.setState({\n            snapshots,\n            currentIndex,\n            autoCompleteIndex,\n        });\n    }\n\n    private takeSnapshot = () => {\n        this.setSnapshot(this.props.onTakeSnapshot());\n    };\n\n    private setSnapshot = (snapshot: string) => {\n        this.textarea.value = snapshot;\n    };\n\n    private renderItem = (snapshot: string, index: number) => {\n        let className = '';\n        if (index == this.state.currentIndex) {\n            className += ' ' + styles.current;\n        }\n        if (index == this.state.autoCompleteIndex) {\n            className += ' ' + styles.autoComplete;\n        }\n        return (\n            <pre\n                className={className}\n                key={index}\n                onClick={() => this.setSnapshot(snapshot)}\n                onDoubleClick={() => this.props.onMove(index - this.state.currentIndex)}>\n                {(snapshot || '<EMPTY SNAPSHOT>').substr(0, 1000)}\n            </pre>\n        );\n    };\n}\n","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/sass-loader/dist/cjs.js!./SnapshotPane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".HibV3xkyKxOpjnAyk0qr4{flex:1 1 auto;display:flex;flex-direction:column}._1yCf4MUqqEDULqM4RSNRBS{margin-bottom:10px;flex:0 0 auto}.E1MpWNg-lFB-dmiOBDnVv{flex:1 1 auto;resize:none;min-height:100px;border-color:#0bc}._2WqAZxlRXbhGBPoaHrJ1Gv{min-height:100px;max-height:200px;overflow:hidden auto;border:solid 1px #0bc}._2WqAZxlRXbhGBPoaHrJ1Gv pre{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;margin:0}._2WqAZxlRXbhGBPoaHrJ1Gv pre:hover{background-color:#eee}._2WqAZxlRXbhGBPoaHrJ1Gv pre._21blMEsk_K31sbjM73Q_V2{font-weight:bold}._2WqAZxlRXbhGBPoaHrJ1Gv pre.t0z_eiUKKfEvZR3eNUMXy{background-color:#ff0}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"snapshotPane\": \"HibV3xkyKxOpjnAyk0qr4\",\n\t\"buttons\": \"_1yCf4MUqqEDULqM4RSNRBS\",\n\t\"textarea\": \"E1MpWNg-lFB-dmiOBDnVv\",\n\t\"snapshotList\": \"_2WqAZxlRXbhGBPoaHrJ1Gv\",\n\t\"current\": \"_21blMEsk_K31sbjM73Q_V2\",\n\t\"autoComplete\": \"t0z_eiUKKfEvZR3eNUMXy\"\n};\nmodule.exports = exports;\n","import { Snapshots, UndoSnapshotsService } from 'roosterjs-editor-types';\nimport {\n    addSnapshot,\n    canMoveCurrentSnapshot,\n    moveCurrentSnapshot,\n    clearProceedingSnapshots,\n    canUndoAutoComplete,\n} from 'roosterjs-editor-dom';\n\nexport default class UndoSnapshots implements UndoSnapshotsService {\n    constructor(private snapshots: Snapshots, private onChange: () => void) {}\n\n    public canMove(delta: number): boolean {\n        return canMoveCurrentSnapshot(this.snapshots, delta);\n    }\n\n    public move(delta: number): string {\n        const result = moveCurrentSnapshot(this.snapshots, delta);\n        this.onChange();\n        return result;\n    }\n\n    public addSnapshot(snapshot: string, isAutoCompleteSnapshot: boolean) {\n        addSnapshot(this.snapshots, snapshot, isAutoCompleteSnapshot);\n        this.onChange();\n    }\n\n    public clearRedo() {\n        clearProceedingSnapshots(this.snapshots);\n        this.onChange();\n    }\n\n    public getSnapshots() {\n        return this.snapshots.snapshots;\n    }\n\n    public getCurrentIndex() {\n        return this.snapshots.currentIndex;\n    }\n\n    public getAutoCompleteIndex() {\n        return this.snapshots.autoCompleteIndex;\n    }\n\n    public canUndoAutoComplete() {\n        return canUndoAutoComplete(this.snapshots);\n    }\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2bo1k8lHl_uV-BG6znDJAB{display:flex;flex-direction:column;width:100%;height:100%}._2w6Qajx0rNoAfiZ90ELvWi{flex:0 0 auto}.Wu-w1vnX5xXDlokHB7qep{flex:1 1 auto;position:relative;display:flex}._3a-q_waO25gsrEedKcbvzq{min-width:200px;flex-grow:1;flex-shrink:1;position:relative}._2fUtCc9nx7qZAmJvSYE2Ij{flex-grow:0;flex-shrink:0;width:6px;cursor:col-resize}._2fUtCc9nx7qZAmJvSYE2Ij:hover{background-color:#ccc}._2ksqVkP0P8VOnkTSDwC9gZ{flex-grow:0;flex-shrink:0;width:30px;cursor:hand;white-space:nowrap}._2ksqVkP0P8VOnkTSDwC9gZ div{transform:rotate(-90deg)}._2ksqVkP0P8VOnkTSDwC9gZ:hover{background-color:#ccc}.p_p04H6Z22MyE14zIJ1QR{min-width:340px;flex-shrink:0;flex-grow:0;width:300px}.p_p04H6Z22MyE14zIJ1QR._3aTZ87z1JhQNydo6VrKJpL{width:100%}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"mainPane\": \"_2bo1k8lHl_uV-BG6znDJAB\",\n\t\"noGrow\": \"_2w6Qajx0rNoAfiZ90ELvWi\",\n\t\"body\": \"Wu-w1vnX5xXDlokHB7qep\",\n\t\"editor\": \"_3a-q_waO25gsrEedKcbvzq\",\n\t\"resizer\": \"_2fUtCc9nx7qZAmJvSYE2Ij\",\n\t\"showSidePane\": \"_2ksqVkP0P8VOnkTSDwC9gZ\",\n\t\"sidePane\": \"p_p04H6Z22MyE14zIJ1QR\",\n\t\"sidePaneFullWidth\": \"_3aTZ87z1JhQNydo6VrKJpL\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\nimport SidePanePlugin from '../SidePanePlugin';\n\nconst styles = require('./SidePane.scss');\n\nexport interface SidePaneProps {\n    plugins: SidePanePlugin[];\n    className?: string;\n}\n\nexport interface SidePaneState {\n    currentPane: SidePanePlugin;\n}\n\nexport default class SidePane extends React.Component<SidePaneProps, SidePaneState> {\n    private div = React.createRef<HTMLDivElement>();\n\n    constructor(props: SidePaneProps) {\n        super(props);\n        this.state = {\n            currentPane: this.props.plugins[0],\n        };\n\n        window.addEventListener('hashchange', this.updateStateFromHash);\n    }\n\n    componentDidMount() {\n        this.updateStateFromHash();\n    }\n\n    render() {\n        let className = (this.props.className || '') + ' ' + styles.sidePane;\n        return (\n            <div className={className} ref={this.div}>\n                {this.props.plugins.map(this.renderSidePane)}\n            </div>\n        );\n    }\n\n    changeWidth(widthDelta: number) {\n        let div = this.div.current;\n        if (div) {\n            div.style.width = div.clientWidth + widthDelta + 'px';\n        }\n    }\n\n    updateHash = (pluginName?: string, path?: string[]) => {\n        window.location.hash =\n            (pluginName || this.state.currentPane.getName()) + (path ? '/' + path.join('/') : '');\n    };\n\n    private updateStateFromHash = () => {\n        let hash = window.location.hash;\n        let hashes = (hash ? hash.substr(1) : '').split('/');\n        let pluginName = hashes[0];\n        let plugin =\n            pluginName && this.props.plugins.filter(plugin => plugin.getName() == pluginName)[0];\n\n        if (plugin) {\n            this.setState({\n                currentPane: plugin,\n            });\n\n            window.setTimeout(() => {\n                hashes.splice(0, 1);\n                if (plugin.setHashPath) {\n                    plugin.setHashPath(hashes);\n                }\n            }, 0);\n        }\n    };\n\n    private renderSidePane = (plugin: SidePanePlugin): JSX.Element => {\n        let title = plugin.getTitle();\n        let isCurrent = this.state.currentPane == plugin;\n        return (\n            <div key={title} className={isCurrent ? styles.activePane : styles.inactivePane}>\n                <div className={styles.title} onClick={() => this.updateHash(plugin.getName())}>\n                    {title}\n                </div>\n                <div className={styles.bodyContainer}>\n                    <div className={styles.body}>{plugin.renderSidePane(this.updateHash)}</div>\n                </div>\n            </div>\n        );\n    };\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./SidePane.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1PlpDVxjlx0PpeYJornEhO{display:flex;flex-direction:column;overflow:auto hidden;border:solid 1px #0bc}.bUl77zUyQ8rsLeCWewoHf{font-family:'Tahoma';font-size:12pt;font-weight:bold;background-color:#09a;color:white;padding:2px;border:solid 1px white;cursor:pointer;flex:0 0 auto}.bUl77zUyQ8rsLeCWewoHf:hover{background-color:#00b0c4}._1Wy64YypxEm0pHdAFt3XyU{display:flex;flex-direction:column;flex:1 1 auto}._1Wy64YypxEm0pHdAFt3XyU ._3n6qkPOj7d7pT5EreXLpW_{flex:1 1 auto;display:flex;position:relative}._1Wy64YypxEm0pHdAFt3XyU ._3n6qkPOj7d7pT5EreXLpW_ ._1kHOYplq2tIl0x8bAqBZrs{position:absolute;left:0;top:0;right:0;bottom:0;display:flex;flex-direction:column;font-family:Arial, Helvetica, sans-serif;padding:10px;overflow-y:auto}._2l2WY2-sLGfv8zWnCEMFYu{flex:0 0 auto}._2l2WY2-sLGfv8zWnCEMFYu ._3n6qkPOj7d7pT5EreXLpW_{height:0;overflow:hidden}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"sidePane\": \"_1PlpDVxjlx0PpeYJornEhO\",\n\t\"title\": \"bUl77zUyQ8rsLeCWewoHf\",\n\t\"activePane\": \"_1Wy64YypxEm0pHdAFt3XyU\",\n\t\"bodyContainer\": \"_3n6qkPOj7d7pT5EreXLpW_\",\n\t\"body\": \"_1kHOYplq2tIl0x8bAqBZrs\",\n\t\"inactivePane\": \"_2l2WY2-sLGfv8zWnCEMFYu\"\n};\nmodule.exports = exports;\n","import * as React from 'react';\n\nconst styles = require('./TitleBar.scss');\nconst github = require('../svg/iconmonstr-github-1.svg');\n\ninterface WindowHack extends Window {\n    roosterJsVer: string;\n}\n\nexport interface TitleBarProps {\n    className?: string;\n}\n\nexport default class TitleBar extends React.Component<TitleBarProps, {}> {\n    render() {\n        let className = styles.titleBar + ' ' + (this.props.className || '');\n        return (\n            <div className={className}>\n                <div className={styles.title}>\n                    <span className={styles.titleText}>RoosterJs Demo Site</span>\n                </div>\n                <div className={styles.version}>\n                    {((window as any) as WindowHack).roosterJsVer || ''}\n                </div>\n                <div className={styles.links}>\n                    <a\n                        href=\"https://github.com/Microsoft/roosterjs/wiki\"\n                        target=\"_blank\"\n                        className={styles.link}>\n                        Wiki\n                    </a>\n                    {' | '}\n                    <a href=\"docs/index.html\" target=\"_blank\" className={styles.link}>\n                        References\n                    </a>\n                    {' | '}\n                    <a href=\"coverage/index.html\" target=\"_blank\" className={styles.link}>\n                        Test\n                    </a>\n                    {' | '}\n                    <a href=\"https://www.travis-ci.org/microsoft/roosterjs\" target=\"_blank\">\n                        <img\n                            className={styles.externalLink}\n                            src=\"https://api.travis-ci.org/microsoft/roosterjs.svg?branch=master\"\n                            alt=\"Build Status\"\n                        />\n                    </a>{' '}\n                    <a href=\"http://badge.fury.io/js/roosterjs\" target=\"_blank\">\n                        <img\n                            src=\"https://badge.fury.io/js/roosterjs.svg\"\n                            alt=\"NPM Version\"\n                            className={styles.externalLink}\n                        />\n                    </a>{' '}\n                    <a\n                        href=\"https://github.com/microsoft/roosterjs\"\n                        target=\"_blank\"\n                        className={styles.link}\n                        title=\"RoosterJs on Github\">\n                        <img className={styles.externalLink} src={github} />\n                    </a>\n                </div>\n            </div>\n        );\n    }\n}\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/sass-loader/dist/cjs.js!./TitleBar.scss\");\nvar loader = require(\"/home/travis/build/microsoft/roosterjs/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._38B2xrPpolo75ScC_XTUJ0{display:flex;background-color:#09a;padding:5px 10px;margin-bottom:10px;border-radius:10px;align-items:center}._3rKujTCbT6hEqSSJowznfl{flex:0 0 auto;font-size:24pt;font-family:Arial;font-weight:bold;font-style:italic;color:white;text-shadow:2px 2px 2px black}.LmRq7AaEB4aAjkYn1_Fx1{flex:1 1 auto;color:white;font-family:Calibri;font-size:14pt;margin:10px 0 0 10px}._2pD0Ll-40t-pFcvxGbmrDa{color:white;flex:0 0 auto;text-align:right;font-size:14pt;font-family:Calibri}.NlCA34doW26bRa3ETK3MV{color:white;text-decoration:none}.NlCA34doW26bRa3ETK3MV:hover{text-decoration:underline}._1TClD7zQfb72l9_IIRB9Bu{vertical-align:middle}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"titleBar\": \"_38B2xrPpolo75ScC_XTUJ0\",\n\t\"title\": \"_3rKujTCbT6hEqSSJowznfl\",\n\t\"version\": \"LmRq7AaEB4aAjkYn1_Fx1\",\n\t\"links\": \"_2pD0Ll-40t-pFcvxGbmrDa\",\n\t\"link\": \"NlCA34doW26bRa3ETK3MV\",\n\t\"externalLink\": \"_1TClD7zQfb72l9_IIRB9Bu\"\n};\nmodule.exports = exports;\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMGMtNi42MjYgMC0xMiA1LjM3My0xMiAxMiAwIDUuMzAyIDMuNDM4IDkuOCA4LjIwNyAxMS4zODcuNTk5LjExMS43OTMtLjI2MS43OTMtLjU3N3YtMi4yMzRjLTMuMzM4LjcyNi00LjAzMy0xLjQxNi00LjAzMy0xLjQxNi0uNTQ2LTEuMzg3LTEuMzMzLTEuNzU2LTEuMzMzLTEuNzU2LTEuMDg5LS43NDUuMDgzLS43MjkuMDgzLS43MjkgMS4yMDUuMDg0IDEuODM5IDEuMjM3IDEuODM5IDEuMjM3IDEuMDcgMS44MzQgMi44MDcgMS4zMDQgMy40OTIuOTk3LjEwNy0uNzc1LjQxOC0xLjMwNS43NjItMS42MDQtMi42NjUtLjMwNS01LjQ2Ny0xLjMzNC01LjQ2Ny01LjkzMSAwLTEuMzExLjQ2OS0yLjM4MSAxLjIzNi0zLjIyMS0uMTI0LS4zMDMtLjUzNS0xLjUyNC4xMTctMy4xNzYgMCAwIDEuMDA4LS4zMjIgMy4zMDEgMS4yMy45NTctLjI2NiAxLjk4My0uMzk5IDMuMDAzLS40MDQgMS4wMi4wMDUgMi4wNDcuMTM4IDMuMDA2LjQwNCAyLjI5MS0xLjU1MiAzLjI5Ny0xLjIzIDMuMjk3LTEuMjMuNjUzIDEuNjUzLjI0MiAyLjg3NC4xMTggMy4xNzYuNzcuODQgMS4yMzUgMS45MTEgMS4yMzUgMy4yMjEgMCA0LjYwOS0yLjgwNyA1LjYyNC01LjQ3OSA1LjkyMS40My4zNzIuODIzIDEuMTAyLjgyMyAyLjIyMnYzLjI5M2MwIC4zMTkuMTkyLjY5NC44MDEuNTc2IDQuNzY1LTEuNTg5IDguMTk5LTYuMDg2IDguMTk5LTExLjM4NiAwLTYuNjI3LTUuMzczLTEyLTEyLTEyeiIvPjwvc3ZnPg==\""],"sourceRoot":""}