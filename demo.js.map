{"version":3,"file":"demo.js","mappings":";2BAAA,IAAIA,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,KAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,uBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,KAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,IAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,uBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,uBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,KAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,KAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,uBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,KAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,wBCR5C,IAAIP,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MAEC,iBAAZD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,GAAIH,KAGvD,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAKH,EAAOK,WAAWN,EAAQI,GAAG,IAAI,GAEvEJ,EAAQO,SAAQL,EAAOM,QAAUR,EAAQO,2CCH5C,IAAIE,EAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,EAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGV,EAAI,EAAGW,EAAIC,UAAUX,OAAQD,EAAIW,EAAGX,IAE5C,IAAK,IAAIa,KADTH,EAAIE,UAAUZ,GACOO,OAAOO,UAAUC,eAAeC,KAAKN,EAAGG,KACzDJ,EAAEI,GAAKH,EAAEG,IAEjB,OAAOJ,CACX,EACOJ,EAASY,MAAMX,KAAMM,UAChC,EACAL,OAAOW,eAAed,EAAS,aAAc,CAAEe,OAAO,IAGtD,IAmBQC,EAnBJC,EAA2B,oBAAXC,OAA0B,EAAAC,EAASD,OAEnDE,EAAcH,GAASA,EAAMI,aAAeJ,EAAMI,YAAYC,MAC9DC,IAgBIP,EAAQC,EAAMO,gBAAkB,CAChCC,WAAOC,EACPC,sBAAkBD,EAClBE,iBAAkB,KAEXC,WACPb,EAAQf,EAAS,CAAC,EAAG,EAAS,CAAE6B,KAAM,CAC9BC,MAAO,EACPC,SAAU,GACXH,SAAU,CACTI,WAAY,EACZC,KAAM,EACNC,OAAQ,OAGfnB,EAAMoB,2BACPpB,EAAQf,EAAS,CAAC,EAAG,EAAS,CAAEmC,yBAA0B,MAE9DnB,EAAMO,eAAiBR,EAChBA,GA/BPqB,EAAmB,iHACnBC,EAAM,WAAc,MAA+B,oBAAhBC,aAAiCA,YAAYD,IAAOC,YAAYD,MAAQE,KAAKF,KAAO,EAC3H,SAASG,EAAQC,GACb,IAAIC,EAAQL,IACZI,IACA,IAAIE,EAAMN,IACVf,EAAYO,KAAKE,UAAYY,EAAMD,CACvC,CAqEA,SAASE,IACLJ,GAAQ,WACJ,IAAIK,EAAcvB,EAAYM,SAASM,OAAOY,QAC9CxB,EAAYM,SAASM,OAAS,GAC9B,IAAIa,EAAmB,GAAGC,OAAOpC,MAAM,GAAIiC,GACvCE,EAAiBnD,OAAS,GAC1BqD,EAAoBF,EAE5B,GACJ,CAiBA,SAASE,EAAoBC,EAAaC,GAClC7B,EAAYzB,WACZyB,EAAYzB,WAAWuD,EAAqBF,GAAaG,YAAaH,GA2I9E,SAAwBI,GACpB,GAAwB,oBAAbC,SAAX,CAGA,IAAIC,EAAOD,SAASE,qBAAqB,QAAQ,GAC7CC,EAAeH,SAASI,cAAc,SACtCC,EAAKR,EAAqBE,GAAaD,EAAcO,EAAGP,YAAaQ,EAAWD,EAAGC,SACvFH,EAAaI,aAAa,0BAA2B,QACjD3C,GACAuC,EAAaI,aAAa,QAAS3C,GAEvCuC,EAAaK,YAAYR,SAASS,eAAeX,IACjD/B,EAAYO,KAAKC,QACjB0B,EAAKO,YAAYL,GACjB,IAAIO,EAAKV,SAASW,YAAY,cAC9BD,EAAGE,UAAU,eAAe,GAAwB,GACpDF,EAAGG,KAAO,CACNC,SAAUX,GAEdH,SAASe,cAAcL,GACvB,IAAIM,EAAS,CACTb,aAAcA,EACdc,cAAelB,GAEfO,EACAvC,EAAYa,yBAAyBsC,KAAKF,GAG1CjD,EAAYK,iBAAiB8C,KAAKF,EAzBtC,CA2BJ,CAtKQG,CAAexB,EAEvB,CAiBA,SAASyB,EAAYC,QACF,IAAXA,IAAqBA,EAAS,GACnB,IAAXA,GAAqC,IAAXA,IAC1BC,EAAoBvD,EAAYK,kBAChCL,EAAYK,iBAAmB,IAEpB,IAAXiD,GAAqC,IAAXA,IAC1BC,EAAoBvD,EAAYa,0BAChCb,EAAYa,yBAA2B,GAE/C,CAEA,SAAS0C,EAAoBC,GACzBA,EAAQC,SAAQ,SAAU5B,GACtB,IAAIO,EAAeP,GAAeA,EAAYO,aAC1CA,GAAgBA,EAAasB,eAC7BtB,EAAasB,cAAcC,YAAYvB,EAE/C,GACJ,CAgCA,SAASN,EAAqB8B,GAC1B,IAAI1D,EAAQF,EAAYE,MACpBqC,GAAW,EAsBf,MAAO,CACHR,aApBiB6B,GAAmB,IAAIC,KAAI,SAAUC,GACtD,IAAIC,EAAYD,EAAa5D,MAC7B,GAAI6D,EAAW,CACXxB,GAAW,EAEX,IAAIyB,EAAc9D,EAAQA,EAAM6D,QAAa5D,EACzC8D,EAAeH,EAAaG,cAAgB,UAMhD,OAHI/D,IAAU8D,GAAeE,WAAaH,KAAa7D,IAA2B,oBAAViE,OAAyBA,OAC7FD,QAAQE,KAAK,mCAAsCL,EAAY,uBAA2BE,EAAe,MAEtGD,GAAeC,CAC1B,CAGI,OAAOH,EAAaO,SAE5B,IAE+BC,KAAK,IAChC/B,SAAUA,EAElB,CAKA,SAASgC,EAAYC,GACjB,IAAIC,EAAS,GACb,GAAID,EAAQ,CAGR,IAFA,IAAIE,EAAM,EACNC,OAAa,EACTA,EAAa7D,EAAiB8D,KAAKJ,IAAU,CACjD,IAAIK,EAAaF,EAAWG,MACxBD,EAAaH,GACbD,EAAOtB,KAAK,CACRkB,UAAWG,EAAOO,UAAUL,EAAKG,KAGzCJ,EAAOtB,KAAK,CACRjD,MAAOyE,EAAW,GAClBV,aAAcU,EAAW,KAG7BD,EAAM5D,EAAiBkE,SAC3B,CAEAP,EAAOtB,KAAK,CACRkB,UAAWG,EAAOO,UAAUL,IAEpC,CACA,OAAOD,CACX,CApLAhG,EAAQF,WAhBR,SAAoBiG,EAAQS,QACN,IAAdA,IAAwBA,GAAY,GACxC/D,GAAQ,WACJ,IAAIgE,EAAaC,MAAMC,QAAQZ,GAAUA,EAASD,EAAYC,GAC1DlC,EAAKtC,EAAYM,SAAUK,EAAO2B,EAAG3B,KAAMC,EAAS0B,EAAG1B,OAAQF,EAAa4B,EAAG5B,WAC/EuE,GAAsB,IAATtE,GACbC,EAAOuC,KAAK+B,GACPxE,IACDV,EAAYM,SAASI,WA4C1B2E,YAAW,WACdrF,EAAYM,SAASI,WAAa,EAClCY,GACJ,GAAG,KA3CKK,EAAoBuD,EAE5B,GACJ,EAUAzG,EAAQ6G,oBAHR,SAA6BC,GACzBvF,EAAYzB,WAAagH,CAC7B,EASA9G,EAAQ+G,iBAHR,SAA0B7E,GACtBX,EAAYM,SAASK,KAAOA,CAChC,EAeAlC,EAAQ6C,MAAQA,EAkChB7C,EAAQgH,UALR,SAAmBvF,GACfF,EAAYE,MAAQA,EAiCxB,WACI,GAAIF,EAAYE,MAAO,CAEnB,IADA,IAAIwF,EAAiB,GACZC,EAAK,EAAGrD,EAAKtC,EAAYa,yBAA0B8E,EAAKrD,EAAGhE,OAAQqH,IAAM,CAC9E,IAAI9D,EAAcS,EAAGqD,GACrBD,EAAevC,KAAKtB,EAAYqB,cACpC,CACIwC,EAAepH,OAAS,IACxB+E,EAAY,GACZ1B,EAAoB,GAAGD,OAAOpC,MAAM,GAAIoG,IAEhD,CACJ,CA3CIE,EACJ,EAkBAnH,EAAQ4E,YAAcA,EAmCtB5E,EAAQoH,WANR,SAAoBrB,GAIhB,OAHIA,IACAA,EAAS1C,EAAqByC,EAAYC,IAASzC,aAEhDyC,CACX,EAiEA/F,EAAQ8F,YAAcA,kBCrQtB,IAAIuB,EAAc,EAAQ,MAMtBC,EAAkB,CAAC,EACvB,IAAK,IAAIC,KAAOF,EACXA,EAAY1G,eAAe4G,KAC9BD,EAAgBD,EAAYE,IAAQA,GAItC,IAAIC,EAAU9H,EAAOM,QAAU,CAC9ByH,IAAK,CAACC,SAAU,EAAGC,OAAQ,OAC3BC,IAAK,CAACF,SAAU,EAAGC,OAAQ,OAC3BE,IAAK,CAACH,SAAU,EAAGC,OAAQ,OAC3BG,IAAK,CAACJ,SAAU,EAAGC,OAAQ,OAC3BI,KAAM,CAACL,SAAU,EAAGC,OAAQ,QAC5BK,IAAK,CAACN,SAAU,EAAGC,OAAQ,OAC3BM,IAAK,CAACP,SAAU,EAAGC,OAAQ,OAC3BO,IAAK,CAACR,SAAU,EAAGC,OAAQ,OAC3BQ,IAAK,CAACT,SAAU,EAAGC,OAAQ,CAAC,QAC5BS,QAAS,CAACV,SAAU,EAAGC,OAAQ,CAAC,YAChCU,OAAQ,CAACX,SAAU,EAAGC,OAAQ,CAAC,WAC/BW,QAAS,CAACZ,SAAU,EAAGC,OAAQ,CAAC,YAChCY,IAAK,CAACb,SAAU,EAAGC,OAAQ,CAAC,IAAK,IAAK,MACtCa,MAAO,CAACd,SAAU,EAAGC,OAAQ,CAAC,MAAO,MAAO,QAC5Cc,KAAM,CAACf,SAAU,EAAGC,OAAQ,CAAC,UAI9B,IAAK,IAAIe,KAASlB,EACjB,GAAIA,EAAQ7G,eAAe+H,GAAQ,CAClC,KAAM,aAAclB,EAAQkB,IAC3B,MAAM,IAAIC,MAAM,8BAAgCD,GAGjD,KAAM,WAAYlB,EAAQkB,IACzB,MAAM,IAAIC,MAAM,oCAAsCD,GAGvD,GAAIlB,EAAQkB,GAAOf,OAAO9H,SAAW2H,EAAQkB,GAAOhB,SACnD,MAAM,IAAIiB,MAAM,sCAAwCD,GAGzD,IAAIhB,EAAWF,EAAQkB,GAAOhB,SAC1BC,EAASH,EAAQkB,GAAOf,cACrBH,EAAQkB,GAAOhB,gBACfF,EAAQkB,GAAOf,OACtBxH,OAAOW,eAAe0G,EAAQkB,GAAQ,WAAY,CAAC3H,MAAO2G,IAC1DvH,OAAOW,eAAe0G,EAAQkB,GAAQ,SAAU,CAAC3H,MAAO4G,GACzD,CAGDH,EAAQC,IAAIG,IAAM,SAAUH,GAC3B,IAMImB,EAEAC,EARAC,EAAIrB,EAAI,GAAK,IACbtG,EAAIsG,EAAI,GAAK,IACbsB,EAAItB,EAAI,GAAK,IACbuB,EAAMC,KAAKD,IAAIF,EAAG3H,EAAG4H,GACrBG,EAAMD,KAAKC,IAAIJ,EAAG3H,EAAG4H,GACrBI,EAAQD,EAAMF,EA+BlB,OA1BIE,IAAQF,EACXJ,EAAI,EACME,IAAMI,EAChBN,GAAKzH,EAAI4H,GAAKI,EACJhI,IAAM+H,EAChBN,EAAI,GAAKG,EAAID,GAAKK,EACRJ,IAAMG,IAChBN,EAAI,GAAKE,EAAI3H,GAAKgI,IAGnBP,EAAIK,KAAKD,IAAQ,GAAJJ,EAAQ,MAEb,IACPA,GAAK,KAGNC,GAAKG,EAAME,GAAO,EAUX,CAACN,EAAO,KARXM,IAAQF,EACP,EACMH,GAAK,GACXM,GAASD,EAAMF,GAEfG,GAAS,EAAID,EAAMF,IAGA,IAAJH,EACrB,EAEArB,EAAQC,IAAII,IAAM,SAAUJ,GAC3B,IAAI2B,EACAC,EACAC,EACAV,EACAtI,EAEAwI,EAAIrB,EAAI,GAAK,IACbtG,EAAIsG,EAAI,GAAK,IACbsB,EAAItB,EAAI,GAAK,IACb8B,EAAIN,KAAKC,IAAIJ,EAAG3H,EAAG4H,GACnBS,EAAOD,EAAIN,KAAKD,IAAIF,EAAG3H,EAAG4H,GAC1BU,EAAQ,SAAUC,GACrB,OAAQH,EAAIG,GAAK,EAAIF,EAAO,EAC7B,EAwBA,OAtBa,IAATA,EACHZ,EAAItI,EAAI,GAERA,EAAIkJ,EAAOD,EACXH,EAAOK,EAAMX,GACbO,EAAOI,EAAMtI,GACbmI,EAAOG,EAAMV,GAETD,IAAMS,EACTX,EAAIU,EAAOD,EACDlI,IAAMoI,EAChBX,EAAK,EAAI,EAAKQ,EAAOE,EACXP,IAAMQ,IAChBX,EAAK,EAAI,EAAKS,EAAOD,GAElBR,EAAI,EACPA,GAAK,EACKA,EAAI,IACdA,GAAK,IAIA,CACF,IAAJA,EACI,IAAJtI,EACI,IAAJiJ,EAEF,EAEA/B,EAAQC,IAAIK,IAAM,SAAUL,GAC3B,IAAIqB,EAAIrB,EAAI,GACRtG,EAAIsG,EAAI,GACRsB,EAAItB,EAAI,GAMZ,MAAO,CALCD,EAAQC,IAAIG,IAAIH,GAAK,GACrB,EAAI,IAAMwB,KAAKD,IAAIF,EAAGG,KAAKD,IAAI7H,EAAG4H,IAI3B,IAAS,KAFxBA,EAAI,EAAI,EAAI,IAAME,KAAKC,IAAIJ,EAAGG,KAAKC,IAAI/H,EAAG4H,KAG3C,EAEAvB,EAAQC,IAAIM,KAAO,SAAUN,GAC5B,IAMIkC,EANAb,EAAIrB,EAAI,GAAK,IACbtG,EAAIsG,EAAI,GAAK,IACbsB,EAAItB,EAAI,GAAK,IAWjB,MAAO,CAAK,MAJP,EAAIqB,GADTa,EAAIV,KAAKD,IAAI,EAAIF,EAAG,EAAI3H,EAAG,EAAI4H,MACZ,EAAIY,IAAM,GAIR,MAHhB,EAAIxI,EAAIwI,IAAM,EAAIA,IAAM,GAGC,MAFzB,EAAIZ,EAAIY,IAAM,EAAIA,IAAM,GAEU,IAAJA,EACpC,EAaAnC,EAAQC,IAAIW,QAAU,SAAUX,GAC/B,IAAImC,EAAWtC,EAAgBG,GAC/B,GAAImC,EACH,OAAOA,EAGR,IACIC,EAfwBC,EAAGC,EAc3BC,EAAyBC,IAG7B,IAAK,IAAI7B,KAAWf,EACnB,GAAIA,EAAY1G,eAAeyH,GAAU,CACxC,IAGI8B,GAtBsBJ,EAsBSrC,EAtBNsC,EAmBjB1C,EAAYe,GAjBzBa,KAAKkB,IAAIL,EAAE,GAAKC,EAAE,GAAI,GACtBd,KAAKkB,IAAIL,EAAE,GAAKC,EAAE,GAAI,GACtBd,KAAKkB,IAAIL,EAAE,GAAKC,EAAE,GAAI,IAqBjBG,EAAWF,IACdA,EAAyBE,EACzBL,EAAwBzB,EAE1B,CAGD,OAAOyB,CACR,EAEArC,EAAQY,QAAQX,IAAM,SAAUW,GAC/B,OAAOf,EAAYe,EACpB,EAEAZ,EAAQC,IAAIO,IAAM,SAAUP,GAC3B,IAAIqB,EAAIrB,EAAI,GAAK,IACbtG,EAAIsG,EAAI,GAAK,IACbsB,EAAItB,EAAI,GAAK,IAWjB,MAAO,CAAK,KAJC,OAJbqB,EAAIA,EAAI,OAAUG,KAAKkB,KAAMrB,EAAI,MAAS,MAAQ,KAAQA,EAAI,OAIlC,OAH5B3H,EAAIA,EAAI,OAAU8H,KAAKkB,KAAMhJ,EAAI,MAAS,MAAQ,KAAQA,EAAI,OAGnB,OAF3C4H,EAAIA,EAAI,OAAUE,KAAKkB,KAAMpB,EAAI,MAAS,MAAQ,KAAQA,EAAI,QAMzC,KAHR,MAAJD,EAAmB,MAAJ3H,EAAmB,MAAJ4H,GAGT,KAFjB,MAAJD,EAAmB,MAAJ3H,EAAmB,MAAJ4H,GAGxC,EAEAvB,EAAQC,IAAIQ,IAAM,SAAUR,GAC3B,IAAIO,EAAMR,EAAQC,IAAIO,IAAIP,GACtBqC,EAAI9B,EAAI,GACR+B,EAAI/B,EAAI,GACRoC,EAAIpC,EAAI,GAiBZ,OAXA+B,GAAK,IACLK,GAAK,QAELN,GAJAA,GAAK,QAIG,QAAWb,KAAKkB,IAAIL,EAAG,EAAI,GAAM,MAAQA,EAAM,GAAK,IAQrD,CAJF,KAHLC,EAAIA,EAAI,QAAWd,KAAKkB,IAAIJ,EAAG,EAAI,GAAM,MAAQA,EAAM,GAAK,KAG5C,GACZ,KAAOD,EAAIC,GACX,KAAOA,GAJXK,EAAIA,EAAI,QAAWnB,KAAKkB,IAAIC,EAAG,EAAI,GAAM,MAAQA,EAAM,GAAK,MAO7D,EAEA5C,EAAQI,IAAIH,IAAM,SAAUG,GAC3B,IAGIyC,EACAC,EACAC,EACA9C,EACA+C,EAPA5B,EAAIhB,EAAI,GAAK,IACbtH,EAAIsH,EAAI,GAAK,IACbiB,EAAIjB,EAAI,GAAK,IAOjB,GAAU,IAANtH,EAEH,MAAO,CADPkK,EAAU,IAAJ3B,EACO2B,EAAKA,GASnBH,EAAK,EAAIxB,GALRyB,EADGzB,EAAI,GACFA,GAAK,EAAIvI,GAETuI,EAAIvI,EAAIuI,EAAIvI,GAKlBmH,EAAM,CAAC,EAAG,EAAG,GACb,IAAK,IAAI7H,EAAI,EAAGA,EAAI,EAAGA,KACtB2K,EAAK3B,EAAI,EAAI,IAAMhJ,EAAI,IACd,GACR2K,IAEGA,EAAK,GACRA,IAIAC,EADG,EAAID,EAAK,EACNF,EAAiB,GAAXC,EAAKD,GAAUE,EACjB,EAAIA,EAAK,EACbD,EACI,EAAIC,EAAK,EACbF,GAAMC,EAAKD,IAAO,EAAI,EAAIE,GAAM,EAEhCF,EAGP5C,EAAI7H,GAAW,IAAN4K,EAGV,OAAO/C,CACR,EAEAD,EAAQI,IAAIC,IAAM,SAAUD,GAC3B,IAAIgB,EAAIhB,EAAI,GACRtH,EAAIsH,EAAI,GAAK,IACbiB,EAAIjB,EAAI,GAAK,IACb6C,EAAOnK,EACPoK,EAAOzB,KAAKC,IAAIL,EAAG,KAUvB,OALAvI,IADAuI,GAAK,IACM,EAAKA,EAAI,EAAIA,EACxB4B,GAAQC,GAAQ,EAAIA,EAAO,EAAIA,EAIxB,CAAC9B,EAAQ,KAFL,IAANC,EAAW,EAAI4B,GAASC,EAAOD,GAAS,EAAInK,GAAMuI,EAAIvI,KADtDuI,EAAIvI,GAAK,EAGW,IAC1B,EAEAkH,EAAQK,IAAIJ,IAAM,SAAUI,GAC3B,IAAIe,EAAIf,EAAI,GAAK,GACbvH,EAAIuH,EAAI,GAAK,IACb0B,EAAI1B,EAAI,GAAK,IACb8C,EAAK1B,KAAK2B,MAAMhC,GAAK,EAErBiC,EAAIjC,EAAIK,KAAK2B,MAAMhC,GACnBnI,EAAI,IAAM8I,GAAK,EAAIjJ,GACnBwK,EAAI,IAAMvB,GAAK,EAAKjJ,EAAIuK,GACxBxK,EAAI,IAAMkJ,GAAK,EAAKjJ,GAAK,EAAIuK,IAGjC,OAFAtB,GAAK,IAEGoB,GACP,KAAK,EACJ,MAAO,CAACpB,EAAGlJ,EAAGI,GACf,KAAK,EACJ,MAAO,CAACqK,EAAGvB,EAAG9I,GACf,KAAK,EACJ,MAAO,CAACA,EAAG8I,EAAGlJ,GACf,KAAK,EACJ,MAAO,CAACI,EAAGqK,EAAGvB,GACf,KAAK,EACJ,MAAO,CAAClJ,EAAGI,EAAG8I,GACf,KAAK,EACJ,MAAO,CAACA,EAAG9I,EAAGqK,GAEjB,EAEAtD,EAAQK,IAAID,IAAM,SAAUC,GAC3B,IAII6C,EACAK,EACAlC,EANAD,EAAIf,EAAI,GACRvH,EAAIuH,EAAI,GAAK,IACb0B,EAAI1B,EAAI,GAAK,IACbmD,EAAO/B,KAAKC,IAAIK,EAAG,KAYvB,OAPAV,GAAK,EAAIvI,GAAKiJ,EAEdwB,EAAKzK,EAAI0K,EAKF,CAACpC,EAAQ,KAHhBmC,GADAA,IAFAL,GAAQ,EAAIpK,GAAK0K,IAEF,EAAKN,EAAO,EAAIA,IACpB,GAGc,KAFzB7B,GAAK,GAGN,EAGArB,EAAQM,IAAIL,IAAM,SAAUK,GAC3B,IAIIlI,EACA2J,EACAsB,EACAtK,EAkBAuI,EACA3H,EACA4H,EA3BAH,EAAId,EAAI,GAAK,IACbmD,EAAKnD,EAAI,GAAK,IACdoD,EAAKpD,EAAI,GAAK,IACdqD,EAAQF,EAAKC,EAyBjB,OAlBIC,EAAQ,IACXF,GAAME,EACND,GAAMC,GAKPN,EAAI,EAAIjC,GAFRhJ,EAAIqJ,KAAK2B,MAAM,EAAIhC,IAIA,IAAV,EAAJhJ,KACJiL,EAAI,EAAIA,GAGTtK,EAAI0K,EAAKJ,IAPTtB,EAAI,EAAI2B,GAOUD,GAKVrL,GACP,QACA,KAAK,EACL,KAAK,EAAGkJ,EAAIS,EAAGpI,EAAIZ,EAAGwI,EAAIkC,EAAI,MAC9B,KAAK,EAAGnC,EAAIvI,EAAGY,EAAIoI,EAAGR,EAAIkC,EAAI,MAC9B,KAAK,EAAGnC,EAAImC,EAAI9J,EAAIoI,EAAGR,EAAIxI,EAAG,MAC9B,KAAK,EAAGuI,EAAImC,EAAI9J,EAAIZ,EAAGwI,EAAIQ,EAAG,MAC9B,KAAK,EAAGT,EAAIvI,EAAGY,EAAI8J,EAAIlC,EAAIQ,EAAG,MAC9B,KAAK,EAAGT,EAAIS,EAAGpI,EAAI8J,EAAIlC,EAAIxI,EAG5B,MAAO,CAAK,IAAJuI,EAAa,IAAJ3H,EAAa,IAAJ4H,EAC3B,EAEAvB,EAAQO,KAAKN,IAAM,SAAUM,GAC5B,IAAI2B,EAAI3B,EAAK,GAAK,IACdqD,EAAIrD,EAAK,GAAK,IACdgC,EAAIhC,EAAK,GAAK,IACd4B,EAAI5B,EAAK,GAAK,IASlB,MAAO,CAAK,KAJR,EAAIkB,KAAKD,IAAI,EAAGU,GAAK,EAAIC,GAAKA,IAIb,KAHjB,EAAIV,KAAKD,IAAI,EAAGoC,GAAK,EAAIzB,GAAKA,IAGJ,KAF1B,EAAIV,KAAKD,IAAI,EAAGe,GAAK,EAAIJ,GAAKA,IAGnC,EAEAnC,EAAQQ,IAAIP,IAAM,SAAUO,GAC3B,IAGIc,EACA3H,EACA4H,EALAe,EAAI9B,EAAI,GAAK,IACb+B,EAAI/B,EAAI,GAAK,IACboC,EAAIpC,EAAI,GAAK,IA0BjB,OApBA7G,GAAU,MAAL2I,EAAoB,OAAJC,EAAmB,MAAJK,EACpCrB,EAAS,MAAJe,GAAoB,KAALC,EAAoB,MAAJK,EAGpCtB,GALAA,EAAS,OAAJgB,GAAoB,OAALC,GAAqB,MAALK,GAK5B,SACH,MAAQnB,KAAKkB,IAAIrB,EAAG,EAAM,KAAQ,KAChC,MAAJA,EAEH3H,EAAIA,EAAI,SACH,MAAQ8H,KAAKkB,IAAIhJ,EAAG,EAAM,KAAQ,KAChC,MAAJA,EAEH4H,EAAIA,EAAI,SACH,MAAQE,KAAKkB,IAAIpB,EAAG,EAAM,KAAQ,KAChC,MAAJA,EAMI,CAAK,KAJZD,EAAIG,KAAKD,IAAIC,KAAKC,IAAI,EAAGJ,GAAI,IAIR,KAHrB3H,EAAI8H,KAAKD,IAAIC,KAAKC,IAAI,EAAG/H,GAAI,IAGC,KAF9B4H,EAAIE,KAAKD,IAAIC,KAAKC,IAAI,EAAGH,GAAI,IAG9B,EAEAvB,EAAQQ,IAAIC,IAAM,SAAUD,GAC3B,IAAI8B,EAAI9B,EAAI,GACR+B,EAAI/B,EAAI,GACRoC,EAAIpC,EAAI,GAiBZ,OAXA+B,GAAK,IACLK,GAAK,QAELN,GAJAA,GAAK,QAIG,QAAWb,KAAKkB,IAAIL,EAAG,EAAI,GAAM,MAAQA,EAAM,GAAK,IAQrD,CAJF,KAHLC,EAAIA,EAAI,QAAWd,KAAKkB,IAAIJ,EAAG,EAAI,GAAM,MAAQA,EAAM,GAAK,KAG5C,GACZ,KAAOD,EAAIC,GACX,KAAOA,GAJXK,EAAIA,EAAI,QAAWnB,KAAKkB,IAAIC,EAAG,EAAI,GAAM,MAAQA,EAAM,GAAK,MAO7D,EAEA5C,EAAQS,IAAID,IAAM,SAAUC,GAC3B,IAGI6B,EACAC,EACAK,EALAvB,EAAIZ,EAAI,GAQZ6B,EAPQ7B,EAAI,GAOJ,KADR8B,GAAKlB,EAAI,IAAM,KAEfuB,EAAIL,EAPI9B,EAAI,GAOA,IAEZ,IAAIoD,EAAKpC,KAAKkB,IAAIJ,EAAG,GACjBuB,EAAKrC,KAAKkB,IAAIL,EAAG,GACjByB,EAAKtC,KAAKkB,IAAIC,EAAG,GASrB,OARAL,EAAIsB,EAAK,QAAWA,GAAMtB,EAAI,GAAK,KAAO,MAC1CD,EAAIwB,EAAK,QAAWA,GAAMxB,EAAI,GAAK,KAAO,MAC1CM,EAAImB,EAAK,QAAWA,GAAMnB,EAAI,GAAK,KAAO,MAMnC,CAJPN,GAAK,OACLC,GAAK,IACLK,GAAK,QAGN,EAEA5C,EAAQS,IAAIC,IAAM,SAAUD,GAC3B,IAIIW,EAJAC,EAAIZ,EAAI,GACRuD,EAAIvD,EAAI,GACRc,EAAId,EAAI,GAcZ,OARAW,EAAS,IADJK,KAAKwC,MAAM1C,EAAGyC,GACJ,EAAIvC,KAAKyC,IAEhB,IACP9C,GAAK,KAKC,CAACC,EAFJI,KAAK0C,KAAKH,EAAIA,EAAIzC,EAAIA,GAEZH,EACf,EAEApB,EAAQU,IAAID,IAAM,SAAUC,GAC3B,IAKI0D,EALA/C,EAAIX,EAAI,GACRwB,EAAIxB,EAAI,GAUZ,OAJA0D,EALQ1D,EAAI,GAKH,IAAM,EAAIe,KAAKyC,GAIjB,CAAC7C,EAHJa,EAAIT,KAAK4C,IAAID,GACblC,EAAIT,KAAK6C,IAAIF,GAGlB,EAEApE,EAAQC,IAAIY,OAAS,SAAUhE,GAC9B,IAAIyE,EAAIzE,EAAK,GACTlD,EAAIkD,EAAK,GACT0E,EAAI1E,EAAK,GACTtD,EAAQ,KAAKP,UAAYA,UAAU,GAAKgH,EAAQC,IAAII,IAAIxD,GAAM,GAIlE,GAAc,KAFdtD,EAAQkI,KAAK8C,MAAMhL,EAAQ,KAG1B,OAAO,GAGR,IAAIiL,EAAO,IACN/C,KAAK8C,MAAMhD,EAAI,MAAQ,EACxBE,KAAK8C,MAAM5K,EAAI,MAAQ,EACxB8H,KAAK8C,MAAMjD,EAAI,MAMlB,OAJc,IAAV/H,IACHiL,GAAQ,IAGFA,CACR,EAEAxE,EAAQK,IAAIQ,OAAS,SAAUhE,GAG9B,OAAOmD,EAAQC,IAAIY,OAAOb,EAAQK,IAAIJ,IAAIpD,GAAOA,EAAK,GACvD,EAEAmD,EAAQC,IAAIa,QAAU,SAAUjE,GAC/B,IAAIyE,EAAIzE,EAAK,GACTlD,EAAIkD,EAAK,GACT0E,EAAI1E,EAAK,GAIb,OAAIyE,IAAM3H,GAAKA,IAAM4H,EAChBD,EAAI,EACA,GAGJA,EAAI,IACA,IAGDG,KAAK8C,OAAQjD,EAAI,GAAK,IAAO,IAAM,IAGhC,GACP,GAAKG,KAAK8C,MAAMjD,EAAI,IAAM,GAC1B,EAAIG,KAAK8C,MAAM5K,EAAI,IAAM,GAC1B8H,KAAK8C,MAAMhD,EAAI,IAAM,EAGzB,EAEAvB,EAAQa,OAAOZ,IAAM,SAAUpD,GAC9B,IAAI4H,EAAQ5H,EAAO,GAGnB,GAAc,IAAV4H,GAAyB,IAAVA,EAOlB,OANI5H,EAAO,KACV4H,GAAS,KAKH,CAFPA,EAAQA,EAAQ,KAAO,IAERA,EAAOA,GAGvB,IAAIC,EAA6B,IAAL,KAAb7H,EAAO,KAKtB,MAAO,EAJW,EAAR4H,GAAaC,EAAQ,KACpBD,GAAS,EAAK,GAAKC,EAAQ,KAC3BD,GAAS,EAAK,GAAKC,EAAQ,IAGvC,EAEA1E,EAAQc,QAAQb,IAAM,SAAUpD,GAE/B,GAAIA,GAAQ,IAAK,CAChB,IAAIqF,EAAmB,IAAdrF,EAAO,KAAY,EAC5B,MAAO,CAACqF,EAAGA,EAAGA,EACf,CAIA,IAAIyC,EAKJ,OAPA9H,GAAQ,GAOD,CAJC4E,KAAK2B,MAAMvG,EAAO,IAAM,EAAI,IAC5B4E,KAAK2B,OAAOuB,EAAM9H,EAAO,IAAM,GAAK,EAAI,IACvC8H,EAAM,EAAK,EAAI,IAGzB,EAEA3E,EAAQC,IAAIU,IAAM,SAAU9D,GAC3B,IAII+H,KAJkC,IAAtBnD,KAAK8C,MAAM1H,EAAK,MAAe,MACpB,IAAtB4E,KAAK8C,MAAM1H,EAAK,MAAe,IACV,IAAtB4E,KAAK8C,MAAM1H,EAAK,MAECgI,SAAS,IAAIC,cAClC,MAAO,SAAShG,UAAU8F,EAAOvM,QAAUuM,CAC5C,EAEA5E,EAAQW,IAAIV,IAAM,SAAUpD,GAC3B,IAAIkI,EAAQlI,EAAKgI,SAAS,IAAIE,MAAM,4BACpC,IAAKA,EACJ,MAAO,CAAC,EAAG,EAAG,GAGf,IAAIC,EAAcD,EAAM,GAEA,IAApBA,EAAM,GAAG1M,SACZ2M,EAAcA,EAAYC,MAAM,IAAIrH,KAAI,SAAUsH,GACjD,OAAOA,EAAOA,CACf,IAAG7G,KAAK,KAGT,IAAI8G,EAAUC,SAASJ,EAAa,IAKpC,MAAO,CAJEG,GAAW,GAAM,IACjBA,GAAW,EAAK,IACP,IAAVA,EAGT,EAEAnF,EAAQC,IAAIc,IAAM,SAAUd,GAC3B,IAOIoF,EAPA/D,EAAIrB,EAAI,GAAK,IACbtG,EAAIsG,EAAI,GAAK,IACbsB,EAAItB,EAAI,GAAK,IACbyB,EAAMD,KAAKC,IAAID,KAAKC,IAAIJ,EAAG3H,GAAI4H,GAC/BC,EAAMC,KAAKD,IAAIC,KAAKD,IAAIF,EAAG3H,GAAI4H,GAC/B+D,EAAU5D,EAAMF,EAyBpB,OAdC6D,EADGC,GAAU,EACP,EAEH5D,IAAQJ,GACH3H,EAAI4H,GAAK+D,EAAU,EAExB5D,IAAQ/H,EACL,GAAK4H,EAAID,GAAKgE,EAEd,GAAKhE,EAAI3H,GAAK2L,EAAS,EAG9BD,GAAO,EAGA,CAAO,KAFdA,GAAO,GAEqB,IAATC,EAA0B,KArBzCA,EAAS,EACA9D,GAAO,EAAI8D,GAEX,GAmBd,EAEAtF,EAAQI,IAAIW,IAAM,SAAUX,GAC3B,IAEI8B,EAFApJ,EAAIsH,EAAI,GAAK,IACbiB,EAAIjB,EAAI,GAAK,IAEbiD,EAAI,EAYR,OATCnB,EADGb,EAAI,GACH,EAAMvI,EAAIuI,EAEV,EAAMvI,GAAK,EAAMuI,IAGd,IACPgC,GAAKhC,EAAI,GAAMa,IAAM,EAAMA,IAGrB,CAAC9B,EAAI,GAAQ,IAAJ8B,EAAa,IAAJmB,EAC1B,EAEArD,EAAQK,IAAIU,IAAM,SAAUV,GAC3B,IAAIvH,EAAIuH,EAAI,GAAK,IACb0B,EAAI1B,EAAI,GAAK,IAEb6B,EAAIpJ,EAAIiJ,EACRsB,EAAI,EAMR,OAJInB,EAAI,IACPmB,GAAKtB,EAAIG,IAAM,EAAIA,IAGb,CAAC7B,EAAI,GAAQ,IAAJ6B,EAAa,IAAJmB,EAC1B,EAEArD,EAAQe,IAAId,IAAM,SAAUc,GAC3B,IAAIK,EAAIL,EAAI,GAAK,IACbmB,EAAInB,EAAI,GAAK,IACbpH,EAAIoH,EAAI,GAAK,IAEjB,GAAU,IAANmB,EACH,MAAO,CAAK,IAAJvI,EAAa,IAAJA,EAAa,IAAJA,GAG3B,IAII4L,EAJAC,EAAO,CAAC,EAAG,EAAG,GACdrC,EAAM/B,EAAI,EAAK,EACfW,EAAIoB,EAAK,EACTsC,EAAI,EAAI1D,EAGZ,OAAQN,KAAK2B,MAAMD,IAClB,KAAK,EACJqC,EAAK,GAAK,EAAGA,EAAK,GAAKzD,EAAGyD,EAAK,GAAK,EAAG,MACxC,KAAK,EACJA,EAAK,GAAKC,EAAGD,EAAK,GAAK,EAAGA,EAAK,GAAK,EAAG,MACxC,KAAK,EACJA,EAAK,GAAK,EAAGA,EAAK,GAAK,EAAGA,EAAK,GAAKzD,EAAG,MACxC,KAAK,EACJyD,EAAK,GAAK,EAAGA,EAAK,GAAKC,EAAGD,EAAK,GAAK,EAAG,MACxC,KAAK,EACJA,EAAK,GAAKzD,EAAGyD,EAAK,GAAK,EAAGA,EAAK,GAAK,EAAG,MACxC,QACCA,EAAK,GAAK,EAAGA,EAAK,GAAK,EAAGA,EAAK,GAAKC,EAKtC,OAFAF,GAAM,EAAMrD,GAAKvI,EAEV,CACe,KAApBuI,EAAIsD,EAAK,GAAKD,GACM,KAApBrD,EAAIsD,EAAK,GAAKD,GACM,KAApBrD,EAAIsD,EAAK,GAAKD,GAEjB,EAEAvF,EAAQe,IAAIV,IAAM,SAAUU,GAC3B,IAAImB,EAAInB,EAAI,GAAK,IAGbgB,EAAIG,EAFAnB,EAAI,GAAK,KAEA,EAAMmB,GACnBmB,EAAI,EAMR,OAJItB,EAAI,IACPsB,EAAInB,EAAIH,GAGF,CAAChB,EAAI,GAAQ,IAAJsC,EAAa,IAAJtB,EAC1B,EAEA/B,EAAQe,IAAIX,IAAM,SAAUW,GAC3B,IAAImB,EAAInB,EAAI,GAAK,IAGbM,EAFIN,EAAI,GAAK,KAEJ,EAAMmB,GAAK,GAAMA,EAC1BpJ,EAAI,EASR,OAPIuI,EAAI,GAAOA,EAAI,GAClBvI,EAAIoJ,GAAK,EAAIb,GAEVA,GAAK,IAAOA,EAAI,IACnBvI,EAAIoJ,GAAK,GAAK,EAAIb,KAGZ,CAACN,EAAI,GAAQ,IAAJjI,EAAa,IAAJuI,EAC1B,EAEArB,EAAQe,IAAIT,IAAM,SAAUS,GAC3B,IAAImB,EAAInB,EAAI,GAAK,IAEbgB,EAAIG,EADAnB,EAAI,GAAK,KACA,EAAMmB,GACvB,MAAO,CAACnB,EAAI,GAAc,KAATgB,EAAIG,GAAoB,KAAT,EAAIH,GACrC,EAEA/B,EAAQM,IAAIS,IAAM,SAAUT,GAC3B,IAAImF,EAAInF,EAAI,GAAK,IAEbyB,EAAI,EADAzB,EAAI,GAAK,IAEb4B,EAAIH,EAAI0D,EACR9L,EAAI,EAMR,OAJIuI,EAAI,IACPvI,GAAKoI,EAAIG,IAAM,EAAIA,IAGb,CAAC5B,EAAI,GAAQ,IAAJ4B,EAAa,IAAJvI,EAC1B,EAEAqG,EAAQgB,MAAMf,IAAM,SAAUe,GAC7B,MAAO,CAAEA,EAAM,GAAK,MAAS,IAAMA,EAAM,GAAK,MAAS,IAAMA,EAAM,GAAK,MAAS,IAClF,EAEAhB,EAAQC,IAAIe,MAAQ,SAAUf,GAC7B,MAAO,CAAEA,EAAI,GAAK,IAAO,MAAQA,EAAI,GAAK,IAAO,MAAQA,EAAI,GAAK,IAAO,MAC1E,EAEAD,EAAQiB,KAAKhB,IAAM,SAAUpD,GAC5B,MAAO,CAACA,EAAK,GAAK,IAAM,IAAKA,EAAK,GAAK,IAAM,IAAKA,EAAK,GAAK,IAAM,IACnE,EAEAmD,EAAQiB,KAAKb,IAAMJ,EAAQiB,KAAKZ,IAAM,SAAUxD,GAC/C,MAAO,CAAC,EAAG,EAAGA,EAAK,GACpB,EAEAmD,EAAQiB,KAAKX,IAAM,SAAUW,GAC5B,MAAO,CAAC,EAAG,IAAKA,EAAK,GACtB,EAEAjB,EAAQiB,KAAKV,KAAO,SAAUU,GAC7B,MAAO,CAAC,EAAG,EAAG,EAAGA,EAAK,GACvB,EAEAjB,EAAQiB,KAAKR,IAAM,SAAUQ,GAC5B,MAAO,CAACA,EAAK,GAAI,EAAG,EACrB,EAEAjB,EAAQiB,KAAKN,IAAM,SAAUM,GAC5B,IAAI+B,EAAwC,IAAlCvB,KAAK8C,MAAMtD,EAAK,GAAK,IAAM,KAGjC2D,IAFW5B,GAAO,KAAOA,GAAO,GAAKA,GAEpB6B,SAAS,IAAIC,cAClC,MAAO,SAAShG,UAAU8F,EAAOvM,QAAUuM,CAC5C,EAEA5E,EAAQC,IAAIgB,KAAO,SAAUhB,GAE5B,MAAO,EADIA,EAAI,GAAKA,EAAI,GAAKA,EAAI,IAAM,EACzB,IAAM,IACrB,kBCn2BA,IAAIyF,EAAc,EAAQ,MACtBC,EAAQ,EAAQ,MAEhB3F,EAAU,CAAC,EAEFrH,OAAOiN,KAAKF,GAuDlBlI,SAAQ,SAAUqI,GACxB7F,EAAQ6F,GAAa,CAAC,EAEtBlN,OAAOW,eAAe0G,EAAQ6F,GAAY,WAAY,CAACtM,MAAOmM,EAAYG,GAAW3F,WACrFvH,OAAOW,eAAe0G,EAAQ6F,GAAY,SAAU,CAACtM,MAAOmM,EAAYG,GAAW1F,SAEnF,IAAI2F,EAASH,EAAME,GACDlN,OAAOiN,KAAKE,GAElBtI,SAAQ,SAAUuI,GAC7B,IAAIC,EAAKF,EAAOC,GAEhB/F,EAAQ6F,GAAWE,GA5CrB,SAAqBC,GACpB,IAAIC,EAAY,SAAUpJ,GACzB,GAAIA,QACH,OAAOA,EAGJ7D,UAAUX,OAAS,IACtBwE,EAAOqC,MAAMhG,UAAUqC,MAAMnC,KAAKJ,YAGnC,IAAIwF,EAASwH,EAAGnJ,GAKhB,GAAsB,iBAAX2B,EACV,IAAK,IAAI0H,EAAM1H,EAAOnG,OAAQD,EAAI,EAAGA,EAAI8N,EAAK9N,IAC7CoG,EAAOpG,GAAKqJ,KAAK8C,MAAM/F,EAAOpG,IAIhC,OAAOoG,CACR,EAOA,MAJI,eAAgBwH,IACnBC,EAAUE,WAAaH,EAAGG,YAGpBF,CACR,CAcgCG,CAAYJ,GAC1ChG,EAAQ6F,GAAWE,GAASM,IAlE9B,SAAiBL,GAChB,IAAIC,EAAY,SAAUpJ,GACzB,OAAIA,QACIA,GAGJ7D,UAAUX,OAAS,IACtBwE,EAAOqC,MAAMhG,UAAUqC,MAAMnC,KAAKJ,YAG5BgN,EAAGnJ,GACX,EAOA,MAJI,eAAgBmJ,IACnBC,EAAUE,WAAaH,EAAGG,YAGpBF,CACR,CA+CoCK,CAAQN,EAC3C,GACD,IAEA9N,EAAOM,QAAUwH,kBC7EjB,IAAI0F,EAAc,EAAQ,MAwD1B,SAASa,EAAKC,EAAMC,GACnB,OAAO,SAAU5J,GAChB,OAAO4J,EAAGD,EAAK3J,GAChB,CACD,CAEA,SAAS6J,EAAeX,EAASY,GAKhC,IAJA,IAAIC,EAAO,CAACD,EAAMZ,GAASc,OAAQd,GAC/BC,EAAKN,EAAYiB,EAAMZ,GAASc,QAAQd,GAExCe,EAAMH,EAAMZ,GAASc,OAClBF,EAAMG,GAAKD,QACjBD,EAAKG,QAAQJ,EAAMG,GAAKD,QACxBb,EAAKO,EAAKb,EAAYiB,EAAMG,GAAKD,QAAQC,GAAMd,GAC/Cc,EAAMH,EAAMG,GAAKD,OAIlB,OADAb,EAAGG,WAAaS,EACTZ,CACR,CAEA9N,EAAOM,QAAU,SAAUqN,GAK1B,IAJA,IAAIc,EA/CL,SAAmBd,GAClB,IAAIc,EAnBL,WAKC,IAJA,IAAIA,EAAQ,CAAC,EAETK,EAASrO,OAAOiN,KAAKF,GAEhBQ,EAAMc,EAAO3O,OAAQD,EAAI,EAAGA,EAAI8N,EAAK9N,IAC7CuO,EAAMK,EAAO5O,IAAM,CAGlBsK,UAAW,EACXmE,OAAQ,MAIV,OAAOF,CACR,CAIaM,GACRC,EAAQ,CAACrB,GAIb,IAFAc,EAAMd,GAAWnD,SAAW,EAErBwE,EAAM7O,QAIZ,IAHA,IAAI8O,EAAUD,EAAME,MAChBC,EAAY1O,OAAOiN,KAAKF,EAAYyB,IAE/BjB,EAAMmB,EAAUhP,OAAQD,EAAI,EAAGA,EAAI8N,EAAK9N,IAAK,CACrD,IAAIkP,EAAWD,EAAUjP,GACrBmP,EAAOZ,EAAMW,IAEM,IAAnBC,EAAK7E,WACR6E,EAAK7E,SAAWiE,EAAMQ,GAASzE,SAAW,EAC1C6E,EAAKV,OAASM,EACdD,EAAMH,QAAQO,GAEhB,CAGD,OAAOX,CACR,CAwBaa,CAAU3B,GAClBM,EAAa,CAAC,EAEda,EAASrO,OAAOiN,KAAKe,GAChBT,EAAMc,EAAO3O,OAAQD,EAAI,EAAGA,EAAI8N,EAAK9N,IAAK,CAClD,IAAI2N,EAAUiB,EAAO5O,GAGD,OAFTuO,EAAMZ,GAERc,SAKTV,EAAWJ,GAAWW,EAAeX,EAASY,GAC/C,CAEA,OAAOR,CACR,yBC7FAjO,EAAOM,QAAU,CAChB,UAAa,CAAC,IAAK,IAAK,KACxB,aAAgB,CAAC,IAAK,IAAK,KAC3B,KAAQ,CAAC,EAAG,IAAK,KACjB,WAAc,CAAC,IAAK,IAAK,KACzB,MAAS,CAAC,IAAK,IAAK,KACpB,MAAS,CAAC,IAAK,IAAK,KACpB,OAAU,CAAC,IAAK,IAAK,KACrB,MAAS,CAAC,EAAG,EAAG,GAChB,eAAkB,CAAC,IAAK,IAAK,KAC7B,KAAQ,CAAC,EAAG,EAAG,KACf,WAAc,CAAC,IAAK,GAAI,KACxB,MAAS,CAAC,IAAK,GAAI,IACnB,UAAa,CAAC,IAAK,IAAK,KACxB,UAAa,CAAC,GAAI,IAAK,KACvB,WAAc,CAAC,IAAK,IAAK,GACzB,UAAa,CAAC,IAAK,IAAK,IACxB,MAAS,CAAC,IAAK,IAAK,IACpB,eAAkB,CAAC,IAAK,IAAK,KAC7B,SAAY,CAAC,IAAK,IAAK,KACvB,QAAW,CAAC,IAAK,GAAI,IACrB,KAAQ,CAAC,EAAG,IAAK,KACjB,SAAY,CAAC,EAAG,EAAG,KACnB,SAAY,CAAC,EAAG,IAAK,KACrB,cAAiB,CAAC,IAAK,IAAK,IAC5B,SAAY,CAAC,IAAK,IAAK,KACvB,UAAa,CAAC,EAAG,IAAK,GACtB,SAAY,CAAC,IAAK,IAAK,KACvB,UAAa,CAAC,IAAK,IAAK,KACxB,YAAe,CAAC,IAAK,EAAG,KACxB,eAAkB,CAAC,GAAI,IAAK,IAC5B,WAAc,CAAC,IAAK,IAAK,GACzB,WAAc,CAAC,IAAK,GAAI,KACxB,QAAW,CAAC,IAAK,EAAG,GACpB,WAAc,CAAC,IAAK,IAAK,KACzB,aAAgB,CAAC,IAAK,IAAK,KAC3B,cAAiB,CAAC,GAAI,GAAI,KAC1B,cAAiB,CAAC,GAAI,GAAI,IAC1B,cAAiB,CAAC,GAAI,GAAI,IAC1B,cAAiB,CAAC,EAAG,IAAK,KAC1B,WAAc,CAAC,IAAK,EAAG,KACvB,SAAY,CAAC,IAAK,GAAI,KACtB,YAAe,CAAC,EAAG,IAAK,KACxB,QAAW,CAAC,IAAK,IAAK,KACtB,QAAW,CAAC,IAAK,IAAK,KACtB,WAAc,CAAC,GAAI,IAAK,KACxB,UAAa,CAAC,IAAK,GAAI,IACvB,YAAe,CAAC,IAAK,IAAK,KAC1B,YAAe,CAAC,GAAI,IAAK,IACzB,QAAW,CAAC,IAAK,EAAG,KACpB,UAAa,CAAC,IAAK,IAAK,KACxB,WAAc,CAAC,IAAK,IAAK,KACzB,KAAQ,CAAC,IAAK,IAAK,GACnB,UAAa,CAAC,IAAK,IAAK,IACxB,KAAQ,CAAC,IAAK,IAAK,KACnB,MAAS,CAAC,EAAG,IAAK,GAClB,YAAe,CAAC,IAAK,IAAK,IAC1B,KAAQ,CAAC,IAAK,IAAK,KACnB,SAAY,CAAC,IAAK,IAAK,KACvB,QAAW,CAAC,IAAK,IAAK,KACtB,UAAa,CAAC,IAAK,GAAI,IACvB,OAAU,CAAC,GAAI,EAAG,KAClB,MAAS,CAAC,IAAK,IAAK,KACpB,MAAS,CAAC,IAAK,IAAK,KACpB,SAAY,CAAC,IAAK,IAAK,KACvB,cAAiB,CAAC,IAAK,IAAK,KAC5B,UAAa,CAAC,IAAK,IAAK,GACxB,aAAgB,CAAC,IAAK,IAAK,KAC3B,UAAa,CAAC,IAAK,IAAK,KACxB,WAAc,CAAC,IAAK,IAAK,KACzB,UAAa,CAAC,IAAK,IAAK,KACxB,qBAAwB,CAAC,IAAK,IAAK,KACnC,UAAa,CAAC,IAAK,IAAK,KACxB,WAAc,CAAC,IAAK,IAAK,KACzB,UAAa,CAAC,IAAK,IAAK,KACxB,UAAa,CAAC,IAAK,IAAK,KACxB,YAAe,CAAC,IAAK,IAAK,KAC1B,cAAiB,CAAC,GAAI,IAAK,KAC3B,aAAgB,CAAC,IAAK,IAAK,KAC3B,eAAkB,CAAC,IAAK,IAAK,KAC7B,eAAkB,CAAC,IAAK,IAAK,KAC7B,eAAkB,CAAC,IAAK,IAAK,KAC7B,YAAe,CAAC,IAAK,IAAK,KAC1B,KAAQ,CAAC,EAAG,IAAK,GACjB,UAAa,CAAC,GAAI,IAAK,IACvB,MAAS,CAAC,IAAK,IAAK,KACpB,QAAW,CAAC,IAAK,EAAG,KACpB,OAAU,CAAC,IAAK,EAAG,GACnB,iBAAoB,CAAC,IAAK,IAAK,KAC/B,WAAc,CAAC,EAAG,EAAG,KACrB,aAAgB,CAAC,IAAK,GAAI,KAC1B,aAAgB,CAAC,IAAK,IAAK,KAC3B,eAAkB,CAAC,GAAI,IAAK,KAC5B,gBAAmB,CAAC,IAAK,IAAK,KAC9B,kBAAqB,CAAC,EAAG,IAAK,KAC9B,gBAAmB,CAAC,GAAI,IAAK,KAC7B,gBAAmB,CAAC,IAAK,GAAI,KAC7B,aAAgB,CAAC,GAAI,GAAI,KACzB,UAAa,CAAC,IAAK,IAAK,KACxB,UAAa,CAAC,IAAK,IAAK,KACxB,SAAY,CAAC,IAAK,IAAK,KACvB,YAAe,CAAC,IAAK,IAAK,KAC1B,KAAQ,CAAC,EAAG,EAAG,KACf,QAAW,CAAC,IAAK,IAAK,KACtB,MAAS,CAAC,IAAK,IAAK,GACpB,UAAa,CAAC,IAAK,IAAK,IACxB,OAAU,CAAC,IAAK,IAAK,GACrB,UAAa,CAAC,IAAK,GAAI,GACvB,OAAU,CAAC,IAAK,IAAK,KACrB,cAAiB,CAAC,IAAK,IAAK,KAC5B,UAAa,CAAC,IAAK,IAAK,KACxB,cAAiB,CAAC,IAAK,IAAK,KAC5B,cAAiB,CAAC,IAAK,IAAK,KAC5B,WAAc,CAAC,IAAK,IAAK,KACzB,UAAa,CAAC,IAAK,IAAK,KACxB,KAAQ,CAAC,IAAK,IAAK,IACnB,KAAQ,CAAC,IAAK,IAAK,KACnB,KAAQ,CAAC,IAAK,IAAK,KACnB,WAAc,CAAC,IAAK,IAAK,KACzB,OAAU,CAAC,IAAK,EAAG,KACnB,cAAiB,CAAC,IAAK,GAAI,KAC3B,IAAO,CAAC,IAAK,EAAG,GAChB,UAAa,CAAC,IAAK,IAAK,KACxB,UAAa,CAAC,GAAI,IAAK,KACvB,YAAe,CAAC,IAAK,GAAI,IACzB,OAAU,CAAC,IAAK,IAAK,KACrB,WAAc,CAAC,IAAK,IAAK,IACzB,SAAY,CAAC,GAAI,IAAK,IACtB,SAAY,CAAC,IAAK,IAAK,KACvB,OAAU,CAAC,IAAK,GAAI,IACpB,OAAU,CAAC,IAAK,IAAK,KACrB,QAAW,CAAC,IAAK,IAAK,KACtB,UAAa,CAAC,IAAK,GAAI,KACvB,UAAa,CAAC,IAAK,IAAK,KACxB,UAAa,CAAC,IAAK,IAAK,KACxB,KAAQ,CAAC,IAAK,IAAK,KACnB,YAAe,CAAC,EAAG,IAAK,KACxB,UAAa,CAAC,GAAI,IAAK,KACvB,IAAO,CAAC,IAAK,IAAK,KAClB,KAAQ,CAAC,EAAG,IAAK,KACjB,QAAW,CAAC,IAAK,IAAK,KACtB,OAAU,CAAC,IAAK,GAAI,IACpB,UAAa,CAAC,GAAI,IAAK,KACvB,OAAU,CAAC,IAAK,IAAK,KACrB,MAAS,CAAC,IAAK,IAAK,KACpB,MAAS,CAAC,IAAK,IAAK,KACpB,WAAc,CAAC,IAAK,IAAK,KACzB,OAAU,CAAC,IAAK,IAAK,GACrB,YAAe,CAAC,IAAK,IAAK,qBCrJ3B,IAAIiP,EAAa,EAAQ,MACrBC,EAAU,EAAQ,MAElBC,EAAe,CAAC,EAGpB,IAAK,IAAIC,KAAQH,EACZA,EAAWtO,eAAeyO,KAC7BD,EAAaF,EAAWG,IAASA,GAInC,IAAIC,EAAK3P,EAAOM,QAAU,CACzBiO,GAAI,CAAC,EACLqB,IAAK,CAAC,GAmNP,SAASC,EAAMC,EAAKxG,EAAKE,GACxB,OAAOD,KAAKD,IAAIC,KAAKC,IAAIF,EAAKwG,GAAMtG,EACrC,CAEA,SAASuG,EAAUD,GAClB,IAAIE,EAAMF,EAAInD,SAAS,IAAIC,cAC3B,OAAQoD,EAAI7P,OAAS,EAAK,IAAM6P,EAAMA,CACvC,CAvNAL,EAAGC,IAAM,SAAUlD,GAClB,IACI5B,EACA9B,EACJ,OAHa0D,EAAO9F,UAAU,EAAG,GAAGqJ,eAInC,IAAK,MACJnF,EAAM6E,EAAGC,IAAI1H,IAAIwE,GACjB1D,EAAQ,MACR,MACD,IAAK,MACJ8B,EAAM6E,EAAGC,IAAIxH,IAAIsE,GACjB1D,EAAQ,MACR,MACD,QACC8B,EAAM6E,EAAGC,IAAI7H,IAAI2E,GACjB1D,EAAQ,MAIV,OAAK8B,EAIE,CAAC9B,MAAOA,EAAO3H,MAAOyJ,GAHrB,IAIT,EAEA6E,EAAGC,IAAI7H,IAAM,SAAU2E,GACtB,IAAKA,EACJ,OAAO,KAGR,IAOIG,EACA3M,EACAgQ,EAHAnI,EAAM,CAAC,EAAG,EAAG,EAAG,GAKpB,GAAI8E,EAAQH,EAAOG,MAVT,mCAUqB,CAI9B,IAHAqD,EAAWrD,EAAM,GACjBA,EAAQA,EAAM,GAET3M,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAEvB,IAAIiQ,EAAS,EAAJjQ,EACT6H,EAAI7H,GAAKgN,SAASL,EAAMxJ,MAAM8M,EAAIA,EAAK,GAAI,GAC5C,CAEID,IACHnI,EAAI,GAAKmF,SAASgD,EAAU,IAAM,IAEpC,MAAO,GAAIrD,EAAQH,EAAOG,MAxBf,uBAwB4B,CAItC,IAFAqD,GADArD,EAAQA,EAAM,IACG,GAEZ3M,EAAI,EAAGA,EAAI,EAAGA,IAClB6H,EAAI7H,GAAKgN,SAASL,EAAM3M,GAAK2M,EAAM3M,GAAI,IAGpCgQ,IACHnI,EAAI,GAAKmF,SAASgD,EAAWA,EAAU,IAAM,IAE/C,MAAO,GAAIrD,EAAQH,EAAOG,MAjCf,2FAiC4B,CACtC,IAAK3M,EAAI,EAAGA,EAAI,EAAGA,IAClB6H,EAAI7H,GAAKgN,SAASL,EAAM3M,EAAI,GAAI,GAG7B2M,EAAM,KACT9E,EAAI,GAAKqI,WAAWvD,EAAM,IAE5B,KAAO,MAAIA,EAAQH,EAAOG,MAxChB,8GAgDH,OAAIA,EAAQH,EAAOG,MA/CZ,UAgDI,gBAAbA,EAAM,GACF,CAAC,EAAG,EAAG,EAAG,IAGlB9E,EAAMwH,EAAW1C,EAAM,MAMvB9E,EAAI,GAAK,EAEFA,GALC,KAOD,KAtBP,IAAK7H,EAAI,EAAGA,EAAI,EAAGA,IAClB6H,EAAI7H,GAAKqJ,KAAK8C,MAAiC,KAA3B+D,WAAWvD,EAAM3M,EAAI,KAGtC2M,EAAM,KACT9E,EAAI,GAAKqI,WAAWvD,EAAM,IAkB5B,CAEA,IAAK3M,EAAI,EAAGA,EAAI,EAAGA,IAClB6H,EAAI7H,GAAK2P,EAAM9H,EAAI7H,GAAI,EAAG,KAI3B,OAFA6H,EAAI,GAAK8H,EAAM9H,EAAI,GAAI,EAAG,GAEnBA,CACR,EAEA4H,EAAGC,IAAI1H,IAAM,SAAUwE,GACtB,IAAKA,EACJ,OAAO,KAGR,IACIG,EAAQH,EAAOG,MADT,2HAGV,GAAIA,EAAO,CACV,IAAIwD,EAAQD,WAAWvD,EAAM,IAM7B,MAAO,EALEuD,WAAWvD,EAAM,IAAM,KAAO,IAC/BgD,EAAMO,WAAWvD,EAAM,IAAK,EAAG,KAC/BgD,EAAMO,WAAWvD,EAAM,IAAK,EAAG,KAC/BgD,EAAMS,MAAMD,GAAS,EAAIA,EAAO,EAAG,GAG5C,CAEA,OAAO,IACR,EAEAV,EAAGC,IAAIxH,IAAM,SAAUsE,GACtB,IAAKA,EACJ,OAAO,KAGR,IACIG,EAAQH,EAAOG,MADT,yHAGV,GAAIA,EAAO,CACV,IAAIwD,EAAQD,WAAWvD,EAAM,IAK7B,MAAO,EAJGuD,WAAWvD,EAAM,IAAM,IAAO,KAAO,IACvCgD,EAAMO,WAAWvD,EAAM,IAAK,EAAG,KAC/BgD,EAAMO,WAAWvD,EAAM,IAAK,EAAG,KAC/BgD,EAAMS,MAAMD,GAAS,EAAIA,EAAO,EAAG,GAE5C,CAEA,OAAO,IACR,EAEAV,EAAGpB,GAAG9F,IAAM,WACX,IAAI8H,EAAOf,EAAQ1O,WAEnB,MACC,IACAiP,EAAUQ,EAAK,IACfR,EAAUQ,EAAK,IACfR,EAAUQ,EAAK,KACdA,EAAK,GAAK,EACPR,EAAUxG,KAAK8C,MAAgB,IAAVkE,EAAK,KAC3B,GAEL,EAEAZ,EAAGpB,GAAGxG,IAAM,WACX,IAAIwI,EAAOf,EAAQ1O,WAEnB,OAAOyP,EAAKpQ,OAAS,GAAiB,IAAZoQ,EAAK,GAC5B,OAAShH,KAAK8C,MAAMkE,EAAK,IAAM,KAAOhH,KAAK8C,MAAMkE,EAAK,IAAM,KAAOhH,KAAK8C,MAAMkE,EAAK,IAAM,IACzF,QAAUhH,KAAK8C,MAAMkE,EAAK,IAAM,KAAOhH,KAAK8C,MAAMkE,EAAK,IAAM,KAAOhH,KAAK8C,MAAMkE,EAAK,IAAM,KAAOA,EAAK,GAAK,GAC/G,EAEAZ,EAAGpB,GAAGxG,IAAIyI,QAAU,WACnB,IAAID,EAAOf,EAAQ1O,WAEfsI,EAAIG,KAAK8C,MAAMkE,EAAK,GAAK,IAAM,KAC/B9O,EAAI8H,KAAK8C,MAAMkE,EAAK,GAAK,IAAM,KAC/BlH,EAAIE,KAAK8C,MAAMkE,EAAK,GAAK,IAAM,KAEnC,OAAOA,EAAKpQ,OAAS,GAAiB,IAAZoQ,EAAK,GAC5B,OAASnH,EAAI,MAAQ3H,EAAI,MAAQ4H,EAAI,KACrC,QAAUD,EAAI,MAAQ3H,EAAI,MAAQ4H,EAAI,MAAQkH,EAAK,GAAK,GAC5D,EAEAZ,EAAGpB,GAAGrG,IAAM,WACX,IAAIuI,EAAOjB,EAAQ1O,WACnB,OAAO2P,EAAKtQ,OAAS,GAAiB,IAAZsQ,EAAK,GAC5B,OAASA,EAAK,GAAK,KAAOA,EAAK,GAAK,MAAQA,EAAK,GAAK,KACtD,QAAUA,EAAK,GAAK,KAAOA,EAAK,GAAK,MAAQA,EAAK,GAAK,MAAQA,EAAK,GAAK,GAC7E,EAIAd,EAAGpB,GAAGnG,IAAM,WACX,IAAIsI,EAAOlB,EAAQ1O,WAEfgL,EAAI,GAKR,OAJI4E,EAAKvQ,QAAU,GAAiB,IAAZuQ,EAAK,KAC5B5E,EAAI,KAAO4E,EAAK,IAGV,OAASA,EAAK,GAAK,KAAOA,EAAK,GAAK,MAAQA,EAAK,GAAK,IAAM5E,EAAI,GACxE,EAEA6D,EAAGpB,GAAG7F,QAAU,SAAUX,GACzB,OAAO0H,EAAa1H,EAAI1E,MAAM,EAAG,GAClC,+BC7NA,IAAIyJ,EAAc,EAAQ,MACtBhF,EAAU,EAAQ,MAElB6I,EAAS,GAAGtN,MAEZuN,EAAgB,CAEnB,UAGA,OAGA,OAGGC,EAAkB,CAAC,EACvBpQ,OAAOiN,KAAK5F,GAASxC,SAAQ,SAAU0D,GACtC6H,EAAgBF,EAAOzP,KAAK4G,EAAQkB,GAAOf,QAAQ6I,OAAO3K,KAAK,KAAO6C,CACvE,IAEA,IAAI+H,EAAW,CAAC,EAEhB,SAASC,EAAMC,EAAKjI,GACnB,KAAMxI,gBAAgBwQ,GACrB,OAAO,IAAIA,EAAMC,EAAKjI,GAOvB,GAJIA,GAASA,KAAS4H,IACrB5H,EAAQ,MAGLA,KAAWA,KAASlB,GACvB,MAAM,IAAImB,MAAM,kBAAoBD,GAGrC,IAAI9I,EACA8H,EAEJ,GAAW,MAAPiJ,EACHzQ,KAAKwI,MAAQ,MACbxI,KAAK+L,MAAQ,CAAC,EAAG,EAAG,GACpB/L,KAAK0Q,OAAS,OACR,GAAID,aAAeD,EACzBxQ,KAAKwI,MAAQiI,EAAIjI,MACjBxI,KAAK+L,MAAQ0E,EAAI1E,MAAMlJ,QACvB7C,KAAK0Q,OAASD,EAAIC,YACZ,GAAmB,iBAARD,EAAkB,CACnC,IAAI3K,EAASwG,EAAY8C,IAAIqB,GAC7B,GAAe,OAAX3K,EACH,MAAM,IAAI2C,MAAM,sCAAwCgI,GAGzDzQ,KAAKwI,MAAQ1C,EAAO0C,MACpBhB,EAAWF,EAAQtH,KAAKwI,OAAOhB,SAC/BxH,KAAK+L,MAAQjG,EAAOjF,MAAMgC,MAAM,EAAG2E,GACnCxH,KAAK0Q,OAA2C,iBAA3B5K,EAAOjF,MAAM2G,GAAyB1B,EAAOjF,MAAM2G,GAAY,CACrF,MAAO,GAAIiJ,EAAI9Q,OAAQ,CACtBK,KAAKwI,MAAQA,GAAS,MACtBhB,EAAWF,EAAQtH,KAAKwI,OAAOhB,SAC/B,IAAImJ,EAASR,EAAOzP,KAAK+P,EAAK,EAAGjJ,GACjCxH,KAAK+L,MAAQ6E,EAAUD,EAAQnJ,GAC/BxH,KAAK0Q,OAAkC,iBAAlBD,EAAIjJ,GAAyBiJ,EAAIjJ,GAAY,CACnE,MAAO,GAAmB,iBAARiJ,EAEjBA,GAAO,SACPzQ,KAAKwI,MAAQ,MACbxI,KAAK+L,MAAQ,CACX0E,GAAO,GAAM,IACbA,GAAO,EAAK,IACP,IAANA,GAEDzQ,KAAK0Q,OAAS,MACR,CACN1Q,KAAK0Q,OAAS,EAEd,IAAIxD,EAAOjN,OAAOiN,KAAKuD,GACnB,UAAWA,IACdvD,EAAK2D,OAAO3D,EAAK4D,QAAQ,SAAU,GACnC9Q,KAAK0Q,OAA8B,iBAAdD,EAAIZ,MAAqBY,EAAIZ,MAAQ,GAG3D,IAAIkB,EAAa7D,EAAKoD,OAAO3K,KAAK,IAClC,KAAMoL,KAAcV,GACnB,MAAM,IAAI5H,MAAM,sCAAwCuI,KAAKC,UAAUR,IAGxEzQ,KAAKwI,MAAQ6H,EAAgBU,GAE7B,IAAItJ,EAASH,EAAQtH,KAAKwI,OAAOf,OAC7BsE,EAAQ,GACZ,IAAKrM,EAAI,EAAGA,EAAI+H,EAAO9H,OAAQD,IAC9BqM,EAAMvH,KAAKiM,EAAIhJ,EAAO/H,KAGvBM,KAAK+L,MAAQ6E,EAAU7E,EACxB,CAGA,GAAIwE,EAASvQ,KAAKwI,OAEjB,IADAhB,EAAWF,EAAQtH,KAAKwI,OAAOhB,SAC1B9H,EAAI,EAAGA,EAAI8H,EAAU9H,IAAK,CAC9B,IAAIwR,EAAQX,EAASvQ,KAAKwI,OAAO9I,GAC7BwR,IACHlR,KAAK+L,MAAMrM,GAAKwR,EAAMlR,KAAK+L,MAAMrM,IAEnC,CAGDM,KAAK0Q,OAAS3H,KAAKC,IAAI,EAAGD,KAAKD,IAAI,EAAG9I,KAAK0Q,SAEvCzQ,OAAOkR,QACVlR,OAAOkR,OAAOnR,KAEhB,CA0TA,SAASoR,EAAO5I,EAAO6I,EAASC,GAS/B,OARA9I,EAAQhC,MAAMC,QAAQ+B,GAASA,EAAQ,CAACA,IAElC1D,SAAQ,SAAUoG,IACtBqF,EAASrF,KAAOqF,EAASrF,GAAK,KAAKmG,GAAWC,CAChD,IAEA9I,EAAQA,EAAM,GAEP,SAAU8B,GAChB,IAAIxE,EAEJ,OAAIxF,UAAUX,QACT2R,IACHhH,EAAMgH,EAAShH,KAGhBxE,EAAS9F,KAAKwI,MACPuD,MAAMsF,GAAW/G,EACjBxE,IAGRA,EAAS9F,KAAKwI,KAASuD,MAAMsF,GACzBC,IACHxL,EAASwL,EAASxL,IAGZA,EACR,CACD,CAEA,SAASyL,EAAMvI,GACd,OAAO,SAAUK,GAChB,OAAON,KAAKC,IAAI,EAAGD,KAAKD,IAAIE,EAAKK,GAClC,CACD,CAMA,SAASuH,EAAUY,EAAK7R,GACvB,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAQD,IACL,iBAAX8R,EAAI9R,KACd8R,EAAI9R,GAAK,GAIX,OAAO8R,CACR,CAzWAhB,EAAMhQ,UAAY,CACjB2L,SAAU,WACT,OAAOnM,KAAKkM,QACb,EAEAuF,OAAQ,WACP,OAAOzR,KAAKA,KAAKwI,QAClB,EAEA0D,OAAQ,SAAUwF,GACjB,IAAIC,EAAO3R,KAAKwI,SAAS8D,EAAYyB,GAAK/N,KAAOA,KAAKuH,MAElDpD,EAAuB,KAD3BwN,EAAOA,EAAK9F,MAAwB,iBAAX6F,EAAsBA,EAAS,IACxChB,OAAeiB,EAAK5F,MAAQ4F,EAAK5F,MAAMhJ,OAAO/C,KAAK0Q,QACnE,OAAOpE,EAAYyB,GAAG4D,EAAKnJ,OAAOrE,EACnC,EAEAyN,cAAe,SAAUF,GACxB,IAAIC,EAAO3R,KAAKuH,MAAMsE,MAAwB,iBAAX6F,EAAsBA,EAAS,GAC9DvN,EAAuB,IAAhBwN,EAAKjB,OAAeiB,EAAK5F,MAAQ4F,EAAK5F,MAAMhJ,OAAO/C,KAAK0Q,QACnE,OAAOpE,EAAYyB,GAAGxG,IAAIyI,QAAQ7L,EACnC,EAEA0N,MAAO,WACN,OAAuB,IAAhB7R,KAAK0Q,OAAe1Q,KAAK+L,MAAMlJ,QAAU7C,KAAK+L,MAAMhJ,OAAO/C,KAAK0Q,OACxE,EAEAoB,OAAQ,WAKP,IAJA,IAAIhM,EAAS,CAAC,EACV0B,EAAWF,EAAQtH,KAAKwI,OAAOhB,SAC/BC,EAASH,EAAQtH,KAAKwI,OAAOf,OAExB/H,EAAI,EAAGA,EAAI8H,EAAU9H,IAC7BoG,EAAO2B,EAAO/H,IAAMM,KAAK+L,MAAMrM,GAOhC,OAJoB,IAAhBM,KAAK0Q,SACR5K,EAAO+J,MAAQ7P,KAAK0Q,QAGd5K,CACR,EAEAiM,UAAW,WACV,IAAIxK,EAAMvH,KAAKuH,MAAMwE,MASrB,OARAxE,EAAI,IAAM,IACVA,EAAI,IAAM,IACVA,EAAI,IAAM,IAEU,IAAhBvH,KAAK0Q,QACRnJ,EAAI/C,KAAKxE,KAAK0Q,QAGRnJ,CACR,EAEAyK,WAAY,WACX,IAAIzK,EAAMvH,KAAKuH,MAAMuK,SASrB,OARAvK,EAAIqB,GAAK,IACTrB,EAAItG,GAAK,IACTsG,EAAIsB,GAAK,IAEW,IAAhB7I,KAAK0Q,SACRnJ,EAAIsI,MAAQ7P,KAAK0Q,QAGXnJ,CACR,EAEAsE,MAAO,SAAU6F,GAEhB,OADAA,EAAS3I,KAAKC,IAAI0I,GAAU,EAAG,GACxB,IAAIlB,EAAMxQ,KAAK+L,MAAM7G,IA4O9B,SAAsBwM,GACrB,OAAO,SAAUpC,GAChB,OANF,SAAiBA,EAAKoC,GACrB,OAAOO,OAAO3C,EAAI4C,QAAQR,GAC3B,CAISS,CAAQ7C,EAAKoC,EACrB,CACD,CAhPkCU,CAAaV,IAAS3O,OAAO/C,KAAK0Q,QAAS1Q,KAAKwI,MACjF,EAEAqH,MAAO,SAAUvF,GAChB,OAAIhK,UAAUX,OACN,IAAI6Q,EAAMxQ,KAAK+L,MAAMhJ,OAAOgG,KAAKC,IAAI,EAAGD,KAAKD,IAAI,EAAGwB,KAAQtK,KAAKwI,OAGlExI,KAAK0Q,MACb,EAGA2B,IAAKjB,EAAO,MAAO,EAAGG,EAAM,MAC5Be,MAAOlB,EAAO,MAAO,EAAGG,EAAM,MAC9BgB,KAAMnB,EAAO,MAAO,EAAGG,EAAM,MAE7B5E,IAAKyE,EAAO,CAAC,MAAO,MAAO,MAAO,MAAO,OAAQ,GAAG,SAAU9G,GAAO,OAASA,EAAM,IAAO,KAAO,GAAK,IAEvGkI,YAAapB,EAAO,MAAO,EAAGG,EAAM,MACpCkB,UAAWrB,EAAO,MAAO,EAAGG,EAAM,MAElCmB,YAAatB,EAAO,MAAO,EAAGG,EAAM,MACpC1Q,MAAOuQ,EAAO,MAAO,EAAGG,EAAM,MAE9B3E,OAAQwE,EAAO,MAAO,EAAGG,EAAM,MAC/BhJ,KAAM6I,EAAO,MAAO,EAAGG,EAAM,MAE7BoB,MAAOvB,EAAO,MAAO,EAAGG,EAAM,MAC9BqB,OAAQxB,EAAO,MAAO,EAAGG,EAAM,MAE/BsB,KAAMzB,EAAO,OAAQ,EAAGG,EAAM,MAC9BuB,QAAS1B,EAAO,OAAQ,EAAGG,EAAM,MACjCwB,OAAQ3B,EAAO,OAAQ,EAAGG,EAAM,MAChCyB,MAAO5B,EAAO,OAAQ,EAAGG,EAAM,MAE/B3H,EAAGwH,EAAO,MAAO,EAAGG,EAAM,MAC1B1H,EAAGuH,EAAO,MAAO,EAAGG,EAAM,MAC1BrH,EAAGkH,EAAO,MAAO,EAAGG,EAAM,MAE1B5I,EAAGyI,EAAO,MAAO,EAAGG,EAAM,MAC1BjG,EAAG8F,EAAO,MAAO,GACjBvI,EAAGuI,EAAO,MAAO,GAEjBlJ,QAAS,SAAUoC,GAClB,OAAIhK,UAAUX,OACN,IAAI6Q,EAAMlG,GAGXhD,EAAQtH,KAAKwI,OAAON,QAAQlI,KAAK+L,MACzC,EAEA9D,IAAK,SAAUqC,GACd,OAAIhK,UAAUX,OACN,IAAI6Q,EAAMlG,GAGXgC,EAAYyB,GAAG9F,IAAIjI,KAAKuH,MAAMsE,QAAQE,MAC9C,EAEAkH,UAAW,WACV,IAAI1L,EAAMvH,KAAKuH,MAAMwE,MACrB,OAAkB,IAATxE,EAAI,KAAc,IAAiB,IAATA,EAAI,KAAc,EAAe,IAATA,EAAI,EAChE,EAEA2L,WAAY,WAKX,IAHA,IAAI3L,EAAMvH,KAAKuH,MAAMwE,MAEjBoH,EAAM,GACDzT,EAAI,EAAGA,EAAI6H,EAAI5H,OAAQD,IAAK,CACpC,IAAI0T,EAAO7L,EAAI7H,GAAK,IACpByT,EAAIzT,GAAM0T,GAAQ,OAAWA,EAAO,MAAQrK,KAAKkB,KAAMmJ,EAAO,MAAS,MAAQ,IAChF,CAEA,MAAO,MAASD,EAAI,GAAK,MAASA,EAAI,GAAK,MAASA,EAAI,EACzD,EAEAE,SAAU,SAAUC,GAEnB,IAAIC,EAAOvT,KAAKkT,aACZM,EAAOF,EAAOJ,aAElB,OAAIK,EAAOC,GACFD,EAAO,MAASC,EAAO,MAGxBA,EAAO,MAASD,EAAO,IAChC,EAEAE,MAAO,SAAUH,GAChB,IAAII,EAAgB1T,KAAKqT,SAASC,GAClC,OAAII,GAAiB,IACb,MAGAA,GAAiB,IAAO,KAAO,EACxC,EAEAC,OAAQ,WAEP,IAAIpM,EAAMvH,KAAKuH,MAAMwE,MAErB,OADoB,IAATxE,EAAI,GAAoB,IAATA,EAAI,GAAoB,IAATA,EAAI,IAAY,IAC5C,GACd,EAEAqM,QAAS,WACR,OAAQ5T,KAAK2T,QACd,EAEAE,OAAQ,WAEP,IADA,IAAItM,EAAMvH,KAAKuH,MACN7H,EAAI,EAAGA,EAAI,EAAGA,IACtB6H,EAAIwE,MAAMrM,GAAK,IAAM6H,EAAIwE,MAAMrM,GAEhC,OAAO6H,CACR,EAEAuM,QAAS,SAAU7I,GAClB,IAAIvD,EAAM1H,KAAK0H,MAEf,OADAA,EAAIqE,MAAM,IAAMrE,EAAIqE,MAAM,GAAKd,EACxBvD,CACR,EAEAqM,OAAQ,SAAU9I,GACjB,IAAIvD,EAAM1H,KAAK0H,MAEf,OADAA,EAAIqE,MAAM,IAAMrE,EAAIqE,MAAM,GAAKd,EACxBvD,CACR,EAEAsM,SAAU,SAAU/I,GACnB,IAAIvD,EAAM1H,KAAK0H,MAEf,OADAA,EAAIqE,MAAM,IAAMrE,EAAIqE,MAAM,GAAKd,EACxBvD,CACR,EAEAuM,WAAY,SAAUhJ,GACrB,IAAIvD,EAAM1H,KAAK0H,MAEf,OADAA,EAAIqE,MAAM,IAAMrE,EAAIqE,MAAM,GAAKd,EACxBvD,CACR,EAEAwM,OAAQ,SAAUjJ,GACjB,IAAIrD,EAAM5H,KAAK4H,MAEf,OADAA,EAAImE,MAAM,IAAMnE,EAAImE,MAAM,GAAKd,EACxBrD,CACR,EAEAuM,QAAS,SAAUlJ,GAClB,IAAIrD,EAAM5H,KAAK4H,MAEf,OADAA,EAAImE,MAAM,IAAMnE,EAAImE,MAAM,GAAKd,EACxBrD,CACR,EAEAwM,UAAW,WAEV,IAAI7M,EAAMvH,KAAKuH,MAAMwE,MACjBzB,EAAe,GAAT/C,EAAI,GAAoB,IAATA,EAAI,GAAqB,IAATA,EAAI,GAC7C,OAAOiJ,EAAMjJ,IAAI+C,EAAKA,EAAKA,EAC5B,EAEA+J,KAAM,SAAUpJ,GACf,OAAOjL,KAAK6P,MAAM7P,KAAK0Q,OAAU1Q,KAAK0Q,OAASzF,EAChD,EAEAqJ,QAAS,SAAUrJ,GAClB,OAAOjL,KAAK6P,MAAM7P,KAAK0Q,OAAU1Q,KAAK0Q,OAASzF,EAChD,EAEAsJ,OAAQ,SAAUC,GACjB,IAAI9M,EAAM1H,KAAK0H,MACXiF,EAAMjF,EAAIqE,MAAM,GAIpB,OAFAY,GADAA,GAAOA,EAAM6H,GAAW,KACZ,EAAI,IAAM7H,EAAMA,EAC5BjF,EAAIqE,MAAM,GAAKY,EACRjF,CACR,EAEA+M,IAAK,SAAUC,EAAYC,GAG1B,IAAKD,IAAeA,EAAWnN,IAC9B,MAAM,IAAIkB,MAAM,gFAAkFiM,GAEnG,IAAIE,EAASF,EAAWnN,MACpB+L,EAAStT,KAAKuH,MACdhH,OAAeiB,IAAXmT,EAAuB,GAAMA,EAEjC5H,EAAI,EAAIxM,EAAI,EACZ+K,EAAIsJ,EAAO/E,QAAUyD,EAAOzD,QAE5BgF,IAAQ9H,EAAIzB,IAAO,EAAKyB,GAAKA,EAAIzB,IAAM,EAAIyB,EAAIzB,IAAM,GAAK,EAC1DwJ,EAAK,EAAID,EAEb,OAAOrE,EAAMjJ,IACXsN,EAAKD,EAAOvC,MAAQyC,EAAKxB,EAAOjB,MAChCwC,EAAKD,EAAOtC,QAAUwC,EAAKxB,EAAOhB,QAClCuC,EAAKD,EAAOrC,OAASuC,EAAKxB,EAAOf,OACjCqC,EAAO/E,QAAUtP,EAAI+S,EAAOzD,SAAW,EAAItP,GAC9C,GAIDN,OAAOiN,KAAK5F,GAASxC,SAAQ,SAAU0D,GACtC,IAAsC,IAAlC4H,EAAcU,QAAQtI,GAA1B,CAIA,IAAIhB,EAAWF,EAAQkB,GAAOhB,SAG9BgJ,EAAMhQ,UAAUgI,GAAS,WACxB,GAAIxI,KAAKwI,QAAUA,EAClB,OAAO,IAAIgI,EAAMxQ,MAGlB,GAAIM,UAAUX,OACb,OAAO,IAAI6Q,EAAMlQ,UAAWkI,GAG7B,IA4DmB8B,EA5DfyK,EAA0C,iBAAxBzU,UAAUkH,GAAyBA,EAAWxH,KAAK0Q,OACzE,OAAO,IAAIF,GA2DQlG,EA3DUhD,EAAQtH,KAAKwI,OAAOA,GAAOmF,IAAI3N,KAAK+L,OA4D3DvF,MAAMC,QAAQ6D,GAAOA,EAAM,CAACA,IA5DuCvH,OAAOgS,GAAWvM,EAC5F,EAGAgI,EAAMhI,GAAS,SAAUuD,GAIxB,MAHqB,iBAAVA,IACVA,EAAQ6E,EAAUT,EAAOzP,KAAKJ,WAAYkH,IAEpC,IAAIgJ,EAAMzE,EAAOvD,EACzB,CAxBA,CAyBD,IA+DAhJ,EAAOM,QAAU0Q,mBC/djB1Q,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,wxCAA2xC,KAEpzCK,EAAQD,OAAS,CAChB,SAAY,0BACZ,OAAU,0BACV,KAAQ,wBACR,gBAAmB,0BACnB,OAAU,0BACV,QAAW,0BACX,aAAgB,0BAChB,SAAY,wBACZ,kBAAqB,2BAEtBL,EAAOM,QAAUA,mBCfjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,wgDAAygD,KAEliDK,EAAQD,OAAS,CAChB,UAAa,wBACb,OAAU,0BACV,OAAU,wBACV,OAAU,0BACV,aAAgB,wBAChB,SAAY,wBACZ,UAAa,0BACb,OAAU,2BAEXL,EAAOM,QAAUA,mBCdjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,ytCAA4tC,KAErvCK,EAAQD,OAAS,CAChB,SAAY,0BACZ,MAAS,wBACT,WAAc,0BACd,cAAiB,0BACjB,KAAQ,0BACR,aAAgB,2BAEjBL,EAAOM,QAAUA,mBCZjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,6DAA8D,KAEvFK,EAAQD,OAAS,CAChB,OAAU,2BAEXL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,uKAAwK,KAEjMK,EAAQD,OAAS,CAChB,MAAS,2BAEVL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,4TAA6T,KAEtVK,EAAQD,OAAS,CAChB,OAAU,0BACV,eAAkB,wBAClB,eAAkB,0BAClB,gBAAmB,yBAEpBL,EAAOM,QAAUA,mBCVjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,6QAA8Q,KAEvSK,EAAQD,OAAS,CAChB,MAAS,yBACT,YAAe,yBACf,OAAU,0BACV,MAAS,0BACT,cAAiB,2BAElBL,EAAOM,QAAUA,mBCXjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,qHAAsH,KAE/IK,EAAQD,OAAS,CAChB,KAAQ,0BACR,UAAa,2BAEdL,EAAOM,QAAUA,mBCRjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,+EAAgF,KAEzGK,EAAQD,OAAS,CAChB,SAAY,2BAEbL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,yeAA0e,KAEngBK,EAAQD,OAAS,CAChB,WAAc,wBACd,MAAS,2BAEVL,EAAOM,QAAUA,kBCRjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,2JAA4J,KAErLK,EAAQD,OAAS,CAChB,SAAY,wBACZ,OAAU,2BAEXL,EAAOM,QAAUA,mBCRjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,8CAA+C,KAExEK,EAAQD,OAAS,CAChB,UAAa,2BAEdL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,yFAA0F,KAEnHK,EAAQD,OAAS,CAChB,eAAkB,0BAClB,mBAAsB,yBAEvBL,EAAOM,QAAUA,mBCRjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,iLAAoL,KAE7MK,EAAQD,OAAS,CAChB,IAAO,yBACP,aAAgB,wBAChB,aAAgB,yBAEjBL,EAAOM,QAAUA,mBCTjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,mMAAoM,KAE7NK,EAAQD,OAAS,CAChB,SAAY,0BACZ,MAAS,2BAEVL,EAAOM,QAAUA,kBCRjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,w+BAAy+B,KAElgCK,EAAQD,OAAS,CAChB,aAAgB,wBAChB,QAAW,0BACX,SAAY,wBACZ,aAAgB,0BAChB,QAAW,0BACX,aAAgB,yBAEjBL,EAAOM,QAAUA,iBCZjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,y9BAA09B,KAEn/BK,EAAQD,OAAS,CAChB,SAAY,0BACZ,MAAS,0BACT,QAAW,wBACX,MAAS,0BACT,KAAQ,wBACR,aAAgB,2BAEjBL,EAAOM,QAAUA,mBCZjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,oxCAAuxC,KAEhzCK,EAAQD,OAAS,CAChB,SAAY,0BACZ,OAAU,0BACV,KAAQ,0BACR,gBAAmB,0BACnB,OAAU,0BACV,QAAW,wBACX,aAAgB,0BAChB,SAAY,0BACZ,kBAAqB,2BAEtBL,EAAOM,QAAUA,mBCfjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,2tCAA8tC,KAEvvCK,EAAQD,OAAS,CAChB,SAAY,0BACZ,MAAS,0BACT,WAAc,0BACd,cAAiB,0BACjB,KAAQ,0BACR,aAAgB,2BAEjBL,EAAOM,QAAUA,mBCZjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,6DAA8D,KAEvFK,EAAQD,OAAS,CAChB,OAAU,2BAEXL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,+EAAgF,KAEzGK,EAAQD,OAAS,CAChB,SAAY,2BAEbL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,wDAAyD,KAElFK,EAAQD,OAAS,CAChB,aAAgB,2BAEjBL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,wQAAyQ,KAElSK,EAAQD,OAAS,CAChB,OAAU,0BACV,cAAiB,2BAElBL,EAAOM,QAAUA,mBCRjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,s1BAAy1B,KAEl3BK,EAAQD,OAAS,CAChB,aAAgB,wBAChB,cAAiB,0BACjB,SAAY,0BACZ,SAAY,yBACZ,YAAe,0BACf,MAAS,0BACT,SAAY,wBACZ,gBAAmB,0BACnB,aAAgB,2BAEjBL,EAAOM,QAAUA,mBCfjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,mcAAoc,KAE7dK,EAAQD,OAAS,CAChB,YAAe,0BACf,UAAa,0BACb,WAAc,0BACd,YAAe,0BACf,aAAgB,0BAChB,WAAc,0BACd,UAAa,0BACb,eAAkB,0BAClB,YAAe,2BAEhBL,EAAOM,QAAUA,mBCfjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,kDAAmD,KAE5EK,EAAQD,OAAS,CAChB,QAAW,2BAEZL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,kDAAmD,KAE5EK,EAAQD,OAAS,CAChB,UAAa,2BAEdL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,kDAAmD,KAE5EK,EAAQD,OAAS,CAChB,aAAgB,2BAEjBL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,kDAAmD,KAE5EK,EAAQD,OAAS,CAChB,cAAiB,2BAElBL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,gDAAiD,KAE1EK,EAAQD,OAAS,CAChB,YAAe,yBAEhBL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,kDAAmD,KAE5EK,EAAQD,OAAS,CAChB,qBAAwB,2BAEzBL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,kDAAmD,KAE5EK,EAAQD,OAAS,CAChB,aAAgB,2BAEjBL,EAAOM,QAAUA,kBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,yFAA0F,KAEnHK,EAAQD,OAAS,CAChB,MAAS,wBACT,WAAc,2BAEfL,EAAOM,QAAUA,mBCRjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,sRAAuR,KAEhTK,EAAQD,OAAS,CAChB,KAAQ,2BAETL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,gDAAiD,KAE1EK,EAAQD,OAAS,CAChB,UAAa,yBAEdL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,gDAAiD,KAE1EK,EAAQD,OAAS,CAChB,cAAiB,yBAElBL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,kDAAmD,KAE5EK,EAAQD,OAAS,CAChB,eAAkB,2BAEnBL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,+FAAgG,KAEzHK,EAAQD,OAAS,CAChB,eAAkB,wBAClB,eAAkB,2BAEnBL,EAAOM,QAAUA,mBCRjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,gDAAiD,KAE1EK,EAAQD,OAAS,CAChB,qBAAwB,yBAEzBL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,kDAAmD,KAE5EK,EAAQD,OAAS,CAChB,eAAkB,2BAEnBL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,sFAAuF,KAEhHK,EAAQD,OAAS,CAChB,cAAiB,0BACjB,UAAa,2BAEdL,EAAOM,QAAUA,mBCRjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,sFAAuF,KAEhHK,EAAQD,OAAS,CAChB,WAAc,0BACd,UAAa,2BAEdL,EAAOM,QAAUA,kBCRjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,kDAAmD,KAE5EK,EAAQD,OAAS,CAChB,UAAa,2BAEdL,EAAOM,QAAUA,mBCPjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,2FAA4F,KAErHK,EAAQD,OAAS,CAChB,eAAkB,0BAClB,mBAAsB,2BAEvBL,EAAOM,QAAUA,kBCRjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,sLAAyL,KAElNK,EAAQD,OAAS,CAChB,IAAO,0BACP,aAAgB,0BAChB,aAAgB,2BAEjBL,EAAOM,QAAUA,mBCTjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,iMAAkM,KAE3NK,EAAQD,OAAS,CAChB,SAAY,0BACZ,MAAS,yBAEVL,EAAOM,QAAUA,mBCRjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,u+BAAw+B,KAEjgCK,EAAQD,OAAS,CAChB,aAAgB,0BAChB,QAAW,0BACX,SAAY,yBACZ,aAAgB,0BAChB,QAAW,yBACX,aAAgB,2BAEjBL,EAAOM,QAAUA,mBCZjBA,EADkC,EAAQ,KAChCkV,EAA4B,IAE9BxQ,KAAK,CAAChF,EAAOC,GAAI,s9BAAu9B,KAEh/BK,EAAQD,OAAS,CAChB,SAAY,wBACZ,MAAS,0BACT,QAAW,0BACX,MAAS,0BACT,KAAQ,0BACR,aAAgB,0BAEjBL,EAAOM,QAAUA,yBCNjBN,EAAOM,QAAU,SAAUmV,GACzB,IAAIC,EAAO,GAuDX,OArDAA,EAAK/I,SAAW,WACd,OAAOnM,KAAKkF,KAAI,SAAUiQ,GACxB,IAAI7V,EAsDV,SAAgC6V,EAAMF,GACpC,IAoBiBG,EAEbC,EACAC,EAvBAhW,EAAU6V,EAAK,IAAM,GAErBI,EAAaJ,EAAK,GAEtB,IAAKI,EACH,OAAOjW,EAGT,GAAI2V,GAAgC,mBAATO,KAAqB,CAC9C,IAAIC,GAWWL,EAXeG,EAa5BF,EAASG,KAAKE,SAASC,mBAAmB3E,KAAKC,UAAUmE,MACzDE,EAAO,+DAA+DvS,OAAOsS,GAC1E,OAAOtS,OAAOuS,EAAM,QAdrBM,EAAaL,EAAWM,QAAQ3Q,KAAI,SAAU4Q,GAChD,MAAO,iBAAiB/S,OAAOwS,EAAWQ,YAAc,IAAIhT,OAAO+S,EAAQ,MAC7E,IACA,MAAO,CAACxW,GAASyD,OAAO6S,GAAY7S,OAAO,CAAC0S,IAAgB9P,KAAK,KACnE,CAEA,MAAO,CAACrG,GAASqG,KAAK,KACxB,CAxEoBqQ,CAAuBb,EAAMF,GAE3C,OAAIE,EAAK,GACA,UAAUpS,OAAOoS,EAAK,GAAI,MAAMpS,OAAOzD,EAAS,KAGlDA,CACT,IAAGqG,KAAK,GACV,EAIAuP,EAAKxV,EAAI,SAAUuW,EAASC,EAAYC,GACf,iBAAZF,IAETA,EAAU,CAAC,CAAC,KAAMA,EAAS,MAG7B,IAAIG,EAAyB,CAAC,EAE9B,GAAID,EACF,IAAK,IAAIzW,EAAI,EAAGA,EAAIM,KAAKL,OAAQD,IAAK,CAEpC,IAAID,EAAKO,KAAKN,GAAG,GAEP,MAAND,IACF2W,EAAuB3W,IAAM,EAEjC,CAGF,IAAK,IAAIuH,EAAK,EAAGA,EAAKiP,EAAQtW,OAAQqH,IAAM,CAC1C,IAAImO,EAAO,GAAGpS,OAAOkT,EAAQjP,IAEzBmP,GAAUC,EAAuBjB,EAAK,MAKtCe,IACGf,EAAK,GAGRA,EAAK,GAAK,GAAGpS,OAAOmT,EAAY,SAASnT,OAAOoS,EAAK,IAFrDA,EAAK,GAAKe,GAMdhB,EAAK1Q,KAAK2Q,GACZ,CACF,EAEOD,CACT,oBC9DiE1V,EAAOM,QAGhE,WAAc,aAIpB,IAAIW,EAAiBR,OAAOQ,eACxB4V,EAAiBpW,OAAOoW,eACxBC,EAAWrW,OAAOqW,SAClBC,EAAiBtW,OAAOsW,eACxBC,EAA2BvW,OAAOuW,yBAClCrF,EAASlR,OAAOkR,OAChBsF,EAAOxW,OAAOwW,KACdC,EAASzW,OAAOyW,OAEhBC,EAA0B,oBAAZC,SAA2BA,QACzCjW,EAAQgW,EAAKhW,MACbkW,EAAYF,EAAKE,UAEhBlW,IACHA,EAAQ,SAAemW,EAAKC,EAAW5S,GACrC,OAAO2S,EAAInW,MAAMoW,EAAW5S,EAC9B,GAGGgN,IACHA,EAAS,SAAgBvH,GACvB,OAAOA,CACT,GAGG6M,IACHA,EAAO,SAAc7M,GACnB,OAAOA,CACT,GAGGiN,IACHA,EAAY,SAAmBG,EAAM7S,GACnC,OAAO,IAAK8S,SAASzW,UAAU0W,KAAKvW,MAAMqW,EAAM,CAAC,MAAMjU,OAnC3D,SAA4ByO,GAAO,GAAIhL,MAAMC,QAAQ+K,GAAM,CAAE,IAAK,IAAI9R,EAAI,EAAGyX,EAAO3Q,MAAMgL,EAAI7R,QAASD,EAAI8R,EAAI7R,OAAQD,IAAOyX,EAAKzX,GAAK8R,EAAI9R,GAAM,OAAOyX,CAAM,CAAS,OAAO3Q,MAAMsH,KAAK0D,EAAQ,CAmChI4F,CAAmBjT,KACnF,GAGF,IAwBqB3B,EAxBjB6U,EAAeC,EAAQ9Q,MAAMhG,UAAUsE,SACvCyS,EAAWD,EAAQ9Q,MAAMhG,UAAUkO,KACnC8I,EAAYF,EAAQ9Q,MAAMhG,UAAUgE,MAEpCiT,EAAoBH,EAAQI,OAAOlX,UAAUiP,aAC7CkI,EAAcL,EAAQI,OAAOlX,UAAU6L,OACvCuL,EAAgBN,EAAQI,OAAOlX,UAAUqX,SACzCC,EAAgBR,EAAQI,OAAOlX,UAAUsQ,SACzCiH,EAAaT,EAAQI,OAAOlX,UAAUwX,MAEtCC,EAAaX,EAAQY,OAAO1X,UAAU2X,MAEtCC,GAYiB5V,EAZa6V,UAazB,WACL,IAAK,IAAIC,EAAQhY,UAAUX,OAAQwE,EAAOqC,MAAM8R,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IAChFpU,EAAKoU,GAASjY,UAAUiY,GAG1B,OAAO1B,EAAUrU,EAAM2B,EACzB,GAjBF,SAASmT,EAAQ9U,GACf,OAAO,SAAUgW,GACf,IAAK,IAAIC,EAAOnY,UAAUX,OAAQwE,EAAOqC,MAAMiS,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAC9FvU,EAAKuU,EAAO,GAAKpY,UAAUoY,GAG7B,OAAO/X,EAAM6B,EAAMgW,EAASrU,EAC9B,CACF,CAaA,SAASwU,EAASC,EAAK/G,GACjBwE,GAIFA,EAAeuC,EAAK,MAItB,IADA,IAAIjQ,EAAIkJ,EAAMlS,OACPgJ,KAAK,CACV,IAAIkQ,EAAUhH,EAAMlJ,GACpB,GAAuB,iBAAZkQ,EAAsB,CAC/B,IAAIC,EAAYrB,EAAkBoB,GAC9BC,IAAcD,IAEXvC,EAASzE,KACZA,EAAMlJ,GAAKmQ,GAGbD,EAAUC,EAEd,CAEAF,EAAIC,IAAW,CACjB,CAEA,OAAOD,CACT,CAGA,SAASG,EAAMjH,GACb,IAAIkH,EAAYtC,EAAO,MAEnBuC,OAAW,EACf,IAAKA,KAAYnH,EACXnR,EAAMF,EAAgBqR,EAAQ,CAACmH,MACjCD,EAAUC,GAAYnH,EAAOmH,IAIjC,OAAOD,CACT,CAMA,SAASE,EAAapH,EAAQqH,GAC5B,KAAkB,OAAXrH,GAAiB,CACtB,IAAIsH,EAAO5C,EAAyB1E,EAAQqH,GAC5C,GAAIC,EAAM,CACR,GAAIA,EAAKhK,IACP,OAAOkI,EAAQ8B,EAAKhK,KAGtB,GAA0B,mBAAfgK,EAAKvY,MACd,OAAOyW,EAAQ8B,EAAKvY,MAExB,CAEAiR,EAASyE,EAAezE,EAC1B,CAOA,OALA,SAAuB+G,GAErB,OADAtT,QAAQE,KAAK,qBAAsBoT,GAC5B,IACT,CAGF,CAEA,IAAIQ,EAAOlI,EAAO,CAAC,IAAK,OAAQ,UAAW,UAAW,OAAQ,UAAW,QAAS,QAAS,IAAK,MAAO,MAAO,MAAO,QAAS,aAAc,OAAQ,KAAM,SAAU,SAAU,UAAW,SAAU,OAAQ,OAAQ,MAAO,WAAY,UAAW,OAAQ,WAAY,KAAM,YAAa,MAAO,UAAW,MAAO,SAAU,MAAO,MAAO,KAAM,KAAM,UAAW,KAAM,WAAY,aAAc,SAAU,OAAQ,SAAU,OAAQ,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAAQ,SAAU,SAAU,KAAM,OAAQ,IAAK,MAAO,QAAS,MAAO,MAAO,QAAS,SAAU,KAAM,OAAQ,MAAO,OAAQ,UAAW,OAAQ,WAAY,QAAS,MAAO,OAAQ,KAAM,WAAY,SAAU,SAAU,IAAK,UAAW,MAAO,WAAY,IAAK,KAAM,KAAM,OAAQ,IAAK,OAAQ,UAAW,SAAU,SAAU,QAAS,SAAU,SAAU,OAAQ,SAAU,SAAU,QAAS,MAAO,UAAW,MAAO,QAAS,QAAS,KAAM,WAAY,WAAY,QAAS,KAAM,QAAS,OAAQ,KAAM,QAAS,KAAM,IAAK,KAAM,MAAO,QAAS,QAGj+BmI,EAAMnI,EAAO,CAAC,MAAO,IAAK,WAAY,cAAe,eAAgB,eAAgB,gBAAiB,mBAAoB,SAAU,WAAY,OAAQ,OAAQ,UAAW,SAAU,OAAQ,IAAK,QAAS,WAAY,QAAS,QAAS,OAAQ,iBAAkB,SAAU,OAAQ,WAAY,QAAS,OAAQ,UAAW,UAAW,WAAY,iBAAkB,OAAQ,OAAQ,QAAS,SAAU,SAAU,OAAQ,WAAY,QAAS,OAAQ,QAAS,OAAQ,UAEzcoI,EAAapI,EAAO,CAAC,UAAW,gBAAiB,sBAAuB,cAAe,mBAAoB,oBAAqB,oBAAqB,iBAAkB,UAAW,UAAW,UAAW,UAAW,UAAW,iBAAkB,UAAW,cAAe,eAAgB,WAAY,eAAgB,qBAAsB,cAAe,SAAU,iBAMrWqI,EAAgBrI,EAAO,CAAC,UAAW,gBAAiB,SAAU,UAAW,eAAgB,UAAW,YAAa,mBAAoB,iBAAkB,gBAAiB,gBAAiB,gBAAiB,QAAS,YAAa,OAAQ,eAAgB,YAAa,UAAW,gBAAiB,SAAU,MAAO,aAAc,UAAW,QAE3UsI,EAAStI,EAAO,CAAC,OAAQ,WAAY,SAAU,UAAW,QAAS,SAAU,KAAM,aAAc,gBAAiB,KAAM,KAAM,QAAS,UAAW,WAAY,QAAS,OAAQ,KAAM,SAAU,QAAS,SAAU,OAAQ,OAAQ,UAAW,SAAU,MAAO,QAAS,MAAO,SAAU,eAIxRuI,EAAmBvI,EAAO,CAAC,UAAW,cAAe,aAAc,WAAY,YAAa,UAAW,UAAW,SAAU,SAAU,QAAS,YAAa,aAAc,iBAAkB,cAAe,SAE3MwI,EAAOxI,EAAO,CAAC,UAEfyI,EAASzI,EAAO,CAAC,SAAU,SAAU,QAAS,MAAO,iBAAkB,eAAgB,uBAAwB,WAAY,aAAc,UAAW,SAAU,UAAW,cAAe,cAAe,UAAW,OAAQ,QAAS,QAAS,QAAS,OAAQ,UAAW,WAAY,eAAgB,SAAU,cAAe,WAAY,WAAY,UAAW,MAAO,WAAY,0BAA2B,wBAAyB,WAAY,YAAa,UAAW,eAAgB,OAAQ,MAAO,UAAW,SAAU,SAAU,OAAQ,OAAQ,WAAY,KAAM,YAAa,YAAa,QAAS,OAAQ,QAAS,OAAQ,OAAQ,UAAW,OAAQ,MAAO,MAAO,YAAa,QAAS,SAAU,MAAO,YAAa,WAAY,QAAS,OAAQ,UAAW,aAAc,SAAU,OAAQ,UAAW,UAAW,cAAe,cAAe,SAAU,UAAW,UAAW,aAAc,WAAY,MAAO,WAAY,MAAO,WAAY,OAAQ,OAAQ,UAAW,aAAc,QAAS,WAAY,QAAS,OAAQ,QAAS,OAAQ,UAAW,QAAS,MAAO,SAAU,OAAQ,QAAS,UAAW,WAAY,QAAS,YAAa,OAAQ,SAAU,SAAU,QAAS,QAAS,QAAS,SAE1pC0I,EAAQ1I,EAAO,CAAC,gBAAiB,aAAc,WAAY,qBAAsB,SAAU,gBAAiB,gBAAiB,UAAW,gBAAiB,iBAAkB,QAAS,OAAQ,KAAM,QAAS,OAAQ,gBAAiB,YAAa,YAAa,QAAS,sBAAuB,8BAA+B,gBAAiB,kBAAmB,KAAM,KAAM,IAAK,KAAM,KAAM,kBAAmB,YAAa,UAAW,UAAW,MAAO,WAAY,YAAa,MAAO,OAAQ,eAAgB,YAAa,SAAU,cAAe,cAAe,gBAAiB,cAAe,YAAa,mBAAoB,eAAgB,aAAc,eAAgB,cAAe,KAAM,KAAM,KAAM,KAAM,aAAc,WAAY,gBAAiB,oBAAqB,SAAU,OAAQ,KAAM,kBAAmB,KAAM,MAAO,IAAK,KAAM,KAAM,KAAM,KAAM,UAAW,YAAa,aAAc,WAAY,OAAQ,eAAgB,iBAAkB,eAAgB,mBAAoB,iBAAkB,QAAS,aAAc,aAAc,eAAgB,eAAgB,cAAe,cAAe,mBAAoB,YAAa,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAAO,OAAQ,aAAc,SAAU,WAAY,UAAW,QAAS,SAAU,cAAe,SAAU,WAAY,cAAe,OAAQ,aAAc,sBAAuB,mBAAoB,eAAgB,SAAU,gBAAiB,sBAAuB,iBAAkB,IAAK,KAAM,KAAM,SAAU,OAAQ,OAAQ,cAAe,YAAa,UAAW,SAAU,SAAU,QAAS,OAAQ,kBAAmB,mBAAoB,mBAAoB,eAAgB,cAAe,eAAgB,cAAe,aAAc,eAAgB,mBAAoB,oBAAqB,iBAAkB,kBAAmB,oBAAqB,iBAAkB,SAAU,eAAgB,QAAS,eAAgB,iBAAkB,WAAY,UAAW,UAAW,YAAa,cAAe,kBAAmB,iBAAkB,aAAc,OAAQ,KAAM,KAAM,UAAW,SAAU,UAAW,aAAc,UAAW,aAAc,gBAAiB,gBAAiB,QAAS,eAAgB,OAAQ,eAAgB,mBAAoB,mBAAoB,IAAK,KAAM,KAAM,QAAS,IAAK,KAAM,KAAM,IAAK,eAE5uE2I,EAAW3I,EAAO,CAAC,SAAU,cAAe,QAAS,WAAY,QAAS,eAAgB,cAAe,aAAc,aAAc,QAAS,MAAO,UAAW,eAAgB,WAAY,QAAS,QAAS,SAAU,OAAQ,KAAM,UAAW,SAAU,gBAAiB,SAAU,SAAU,iBAAkB,YAAa,WAAY,cAAe,UAAW,UAAW,gBAAiB,WAAY,WAAY,OAAQ,WAAY,WAAY,aAAc,UAAW,SAAU,SAAU,cAAe,gBAAiB,uBAAwB,YAAa,YAAa,aAAc,WAAY,iBAAkB,iBAAkB,YAAa,UAAW,QAAS,UAEvpB4I,EAAM5I,EAAO,CAAC,aAAc,SAAU,cAAe,YAAa,gBAGlE6I,EAAgBvD,EAAK,6BACrBwD,EAAWxD,EAAK,yBAChByD,EAAYzD,EAAK,8BACjB0D,EAAY1D,EAAK,kBACjB2D,EAAiB3D,EAAK,yFAEtB4D,EAAoB5D,EAAK,yBACzB6D,EAAkB7D,EAAK,+DAGvB8D,EAA4B,mBAAXC,QAAoD,iBAApBA,OAAOC,SAAwB,SAAUhK,GAAO,cAAcA,CAAK,EAAI,SAAUA,GAAO,OAAOA,GAAyB,mBAAX+J,QAAyB/J,EAAIiK,cAAgBF,QAAU/J,IAAQ+J,OAAOha,UAAY,gBAAkBiQ,CAAK,EAE3Q,SAASkK,EAAqBnJ,GAAO,GAAIhL,MAAMC,QAAQ+K,GAAM,CAAE,IAAK,IAAI9R,EAAI,EAAGyX,EAAO3Q,MAAMgL,EAAI7R,QAASD,EAAI8R,EAAI7R,OAAQD,IAAOyX,EAAKzX,GAAK8R,EAAI9R,GAAM,OAAOyX,CAAM,CAAS,OAAO3Q,MAAMsH,KAAK0D,EAAQ,CAEpM,IAAIoJ,EAAY,WACd,MAAyB,oBAAX5Z,OAAyB,KAAOA,MAChD,EAsoCA,OA7lCA,SAAS6Z,IACP,IAAI7Z,EAASV,UAAUX,OAAS,QAAsB6B,IAAjBlB,UAAU,GAAmBA,UAAU,GAAKsa,IAE7EE,EAAY,SAAmBC,GACjC,OAAOF,EAAgBE,EACzB,EAcA,GARAD,EAAUE,QAAU,QAMpBF,EAAUG,QAAU,IAEfja,IAAWA,EAAOsC,UAAyC,IAA7BtC,EAAOsC,SAAS4X,SAKjD,OAFAJ,EAAUK,aAAc,EAEjBL,EAGT,IAAIM,EAAmBpa,EAAOsC,SAE1BA,EAAWtC,EAAOsC,SAClB+X,EAAmBra,EAAOqa,iBAC1BC,EAAsBta,EAAOsa,oBAC7BC,EAAOva,EAAOua,KACdC,EAAUxa,EAAOwa,QACjBC,EAAaza,EAAOya,WACpBC,EAAuB1a,EAAO2a,aAC9BA,OAAwCna,IAAzBka,EAAqC1a,EAAO2a,cAAgB3a,EAAO4a,gBAAkBF,EACpGG,EAAO7a,EAAO6a,KACdC,EAAU9a,EAAO8a,QACjBC,EAAY/a,EAAO+a,UACnBC,EAAehb,EAAOgb,aAGtBC,EAAmBT,EAAQhb,UAE3B0b,EAAYhD,EAAa+C,EAAkB,aAC3CE,EAAiBjD,EAAa+C,EAAkB,eAChDG,GAAgBlD,EAAa+C,EAAkB,cAC/CI,GAAgBnD,EAAa+C,EAAkB,cAQnD,GAAmC,mBAAxBX,EAAoC,CAC7C,IAAIgB,GAAWhZ,EAASI,cAAc,YAClC4Y,GAAShd,SAAWgd,GAAShd,QAAQid,gBACvCjZ,EAAWgZ,GAAShd,QAAQid,cAEhC,CAEA,IAAIC,GA9F0B,SAAmCR,EAAc1Y,GAC/E,GAAoF,iBAAvD,IAAjB0Y,EAA+B,YAAczB,EAAQyB,KAAoE,mBAA9BA,EAAaS,aAClH,OAAO,KAMT,IAAIC,EAAS,KACTC,EAAY,wBACZrZ,EAASsZ,eAAiBtZ,EAASsZ,cAAcC,aAAaF,KAChED,EAASpZ,EAASsZ,cAAcE,aAAaH,IAG/C,IAAII,EAAa,aAAeL,EAAS,IAAMA,EAAS,IAExD,IACE,OAAOV,EAAaS,aAAaM,EAAY,CAC3CC,WAAY,SAAoBC,GAC9B,OAAOA,CACT,GAEJ,CAAE,MAAOC,GAKP,OADA3X,QAAQE,KAAK,uBAAyBsX,EAAa,0BAC5C,IACT,CACF,CAiE2BI,CAA0BnB,EAAcZ,GAC7DgC,GAAYZ,IAAsBa,GAAsBb,GAAmBQ,WAAW,IAAM,GAE5FM,GAAYha,EACZia,GAAiBD,GAAUC,eAC3BC,GAAqBF,GAAUE,mBAC/BC,GAAyBH,GAAUG,uBACnCja,GAAuB8Z,GAAU9Z,qBACjCka,GAAatC,EAAiBsC,WAG9BC,GAAe,CAAC,EACpB,IACEA,GAAe5E,EAAMzV,GAAUqa,aAAera,EAASqa,aAAe,CAAC,CACzE,CAAE,MAAOT,GAAI,CAEb,IAAIU,GAAQ,CAAC,EAKb9C,EAAUK,YAAuC,mBAAlBkB,IAAgCkB,SAA+D,IAAtCA,GAAeM,oBAAuD,IAAjBF,GAE7I,IAAIG,GAAmB9D,EACnB+D,GAAc9D,EACd+D,GAAe9D,EACf+D,GAAe9D,EACf+D,GAAuB7D,EACvB8D,GAAqB7D,EACrB8D,GAAoBhE,EASpBiE,GAAe,KACfC,GAAuB3F,EAAS,CAAC,EAAG,GAAG5V,OAAO4X,EAAqBtB,GAAOsB,EAAqBrB,GAAMqB,EAAqBpB,GAAaoB,EAAqBlB,GAASkB,EAAqBhB,KAG1L4E,GAAe,KACfC,GAAuB7F,EAAS,CAAC,EAAG,GAAG5V,OAAO4X,EAAqBf,GAASe,EAAqBd,GAAQc,EAAqBb,GAAWa,EAAqBZ,KAG9J0E,GAAc,KAGdC,GAAc,KAGdC,IAAkB,EAGlBC,IAAkB,EAGlBC,IAA0B,EAK1BC,IAAqB,EAGrBC,IAAiB,EAGjBC,IAAa,EAIbC,IAAa,EAMbC,IAAa,EAIbC,IAAsB,EAWtBC,IAAoB,EAIpB/B,IAAsB,EAGtBgC,IAAe,EAGfC,IAAe,EAIfC,IAAW,EAGXC,GAAe,CAAC,EAGhBC,GAAkB9G,EAAS,CAAC,EAAG,CAAC,iBAAkB,QAAS,WAAY,OAAQ,gBAAiB,OAAQ,SAAU,OAAQ,KAAM,KAAM,KAAM,KAAM,QAAS,UAAW,WAAY,WAAY,YAAa,SAAU,QAAS,MAAO,WAAY,QAAS,QAAS,QAAS,QAG5Q+G,GAAgB,KAChBC,GAAwBhH,EAAS,CAAC,EAAG,CAAC,QAAS,QAAS,MAAO,SAAU,QAAS,UAGlFiH,GAAsB,KACtBC,GAA8BlH,EAAS,CAAC,EAAG,CAAC,MAAO,QAAS,MAAO,KAAM,QAAS,OAAQ,UAAW,cAAe,UAAW,QAAS,QAAS,QAAS,UAE1JmH,GAAmB,qCACnBC,GAAgB,6BAChBC,GAAiB,+BAEjBC,GAAYD,GACZE,IAAiB,EAGjBC,GAAS,KAKTC,GAAc9c,EAASI,cAAc,QAQrC2c,GAAe,SAAsBC,GACnCH,IAAUA,KAAWG,IAKpBA,GAAqE,iBAA9C,IAARA,EAAsB,YAAc/F,EAAQ+F,MAC9DA,EAAM,CAAC,GAITA,EAAMvH,EAAMuH,GAGZjC,GAAe,iBAAkBiC,EAAM3H,EAAS,CAAC,EAAG2H,EAAIjC,cAAgBC,GACxEC,GAAe,iBAAkB+B,EAAM3H,EAAS,CAAC,EAAG2H,EAAI/B,cAAgBC,GACxEoB,GAAsB,sBAAuBU,EAAM3H,EAASI,EAAM8G,IAA8BS,EAAIC,mBAAqBV,GACzHH,GAAgB,sBAAuBY,EAAM3H,EAASI,EAAM4G,IAAwBW,EAAIE,mBAAqBb,GAC7GlB,GAAc,gBAAiB6B,EAAM3H,EAAS,CAAC,EAAG2H,EAAI7B,aAAe,CAAC,EACtEC,GAAc,gBAAiB4B,EAAM3H,EAAS,CAAC,EAAG2H,EAAI5B,aAAe,CAAC,EACtEc,GAAe,iBAAkBc,GAAMA,EAAId,aAC3Cb,IAA0C,IAAxB2B,EAAI3B,gBACtBC,IAA0C,IAAxB0B,EAAI1B,gBACtBC,GAA0ByB,EAAIzB,0BAA2B,EACzDC,GAAqBwB,EAAIxB,qBAAsB,EAC/CC,GAAiBuB,EAAIvB,iBAAkB,EACvCG,GAAaoB,EAAIpB,aAAc,EAC/BC,GAAsBmB,EAAInB,sBAAuB,EACjDC,IAA8C,IAA1BkB,EAAIlB,kBACxB/B,GAAsBiD,EAAIjD,sBAAuB,EACjD4B,GAAaqB,EAAIrB,aAAc,EAC/BI,IAAoC,IAArBiB,EAAIjB,aACnBC,IAAoC,IAArBgB,EAAIhB,aACnBC,GAAWe,EAAIf,WAAY,EAC3BnB,GAAoBkC,EAAIG,oBAAsBrC,GAC9C6B,GAAYK,EAAIL,WAAaD,GACzBlB,KACFF,IAAkB,GAGhBO,KACFD,IAAa,GAIXM,KACFnB,GAAe1F,EAAS,CAAC,EAAG,GAAG5V,OAAO4X,EAAqBhB,KAC3D4E,GAAe,IACW,IAAtBiB,GAAanG,OACfV,EAAS0F,GAAchF,GACvBV,EAAS4F,GAAc3E,KAGA,IAArB4F,GAAalG,MACfX,EAAS0F,GAAc/E,GACvBX,EAAS4F,GAAc1E,GACvBlB,EAAS4F,GAAcxE,KAGO,IAA5ByF,GAAajG,aACfZ,EAAS0F,GAAc9E,GACvBZ,EAAS4F,GAAc1E,GACvBlB,EAAS4F,GAAcxE,KAGG,IAAxByF,GAAa/F,SACfd,EAAS0F,GAAc5E,GACvBd,EAAS4F,GAAczE,GACvBnB,EAAS4F,GAAcxE,KAKvBuG,EAAII,WACFrC,KAAiBC,KACnBD,GAAetF,EAAMsF,KAGvB1F,EAAS0F,GAAciC,EAAII,WAGzBJ,EAAIK,WACFpC,KAAiBC,KACnBD,GAAexF,EAAMwF,KAGvB5F,EAAS4F,GAAc+B,EAAIK,WAGzBL,EAAIC,mBACN5H,EAASiH,GAAqBU,EAAIC,mBAIhCjB,KACFjB,GAAa,UAAW,GAItBU,IACFpG,EAAS0F,GAAc,CAAC,OAAQ,OAAQ,SAItCA,GAAauC,QACfjI,EAAS0F,GAAc,CAAC,iBACjBI,GAAYoC,OAKjB1P,GACFA,EAAOmP,GAGTH,GAASG,EACX,EAEIQ,GAAiCnI,EAAS,CAAC,EAAG,CAAC,KAAM,KAAM,KAAM,KAAM,UAEvEoI,GAA0BpI,EAAS,CAAC,EAAG,CAAC,gBAAiB,OAAQ,QAAS,mBAK1EqI,GAAerI,EAAS,CAAC,EAAGW,GAChCX,EAASqI,GAAczH,GACvBZ,EAASqI,GAAcxH,GAEvB,IAAIyH,GAAkBtI,EAAS,CAAC,EAAGc,GACnCd,EAASsI,GAAiBvH,GAU1B,IAwFIwH,GAAe,SAAsBrS,GACvC2I,EAAUsD,EAAUG,QAAS,CAAEpC,QAAShK,IACxC,IAEEA,EAAKsS,WAAWnc,YAAY6J,EAC9B,CAAE,MAAOqO,GACP,IACErO,EAAKuS,UAAYhE,EACnB,CAAE,MAAOF,GACPrO,EAAKwS,QACP,CACF,CACF,EAQIC,GAAmB,SAA0BpS,EAAML,GACrD,IACE2I,EAAUsD,EAAUG,QAAS,CAC3BsG,UAAW1S,EAAK2S,iBAAiBtS,GACjCpB,KAAMe,GAEV,CAAE,MAAOqO,GACP1F,EAAUsD,EAAUG,QAAS,CAC3BsG,UAAW,KACXzT,KAAMe,GAEV,CAKA,GAHAA,EAAK4S,gBAAgBvS,GAGR,OAATA,IAAkBqP,GAAarP,GACjC,GAAIgQ,IAAcC,GAChB,IACE+B,GAAarS,EACf,CAAE,MAAOqO,GAAI,MAEb,IACErO,EAAKhL,aAAaqL,EAAM,GAC1B,CAAE,MAAOgO,GAAI,CAGnB,EAQIwE,GAAgB,SAAuBC,GAEzC,IAAIC,OAAM,EACNC,OAAoB,EAExB,GAAI5C,GACF0C,EAAQ,oBAAsBA,MACzB,CAEL,IAAIG,EAAUnK,EAAYgK,EAAO,eACjCE,EAAoBC,GAAWA,EAAQ,EACzC,CAEA,IAAIC,EAAevF,GAAqBA,GAAmBQ,WAAW2E,GAASA,EAK/E,GAAI1B,KAAcD,GAChB,IACE4B,GAAM,IAAI7F,GAAYiG,gBAAgBD,EAAc,YACtD,CAAE,MAAO7E,GAAI,CAIf,IAAK0E,IAAQA,EAAIK,gBAAiB,CAChCL,EAAMrE,GAAe2E,eAAejC,GAAW,WAAY,MAC3D,IACE2B,EAAIK,gBAAgBE,UAAYjC,GAAiB,GAAK6B,CACxD,CAAE,MAAO7E,GAET,CACF,CAEA,IAAIkF,EAAOR,EAAIQ,MAAQR,EAAIK,gBAO3B,OALIN,GAASE,GACXO,EAAKC,aAAa/e,EAASS,eAAe8d,GAAoBO,EAAKE,WAAW,IAAM,MAIlFrC,KAAcD,GACTxc,GAAqB9C,KAAKkhB,EAAK7C,GAAiB,OAAS,QAAQ,GAGnEA,GAAiB6C,EAAIK,gBAAkBG,CAChD,EAQIG,GAAkB,SAAyBxH,GAC7C,OAAOyC,GAAmB9c,KAAKqa,EAAKwB,eAAiBxB,EAAMA,EAAMU,EAAW+G,aAAe/G,EAAWgH,aAAehH,EAAWiH,UAAW,MAAM,EACnJ,EA0BIC,GAAU,SAAiB7Q,GAC7B,MAAuE,iBAA/C,IAATyJ,EAAuB,YAAchB,EAAQgB,IAAsBzJ,aAAkByJ,EAAOzJ,GAA8E,iBAAjD,IAAXA,EAAyB,YAAcyI,EAAQzI,KAAoD,iBAApBA,EAAOoJ,UAAoD,iBAApBpJ,EAAO8Q,QAC5P,EAUIC,GAAe,SAAsBC,EAAYC,EAAazN,GAC3DsI,GAAMkF,IAIXzL,EAAauG,GAAMkF,IAAa,SAAUE,GACxCA,EAAKtiB,KAAKoa,EAAWiI,EAAazN,EAAM6K,GAC1C,GACF,EAYI8C,GAAoB,SAA2BF,GACjD,IAnDuCG,EAmDnC5jB,OAAU,EAMd,GAHAujB,GAAa,yBAA0BE,EAAa,SAtDbG,EAyDtBH,aAxDElH,GAAQqH,aAAepH,GAId,iBAAjBoH,EAAIN,UAAoD,iBAApBM,EAAIC,aAAuD,mBAApBD,EAAIle,aAAgCke,EAAIE,sBAAsBzH,GAAgD,mBAAxBuH,EAAIzB,iBAA8D,mBAArByB,EAAIrf,cAA2D,iBAArBqf,EAAIG,cAAyD,mBAArBH,EAAIb,cAsD7S,OADAnB,GAAa6B,IACN,EAIT,GAAIpL,EAAYoL,EAAYH,SAAU,mBAEpC,OADA1B,GAAa6B,IACN,EAIT,IAAIO,EAAU7L,EAAkBsL,EAAYH,UAS5C,GANAC,GAAa,sBAAuBE,EAAa,CAC/CO,QAASA,EACTC,YAAalF,MAIVsE,GAAQI,EAAYS,sBAAwBb,GAAQI,EAAYzjB,WAAaqjB,GAAQI,EAAYzjB,QAAQkkB,qBAAuBvL,EAAW,UAAW8K,EAAYZ,YAAclK,EAAW,UAAW8K,EAAYI,aAErN,OADAjC,GAAa6B,IACN,EAIT,IAAK1E,GAAaiF,IAAY7E,GAAY6E,GAAU,CAElD,GAAIhE,KAAiBG,GAAgB6D,GAAU,CAC7C,IAAInC,EAAa9E,GAAc0G,IAAgBA,EAAY5B,WACvDmB,EAAalG,GAAc2G,IAAgBA,EAAYT,WAE3D,GAAIA,GAAcnB,EAGhB,IAFA,IAESzhB,EAFQ4iB,EAAW3iB,OAEF,EAAGD,GAAK,IAAKA,EACrCyhB,EAAWkB,aAAanG,EAAUoG,EAAW5iB,IAAI,GAAOyc,EAAe4G,GAG7E,CAGA,OADA7B,GAAa6B,IACN,CACT,CAGA,OAAIA,aAAuBvH,IAvTF,SAA8B3C,GACvD,IAAI1K,EAASkO,GAAcxD,GAItB1K,GAAWA,EAAOmV,UACrBnV,EAAS,CACPkV,aAAcrD,GACdsD,QAAS,aAIb,IAAIA,EAAU7L,EAAkBoB,EAAQyK,SACpCG,EAAgBhM,EAAkBtJ,EAAOmV,SAE7C,GAAIzK,EAAQwK,eAAiBtD,GAI3B,OAAI5R,EAAOkV,eAAiBrD,GACP,QAAZsD,EAMLnV,EAAOkV,eAAiBvD,GACP,QAAZwD,IAAwC,mBAAlBG,GAAsC3C,GAA+B2C,IAK7FC,QAAQ1C,GAAasC,IAG9B,GAAIzK,EAAQwK,eAAiBvD,GAI3B,OAAI3R,EAAOkV,eAAiBrD,GACP,SAAZsD,EAKLnV,EAAOkV,eAAiBtD,GACP,SAAZuD,GAAsBvC,GAAwB0C,GAKhDC,QAAQzC,GAAgBqC,IAGjC,GAAIzK,EAAQwK,eAAiBrD,GAAgB,CAI3C,GAAI7R,EAAOkV,eAAiBtD,KAAkBgB,GAAwB0C,GACpE,OAAO,EAGT,GAAItV,EAAOkV,eAAiBvD,KAAqBgB,GAA+B2C,GAC9E,OAAO,EAOT,IAAIE,EAA2BhL,EAAS,CAAC,EAAG,CAAC,QAAS,QAAS,OAAQ,IAAK,WAI5E,OAAQsI,GAAgBqC,KAAaK,EAAyBL,KAAatC,GAAasC,GAC1F,CAKA,OAAO,CACT,CAsOyCM,CAAqBb,IAC1D7B,GAAa6B,IACN,GAGQ,aAAZO,GAAsC,YAAZA,IAA0BrL,EAAW,uBAAwB8K,EAAYZ,YAMpGrD,IAA+C,IAAzBiE,EAAY7H,WAEpC5b,EAAUyjB,EAAYI,YACtB7jB,EAAUsY,EAActY,EAASwe,GAAkB,KACnDxe,EAAUsY,EAActY,EAASye,GAAa,KAC1CgF,EAAYI,cAAgB7jB,IAC9BkY,EAAUsD,EAAUG,QAAS,CAAEpC,QAASkK,EAAY7G,cACpD6G,EAAYI,YAAc7jB,IAK9BujB,GAAa,wBAAyBE,EAAa,OAE5C,IAnBL7B,GAAa6B,IACN,EAmBX,EAWIc,GAAoB,SAA2BC,EAAOC,EAAQljB,GAEhE,GAAIwe,KAA4B,OAAX0E,GAA8B,SAAXA,KAAuBljB,KAASyC,GAAYzC,KAASuf,IAC3F,OAAO,EAOT,GAAIxB,KAAoBF,GAAYqF,IAAW9L,EAAW+F,GAAc+F,SAAgB,GAAIpF,IAAmB1G,EAAWgG,GAAc8F,QAAgB,KAAKxF,GAAawF,IAAWrF,GAAYqF,GAC/L,OAAO,EAGF,GAAInE,GAAoBmE,SAAgB,GAAI9L,EAAWmG,GAAmBxG,EAAc/W,EAAOsd,GAAoB,WAAa,GAAgB,QAAX4F,GAA+B,eAAXA,GAAsC,SAAXA,GAAgC,WAAVD,GAAwD,IAAlChM,EAAcjX,EAAO,WAAkB6e,GAAcoE,GAAe,GAAIjF,KAA4B5G,EAAWiG,GAAsBtG,EAAc/W,EAAOsd,GAAoB,WAAa,GAAKtd,EACra,OAAO,CACT,CAEA,OAAO,CACT,EAYImjB,GAAsB,SAA6BjB,GACrD,IAAIkB,OAAO,EACPpjB,OAAQ,EACRkjB,OAAS,EACTpb,OAAI,EAERka,GAAa,2BAA4BE,EAAa,MAEtD,IAAIK,EAAaL,EAAYK,WAI7B,GAAKA,EAAL,CAIA,IAAIc,EAAY,CACdC,SAAU,GACVC,UAAW,GACXC,UAAU,EACVC,kBAAmB/F,IAKrB,IAHA5V,EAAIya,EAAWzjB,OAGRgJ,KAAK,CAEV,IAAI4b,EADJN,EAAOb,EAAWza,GAEduG,EAAOqV,EAAMrV,KACbmU,EAAekB,EAAMlB,aAazB,GAXAxiB,EAAQkX,EAAWkM,EAAKpjB,OACxBkjB,EAAStM,EAAkBvI,GAG3BgV,EAAUC,SAAWJ,EACrBG,EAAUE,UAAYvjB,EACtBqjB,EAAUG,UAAW,EACrBH,EAAUM,mBAAgBhjB,EAC1BqhB,GAAa,wBAAyBE,EAAamB,GACnDrjB,EAAQqjB,EAAUE,WAEdF,EAAUM,gBAKdlD,GAAiBpS,EAAM6T,GAGlBmB,EAAUG,UAKf,GAAIpM,EAAW,OAAQpX,GACrBygB,GAAiBpS,EAAM6T,OADzB,CAMIjE,KACFje,EAAQ+W,EAAc/W,EAAOid,GAAkB,KAC/Cjd,EAAQ+W,EAAc/W,EAAOkd,GAAa,MAI5C,IAAI+F,EAAQf,EAAYH,SAASnT,cACjC,GAAKoU,GAAkBC,EAAOC,EAAQljB,GAKtC,IACMwiB,EACFN,EAAY0B,eAAepB,EAAcnU,EAAMrO,GAG/CkiB,EAAYlf,aAAaqL,EAAMrO,GAGjC0W,EAASuD,EAAUG,QACrB,CAAE,MAAOiC,GAAI,CAxBb,CAyBF,CAGA2F,GAAa,0BAA2BE,EAAa,KAxErD,CAyEF,EAOI2B,GAAqB,SAASA,EAAmBC,GACnD,IAAIC,OAAa,EACbC,EAAiBtC,GAAgBoC,GAKrC,IAFA9B,GAAa,0BAA2B8B,EAAU,MAE3CC,EAAaC,EAAeC,YAEjCjC,GAAa,yBAA0B+B,EAAY,MAG/C3B,GAAkB2B,KAKlBA,EAAWtlB,mBAAmB+b,GAChCqJ,EAAmBE,EAAWtlB,SAIhC0kB,GAAoBY,IAItB/B,GAAa,yBAA0B8B,EAAU,KACnD,EAwQA,OA9PA7J,EAAUiK,SAAW,SAAUpD,EAAOrB,GACpC,IAAI8B,OAAO,EACP4C,OAAe,EACfjC,OAAc,EACdkC,OAAU,EACVC,OAAa,EAUjB,IANAhF,IAAkByB,KAEhBA,EAAQ,eAIW,iBAAVA,IAAuBgB,GAAQhB,GAAQ,CAEhD,GAA8B,mBAAnBA,EAAMxV,SACf,MAAMiM,EAAgB,8BAGtB,GAAqB,iBADrBuJ,EAAQA,EAAMxV,YAEZ,MAAMiM,EAAgB,kCAG5B,CAGA,IAAK0C,EAAUK,YAAa,CAC1B,GAAqC,WAAjCZ,EAAQvZ,EAAOmkB,eAA6D,mBAAxBnkB,EAAOmkB,aAA6B,CAC1F,GAAqB,iBAAVxD,EACT,OAAO3gB,EAAOmkB,aAAaxD,GAG7B,GAAIgB,GAAQhB,GACV,OAAO3gB,EAAOmkB,aAAaxD,EAAMP,UAErC,CAEA,OAAOO,CACT,CAeA,GAZK3C,IACHqB,GAAaC,GAIfxF,EAAUG,QAAU,GAGC,iBAAV0G,IACTpC,IAAW,GAGTA,SAAiB,GAAIoC,aAAiBpG,EAKV,KAD9ByJ,GADA5C,EAAOV,GAAc,kBACDnF,cAAcmB,WAAWiE,GAAO,IACnCzG,UAA4C,SAA1B8J,EAAapC,UAGX,SAA1BoC,EAAapC,SADtBR,EAAO4C,EAKP5C,EAAKte,YAAYkhB,OAEd,CAEL,IAAK9F,KAAeJ,KAAuBC,KAEnB,IAAxB4C,EAAM7Q,QAAQ,KACZ,OAAO0L,IAAsBa,GAAsBb,GAAmBQ,WAAW2E,GAASA,EAO5F,KAHAS,EAAOV,GAAcC,IAInB,OAAOzC,GAAa,KAAO9B,EAE/B,CAGIgF,GAAQnD,IACViC,GAAakB,EAAKgD,YAOpB,IAHA,IAAIC,EAAe9C,GAAgBhD,GAAWoC,EAAQS,GAG/CW,EAAcsC,EAAaP,YAEH,IAAzB/B,EAAY7H,UAAkB6H,IAAgBkC,GAK9ChC,GAAkBF,KAKlBA,EAAYzjB,mBAAmB+b,GACjCqJ,GAAmB3B,EAAYzjB,SAIjC0kB,GAAoBjB,GAEpBkC,EAAUlC,GAMZ,GAHAkC,EAAU,KAGN1F,GACF,OAAOoC,EAIT,GAAIzC,GAAY,CACd,GAAIC,GAGF,IAFA+F,EAAazH,GAAuB/c,KAAK0hB,EAAK7F,eAEvC6F,EAAKgD,YAEVF,EAAWphB,YAAYse,EAAKgD,iBAG9BF,EAAa9C,EAcf,OAXIhD,KAQF8F,EAAaxH,GAAWhd,KAAK0a,EAAkB8J,GAAY,IAGtDA,CACT,CAEA,IAAII,EAAiBvG,GAAiBqD,EAAKhB,UAAYgB,EAAKD,UAQ5D,OALIrD,KACFwG,EAAiB1N,EAAc0N,EAAgBxH,GAAkB,KACjEwH,EAAiB1N,EAAc0N,EAAgBvH,GAAa,MAGvDvB,IAAsBa,GAAsBb,GAAmBQ,WAAWsI,GAAkBA,CACrG,EAQAxK,EAAUyK,UAAY,SAAUjF,GAC9BD,GAAaC,GACbtB,IAAa,CACf,EAOAlE,EAAU0K,YAAc,WACtBrF,GAAS,KACTnB,IAAa,CACf,EAYAlE,EAAU2K,iBAAmB,SAAUC,EAAKzB,EAAMpjB,GAE3Csf,IACHE,GAAa,CAAC,GAGhB,IAAIyD,EAAQrM,EAAkBiO,GAC1B3B,EAAStM,EAAkBwM,GAC/B,OAAOJ,GAAkBC,EAAOC,EAAQljB,EAC1C,EASAia,EAAU6K,QAAU,SAAU7C,EAAY8C,GACZ,mBAAjBA,IAIXhI,GAAMkF,GAAclF,GAAMkF,IAAe,GACzCtL,EAAUoG,GAAMkF,GAAa8C,GAC/B,EASA9K,EAAU+K,WAAa,SAAU/C,GAC3BlF,GAAMkF,IACRvL,EAASqG,GAAMkF,GAEnB,EAQAhI,EAAUgL,YAAc,SAAUhD,GAC5BlF,GAAMkF,KACRlF,GAAMkF,GAAc,GAExB,EAOAhI,EAAUiL,eAAiB,WACzBnI,GAAQ,CAAC,CACX,EAEO9C,CACT,CAEaD,EAIf,CA50CkFmL,aCHlFxmB,EAAOM,QAAU,SAAoB2Q,GACpC,SAAKA,GAAsB,iBAARA,KAIZA,aAAejK,OAASA,MAAMC,QAAQgK,IAC3CA,EAAI9Q,QAAU,IAAM8Q,EAAII,kBAAkBoG,UACzChX,OAAOuW,yBAAyB/F,EAAMA,EAAI9Q,OAAS,IAAgC,WAAzB8Q,EAAIiK,YAAYxL,MAC9E,+BCNA,IAAI+W,EAAa,EAAQ,MAErBljB,EAASyD,MAAMhG,UAAUuC,OACzBF,EAAQ2D,MAAMhG,UAAUqC,MAExBmM,EAAUxP,EAAOM,QAAU,SAAiBqE,GAG/C,IAFA,IAAI+hB,EAAU,GAELxmB,EAAI,EAAG8N,EAAMrJ,EAAKxE,OAAQD,EAAI8N,EAAK9N,IAAK,CAChD,IAAIymB,EAAMhiB,EAAKzE,GAEXumB,EAAWE,GAEdD,EAAUnjB,EAAOrC,KAAKwlB,EAASrjB,EAAMnC,KAAKylB,IAE1CD,EAAQ1hB,KAAK2hB,EAEf,CAEA,OAAOD,CACR,EAEAlX,EAAQoX,KAAO,SAAU9Y,GACxB,OAAO,WACN,OAAOA,EAAG0B,EAAQ1O,WACnB,CACD,sGCrBa,EAAA+lB,eAAiB,mHCP9B,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UAEA,UACA,UAEA,UACA,UACA,UACA,UAaMxgB,EAAS,EAAQ,KAQjBygB,EAA2B,CAC7BC,QAAS,CACLC,aAAc,UACdC,gBAAiB,UACjBC,aAAc,UACdC,WAAY,UACZC,cAAe,UACfC,eAAgB,UAChBC,aAAc,UACdC,UAAW,UACXC,YAAa,UACbC,kBAAmB,UACnBC,eAAgB,UAChBC,aAAc,UACdC,qBAAsB,UACtBC,kBAAmB,UACnBC,mBAAoB,UACpBC,gBAAiB,UACjBC,iBAAkB,UAClBC,kBAAmB,UACnBC,eAAgB,UAChBC,YAAa,UACb3U,MAAO,UACPL,MAAO,YAITiV,EAA0B,CAC5BrB,QAAS,CACLC,aAAc,UACdC,gBAAiB,UACjBC,aAAc,UACdC,WAAY,UACZC,cAAe,UACfC,eAAgB,UAChBC,aAAc,UACdC,UAAW,UACXC,YAAa,UACbC,kBAAmB,UACnBC,eAAgB,UAChBC,aAAc,UACdC,qBAAsB,UACtBC,kBAAmB,UACnBC,mBAAoB,UACpBC,gBAAiB,UACjBC,iBAAkB,UAClBC,kBAAmB,UACnBC,eAAgB,UAChBC,YAAa,UACb3U,MAAO,UACPL,MAAO,YAQf,cAcI,WAAYkV,SAAZ,EACI,YAAMA,IAAM,YAPR,EAAAC,kBAA2C,KAS/C,EAAKC,kBAAoB,IAAI,UAC7B,EAAKC,mBAAqB,IAAI,UAC9B,EAAKC,gBAAkB,IAAI,UAC3B,EAAKC,oBAAsB,IAAI,UAC/B,EAAKC,eAAiB,IAAI,UAC1B,EAAKC,cAAe,IAAAC,sBACpB,EAAKC,mBAAoB,IAAAC,2BACzB,EAAKC,aAAc,IAAAC,qBACnB,EAAKC,mBAAqB,IAAI,UAE9B,EAAKC,mBAAoB,IAAAC,aAAU,uDAC5B,EAAAC,gBAAa,IAChB,EAAAC,SACA,EAAAC,KACA,EAAAC,cACA,EAAAC,aAEJ,EAAKC,qBAAsB,IAAAN,aAAU,uDAAK,EAAAC,gBAAa,IAAE,EAAAC,SAAU,EAAAC,KAAM,EAAAC,gBAAa,IAEtF,EAAKloB,MAAQ,CACTqoB,aAAsC,IAAxBnoB,OAAOooB,SAASC,KAC9BC,aAAc,KACdC,UAAW,EAAKvB,mBAAmBwB,wBACnCC,MAAO,EACPC,YAA2B,QAAf,IAAKC,kBAAU,eAAE7H,WAAW,EACxC8H,cAAe,KACfC,OAAO,IAEf,CAgHJ,OA7JuB,eAAAC,EAAA,GA+CnB,YAAAC,UAAA,WACI,OAAOlkB,CACX,EAEA,YAAAmkB,eAAA,WACI,OAAO,gBAAC,UAAQ,CAACC,UAAWpkB,EAAOqkB,QACvC,EAEA,YAAAC,aAAA,SAAaC,GACT,OACI,gBAAC,EAAAC,OAAM,CACHC,QAASF,EAAWpqB,KAAKkpB,oBAAsBlpB,KAAK2oB,kBACpD4B,OAAQvqB,KAAKooB,aACboC,IAAKxqB,KAAKc,MAAM+oB,MAAQ,MAAQ,OAG5C,EAEA,YAAAY,eAAA,SAAeC,GACX,IAAM7kB,EAAS7F,KAAK+pB,YAEpB,OACI,gBAAC,UAAQ,CACLY,IAAK3qB,KAAK4qB,SACVC,QAAS7qB,KAAK8qB,qBACdb,UAAW,aAAapkB,EAAO+kB,SAAQ,KACnCF,EAAY7kB,EAAOklB,kBAAoB,KAIvD,EAEA,YAAAC,WAAA,WACIhrB,KAAK8nB,kBACD9nB,KAAK8nB,oBAAqB,aAAqB9nB,KAAKc,MAAMyoB,WAE9D,IAAMsB,GAAU,EAAH,qDACN7qB,KAAK8nB,oBAAiB,IACzB9nB,KAAKooB,aACLpoB,KAAKsoB,kBACLtoB,KAAKwoB,YACLxoB,KAAK0oB,wBAST,OANI1oB,KAAKc,MAAMqoB,cAAgBnpB,KAAKc,MAAMwoB,gBACtC,IAAA9R,WAAUqT,EAAS7qB,KAAK8qB,sBAG5BD,EAAQrmB,KAAKxE,KAAKirB,qBAEXJ,CACX,EAEA,YAAAK,YAAA,WACIlrB,KAAK8nB,kBAAoB,KACzB9nB,KAAKmrB,SAAS,CACVvB,cAAe,SAACwB,EAAqBC,GACjC,WAAI,EAAAC,OAAOF,EAAKC,EAAhB,GAEZ,EAEA,YAAAE,SAAA,SAAS5X,GACL,OAAOA,EAASiU,EAAYtB,CAChC,EAEA,YAAAkF,aAAA,WACI,IAAM3lB,EAAS7F,KAAK+pB,YACd0B,EAAazrB,KAAKgrB,aAClBU,EAAe,CACjBC,UAAW,SAAS3rB,KAAKc,MAAM2oB,MAAK,IACpCmC,gBAAiB5rB,KAAKc,MAAM+oB,MAAQ,YAAc,WAClDgC,OAAQ,QAAQ,IAAM7rB,KAAKc,MAAM2oB,MAAK,KACtCqC,MAAO,QAAQ,IAAM9rB,KAAKc,MAAM2oB,MAAK,MAKzC,OAFAzpB,KAAKirB,oBAAoBc,cAGrB,uBAAK9B,UAAWpkB,EAAOmmB,gBAAiBvsB,GAAG,mBACvC,uBAAKwsB,MAAOP,GACP1rB,KAAKc,MAAM8oB,eACR,gBAAC,EAAAsC,QAAO,CACJjC,UAAWpkB,EAAOsmB,OAClBtB,QAASY,EACTW,cAAepsB,KAAKc,MAAMyoB,UAAU6C,cACpCC,WAAYrsB,KAAKc,MAAM4oB,WACvB4C,aAAc,EAAAA,aACdC,qBAAsBvsB,KAAKc,MAAMyoB,UAAUgD,qBAC3CC,4BAA6BxsB,KAAKmoB,eAAesE,qBACjDC,mBAAoB,EAAAA,mBACpBC,UAAW3sB,KAAKc,MAAM2oB,MACtBmD,eAAgB5sB,KAAKV,QACrBsqB,cAAe5pB,KAAKc,MAAM8oB,cAC1BY,IAAKxqB,KAAKc,MAAM+oB,MAAQ,MAAQ,SAMxD,EAEQ,YAAAiB,mBAAR,WACI,MAAO,CACH9qB,KAAK+nB,kBACL/nB,KAAKgoB,mBACLhoB,KAAKioB,gBACLjoB,KAAKkoB,oBACLloB,KAAKmoB,eAEb,EACJ,EA7JA,CAAuB,WA+JvB,iBAAsBha,GAClB0e,EAASC,OAAO,gBAAChD,EAAQ,MAAK3b,EAClC,8FCtQA,UACA,UAIA,UACA,UACA,UACA,UACA,UAYM4e,EAAa,WACbC,EAAc,qFAAqFD,EAAU,wBAKnH,cAmBI,WAAYlF,SAAZ,EACI,YAAMA,IAAM,YAZN,EAAA+C,SAAWqC,EAAMC,YAEjB,EAAA5tB,QAAkB,GAClB,EAAAqqB,WAA8B,QAAjB,EAAA3oB,OAAOmsB,kBAAU,oBAAjBnsB,OAAoB,gCAqLnC,EAAAosB,YAAc,SAACC,GACnB/pB,SAASgqB,iBAAiB,YAAa,EAAKC,aAAa,GACzDjqB,SAASgqB,iBAAiB,UAAW,EAAKE,WAAW,GACrDlqB,SAAS8e,KAAK6J,MAAMwB,WAAa,OACjC,EAAKC,OAASL,EAAEM,KACpB,EAEQ,EAAAJ,YAAc,SAACF,GACnB,EAAKzC,SAASnc,QAAQmf,YAAY,EAAKF,OAASL,EAAEM,OAClD,EAAKD,OAASL,EAAEM,KACpB,EAEQ,EAAAH,UAAY,SAACH,GACjB/pB,SAASuqB,oBAAoB,YAAa,EAAKN,aAAa,GAC5DjqB,SAASuqB,oBAAoB,UAAW,EAAKL,WAAW,GACxDlqB,SAAS8e,KAAK6J,MAAMwB,WAAa,EACrC,EAEQ,EAAAK,SAAW,SAACxuB,GAChB,EAAKA,QAAUA,CACnB,EAEQ,EAAAyuB,eAAiB,WACrB,EAAK5C,SAAS,CACVhC,cAAc,IAElB,EAAK+B,aACT,EAEQ,EAAA8C,eAAiB,WACrB,EAAK7C,SAAS,CACVhC,cAAc,IAElB,EAAK+B,cACLlqB,OAAOooB,SAASC,KAAO,EAC3B,EAEQ,EAAA4E,cAAgB,iBACpB,EAAK9C,SAAS,CACVzB,YAA2B,QAAf,IAAKC,kBAAU,eAAE7H,WAAW,GAEhD,EAnNIoM,EAAaC,SAAW,EACxB,EAAKlD,qBAAsB,IAAAmD,2BAA0B,EAAAC,WAAWC,UAAW,EAAKR,WACpF,CAkNJ,OA1OgF,oBAarE,EAAAS,YAAP,WACI,OAAOvuB,KAAKmuB,QAChB,EAyBA,YAAArB,OAAA,WACI,IAAMjnB,EAAS7F,KAAK+pB,YAEpB,OACI,gBAAC,EAAAyE,cAAa,CACVC,QAAQ,OACRltB,MAAOvB,KAAKurB,SAASvrB,KAAKc,MAAM4oB,YAChCO,UAAWpkB,EAAO6oB,UACjB1uB,KAAKgqB,kBACJhqB,KAAKc,MAAMwoB,cAAgBtpB,KAAKmqB,cAAa,GAC/C,uBAAKF,UAAWpkB,EAAOuc,KAAO,KAAOpiB,KAAKc,MAAM4oB,WAAa,OAAS,KACjE1pB,KAAKc,MAAMwoB,aAAetpB,KAAK2uB,eAAiB3uB,KAAK4uB,kBAItE,EAEA,YAAAC,kBAAA,iBACmB,QAAf,EAAA7uB,KAAK2pB,kBAAU,SAAE2D,iBAAiB,SAAUttB,KAAKiuB,eACjDjuB,KAAKkrB,aACT,EAEA,YAAA4D,qBAAA,iBACmB,QAAf,EAAA9uB,KAAK2pB,kBAAU,SAAEkE,oBAAoB,SAAU7tB,KAAKiuB,cACxD,EAEA,YAAAhF,OAAA,sBACIjpB,KAAKirB,oBAAoBc,cAEzB,IAAMgD,EAAM/tB,OAAOguB,KAxER,cACG,SAFE,iDA0EhBD,EAAIzrB,SAAS2rB,OAAM,IAAAvC,oBAAmBM,IACtC+B,EAAIzB,iBAAiB,gBAAgB,WACjC,EAAKrC,oBAAoBc,eAEzB,IAAAmD,wBAAuBH,GACvB,EAAK5D,SAAS,CAAE7B,aAAc,MAClC,KAEA,IAAA6F,sBAAqBJ,GAErB/uB,KAAKovB,WAAaL,EAAIzrB,SAAS+rB,eAAetC,GAC9C/sB,KAAKmrB,SAAS,CACV7B,aAAcyF,GAEtB,EAEA,YAAAO,kBAAA,SAAkBC,GACdvvB,KAAKirB,oBAAoBc,cACzB/rB,KAAKmrB,SAAS,CACV5B,UAAWgG,IAGfvvB,KAAKkrB,aACT,EAEA,YAAAsE,SAAA,SAAS/F,GACLzpB,KAAKmrB,SAAS,CACV1B,MAAOA,GAEf,EAEA,YAAAgG,eAAA,WACI,OAAOzvB,KAAKc,MAAM4uB,iBACtB,EAEA,YAAAC,oBAAA,SAAoB5jB,GAChB/L,KAAKmrB,SAAS,CACVuE,mBAAmB,EAAF,8BAAO1vB,KAAKyvB,kBAAgB,CAAE1jB,MAAK,KAE5D,EAEA,YAAA6jB,oBAAA,SAAoB9D,GAChB9rB,KAAKmrB,SAAS,CACVuE,mBAAmB,EAAF,8BAAO1vB,KAAKyvB,kBAAgB,CAAE3D,MAAK,KAE5D,EAEA,YAAA+D,oBAAA,SAAoB5D,GAChBjsB,KAAKmrB,SAAS,CACVuE,mBAAmB,EAAF,8BAAO1vB,KAAKyvB,kBAAgB,CAAExD,MAAK,KAE5D,EAEA,YAAA6D,eAAA,WACI9vB,KAAKmrB,SAAS,CACVzB,YAAa1pB,KAAKc,MAAM4oB,YAEhC,EAEA,YAAAqG,iBAAA,SAAiBlG,GACb7pB,KAAKmrB,SAAS,CAAEtB,MAAOA,IACvB,CAAC7oB,OAAQhB,KAAKc,MAAMwoB,cAAcxkB,SAAQ,SAAAiqB,GAClCA,IACAA,EAAIzrB,SAAS8e,KAAKoI,IAAMX,EAAQ,MAAQ,MAEhD,GACJ,EAEQ,YAAA+E,eAAR,WACI,IAAM/oB,EAAS7F,KAAK+pB,YAEpB,OACI,gCACK/pB,KAAKwrB,eACLxrB,KAAKc,MAAMqoB,aACR,gCACI,uBAAKc,UAAWpkB,EAAOmqB,QAAS5C,YAAaptB,KAAKotB,cACjDptB,KAAKyqB,gBAAe,GACpBzqB,KAAKiwB,wBAGVjwB,KAAKiwB,uBAIrB,EAEQ,YAAAA,qBAAR,WACI,IAAMpqB,EAAS7F,KAAK+pB,YAEpB,OACI,0BACIE,UAAW,qBAAoBjqB,KAAKc,MAAMqoB,aAAe,OAAS,SAAO,IACrEtjB,EAAOsjB,aAEX+G,QAASlwB,KAAKc,MAAMqoB,aAAenpB,KAAKguB,eAAiBhuB,KAAK+tB,gBAC9D,2BAAM/tB,KAAKc,MAAMqoB,aAAe,iBAAmB,kBAG/D,EAEQ,YAAAwF,aAAR,WACI,IAAM9oB,EAAS7F,KAAK+pB,YAEpB,OACI,gCACK/pB,KAAKyqB,gBAAe,GACpBoC,EAASsD,aACN,gBAAC,EAAAC,eAAc,CAACpvB,OAAQhB,KAAKc,MAAMwoB,cAC/B,gBAAC,EAAAkF,cAAa,CAACC,QAAQ,OAAOltB,MAAOvB,KAAKurB,SAASvrB,KAAKc,MAAM4oB,aAC1D,uBAAKO,UAAWpkB,EAAO6oB,UAClB1uB,KAAKmqB,cAAa,GACnB,uBAAKF,UAAWpkB,EAAOuc,MAAOpiB,KAAKwrB,mBAI/CxrB,KAAKovB,YAIrB,EA7KgB,EAAAiB,YAAc,sBAyNlC,EA1OA,CAAgFpD,EAAMqD,qBAAxDpC,8FC3B9B,UACA,UACA,UAEMroB,EAAS,EAAQ,MAwKvB,SAAS0qB,EAAU1X,EAAsB2X,GACrC,IAAMC,EAAO5X,EAAQ6X,wBACfptB,EAAWuV,EAAQ0D,cAEnBoU,EAAgB,SAACtD,GACnB,IAAMuD,EAAOvD,EAAEM,MAAQ8C,EAAKG,KACtBC,EAAMxD,EAAEyD,MAAQL,EAAKI,IACvBjnB,EAAIb,KAAK8C,MAAc,IAAP+kB,EAAcH,EAAK3E,OAAS,IAC5CjiB,EAAId,KAAK8C,MAAa,IAANglB,EAAaJ,EAAK5E,QAAU,IAChDjiB,EAAIb,KAAKD,IAAIC,KAAKC,IAAIY,EAAG,GAAI,GAC7BC,EAAId,KAAKD,IAAIC,KAAKC,IAAIa,EAAG,GAAI,GAE7B2mB,EAAS5mB,EAAGC,GAEE,WAAVwjB,EAAE0D,MACFztB,EAASuqB,oBAAoB,YAAa8C,GAAe,GACzDrtB,EAASuqB,oBAAoB,UAAW8C,GAAe,KAEvDtD,EAAE2D,kBACF3D,EAAE4D,iBAEV,EAEA3tB,EAASgqB,iBAAiB,YAAaqD,GAAe,GACtDrtB,EAASgqB,iBAAiB,UAAWqD,GAAe,EACxD,CA9KA,mBAAoC9I,GAChC,IAAMqJ,EAASjE,EAAMkE,OAAuB,MACtCC,EAASnE,EAAMkE,OAAuB,MACtCxpB,EAAMkgB,EAAMwJ,UAAU1pB,MACtB,eAAgBslB,EAAMqE,SAAS3pB,EAAIgF,OAAM,GAAxCA,EAAG,KAAE4kB,EAAM,KACZ,eAA8BtE,EAAMqE,SAAS3pB,EAAI+K,eAAc,GAA9D8e,EAAU,KAAEC,EAAa,KAC1B,eAAoBxE,EAAMqE,SAAS3pB,EAAI9G,SAAQ,GAA9CA,EAAK,KAAE6wB,EAAQ,KAChB7H,EAAwD,QAAhD,IAAA8H,kBAAiBruB,SAAS8e,KAAM,aAExCwP,EAAoB3E,EAAM4E,aAAY,SAACxE,GACzCkD,EAAUW,EAAOziB,SAAU,SAAA7E,GAAK,OAAA2nB,EAAW,IAAJ3nB,EAAP,GACpC,GAAG,IAEGkoB,EAAoB7E,EAAM4E,aAAY,SAACxE,GACzCkD,EAAUa,EAAO3iB,SAAU,SAAC7E,EAAGC,GAC3B4nB,EAAkB,IAAJ7nB,GACd8nB,EAAS,IAAU,IAAJ7nB,EACnB,GACJ,GAAG,IAEGkoB,EAAc9E,EAAM4E,aACtB,SAACxE,GACG,IAAI2E,EAASrlB,EACb,OAAQ0gB,EAAE4E,OACN,KAAK,GACDD,GAAUnI,EAAQ,GAAK,EACvB,MACJ,KAAK,GACDmI,IACA,MACJ,KAAK,GACDA,GAAUnI,GAAS,EAAI,EACvB,MACJ,KAAK,GACDmI,IACA,MACJ,KAAK,GACDA,GAAU,GACV,MACJ,KAAK,GACDA,GAAU,GACV,MACJ,KAAK,GACDA,EAAS,EACT,MACJ,KAAK,GACDA,EAAS,IAGjBT,EAAOxoB,KAAKC,IAAID,KAAKD,IAAIkpB,EAAQ,KAAM,GAC3C,GACA,CAACrlB,EAAKkd,IAGJqI,EAAgBjF,EAAM4E,aACxB,SAACxE,GACG,IAAI8E,EAAgBX,EAChBY,EAAWvxB,EACf,OAAQwsB,EAAE4E,OACN,KAAK,GACDE,GAAiBtI,EAAQ,GAAK,EAC9B,MACJ,KAAK,GACDsI,GAAiBtI,GAAS,EAAI,EAC9B,MACJ,KAAK,GACDsI,EAAgB,EAChB,MACJ,KAAK,GACDA,EAAgB,IAChB,MACJ,KAAK,GACDC,IACA,MACJ,KAAK,GACDA,IACA,MACJ,KAAK,GACDA,GAAY,GACZ,MACJ,KAAK,GACDA,GAAY,GAGpBX,EAAc1oB,KAAKC,IAAID,KAAKD,IAAIqpB,EAAe,KAAM,IACrDT,EAAS3oB,KAAKC,IAAID,KAAKD,IAAIspB,EAAU,KAAM,GAC/C,GACA,CAACZ,EAAY3wB,EAAOgpB,IAWxB,OARAoD,EAAMoF,WAAU,iBACE,QAAd,EAAAxK,EAAMyK,gBAAQ,cAAdzK,EAAiBA,EAAMwJ,UAC3B,GAAG,IAEHpE,EAAMoF,WAAU,iBACE,QAAd,EAAAxK,EAAMyK,gBAAQ,cAAdzK,EAAiBrX,EAAM7I,IAAIgF,EAAK6kB,EAAY3wB,GAAO0G,MACvD,GAAG,CAACoF,EAAK6kB,EAAY3wB,IAGjB,uBAAKopB,UAAWpkB,EAAO0sB,WACnB,uBACIC,SAAU,EACVvI,UAAWpkB,EAAOurB,OAClBzG,IAAKyG,EACLnF,MAAO,CACHwG,gBAAiBjiB,EAAM7I,IAAIgF,EAAK,IAAK,KAAKpF,MAAM4E,YAEpDumB,UAAWR,EACX9E,YAAa0E,GACb,uBAAK7H,UAAWpkB,EAAO8sB,QACnB,uBAAK1I,UAAWpkB,EAAO+sB,UAE3B,uBACI3I,UAAWpkB,EAAOgtB,aAClB5G,MAAO,CACH2E,KAAMY,EAAa,IACnBX,IAAK,IAAMhwB,EAAQ,MAEvB,8BAIR,uBACIopB,UAAWpkB,EAAOitB,SAClB7G,MAAO,CAAEwG,gBAAiBjiB,EAAM7I,IAAIgF,EAAK6kB,EAAY3wB,GAAO0G,MAAM4E,cAEtE,uBACI8d,UAAWpkB,EAAOwrB,UAClBpF,MAAO,CAAEwG,gBAAiB5K,EAAMwJ,UAAUllB,cAG9C,uBACI8d,UAAWpkB,EAAOqrB,OAClBvG,IAAKuG,EACLsB,SAAU,EACVpF,YAAawE,EACbc,UAAWX,GACX,uBACI9H,UAAWpkB,EAAOgtB,aAClB5G,MAAO,CACH2E,KAAMjkB,EAAM,IAAM,MAEtB,8BAKpB,gFC1KA,cACA,UACA,UACA,UACA,UACA,UAEA,UACA,UACA,UACA,UACA,UACA,UACA,UAOA,mBAA6C4c,GACjC,IAAAwJ,EAA0BxJ,EAAS,WAAvByJ,EAAczJ,EAAS,UACrC0J,EAAYF,EAAWE,UACvB,IAAI,EAAAC,UAAU,CACVC,cAAe5J,EAAU6J,mBACzBC,sBAAuB9J,EAAU8J,wBAErC,KAEAxI,EAAgE,CAClEyI,YAAaP,EAAWO,YAAc,IAAI,EAAAC,YAAYhK,EAAUiK,qBAAuB,KACvFC,UAAWV,EAAWU,UAChB,IAAI,EAAAC,WACAV,aAAS,EAATA,EAAWliB,QAAQ,EAAAuV,kBAAmB,EAChC,SAAAsN,GAAO,OAAAX,EAAUnb,QAAQ,EAAAwO,eAAgBsN,EAAlC,EACPX,EACA,WAAM,OAAAA,CAAA,EACN,MAEV,KACNY,MAAOb,EAAWa,MAAQ,IAAI,EAAAC,MAAU,KACxCC,UAAWf,EAAWe,UAAY,IAAI,EAAAC,UAAUxK,EAAUyK,eAAiB,KAC3Ef,UAAS,EACTgB,kBAAmBlB,EAAWkB,kBAAoB,IAAI,EAAAC,kBAAsB,KAC5EC,mBAAoBpB,EAAWoB,mBAAqB,IAAI,EAAAC,mBAAuB,KAC/EC,YAAatB,EAAWsB,YAAc,IAAI,EAAAC,YAAgB,KAC1DC,cAAexB,EAAWwB,cAAgB,IAAI,EAAAC,cAAwB,KACtEC,WAAY1B,EAAW0B,WAAa,IAAI,EAAAC,WAAe,KACvDC,aACI5B,EAAW6B,aAAe7B,EAAW4B,cAAe,IAAAE,8BAA+B,KACvFC,cACI/B,EAAW6B,aAAe7B,EAAW+B,eAAiB7B,GAChD,IAAA8B,6BAA4B9B,GAC5B,KACV+B,cACIjC,EAAW6B,aAAe7B,EAAWiC,eAC/B,IAAAC,+BACA,KACVL,YAAa7B,EAAW6B,aAAc,IAAAM,2BAA4B,KAClEC,SAAUpC,EAAWoC,SAAW,IAAI,EAAAC,SAOjC,IAAIC,IAAkC,CACzC,CAAC,EAA6C,wBAC9C,CAAC,EAAgD,qBACjD,GAEI,oDAZmE,MAG3E,OAAOp1B,OAAOq1B,OAAOzK,EACzB,kGC/DA,cAWa,EAAA/B,SAAkD,CAC3DzhB,IAAK,qBACLkuB,gBAAiB,YACjBC,SAAU,aACVC,UAAW,SAAAC,GAAe,OAAAA,EAAYhM,UAAZ,EAC1BwG,QAAS,SAAA/D,GAML,OALAA,EAAOwJ,kBAAkBxJ,EAAOzC,cAChCyC,EAAOyJ,QAGP,UAAarH,cAAcuB,kBACpB,CACX,wGCtBJ,cAUa,EAAA9G,cAAqD,CAC9D3hB,IAAK,mBACLkuB,gBAAiB,SACjBC,SAAU,SACVK,aAAa,EACb3F,QAAS,SAAA/D,GACOA,EAAO2J,cAAcC,YAAY/G,OACzC1rB,SAAS2rB,OAAM,IAAAvC,oBAAmBP,EAAO6J,cACjD,iGCnBJ,cAWa,EAAA/M,OAA8C,CACvD5hB,IAAK,mBACLkuB,gBAAiB,4BACjBC,SAAU,kBACVK,aAAa,EACb3F,QAAS,SAAAhT,GACL,UAAaqR,cAActF,QAC/B,+FClBJ,cACA,UAGMgN,EAAgB,CAClB,UAAW,MACX,UAAW,MACX,WAAY,OACZ,WAAY,OACZ,WAAY,QAGVC,EAAkE,CACpE,UAAW,GACX,UAAW,IACX,WAAY,EACZ,WAAY,IACZ,WAAY,GAWH,EAAAnN,KAA0C,CACnD1hB,IAAK,iBACLkuB,gBAAiB,OACjBC,SAAU,SACVW,aAAc,CACVC,MAAOH,EACPI,mBAAoB,SAAAX,GAChB,WAAAY,eAAcL,GAAeM,QACzB,SAAAlvB,GAAO,OAAA6uB,EAAe7uB,IAAQquB,EAAY/I,SAAnC,IACT,EAFF,GAIRuD,QAAS,SAAC/D,EAAQ9kB,GACd,IAAMslB,EAAYuJ,EAAe7uB,GAMjC,OALA8kB,EAAOqK,aAAa7J,GACpBR,EAAOyJ,QAGP,UAAarH,cAAciB,SAAS7C,IAC7B,CACX,iFC/CJ,cACA,UAmBM8J,EAAa,eAMbC,GAA2B,IAAAC,wBAAuC,CACpE90B,OAAO,IAAA+0B,4BAGX,qCAkHY,KAAAC,cAAgB,SAACxJ,GACrB,IAAMyJ,GAAU,IAAAC,4BACZ1J,EAAE2J,YACFx1B,GACA,IAAAy1B,mBAAkBR,IAEhBS,GAAS,IAAAC,sBAAqBL,GAEhCI,GACA,EAAK/K,OAAOiL,iBACR,WACI,EAAKC,aAAaH,EAAQ,EAC9B,QACA11B,GACA,EACA,CACI81B,eAAgB,WAAM,SAAKC,gBAAgBL,EAArB,GAItC,CAaJ,QAhJI,YAAAM,QAAA,WACI,MAAO,cACX,EAEA,YAAAC,WAAA,SAAWtL,GACPnsB,KAAKmsB,OAASA,CAClB,EAEA,YAAAuL,QAAA,WACI13B,KAAKmsB,OAAS,IAClB,EAEA,YAAAwL,cAAA,SAAcC,GAAd,WACI,GACuB,GAAnBA,EAAMC,WACgB,KAAtBD,EAAME,SAASzwB,KACfuwB,EAAME,SAASC,QACjB,CACE,IACI,EADE,EAAa/3B,KAAKg4B,eAGxBh4B,KAAKmsB,OAAOiL,iBACR,WACI,GAAS,IAAAa,cAAa,EAAK9L,OAAQsK,EAAY,GAAY,GAAM,EACrE,QACAj1B,GACA,EACA,CACI81B,eAAgB,WAAM,SAAKC,gBAAgB,EAArB,IAI9BK,EAAME,SAAS7G,sBACZ,GACgB,IAAnB2G,EAAMC,WACND,EAAMV,OAAOnG,MAAQ0F,EAErB,OAAQmB,EAAMM,WACV,KAAK,EACDl4B,KAAKm4B,UAAUP,EAAMV,QACrBl3B,KAAKo4B,QAAQR,EAAMV,QAEnBU,EAAMS,eAAgB,EAEtB,MAEJ,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACDr4B,KAAKm4B,UAAUP,EAAMV,QAErB,MAEJ,KAAK,GACGU,EAAM92B,SACN,IAAAw3B,aACIV,EAAMV,OAAOJ,QACb9lB,KAAKunB,MAAMX,EAAM92B,OACjB41B,GAEJ12B,KAAKq3B,aAAaO,EAAMV,SAM5C,EAEQ,YAAAkB,QAAR,SAAgBlB,GACZ,IAAMsB,EAAetB,EAAOJ,QAAQ2B,cAAc,OAE5CC,EAAOp1B,SAASI,cAAc,QAC9Bi1B,EAASr1B,SAASI,cAAc,UAEtC80B,EAAa10B,YAAY40B,GACzBF,EAAa10B,YAAY60B,GAEzBA,EAAOxV,YAAc,cACrBwV,EAAOrL,iBAAiB,QAASttB,KAAK62B,eAEtC72B,KAAKq3B,aAAaH,EACtB,EAEQ,YAAAiB,UAAR,SAAkBjB,GACd,IAAMsB,EAAetB,EAAOJ,QAAQ2B,cAAc,OAC5CE,EAASH,EAAaC,cAAc,UAEtCE,IACAA,EAAO9K,oBAAoB,QAAS7tB,KAAK62B,eACzC2B,EAAaxzB,YAAY2zB,GAEjC,EAEQ,YAAAtB,aAAR,SAAqBH,EAAgB0B,QAAA,IAAAA,IAAAA,EAAA,GACjC,IAAMC,GAAW,IAAAC,aAA4B5B,EAAOJ,SAC9Cj1B,IAASg3B,aAAQ,EAARA,EAAUh3B,QAAS,GAAK+2B,GAEvC,IAAAN,aAAYpB,EAAOJ,QAAS,CACxBj1B,MAAK,IAGTq1B,EAAOJ,QAAQ2B,cAAc,QAAQtV,YAAc,UAAYthB,CACnE,EAEQ,YAAAm2B,aAAR,WAGI,OAFY10B,SAASI,cAAc,MAGvC,EAwBQ,YAAA6zB,gBAAR,SAAwBL,GACpB,OAAOA,EACD,CACI,CACIz3B,GAAIy3B,EAAOz3B,GACXsxB,KAAMmG,EAAOnG,KACbjwB,MAAOo2B,EAAOJ,QAAQiC,QAAQC,mBAGtCx3B,CACV,EACJ,EAnJA,0GC9BA,UAGMqE,EAAS,EAAQ,MAWvB,cAGI,WAAYgiB,GAAZ,MACI,YAAMA,IAAM,YAHR,EAAAuD,IAAM6B,EAAMC,YAoCpB,EAAA+L,WAAa,SAACC,EAAqBhrB,GAC/BlN,OAAOooB,SAASC,MACX6P,GAAc,EAAKp4B,MAAMq4B,YAAY3B,YAActpB,EAAO,IAAMA,EAAKvI,KAAK,KAAO,GAC1F,EAEQ,EAAAyzB,oBAAsB,WAC1B,IAAI/P,EAAOroB,OAAOooB,SAASC,KACvBgQ,GAAUhQ,EAAOA,EAAKiQ,OAAO,GAAK,IAAI/sB,MAAM,KAC5C2sB,EAAaG,EAAO,GACpB9O,EACA2O,GAAc,EAAKrR,MAAMgD,QAAQ0L,QAAO,SAAAhM,GAAU,OAAAA,EAAOiN,WAAa0B,CAApB,IAAgC,GAElF3O,IACA,EAAKY,SAAS,CACVgO,YAAa5O,IAGjBvpB,OAAO0F,YAAW,WACd2yB,EAAOxoB,OAAO,EAAG,GACb0Z,EAAOgP,aACPhP,EAAOgP,YAAYF,EAE3B,GAAG,GAEX,EAEQ,EAAA5O,eAAiB,SAACF,GACtB,IAAMiP,EAAQjP,EAAOkP,WACfC,EAAY,EAAK54B,MAAMq4B,aAAe5O,EAE5C,OACI,uBAAKljB,IAAKmyB,EAAOvP,UAAWyP,EAAY7zB,EAAO8zB,WAAa9zB,EAAO+zB,cAC/D,uBAAK3P,UAAWpkB,EAAO2zB,MAAOtJ,QAAS,WAAM,SAAK+I,WAAW1O,EAAOiN,UAAvB,GACxCgC,GAEL,uBAAKvP,UAAWpkB,EAAOg0B,eACnB,uBAAK5P,UAAWpkB,EAAOuc,MAAOmI,EAAOE,eAAe,EAAKwO,cAIzE,EAxEI,EAAKn4B,MAAQ,CACTq4B,YAAa,EAAKtR,MAAMgD,QAAQ,IAGpC7pB,OAAOssB,iBAAiB,aAAc,EAAK8L,sBAC/C,CAoEJ,OA9EsC,oBAYlC,YAAAvK,kBAAA,WACI7uB,KAAKo5B,qBACT,EAEA,YAAAtK,qBAAA,WACI9tB,OAAO6sB,oBAAoB,aAAc7tB,KAAKo5B,oBAClD,EAEA,YAAAtM,OAAA,WACI,IAAM7C,GAAajqB,KAAK6nB,MAAMoC,WAAa,IAAM,IAAMpkB,EAAO+kB,SAE9D,OACI,uBAAKX,UAAWA,EAAWU,IAAK3qB,KAAKorB,KAChCprB,KAAK6nB,MAAMgD,QAAQ3lB,IAAIlF,KAAKyqB,gBAGzC,EAEA,YAAAmD,YAAA,SAAYkM,GACR,IAAI1O,EAAMprB,KAAKorB,IAAI3c,QACf2c,IACAA,EAAIa,MAAMH,MAAQV,EAAI2O,YAAcD,EAAa,KAEzD,EA2CJ,EA9EA,CAAsC7M,EAAMqD,mHCd5C,UASA,aAOI,WACqB0J,EACAd,EACAM,GAFA,KAAAQ,cAAAA,EACA,KAAAd,WAAAA,EACA,KAAAM,MAAAA,EALb,KAAAS,UAAYhN,EAAMC,WAMvB,CAwCP,OAtCI,YAAAsK,QAAA,WACI,OAAOx3B,KAAKk5B,UAChB,EAEA,YAAAzB,WAAA,SAAWtL,GACPnsB,KAAKmsB,OAASA,CAClB,EAEA,YAAAuL,QAAA,WACI13B,KAAKmsB,OAAS,IAClB,EAEA,YAAAsN,SAAA,WACI,OAAOz5B,KAAKw5B,KAChB,EAEA,YAAA/O,eAAA,SAAewO,GACX,OAAOhM,EAAMvpB,cAAiB1D,KAAKg6B,eAAe,EAAF,8BACzCh6B,KAAKk6B,kBAAkB,CACtBjB,WAAU,KACZ,CACFtO,IAAK3qB,KAAKi6B,YAElB,EAEA,YAAAV,YAAA,SAAYrrB,GACJlO,KAAKi6B,UAAUxrB,SAAWzO,KAAKi6B,UAAUxrB,QAAQ8qB,aACjDv5B,KAAKi6B,UAAUxrB,QAAQ8qB,YAAYrrB,EAE3C,EAIU,YAAAisB,aAAV,SAAuB3J,GACfxwB,KAAKi6B,UAAUxrB,SACf+hB,EAASxwB,KAAKi6B,UAAUxrB,QAEhC,EACJ,EAnDA,2GCTA,UACA,UAEA,UAIM5I,EAAS,EAAQ,MAMvB,cAII,WAAYgiB,GAAZ,MACI,YAAMA,IAAM,YAHR,EAAAuS,OAASnN,EAAMC,YACf,EAAAmN,KAAOpN,EAAMC,YAiDb,EAAAoN,SAAW,WACf,EAAKzS,MAAMoR,WAAW,KAAM,CAAC,EAAKmB,OAAO3rB,QAAQ5N,OACrD,EAhDI,EAAKC,MAAQ,CAAE2N,QAAS,UAC5B,CAgDJ,OAvD+C,oBAS3C,YAAAqe,OAAA,WACI,IAAIyN,EAAiB,UAAWv6B,KAAKc,MAAM2N,SAASwrB,UAChDI,EAAoB,KAKxB,OAJIE,IACAF,EAAOpN,EAAMvpB,cAAc62B,GAAgB,EAAF,8BAAOv6B,KAAK6nB,OAAK,CAAE8C,IAAK3qB,KAAKq6B,SAItE,gCACI,uBAAKpQ,UAAWpkB,EAAO20B,QACnB,kDAEA,0BAAQ7P,IAAK3qB,KAAKo6B,OAAQv5B,MAAOb,KAAKc,MAAM2N,QAAS6rB,SAAUt6B,KAAKs6B,WAC/D,IAAAhE,eAAc,WAAYpxB,KAAI,SAAAmC,GAAO,OAClC,0BAAQxG,MAAOwG,EAAKA,IAAKA,GACpB,UAAWA,GAAK6H,KAFa,MAO7CmrB,EAGb,EAEA,YAAA1C,cAAA,SAActK,GACNrtB,KAAKq6B,KAAK5rB,SAAWzO,KAAKq6B,KAAK5rB,QAAQkpB,eACvC33B,KAAKq6B,KAAK5rB,QAAQkpB,cAActK,EAExC,EAEA,YAAAkM,YAAA,SAAYrrB,GACR,IAAIusB,EAAWvsB,IAAQ,IAAAooB,eAAc,WAAYxlB,QAAQ5C,EAAK,KAAO,EAAIA,EAAK,GAAK,KAE/EusB,GAAYA,GAAYz6B,KAAKc,MAAM2N,QACnCzO,KAAKmrB,SAAS,CACV1c,QAASgsB,IAGbz6B,KAAK6nB,MAAMoR,WAAW,KAAM,CAACj5B,KAAKc,MAAM2N,SAEhD,EAKJ,EAvDA,CAA+Cwe,EAAMqD,mHCZrD,UAKA,cAII,oBACI,YAAM,UAAmB,MAAO,mBAAiB,IACrD,CAcJ,OApBiD,oBAQ7C,YAAA4J,kBAAA,SAAkBQ,GAAlB,WACI,OAAO,EAAP,8BACOA,GAAI,CACPC,UAAW,WACP,OAAO,EAAKxO,MAChB,GAER,EAEA,YAAAwL,cAAA,SAActK,GACVrtB,KAAKm6B,cAAa,SAAAF,GAAa,OAAAA,EAAUtC,cAActK,EAAxB,GACnC,EACJ,EApBA,CAJA,QAIiD,mGCJjD,cACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UAWMuN,EAA0C,CAC5CC,MAAO,CACH3rB,KAAM,iBAEV4rB,MAAO,CACH5rB,KAAM,iBACN+qB,UAAW,WAEfc,UAAW,CACP7rB,KAAM,iBACN+qB,UAAW,WAEfe,UAAW,CACP9rB,KAAM,aACN+qB,UAAW,WAEfgB,cAAe,CACX/rB,KAAM,iBACN+qB,UAAW,WAEfiB,OAAQ,CACJhsB,KAAM,uBACN+qB,UAAW,WAEf/C,OAAQ,CACJhoB,KAAM,gBACN+qB,UAAW,WAEfkB,MAAO,CACHjsB,KAAM,QACN+qB,UAAW,WAEfmB,OAAQ,CACJlsB,KAAM,SACN+qB,UAAW,WAEf3N,aAAc,CACVpd,KAAM,eACN+qB,UAAW,WAEfoB,aAAc,CACVnsB,KAAM,eACN+qB,UAAW,WAEfqB,KAAM,CACFpsB,KAAM,mBAId,UAAe0rB,8FCvEf,UAGA,UAEM/0B,EAAS,EAAQ,MAMvB,cAMI,WAAYgiB,GAAZ,MACI,YAAMA,IAAM,YAHR,EAAA0T,eAAiBtO,EAAMC,YAmDvB,EAAAsO,OAAS,WACb,EAAK3T,MAAM8S,YAAYc,SAAS,EAAKC,YACzC,EAgCQ,EAAAA,YAAc,WAKlB,IAJA,IAAIC,EAAY,EAAK9T,MAAM8S,YAAYiB,mBACnCd,EAAQa,GAAaA,EAAUE,oBAC/BC,EAAyB,GAEtBhB,GACHgB,EAAOt3B,KAAKs2B,GACZA,EAAQa,EAAUI,sBAGtB,EAAKC,UAAUF,EACnB,EAEQ,EAAAG,YAAc,SAACnB,GACnB,EAAKjT,MACA8S,YACAP,OAAOU,EAAMoB,eAAgB,EAAGpB,EAAMqB,cAAY,EAC3D,EAlGI,EAAKr7B,MAAQ,CACTg7B,OAAQ,KAEhB,CAgGJ,OA3G+C,oBAa3C,YAAAhP,OAAA,sBACI,OACI,2BACI,0BAAQoD,QAASlwB,KAAK07B,aAAW,cACjC,yBACI3K,KAAK,WACLtxB,GAAG,iBACHkrB,IAAK3qB,KAAKu7B,eACVrL,QAASlwB,KAAKw7B,SAElB,yBAAOY,QAAQ,kBAAgB,gBAC9Bp8B,KAAKc,MAAMg7B,OAAO52B,KAAI,SAAC41B,EAAO30B,GAAU,OACrC,uBACIkB,IAAKlB,EACL8jB,UAAWpkB,EAAOi1B,MAClBmB,YAAa,WAAM,SAAKA,YAAYnB,EAAjB,GAClBuB,EAAmBvB,GAChB,EAAKwB,YAAYxB,GAEjB,qBAAGyB,cAAe,WAAM,SAAKC,SAAS1B,EAAd,GACnB,EAAKwB,YAAYxB,IATO,IAgBrD,EAEA,YAAAnD,cAAA,SAActK,GAES,GAAfA,EAAEwK,WACa,GAAfxK,EAAEwK,YAEE73B,KAAKu7B,eAAe9sB,QAAQguB,QAC5Bz8B,KAAKw7B,SAELx7B,KAAKg8B,UAAU,IAG3B,EAMQ,YAAAQ,SAAR,SAAiB1B,GACbA,EAAM4B,0BACN18B,KAAK6nB,MAAM8S,YAAYgC,6BAClB38B,KAAKu7B,eAAe9sB,QAAQguB,SAC7Bz8B,KAAK07B,aAEb,EAEQ,YAAAY,YAAR,SAAoBxB,GAApB,WACQ8B,EAAcP,EAAmBvB,GACrC,OACI,uBACIyB,eAAgBK,GAAe,WAAO,SAAKJ,SAAS1B,EAAM,EAC1DtB,MACIoD,EACM,6BACA,qDAEV3Q,MAAO,CAAE4Q,UAAWD,EAAc,SAAW,WAgC7D,SAAwB9B,GACpB,OAAOA,EAAMoB,gBAAkBpB,EAAMqB,aAC/BrB,EAAMoB,eAAe/Y,aACrB,IAAA2Z,aAAYhC,EAAMoB,eAAgBpB,EAAMqB,cAAchwB,UAChE,CAnCiB4wB,CAAejC,IAAU,eAGtC,EAEQ,YAAAkB,UAAR,SAAkBF,GACd97B,KAAKmrB,SAAS,CACV2Q,OAAQA,GAEhB,EAoBJ,EA3GA,CAA+C7O,EAAMqD,WAmHrD,SAAS+L,EAAmBvB,GACxB,OAAOA,EAAMoB,gBAAkBpB,EAAMqB,eAAgB,IAAAa,gBAAelC,EAAMoB,eAC9E,yGChIA,UAEA,UAOMr2B,EAAS,EAAQ,MAEvB,cAGI,WAAYgiB,GAAZ,MACI,YAAMA,IAAM,YAHR,EAAAoV,WAAahQ,EAAMC,YA6CnB,EAAAgQ,cAAgB,WACpB,IAAID,EAAa,EAAKA,WAAWxuB,QAAQ5N,MACrCs8B,EAAY,GAEhB,IACIA,GAAY,IAAA7Q,cAAa2Q,GAC3B,MAAO5P,GACL8P,EAAY9P,EAGhB,EAAKlC,SAAS,CACV8R,WAAYA,EACZE,UAAWA,GAEnB,EAvDI,EAAKr8B,MAAQ,CACTm8B,WAAY,GACZE,UAAW,KAEnB,CAoDJ,OA7D8C,oBAW1C,YAAArQ,OAAA,WACI,OACI,gCACI,0CACiB,IACb,yBACIiE,KAAK,QACLpG,IAAK3qB,KAAKi9B,WACV3C,SAAUt6B,KAAKk9B,cACfr8B,MAAOb,KAAKc,MAAMm8B,cAG1B,2BACA,0CAEI,uBAAKhT,UAAWpkB,EAAOu3B,iBACnB,uBACInT,UAAWpkB,EAAOC,OAClBmmB,MAAO,CAAEwG,gBAAiBzyB,KAAKc,MAAMm8B,gBAIjD,yCACe,4BAAOj9B,KAAKc,MAAMq8B,WAC7B,uBAAKlT,UAAWpkB,EAAOw3B,gBACnB,uBACIpT,UAAWpkB,EAAOC,OAClBmmB,MAAO,CAAEwG,gBAAiBzyB,KAAKc,MAAMq8B,eAM7D,EAiBJ,EA7DA,CAA8ClQ,EAAMqD,mHCXpD,UAiBMzqB,EAAS,EAAQ,MAEvB,cAaI,WAAYgiB,SAAZ,EACI,YAAMA,IAAM,YAbR,EAAAyV,WAAarQ,EAAMC,YACnB,EAAAf,OAAS,EAAKtE,MAAM8S,YACpB,EAAA4C,WAAatQ,EAAMC,YACnB,EAAAsQ,WAAavQ,EAAMC,YACnB,EAAAuQ,UAAYxQ,EAAMC,YAClB,EAAAwQ,UAAYzQ,EAAMC,YAClB,EAAAyQ,gBAAa,MACjB,GAA8B,SAC9B,KAAsC,kBACtC,KAAsC,qBAmBlC,EAAAC,gBAAkB,WACtB,EAAKzS,SAAS,CACV0S,UAAW,EAAK1R,OAAS,EAAKA,OAAO2R,sBAAwB,MAErE,EAEQ,EAAAC,cAAgB,WACpB,IAAMC,EAAY,EAAKV,WAAW7uB,QAAQ5N,MAC1C,GAAIm9B,EACA,GAAI,EAAKl9B,MAAMm9B,uBAAwB,CACnC,IAGM7D,GAHA8D,EAAkB,EAAK/R,OACxB2J,cACA2C,cAAc,YAAYuF,EAAS,OACP,EAAK7R,OAAOiO,OAAO8D,GAAmB,KACvE,EAAK/S,SAAS,CACV0S,UAAWzD,EAAS,EAAKjO,OAAO2R,sBAAwB,KACxDK,iBAAkB/D,EAAS,cAAgB,wBAE5C,CACH,IAAM8D,EAAkB,EAAK/R,OACxB2J,cACA2C,cAAc,cAAcuF,EAAS,MACpCI,EAAc,EAAKC,iBACnBjE,EACF8D,GAAmBE,EACb,EAAKjS,OAAOiO,OAAO8D,EAAiBE,GACpC,KACV,EAAKjT,SAAS,CACV0S,UAAWzD,EAAS,EAAKjO,OAAO2R,sBAAwB,KACxDK,iBAAkB/D,EAAS,cAAgB,oBAI3D,EAEQ,EAAAiE,eAAiB,WACrB,OACI,EAAKd,WAAW9uB,QAAQ5N,OACxB,EAAK28B,WAAW/uB,QAAQ5N,OACxB,EAAK48B,UAAUhvB,QAAQ5N,OACvB,EAAK68B,UAAUjvB,QAAQ5N,MAEa,CAChCy9B,UAAW,CACP10B,EAAG8C,SAAS,EAAK6wB,WAAW9uB,QAAQ5N,OACpCgJ,EAAG6C,SAAS,EAAK8wB,WAAW/uB,QAAQ5N,QAExC09B,SAAU,CACN30B,EAAG8C,SAAS,EAAK+wB,UAAUhvB,QAAQ5N,OACnCgJ,EAAG6C,SAAS,EAAKgxB,UAAUjvB,QAAQ5N,SAKxC,IACX,EAEQ,EAAA29B,oBAAsB,WAC1B,OACI,gCACI,uBAAKvU,UAAWpkB,EAAO44B,eACnB,wBAAMxU,UAAWpkB,EAAO2zB,OAAK,yBAC7B,8CAAsB,EAAKmE,cAAc,EAAK78B,MAAM+8B,UAAU9M,OAC9D,6CAAqB,GAAG,EAAKjwB,MAAM+8B,UAAUa,iBACd,IAA9B,EAAK59B,MAAM+8B,UAAU9M,MAClB,gCACI,0CACA,yCAEI,mCAAW,EAAKjwB,MAAM+8B,UAAUO,YAAYE,UAAU10B,GACtD,mCAAW,EAAK9I,MAAM+8B,UAAUO,YAAYE,UAAUz0B,IAE1D,wCAEI,mCAAW,EAAK/I,MAAM+8B,UAAUO,YAAYG,SAAS30B,GACrD,mCAAW,EAAK9I,MAAM+8B,UAAUO,YAAYG,SAAS10B,KAIlC,IAA9B,EAAK/I,MAAM+8B,UAAU9M,MAClB,gCACI,wCAAgB,EAAKjwB,MAAM+8B,UAAUc,MAAMl/B,MAMnE,EAEQ,EAAAm/B,gBAAkB,SAACC,EAAepC,EAAkBnC,GACxD,OACI,gCACI,2BACI,6BACI,yBACIrQ,UAAWpkB,EAAOi5B,MAClB/N,KAAK,QACL0L,QAASA,EACTnC,SAAUA,IAEbuE,IAKrB,EAEQ,EAAAE,sBAAwB,WAC5B,EAAK5T,SAAS,CACV8S,wBAAyB,EAAKn9B,MAAMm9B,wBAE5C,EAEQ,EAAAe,uBAAyB,SAC7BH,EACAI,GAEA,OACI,gCACI,2BACI,6BACKJ,EACD,yBACI5U,UAAWpkB,EAAOu4B,YAClBt1B,IAAI,IACJioB,KAAK,SACLpG,IAAKsU,MAM7B,EAEQ,EAAAC,oBAAsB,WAC1B,EAAK/T,SAAS,CACVgU,cAAe,EAAKr+B,MAAMq+B,cAElC,EAxJI,EAAKr+B,MAAQ,CACT+8B,UAAW,KACXM,iBAAkB,GAClBF,wBAAwB,EACxBkB,cAAc,IAEtB,CA4MJ,OAjO8C,oBAuB1C,YAAAxH,cAAA,SAActK,GACS,IAAfA,EAAEwK,WAAkD73B,KAAKc,MAAMq+B,cAC/Dn/B,KAAK49B,iBAEb,EA8IA,YAAA9Q,OAAA,WACI,OACI,iCACM9sB,KAAKc,MAAMq+B,cACT,wBAAMlV,UAAWpkB,EAAO2zB,OAAK,oDAIhCx5B,KAAKc,MAAM+8B,WAAa,4BAAO79B,KAAKw+B,uBACpCx+B,KAAKc,MAAMq+B,cACR,uBAAKlV,UAAWpkB,EAAO44B,eACnB,2BACI,wBAAMxU,UAAWpkB,EAAO2zB,OAAK,wBAC5Bx5B,KAAK4+B,gBACF,QACA5+B,KAAKc,MAAMm9B,uBACXj+B,KAAK++B,uBAER/+B,KAAK4+B,gBACF,SACC5+B,KAAKc,MAAMm9B,uBACZj+B,KAAK++B,uBAET,yBACI9U,UAAWpkB,EAAOi5B,MAClBM,YAAY,mBACZrO,KAAK,QACLpG,IAAK3qB,KAAKs9B,cAEZt9B,KAAKc,MAAMm9B,wBACT,2BACI,4CACCj+B,KAAKg/B,uBAAuB,eAAgBh/B,KAAKu9B,YACjDv9B,KAAKg/B,uBAAuB,eAAgBh/B,KAAKw9B,YACjDx9B,KAAKg/B,uBAAuB,cAAeh/B,KAAKy9B,WAChDz9B,KAAKg/B,uBAAuB,cAAeh/B,KAAK09B,aAI7D,2BAAM19B,KAAKc,MAAMq9B,kBACjB,2BACKn+B,KAAKs9B,YACF,0BAAQrT,UAAWpkB,EAAO8yB,OAAQzI,QAASlwB,KAAK+9B,eAAa,oBAQ7E,0BAAQ9T,UAAWpkB,EAAO8yB,OAAQzI,QAASlwB,KAAKk/B,qBAC3Cl/B,KAAKc,MAAMq+B,aAAe,qBAAuB,sBAIlE,EACJ,EAjOA,CAA8ClS,EAAMqD,mHCnBpD,UAIMzqB,EAAS,EAAQ,MAUvB,cAMI,WAAYgiB,GAAZ,MACI,YAAMA,IAAM,YAHR,EAAAxO,KAAO4T,EAAMC,YAiIb,EAAAgD,QAAU,WACd,IAAI/D,EAAS,EAAKtE,MAAM8S,YACxB,GAA2B,GAAvB,EAAK75B,MAAMu+B,SAAmC,CAC9C,IAAM,EAAiC,CACnCA,SAAU,EAAKv+B,MAAMu+B,SACrBC,aAAc,EAAKx+B,MAAMw+B,aACzBC,iBAAkB,EAAKz+B,MAAMy+B,iBAC7BC,gBAAiB,EAAK1+B,MAAM0+B,iBAEhCrT,EAAOiL,iBAAgB,WAAM,OAAAjL,EAAO8O,cAAc,EAAKn6B,MAAMxB,QAAS,EAAzC,IAErC,EAxII,EAAKwB,MAAQ,CACTxB,QAAS,GACT+/B,SAAU,EACVC,cAAc,EACdC,kBAAkB,EAClBC,iBAAiB,IAEzB,CAkIJ,OAjJ+C,oBAiB3C,YAAA1S,OAAA,sBACI,OACI,6BACI,0BACI,0CACA,0BACI,4BACI7C,UAAWpkB,EAAO8T,KAClBgR,IAAK3qB,KAAKqZ,KACVxY,MAAOb,KAAKc,MAAMxB,QAClBg7B,SAAU,WAAM,SAAKnP,SAAS,CAAE7rB,QAAS,EAAK+Z,KAAK5K,QAAQ5N,OAA3C,MAI5B,0BACI,uCACA,0BACI,2BACI,yBACIkwB,KAAK,QACL7hB,KAAK,WACLutB,QAAgC,GAAvBz8B,KAAKc,MAAMu+B,SACpB5/B,GAAG,cACHywB,QAAS,WAAM,SAAKuP,YAAY,EAAjB,IAEnB,yBAAOrD,QAAQ,eAAa,UAEhC,2BACI,yBACIrL,KAAK,QACL7hB,KAAK,WACLutB,QAAgC,GAAvBz8B,KAAKc,MAAMu+B,SACpB5/B,GAAG,YACHywB,QAAS,WAAM,SAAKuP,YAAY,EAAjB,IAEnB,yBAAOrD,QAAQ,aAAW,QAE9B,2BACI,yBACIrL,KAAK,QACL7hB,KAAK,WACLutB,QAAgC,GAAvBz8B,KAAKc,MAAMu+B,SACpB5/B,GAAG,uBACHywB,QAAS,WAAM,SAAKuP,YAAY,EAAjB,IAEnB,yBAAOrD,QAAQ,wBAAsB,mBAEzC,2BACI,yBACIrL,KAAK,QACL7hB,KAAK,WACLutB,QAAgC,GAAvBz8B,KAAKc,MAAMu+B,SACpB5/B,GAAG,gBACHywB,QAAS,WAAM,SAAKuP,YAAY,EAAjB,IAEnB,yBAAOrD,QAAQ,iBAAe,cAI1C,0BACI,2CACA,0BACI,yBACIrL,KAAK,WACLtxB,GAAG,qBACHg9B,QAASz8B,KAAKc,MAAMw+B,aACpBpP,QAAS,WACL,SAAK/E,SAAS,CAAEmU,cAAe,EAAKx+B,MAAMw+B,cAA1C,IAGR,yBAAOlD,QAAQ,sBAAoB,mBAG3C,0BACI,4CACA,0BACI,yBACIrL,KAAK,WACLtxB,GAAG,yBACHg9B,QAASz8B,KAAKc,MAAMy+B,iBACpBrP,QAAS,WACL,SAAK/E,SAAS,CAAEoU,kBAAmB,EAAKz+B,MAAMy+B,kBAA9C,IAGR,yBAAOnD,QAAQ,0BAAwB,uBAG/C,0BACI,6CACA,0BACI,yBACIrL,KAAK,WACLtxB,GAAG,kBACHg9B,QAASz8B,KAAKc,MAAM0+B,gBACpBtP,QAAS,WACL,SAAK/E,SAAS,CAAEqU,iBAAkB,EAAK1+B,MAAM0+B,iBAA7C,IAGR,yBAAOpD,QAAQ,mBAAiB,wBAGxC,0BACI,sBAAIsD,QAAS,EAAGzV,UAAWpkB,EAAO85B,WAC9B,0BAAQzP,QAASlwB,KAAKkwB,SAAO,oBAKjD,EAEQ,YAAAuP,YAAR,SAAoBJ,GAChBr/B,KAAKmrB,SAAS,CACVkU,SAAUA,GAElB,EAcJ,EAjJA,CAA+CpS,EAAMqD,mHCdrD,UAGA,UACA,UACA,UAEMzqB,EAAS,EAAQ,MAMvB,cASI,WAAYgiB,GAAZ,MACI,YAAMA,IAAM,YATR,EAAA+X,WAAa3S,EAAMC,YACnB,EAAA7T,KAAO4T,EAAMC,YACb,EAAA2S,YAAc5S,EAAMC,YACpB,EAAA4S,WAAa7S,EAAMC,YACnB,EAAA6S,WAAa9S,EAAMC,YACnB,EAAA8S,aAAe/S,EAAMC,YACrB,EAAA+S,iBAAmBhT,EAAMC,YA0DzB,EAAA+K,aAAe,WACnB,IAAM2H,EAAa,EAAKA,WAAWnxB,QAAQ5N,MACrCgO,EAAOvL,SAASI,cAAc,QACpCmL,EAAKsT,WAAY,IAAAuK,oBAAmB,EAAKrT,KAAK5K,QAAQ5N,OACtD,IAAMq/B,EAAU,EAAKJ,WAAWrxB,QAAQguB,QAClCsD,EAAa,EAAKA,WAAWtxB,QAAQguB,QACrCuD,EAAe,EAAKA,aAAavxB,QAAQguB,QACzCwD,EAAmB,EAAKA,iBAAiBxxB,QAAQguB,QAEvD,GAAI5tB,EAAM,CACN,IAAM,EAAS,EAAKgZ,MAAM8S,YAE1B,EAAOvD,iBAAgB,YACnB,IAAAa,cACI,EACA2H,EACA/wB,EACAqxB,EACAH,OACAv+B,EACAw+B,EACAC,EAER,IAER,EAEQ,EAAAE,cAAgB,WACpB,IAAMC,GAAW,IAAAnJ,qBAEXoJ,EADQ,EAAKxY,MAAM8S,YAAY2F,cAAcF,GACzBl7B,KAAI,SAAA2J,GAAQ,WAAAsoB,sBAAqBtoB,EAArB,IAEtC,EAAKsc,SAAS,CACVoV,SAAUF,EAAY9J,QAAO,SAAAlJ,GAAK,QAAEA,CAAF,KAE1C,EAzFI,EAAKvsB,MAAQ,CACTy/B,SAAU,KAElB,CAuFJ,OArG8C,oBAgB1C,YAAAzT,OAAA,WACI,OACI,gCACI,oCACU,yBAAOiE,KAAK,QAAQpG,IAAK3qB,KAAK4/B,cAExC,oCACU,4BAAU3V,UAAWpkB,EAAO26B,SAAU7V,IAAK3qB,KAAKqZ,QAE1D,oCAEI,yBACI0X,KAAK,QACL7hB,KAAK,cACLyb,IAAK3qB,KAAK6/B,YACVpgC,GAAG,gBAEP,yBAAO28B,QAAQ,eAAa,UAC5B,yBAAOrL,KAAK,QAAQ7hB,KAAK,cAAcyb,IAAK3qB,KAAK8/B,WAAYrgC,GAAG,eAChE,yBAAO28B,QAAQ,cAAY,UAE/B,2BACI,yBAAO38B,GAAG,WAAWsxB,KAAK,WAAWpG,IAAK3qB,KAAK+/B,aAC/C,yBAAO3D,QAAQ,YAAU,cAE7B,2BACI,yBAAO38B,GAAG,eAAesxB,KAAK,WAAWpG,IAAK3qB,KAAKggC,eACnD,yBAAO5D,QAAQ,gBAAc,mCAEjC,2BACI,yBAAO38B,GAAG,mBAAmBsxB,KAAK,WAAWpG,IAAK3qB,KAAKigC,mBACvD,yBAAO7D,QAAQ,oBAAkB,uBAErC,2BACI,0BAAQlM,QAASlwB,KAAKi4B,cAAY,kBAEtC,2BACA,2BACI,0BAAQ/H,QAASlwB,KAAKmgC,eAAa,qBAEvC,2BACKngC,KAAKc,MAAMy/B,SAASr7B,KAAI,SAAAgyB,GAAU,OAC/B,gBAACuJ,EAAY,CAACp5B,IAAK6vB,EAAOz3B,GAAIy3B,OAAQA,GADP,KAMnD,EAsCJ,EArGA,CAA8CjK,EAAMqD,WAuGpD,SAASmQ,EAAa,OAAEvJ,EAAM,SACtBwJ,EAAa,GACXzE,EAAchP,EAAM4E,aAAY,WAClC6O,EAAaxJ,EAAOJ,QAAQ7K,MAAMwG,gBAClCyE,EAAOJ,QAAQ7K,MAAMwG,gBAAkB,MAC3C,GAAG,CAACyE,IAEEyJ,EAAa1T,EAAM4E,aAAY,WACjCqF,EAAOJ,QAAQ7K,MAAMwG,gBAAkBiO,CAC3C,GAAG,CAACxJ,IAEJ,OACI,uBAAK+E,YAAaA,EAAa0E,WAAYA,YAChCzJ,EAAOnG,KACd,kCACKmG,EAAOz3B,GACZ,wCACWy3B,EAAO6I,WAAa,OAAS,QACxC,2BAGZ,wGCzIA,UAGA,UAMA,cAGI,WAAYlY,GAAZ,MACI,YAAMA,IAAM,YAHR,EAAA8L,IAAM1G,EAAMC,YA4BZ,EAAA0T,YAAc,WAClB,IAAIv0B,GAAQ,IAAAw0B,WAAU,EAAKlN,IAAIllB,QAAQ5N,OACvC,EAAKsqB,SAAS,CACV2V,SAAUz0B,GAElB,EA7BI,EAAKvL,MAAQ,CAAEggC,cAAUt/B,IAC7B,CA6BJ,OAnC2C,oBAQvC,YAAAsrB,OAAA,WACQ,MAAyC9sB,KAAKc,MAAMggC,UAAa,CAAC,EAAhEC,EAAM,SAAEC,EAAW,cAAEC,EAAa,gBACxC,OACI,gCACI,mCACS,yBAAOlQ,KAAK,QAAQpG,IAAK3qB,KAAK2zB,MAAQ,IAC3C,0BAAQzD,QAASlwB,KAAK4gC,aAAW,eAEZ,OAAxB5gC,KAAKc,MAAMggC,SACR,0CAEA,gCACI,sCAAcC,GAAU,IACxB,4CAAoBC,GAAe,IACnC,8CAAsBC,GAAiB,KAK3D,EAQJ,EAnCA,CAA2ChU,EAAMqD,mHCTjD,UAGA,UAOMzqB,EAAS,EAAQ,MAMvB,cAII,WAAYgiB,GAAZ,MACI,YAAMA,IAAM,YAqBR,EAAAqZ,mBAAqB,WACzB,EAAK/V,SAAS,CACVgW,QAAS,EAAKtZ,MAAM8S,YAAYuG,sBAExC,EAEQ,EAAAE,SAAW,WACf,EAAKjW,SAAS,CACVgW,QAAS,IAEjB,EA9BI,EAAKrgC,MAAQ,CAAEqgC,QAAS,KAC5B,CA8BJ,OArCoD,oBAShD,YAAArU,OAAA,WACI,IAAMX,EAASnsB,KAAK6nB,MAAM8S,YAC1B,OACI,gCACI,2BACI,0BAAQzK,QAASlwB,KAAKkhC,oBAAkB,4BACxC,0BAAQhR,QAASlwB,KAAKohC,UAAQ,UAElC,2BACKphC,KAAKc,MAAMqgC,QAAQj8B,KAAI,SAACg2B,EAAQx7B,GAAM,OACnC,gBAAC2hC,EAAM,CAACh6B,IAAK3H,EAAGw7B,OAAQA,EAAQ/O,OAAQA,EAAQhmB,MAAOzG,GADpB,KAMvD,EAaJ,EArCA,CAAoDutB,EAAMqD,WAuC1D,SAAS+Q,EAAO,OAAEnG,EAAM,SAAE/O,EAAM,SAAEhmB,EAAK,QAC7Bm7B,EAAerU,EAAM4E,aAAY,WACnC,IAAMiK,GAAS,IAAAyF,kCAAiCrG,GAChD,GAAIY,EAAOn8B,OAAS,EAAG,CACnB,IAAM6hC,GAAQ,IAAA1E,aACVhB,EAAO,GAAGI,eAAc,EAExBJ,EAAOA,EAAOn8B,OAAS,GAAGw8B,cAAY,GAG1ChQ,EAAOyJ,QACPzJ,EAAOiO,OAAOoH,GAEtB,GAAG,CAACtG,IAEJ,OACI,2BACI,2BACA,2BACI,mCAAW/0B,IAEf,yCACe,gBAACs7B,EAAQ,CAAC5yB,KAAMqsB,EAAOwG,YAEtC,2CACiB,gBAACD,EAAQ,CAAC5yB,KAAMqsB,EAAOyG,cAExC,0CACgB,gBAACF,EAAQ,CAAC5yB,KAAMqsB,EAAO0G,aAEvC,+CACqB,0BAAQ1R,QAASoR,GAAY,WAI9D,CAEA,SAASG,EAAS,OAAE5yB,EAAI,OACdgzB,EAAY5U,EAAM4E,aAAY,YAC5B,IAAAiQ,gBAAejzB,EAAM,iBACrBA,EAAKob,WAAa,IAAMpkB,EAAOk8B,MAEvC,GAAG,CAAClzB,IAEEmzB,EAAW/U,EAAM4E,aAAY,WAC/B,IAAI,IAAAiQ,gBAAejzB,EAAM,eAAgB,CACrC,IAAIozB,EAAapzB,EAAKob,UAAU1d,MAAM,KACtC01B,EAAaA,EAAW1L,QAAO,SAAArnB,GAAQ,OAAAA,GAAQrJ,EAAOk8B,KAAf,IACvClzB,EAAKob,UAAYgY,EAAWt8B,KAAK,KAAKqS,OAE9C,GAAG,CAACnJ,IAEJ,OAAOA,GACH,IAAAizB,gBAAejzB,EAAM,eACjB,wBAAMotB,YAAa4F,EAAWlB,WAAYqB,EAAU/X,UAAWpkB,EAAOq8B,aACjE,IAAAC,cAAatzB,OAAQA,EAAKpP,IAG/B,wBAAMwqB,UAAWpkB,EAAOq8B,YAAarzB,EAAKuzB,UAAU9I,OAAO,EAAG,KAElE,IACR,yGCpHA,UAEA,UACA,UAEMzzB,EAAS,EAAQ,MAEvB,gFACY,EAAAiQ,OAASmX,EAAMC,YACf,EAAApnB,OAASmnB,EAAMC,YACf,EAAA6N,UAAY,IAAI,EAAAsH,cAqBhB,EAAAC,OAAS,WACb,IAAM1gB,EAAM,EAAK2gB,kBAEb3gB,aAAG,EAAHA,EAAKQ,QACL,EAAK2Y,UAAUyH,4BAA4B5gB,GAC3C,EAAK9b,OAAO2I,QAAQ5N,MAAQ+gB,EAAIQ,KAAKD,UAE7C,EAEQ,EAAA4C,SAAW,WACf,IAAMnD,EAAM,EAAK2gB,kBAEb3gB,aAAG,EAAHA,EAAKQ,QACL,EAAK2Y,UAAUhW,SAASnD,EAAIQ,KAAKgD,YACjC,EAAKtf,OAAO2I,QAAQ5N,MAAQ+gB,EAAIQ,KAAKD,UAE7C,GAQJ,QAhD2C,oBAKvC,YAAA2K,OAAA,WACI,OACI,gCACI,mCACA,4BAAU7C,UAAWpkB,EAAO26B,SAAU7V,IAAK3qB,KAAK8V,SAChD,2BACI,0BAAQmU,UAAWpkB,EAAO8yB,OAAQzI,QAASlwB,KAAKsiC,QAAM,cAGtD,0BAAQrY,UAAWpkB,EAAO8yB,OAAQzI,QAASlwB,KAAK+kB,UAAQ,aAI5D,oCACA,4BAAUkF,UAAWpkB,EAAO26B,SAAU7V,IAAK3qB,KAAK8F,SAG5D,EAoBQ,YAAAy8B,eAAR,WACI,IAAME,EAAS,IAAI1mB,UACb1C,GAAO,IAAAqT,oBAAmB1sB,KAAK8V,OAAOrH,QAAQ5N,QAAU,GAE9D,OADY4hC,EAAOzgB,gBAAgB3I,EAAM,YAE7C,EACJ,EAhDA,CAA2C4T,EAAMqD,yHCPjD,UAGA,UAOMoS,IAAgB,MAClB,GAAiB,OACjB,KAAoB,UACpB,KAAsB,eAG1B,SAASC,EAAc9a,GACX,IAAA1S,EAA2B0S,EAAK,KAA1BsE,EAAqBtE,EAAK,OAAlByS,EAAazS,EAAK,SAClCkJ,EAAO5b,EAAKytB,cAEZ3G,EAAchP,EAAM4E,aAAY,WAClC,IAAMhjB,EAAOsG,EAAK0tB,UAClB1W,EAAOiO,OAAOvrB,EAClB,GAAG,CAACgZ,EAAM1S,KAAMgX,IAEV2W,EAAY7V,EAAM4E,aAAY,WAChC1c,EAAK4tB,eAAe,GACpBzI,GACJ,GAAG,CAACzS,EAAM1S,KAAMgX,IACV6W,EAAa/V,EAAM4E,aAAY,WACjC1c,EAAK4tB,eAAe,GACpBzI,GACJ,GAAG,CAACzS,EAAM1S,KAAMgX,IACV8W,EAAWhW,EAAM4E,aAAY,WAC/B1c,EAAK+tB,SACL5I,GACJ,GAAG,CAACzS,EAAM1S,KAAMgX,IACVgX,EAAYlW,EAAM4E,aAAY,WAChC1c,EAAKiuB,UACL9I,GACJ,GAAG,CAACzS,EAAM1S,KAAMgX,IAEhB,OACI,2BACI,0BAAQ+D,QAAS4S,GAAS,MAC1B,0BAAQ5S,QAAS8S,GAAU,KAC3B,0BAAQ9S,QAASiT,GAAS,MAC1B,0BAAQjT,QAAS+S,GAAQ,MACzB,wBACIhX,MAAO,CACHoX,WAA8B,GAAlBluB,EAAKmuB,WAAkB,KACnCC,QAAS,eACTC,OAAQ,WAEZvH,YAAaA,GACZyG,EAAiB3R,IAIlC,CAEA,kBACI,WAAYlJ,GAAZ,MACI,YAAMA,IAAM,YAuBR,EAAA4b,YAAc,WAClB,IAAMtX,EAAS,EAAKtE,MAAM8S,YACpB9rB,EAAOsd,EAAOuX,qBACdxI,EAAS/O,EAAO+U,qBAAqB,GACrC/F,EAAQtsB,GACR,IAAA80B,uBAAsBzI,GAAQ,EAAgCrsB,GAC9D,KAEN,EAAKsc,SAAS,CACVgQ,MAAOA,GAEf,EAEQ,EAAAyI,YAAc,WAClB,IAAMzX,EAAS,EAAKtE,MAAM8S,YAC1BxO,EAAOiL,iBAAgB,mBACH,QAAhB,IAAKt2B,MAAMq6B,aAAK,SAAE0I,UACd1X,EAAO2X,iBAAiB,gCACxB3X,EAAO2X,iBAAiB,qBAE5B3X,EAAOyJ,QACPzJ,EAAOiO,OAAgC,QAAzB,IAAKt5B,MAAMq6B,MAAM/E,MAAM,UAAE,eAAEyM,UAAW,EACxD,IACA,EAAKY,aACT,EAEQ,EAAAnJ,SAAW,WACf,EAAKvO,aACT,EAlDI,EAAKjrB,MAAQ,CACTq6B,MAAO,OAEf,CAgDJ,OAtDuC,oBAQnC,YAAArO,OAAA,sBACUX,EAASnsB,KAAK6nB,MAAM8S,YAC1B,OACI,gCACI,0BAAQzK,QAASlwB,KAAKyjC,aAAW,4BAChCzjC,KAAKc,MAAMq6B,OACR,gCACKn7B,KAAKc,MAAMq6B,MAAM/E,MAAMlxB,KAAI,SAAAiQ,GAAQ,OAChC,gBAACwtB,EAAa,CAACxtB,KAAMA,EAAMgX,OAAQA,EAAQmO,SAAU,EAAKA,UAD1B,IAGpC,0BAAQpK,QAASlwB,KAAK4jC,aAAW,eAKrD,EA+BJ,EAtDA,CAAuC3W,EAAMqD,kDCqG7C,SAAgByT,EACZC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,MAAO,CACHC,eAAgBX,EAChBY,kBAAmBX,EACnBY,oBAAqBX,EACrBY,cAAeX,EACfK,YAAaA,EACbC,WAAYA,EACZM,iBAAkBX,EAClBY,aAAcX,EACdK,eAAgBA,EAChBO,eAAgBX,EAChB5U,kBAAmB6U,EACnBW,eAAe,EAEvB,iGA3La,EAAAC,kBAGT,CACAC,QAAS,SAACr5B,EAAOkxB,GACb,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAkxB,EACAlxB,EAXJ,EAaJs5B,8BAA+B,SAACt5B,EAAOkxB,GACnC,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAkxB,EACAlxB,EAXJ,EAaJu5B,oBAAqB,SAACv5B,EAAOkxB,GACzB,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAkxB,EACAlxB,EAXJ,EAaJw5B,KAAM,SAACx5B,EAAOkxB,GACV,OAAA8G,EACIh4B,EACAA,EACA,MACA,GACA,GACA,GACA,EAAK,EAEL,KACAkxB,EACAlxB,EAXJ,EAaJy5B,mCAAoC,SAACz5B,EAAOkxB,GACxC,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAkxB,EACAlxB,EAXJ,EAaJ05B,SAAU,SAAC15B,EAAOkxB,GACd,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAkxB,EACAlxB,EAXJ,EAaJ25B,mBAAoB,SAAC35B,EAAOkxB,GACxB,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAkxB,EACAlxB,EAXJ,EAaJ45B,gBAAiB,SAAC55B,EAAOkxB,GACrB,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAkxB,EACAlxB,EAXJ,EAaJ65B,gBAAiB,SAAC75B,EAAOkxB,GACrB,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAEL,KACAkxB,EACAlxB,EAXJ,EAaJ85B,gBAAiB,SAAC95B,EAAOkxB,GACrB,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAELkxB,EACA,KACAlxB,EAXJ,EAaJ+5B,MAAO,SAAC/5B,EAAOkxB,GACX,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EAAK,EAELkxB,EACA,KACAlxB,EAXJ,GAeR,kHClKA,UACA,UAEA,UACA,UACA,UACA,UAiBMg6B,EAGI,UAYJlgC,EAAS,EAAQ,MAEvB,SAASmgC,EAAUne,GAMP,IAAAoe,EAA4Bpe,EAAK,KAA3BsE,EAAsBtE,EAAK,OAAnB6R,EAAc7R,EAAK,UACnCoU,EAAchP,EAAM4E,aAAY,WAClC1F,EAAOiO,OAAO6L,EAAKC,GACvB,GAAG,CAACD,EAAM9Z,IACJ+D,EAAUjD,EAAM4E,aAAY,WAC1BoU,EAAKC,IACLre,EAAMse,YAAYF,EAAKC,GAE/B,GAAG,CAACD,EAAM9Z,IAEJxS,EAAOssB,EAAKC,IACZ,IAAA/D,cAAa8D,EAAKC,IAClBD,EAAKG,WAAaH,EAAKI,SACvB,IACAJ,EAAKG,UACL,IACAH,EAAKI,SACL,IACA,GAEN,OACI,uBACIpa,MAAO,CAAEuX,OAAQ,UAAW8C,OAAQ5M,EAAY,kBAAoB,IACpEuC,YAAaA,EACb/L,QAASA,GACRvW,EAGb,CAEA,kBAMI,WAAYkO,GAAZ,MACI,YAAMA,IAAM,YANR,EAAA0e,QAAUtZ,EAAMC,YAChB,EAAAyX,eAAiB1X,EAAMC,YACvB,EAAA0X,kBAAoB3X,EAAMC,YAC1B,EAAA2X,oBAAsB5X,EAAMC,YA2U5B,EAAAsZ,aAAe,WACnB,IACM33B,EADS,EAAKgZ,MAAM8S,YACN+I,mBAAmB,SACjCtI,EAASvsB,EAAO,IAAI,EAAA43B,OAAO53B,GAAQ,KAEzC,EAAKsc,SAAS,CAAEiQ,OAAM,GAC1B,EAEQ,EAAA+K,YAAc,SAACD,GACnB,IAAM9K,EAAS,IAAI,EAAAqL,OAAOP,GAC1B,EAAK/a,SAAS,CAAEiQ,OAAM,GAC1B,EA0GQ,EAAAsL,kBAAoB,WACxB,IAAMC,GAAS,IAAA5C,mBACX,EAAKY,eAAel2B,QAAQ5N,YAASW,EACrC,EAAKojC,kBAAkBn2B,QAAQ5N,YAASW,EACxC,EAAKqjC,oBAAoBp2B,QAAQ5N,YAASW,GAG9C,EAAKV,MAAMs6B,OAAOwL,YAAYD,GAC9B,EAAK5a,aACT,EAEQ,EAAA8a,YAAc,WAClB,IAAM1a,EAAS,EAAKtE,MAAM8S,YAC1BxO,EAAOiL,iBAAgB,WACnB,IAAMgE,EAAS,EAAKt6B,MAAMs6B,OACpB8K,EAAK9K,EAAO0L,eAClB1L,EAAOyI,YACP1X,EAAOyJ,QACPzJ,EAAOiO,OAAO8L,EAAI,EACtB,IACA,EAAKM,cACT,EAjdI,EAAK1lC,MAAQ,CACTs6B,OAAQ,OAEhB,CA+cJ,OA1dwC,oBAapC,YAAAtO,OAAA,wBACUX,EAASnsB,KAAK6nB,MAAM8S,YACpBoM,EAA6B,QAAjB,EAAA/mC,KAAKc,MAAMs6B,cAAM,eAAE0L,eACrC,OACI,gCACI,0BAAQ5W,QAASlwB,KAAKwmC,cAAY,6BACjCxmC,KAAKc,MAAMs6B,QACR,gCACI,yBACInP,MAAO,CACHqa,OAAQ,oBAEZ,6BACKtmC,KAAKc,MAAMs6B,OAAO4L,MAAM9hC,KAAI,SAAC+hC,EAAKC,GAAa,OAC5C,sBAAI7/B,IAAK,MAAQ6/B,GACZD,EAAI/hC,KAAI,SAAC+gC,EAAMkB,GAAc,OAC1B,sBAAI9/B,IAAK,OAAS8/B,GACd,gBAACnB,EAAS,CACNC,KAAMA,EACN9Z,OAAQA,EACRuN,UAAWqN,GAAad,EAAKC,GAC7BC,YAAa,EAAKA,cANA,IAFU,MAgBxD,6BACI,6BACI,0BACI,sBAAIzG,QAAS,GAAC,eAElB,0BACI,oCACA,0BACK1/B,KAAKonC,sBACFjb,EACA,QAAO,GAGVnsB,KAAKonC,sBACFjb,EACA,QAAO,GAGVnsB,KAAKonC,sBACFjb,EACA,OAAM,GAGTnsB,KAAKonC,sBACFjb,EACA,QAAO,KAKnB,0BACI,oCACA,0BACKnsB,KAAKonC,sBACFjb,EACA,QAAO,GAGVnsB,KAAKonC,sBACFjb,EACA,SAAQ,GAGXnsB,KAAKonC,sBACFjb,EACA,MAAK,KAKjB,0BACI,mCACA,0BACKnsB,KAAKonC,sBACFjb,EACA,QAAO,GAGVnsB,KAAKonC,sBACFjb,EACA,QAAO,GAGVnsB,KAAKonC,sBACFjb,EACA,OAAM,GAGTnsB,KAAKonC,sBACFjb,EACA,QAAO,MAKnB,0BACI,mCACA,0BACKnsB,KAAKonC,sBACFjb,EACA,eAAc,IAGjBnsB,KAAKonC,sBACFjb,EACA,aAAY,MAKxB,0BACI,mCACA,0BACKnsB,KAAKonC,sBACFjb,EACA,OAAM,IAGTnsB,KAAKonC,sBACFjb,EACA,SAAQ,IAGXnsB,KAAKonC,sBACFjb,EACA,QAAO,MAKnB,0BACI,wCACA,0BACKnsB,KAAKonC,sBACFjb,EACA,OAAM,IAGTnsB,KAAKonC,sBACFjb,EACA,SAAQ,IAGXnsB,KAAKonC,sBACFjb,EACA,QAAO,IAGVnsB,KAAKonC,sBACFjb,EACA,MAAK,IAGRnsB,KAAKonC,sBACFjb,EACA,SAAQ,IAGXnsB,KAAKonC,sBACFjb,EACA,SAAQ,MAKpB,0BACI,sBAAIuT,QAAS,GAAC,iBAElB,0BACI,oCACA,0BACK1/B,KAAKqnC,yBAAyBlb,GAC9BnsB,KAAKsnC,2BAA2Bnb,GAChCnsB,KAAKunC,4BAA4Bpb,GACjCnsB,KAAKwnC,yBAAyBrb,KAGvC,0BACI,yCACA,0BACKnsB,KAAKynC,wBACF,UACA,EAAAtC,kBAAgD,QAC5CY,EACGA,EAAiB,MAExB5Z,GAGHnsB,KAAKynC,wBACF,sBACA,EAAAtC,kBAC4C,oBAC1CY,EAAsBA,EAAiB,MACzC5Z,GAGHnsB,KAAKynC,wBACF,OACA,EAAAtC,kBAA6C,KACzCY,EACGA,EAAiB,MAExB5Z,GAEHnsB,KAAKynC,wBACF,4CACA,EAAAtC,kBACwD,mCACtDY,EAAsBA,EAAiB,MACzC5Z,GAEHnsB,KAAKynC,wBACF,gCACA,EAAAtC,kBACqD,8BACnDY,EAAsBA,EAAiB,MACzC5Z,GAEHnsB,KAAKynC,wBACF,WACA,EAAAtC,kBAAiD,SAC7CY,EACGA,EAAiB,MAExB5Z,GAEHnsB,KAAKynC,wBACF,qBACA,EAAAtC,kBAAiD,mBAC7CY,EACGA,EAAiB,MAExB5Z,GAEHnsB,KAAKynC,wBACF,kBACA,EAAAtC,kBAAsD,gBAClDY,EACGA,EAAiB,MAExB5Z,GAEHnsB,KAAKynC,wBACF,kBACA,EAAAtC,kBAAsD,gBAClDY,EACGA,EAAiB,MAExB5Z,GAEHnsB,KAAKynC,wBACF,kBACA,EAAAtC,kBAAsD,gBAClDY,EACGA,EAAiB,MAExB5Z,GAEHnsB,KAAKynC,wBACF,QACA,EAAAtC,kBAA8C,MA/UzE,eAkV2BhZ,KAIZ,0BACI,sBAAIuT,QAAS,EAAGzV,UAAWpkB,EAAO85B,WAAS,uBAI/C,gBAAC+H,EAAkB,CACf/tB,KAAK,kBACLguB,SAAU3nC,KAAKumC,UAEnB,gBAACmB,EAAkB,CACf/tB,KAAK,aACLguB,SAAU3nC,KAAK2kC,iBAEnB,gBAAC+C,EAAkB,CACf/tB,KAAK,gBACLguB,SAAU3nC,KAAK4kC,oBAEnB,gBAAC8C,EAAkB,CACf/tB,KAAK,kBACLguB,SAAU3nC,KAAK6kC,sBAGnB,0BACI,sBACInF,QAAS,EACTzV,UAAWpkB,EAAO85B,UAClBzP,QAASlwB,KAAK0mC,mBACd,0BAAQzc,UAAWpkB,EAAO8yB,QAAM,kBAIxC,0BACI,sBAAI+G,QAAS,EAAGzV,UAAWpkB,EAAO85B,WAAS,kBAMvD,0BAAQzP,QAASlwB,KAAK6mC,aAAW,eAKrD,EAeQ,YAAAO,sBAAR,SACIjb,EACAxS,EACAue,GAHJ,WAKI,OACI,0BACIjO,UAAWpkB,EAAO8yB,OAClBzI,QAAS,YACL,IAAA0X,WAAUzb,EAAQ+L,GAClB,EAAKnM,aACT,GACCpS,EAGb,EAEQ,YAAA0tB,yBAAR,SAAiClb,GAAjC,WACI,OACI,0BACIlC,UAAWpkB,EAAO8yB,OAClBzI,QAAS,WA2GzB,IAAsBtP,EAEZ+lB,GA5GU,IAAAkB,aACI1b,GAyGFvL,EAxGe,EAAK9f,MAAMs6B,OAAOxa,OA0G7C+lB,EADS,IAAI,EAAAF,OAAO7lB,GACJknB,YACf5C,eAAgB,EACvByB,EAAO3B,cAAgB2B,EAAO3B,aAEvB2B,GA7Ga,EAAK7lC,MAAMs6B,OAAOxa,OAGtB,EAAKmL,aACT,GAAC,aAIb,EAEQ,YAAAub,2BAAR,SAAmCnb,GAAnC,WACI,OACI,0BACIlC,UAAWpkB,EAAO8yB,OAClBzI,QAAS,WAkGzB,IAAwBtP,EAEd+lB,GAnGU,IAAAkB,aACI1b,GAgGAvL,EA/Fe,EAAK9f,MAAMs6B,OAAOxa,OAiG/C+lB,EADS,IAAI,EAAAF,OAAO7lB,GACJknB,YACf5C,eAAgB,EACvByB,EAAO1B,gBAAkB0B,EAAO1B,eACzB0B,GAnGa,EAAK7lC,MAAMs6B,OAAOxa,OAGtB,EAAKmL,aACT,GAAC,eAIb,EACQ,YAAAwb,4BAAR,SAAoCpb,GAApC,WACI,OACI,0BACIlC,UAAWpkB,EAAO8yB,OAClBzI,QAAS,WAyFzB,IAAyBtP,EAEf+lB,GA1FU,IAAAkB,aACI1b,GAuFCvL,EAtFe,EAAK9f,MAAMs6B,OAAOxa,OAwFhD+lB,EADS,IAAI,EAAAF,OAAO7lB,GACJknB,YACf5C,eAAgB,EACvByB,EAAO5B,kBAAoB4B,EAAO5B,iBAC3B4B,GA1Fa,EAAK7lC,MAAMs6B,OAAOxa,OAGtB,EAAKmL,aACT,GAAC,gBAIb,EACQ,YAAAyb,yBAAR,SAAiCrb,GAAjC,WACI,OACI,0BACIlC,UAAWpkB,EAAO8yB,OAClBzI,QAAS,WAgFzB,IAAsBtP,EAEZ+lB,GAjFU,IAAAkB,aACI1b,GA8EFvL,EA7Ee,EAAK9f,MAAMs6B,OAAOxa,OA+E7C+lB,EADS,IAAI,EAAAF,OAAO7lB,GACJknB,YACf5C,eAAgB,EACvByB,EAAO7B,eAAiB6B,EAAO7B,cACxB6B,GAjFa,EAAK7lC,MAAMs6B,OAAOxa,OAGtB,EAAKmL,aACT,GAAC,aAIb,EAEQ,YAAA0b,wBAAR,SACI9tB,EACAgtB,EACAxa,GAHJ,WAKI,OACI,0BACIlC,UAAWpkB,EAAO8yB,OAClBzI,QAAS,YACL,IAAA2X,aAAY1b,EAAQwa,EAAQ,EAAK7lC,MAAMs6B,OAAOxa,OAC9C,EAAKmL,aACT,GACCpS,EAGb,EAwBJ,EA1dA,CAAwCsT,EAAMqD,WA6f9C,SAASoX,EAAmB7f,GAClB,IAOF9b,EAPE,eAAkDkhB,EAAMqE,UAAS,GAAM,GAAtEyW,EAAoB,KAAEC,EAAuB,KAC9CC,EAAoBhb,EAAM4E,aAAY,WACxCmW,GAAyBD,EAC7B,GAAG,CAACA,IACEG,EAAWjb,EAAM4E,aAAY,SAAC9lB,GAChC8b,EAAM8f,SAASl5B,QAAQ5N,MAAQkL,EAAM9D,MAAMkE,UAC/C,GAAG,IAEH,IACIJ,EAAQyE,EAAMqX,EAAM8f,SAASl5B,QAAQ5N,OACvC,SACEkL,EAAQyE,EAAM,SAElB,OACI,gCACI,0BACI,sBAAIyZ,UAAWpkB,EAAOg5B,OAClB,0BAAQ3O,QAAS+X,GAAoBpgB,EAAMlO,OAE/C,0BACI,yBAAOoX,KAAK,OAAOpG,IAAK9C,EAAM8f,aAGrCI,GACG,0BACI,sBAAIrI,QAAS,GACT,gBAAC,UAAW,CAACrO,UAAWtlB,EAAOumB,SAAU4V,MAMjE,yGC1mBA,UAEA,SAMA,yEASA,QATkC,oBAC9B,YAAApb,OAAA,WACI,IAAIX,EAAS,IAAI,UAAWnsB,KAAK6nB,MAAM/mB,OACvC,OACI,2BACI,2BAAMqrB,EAAOgc,WAGzB,EACJ,EATA,CAAkClb,EAAMqD,mHCRxC,UAGA,UACA,UAIMzqB,EAAS,EAAQ,KACjBuiC,EAA8E,CAChFC,WAAY,0BACZC,cAAe,uBACfC,oBAAqB,gCACrBC,qCAAsC,kDACtCC,4BAA6B,wCAC7BC,uCACI,yDACJC,kBAAmB,sCACnBC,qCAAsC,6CACtCC,4BAA6B,mCAC7BC,WAAY,4BACZC,cAAe,kCACfC,sCACI,4EACJC,SAAU,YACVC,6BAA8B,qDAC9BC,gBAAiB,oBACjBC,kBAAmB,wDACnBC,cAAe,gDACfC,iBAAkB,mDAClBC,0BAA2B,8CAC3BC,qBAAsB,+CACtBC,mBAAoB,4CACpBC,aAAc,yBACdC,eAAgB,yBAChBC,mBAAoB,+BACpBC,mBAAoB,6BACpBC,4BACI,0FACJC,iBAAkB,oDAClBC,kBACI,uFACJC,mBACI,qFACJC,WAAY,sEACZC,eACI,sFACJC,kBACI,4IACJC,8BAA+B,kDAC/BC,yBAA0B,+DAC1BC,6BACI,8GACJC,8BACI,mGACJC,+BAAgC,4CAChCC,wCAAyC,sDACzCC,wBAAyB,6CACzBC,wBAAyB,8CAQ7B,gFA4CY,EAAAC,mBAAqB,SAACprC,GAC1B,EAAKooB,MAAMijB,YAAW,SAAAhqC,GAClB,IAAIiqC,EAAWznC,SAAS+rB,eAAe5vB,GACvCqB,EAAM0yB,oBAAoB/zB,GAAMsrC,EAAStO,OAC7C,IAAG,EACP,GACJ,QAlDiD,oBAC7C,YAAA3P,OAAA,sBACUke,GAAW,IAAAC,kBACjB,OACI,6BACI,8BACK,IAAA3U,eAAc0U,GAAU9lC,KAAI,SAAAmC,GACzB,SAAK6jC,sBAAsB7jC,EAAK+gC,EAA0B/gC,GAA1D,KAKpB,EAEQ,YAAA6jC,sBAAR,SACIzrC,EACAka,EACAwxB,GAHJ,WAKU1O,EAAUz8B,KAAK6nB,MAAM/mB,MAAMrB,GAEjC,OACI,sBAAI4H,IAAK5H,GACL,sBAAIwqB,UAAWpkB,EAAOulC,gBAClB,yBACIra,KAAK,WACLtxB,GAAIA,EACJg9B,QAASA,EACTjD,MAAO/5B,EACP66B,SAAU,WAAM,SAAKuQ,mBAAmBprC,EAAxB,KAGxB,0BACI,2BACI,yBAAO28B,QAAS38B,EAAI+5B,MAAO/5B,GACtBka,IAGR8iB,GAAW0O,GAI5B,EAQJ,EAlDA,CAAiDle,EAAMqD,kHClEvD,UAGA,UAMMzqB,EAAS,EAAQ,KACjBwlC,EAAU,SAOhB,gFA4GY,EAAAC,cAAgB,SAAC7rC,GACrB,EAAKooB,MAAMijB,YAAW,SAAAhqC,GAClB,IAAIiqC,EAAWznC,SAAS+rB,eAAe5vB,GACvCqB,EAAMsrB,cAAc3sB,GAAMsrC,EAAStO,OACvC,IAAG,EACP,EAEQ,EAAA8O,gBAAkB,SAAC9rC,GACvB,EAAKooB,MAAMijB,YAAW,SAAAhqC,GAClB,IAAID,EAASyC,SAAS+rB,eAAe5vB,GAA0BoB,MAC/DC,EAAMsrB,cAAc3sB,GAAMoB,GAASwqC,EAAU,KAAOxqC,CACxD,IAAG,EACP,GACJ,QAzH+C,oBAC3C,YAAAisB,OAAA,uBACI,OACI,gCACI,6BACI,6BACK9sB,KAAKwrC,iBAAiB,OAAQ,QAC9BxrC,KAAKwrC,iBAAiB,SAAU,UAChCxrC,KAAKwrC,iBAAiB,YAAa,eAG5C,6BACI,6BACKxrC,KAAKyrC,iBAAiB,aAAc,kBAAe,MAC/CJ,GAAU,UACX,EAAAK,MAAO,QACP,EAAAC,QAAS,UACT,iBAAe,cACf,EAAAC,OAAQ,SACR,qBAAmB,sBAEtB5rC,KAAKyrC,iBAAiB,WAAY,gBAAa,MAC3CJ,GAAU,UACX,SAAO,IACP,UAAQ,KACR,UAAQ,KACR,UAAQ,KACR,UAAQ,KACR,UAAQ,KACR,UAAQ,SAEXrrC,KAAKyrC,iBAAiB,YAAa,iBAAc,MAC7CJ,GAAU,UACX,aAAW,OACX,aAAW,SACX,aAAW,SACX,aAAW,OACX,aAAW,QACX,aAAW,SACX,aAAW,SACX,aAAW,MACX,aAAW,QACX,aAAW,YAEdrrC,KAAKyrC,iBAAiB,kBAAmB,iBAAc,MACnDJ,GAAU,UACX,aAAW,SACX,aAAW,QACX,aAAW,OACX,aAAW,SACX,aAAW,OACX,aAAW,MACX,aAAW,OACX,aAAW,YACX,aAAW,QACX,aAAW,cAMnC,EAEQ,YAAAG,iBAAR,SAAyB/rC,EAAoBka,GAA7C,WACQ8iB,EAAWz8B,KAAK6nB,MAAM/mB,MAAMrB,KAAmB,EACnD,OACI,0BACI,sBAAIwqB,UAAWpkB,EAAOulC,gBAClB,yBACIra,KAAK,WACLtxB,GAAIA,EACJg9B,QAASA,EACTnC,SAAU,WAAM,SAAKgR,cAAc7rC,EAAnB,KAGxB,0BACI,2BACI,yBAAO28B,QAAS38B,GAAKka,KAKzC,EAEQ,YAAA8xB,iBAAR,SACIhsC,EACAo/B,EACAzI,GAHJ,WAKI,OACI,0BACI,sBAAInM,UAAWpkB,EAAOgmC,oBAAqBhN,GAC3C,0BACI,0BACIp/B,GAAIA,EACJ66B,SAAU,WAAM,SAAKiR,gBAAgB9rC,EAArB,EAChB6F,aAAetF,KAAK6nB,MAAM/mB,MAAMrB,IAAO4rC,IACtC,IAAA/U,eAAcF,GAAOlxB,KAAI,SAAAmC,GAAO,OAC7B,0BAAQxG,MAAOwG,EAAKA,IAAKA,GACpB+uB,EAAM/uB,GAFkB,MASrD,EAeJ,EAzHA,CAA+C4lB,EAAMqD,mHCjBrD,UACA,UACA,UACA,UAGMwb,EAAmC,CACrC/Y,WAAY,CACRO,aAAa,EACbG,WAAW,EACXG,OAAO,EACPE,WAAW,EACXb,WAAW,EACXgB,mBAAmB,EACnBE,oBAAoB,EACpBE,aAAa,EACbE,eAAe,EACfI,cAAc,EACdG,eAAe,EACfE,eAAe,EACfJ,aAAa,EACbH,YAAY,EACZU,UAAU,GAEd3B,qBAAqB,eACrBpH,cAAe,CAAC,EAChB4G,UAAW,iCAAmC,EAAA3M,eAC9C2N,cAAe,wBACfZ,oBAAoB,EACpB7G,qBAAsB,GACtB1C,OAAO,EACPkiB,+BAAgC,oBAGpC,cAII,oBACI,YAAM,UAAa,UAAW,mBAAiB,IACnD,CAcJ,OApBiD,oBAQ7C,YAAAviB,sBAAA,WACI,IAAI1jB,EAEJ,OADA9F,KAAKm6B,cAAa,SAAAF,GAAa,OAACn0B,EAASm0B,EAAU+R,UAApB,IACxBlmC,GAAUgmC,CACrB,EAEA,YAAA5R,kBAAA,SAAkBQ,GACd,OAAO,EAAP,8BACOoR,GACApR,EAEX,EACJ,EApBA,CAAiD,yHClCjD,UAGA,UAOMuR,IAAY,MACd,mBAA2C,sCAC3C,+BACI,sFACJ,2BACI,yEACJ,mBAAyC,sCAG7C,gFAuBY,EAAA/b,QAAU,SAAChhB,GACf,EAAK2Y,MAAMijB,YAAW,SAAAhqC,GAClB,IAAIiqC,EAAWznC,SAAS+rB,eAAengB,GACnC/I,EAAQrF,EAAMyrB,qBAAqBzb,QAAQ5B,GAE3C67B,EAAStO,SAAWt2B,EAAQ,EAC5BrF,EAAMyrB,qBAAqB/nB,KAAK0K,IACxB67B,EAAStO,SAAWt2B,GAAS,GACrCrF,EAAMyrB,qBAAqB1b,OAAO1K,EAAO,EAEjD,IAAG,EACP,GACJ,QAnCsD,oBAIlD,YAAA2mB,OAAA,sBACI,OAAO,iCAAG,IAAAwJ,eAAc2V,GAAc/mC,KAAI,SAAAgK,GAAQ,SAAKg9B,cAAch9B,EAAnB,IACtD,EAEQ,YAAAg9B,cAAR,SAAsBh9B,GAAtB,WACQutB,EAAUz8B,KAAK6nB,MAAM/mB,MAAMgQ,QAAQ5B,IAAS,EAChD,OACI,uBAAK7H,IAAK6H,GACN,yBACI6hB,KAAK,WACL0L,QAASA,EACTh9B,GAAIyP,EACJorB,SAAU,WAAM,SAAKpK,QAAQhhB,EAAb,IAEpB,yBAAOktB,QAASltB,GAAO+8B,EAAa/8B,IAGhD,EAcJ,EAnCA,CAAsD+d,EAAMqD,mHCnB5D,UAEA,UACA,UACA,SACA,SACA,UACA,UACA,UACA,SAiCA,cAKI,WAAYzI,GAAZ,MACI,YAAMA,IAAM,YALR,EAAAskB,WAAalf,EAAMC,YACnB,EAAAkf,WAAanf,EAAMC,YACnB,EAAAmf,IAAMpf,EAAMC,YAkGZ,EAAA4d,WAAa,SAACta,EAA+CtF,GACjE,IAAIpqB,EAA4B,CAC5BkyB,UAAW,EAAKlyB,MAAMkyB,UACtBgB,cAAe,EAAKlzB,MAAMkzB,cAC1BjB,YAAY,EAAF,eAAO,EAAKjyB,MAAMiyB,YAC5BS,qBAAqB,EAAF,eAAO,EAAK1yB,MAAM0yB,qBACrCpH,eAAe,EAAF,eAAO,EAAKtrB,MAAMsrB,eAC/BG,qBAAsB,EAAKzrB,MAAMyrB,qBACjC6G,mBAAoB,EAAKtyB,MAAMsyB,mBAC/BvJ,MAAO,EAAK/oB,MAAM+oB,MAClBkiB,+BAAgC,EAAKjrC,MAAMirC,gCAG3Cvb,IACAA,EAAS1vB,GACT,EAAKqqB,SAASrqB,IAGdoqB,GACA,UAAaqD,cAAce,kBAAkBxuB,EAErD,EAEQ,EAAAwrC,gBAAkB,WACtB,IACIC,EADS,IAAI,UAAW,EAAKzrC,OACfqnC,UACdqE,EAAO,CACPhT,MAAO,YACPngB,KAAM,EAAKozB,UACXlpC,KAAM,GACNmpC,GAAIH,EACJI,iBAAkB,cAEtB,EAAKP,WAAW39B,QAAQ5N,MAAQmQ,KAAKC,UAAUu7B,GAC/C,EAAKL,WAAW19B,QAAQm+B,QAC5B,EAEQ,EAAAC,qBAAuB,WAC3B,IAEIL,EAAO,CACPhT,MAAO,kBACPngB,KA3JR,+eA4JQyzB,IAjJY,iEAkJZvpC,KAAM,GACNmpC,GAPS,IAAI,UAAgB,EAAK5rC,OACpBqnC,UAOdwE,iBAAkB,cAEtB,EAAKP,WAAW39B,QAAQ5N,MAAQmQ,KAAKC,UAAUu7B,GAC/C,EAAKL,WAAW19B,QAAQm+B,QAC5B,EAEQ,EAAAG,kBAAoB,WACxB,IAAIljB,EAAQ,EAAKwiB,IAAI59B,QAAQguB,QAC7B,EAAKtR,SAAS,CACVtB,MAAOA,IAEX,UAAa0E,cAAcwB,iBAAiBlG,EAChD,EAxJI,EAAK/oB,OAAQ,EAAH,eAAQ+mB,IACtB,CA4JJ,OApKyC,oBASrC,YAAAiF,OAAA,WACI,OACI,2BACI,2BACI,0BAAQoD,QAASlwB,KAAKssC,iBAAe,6BAEzC,2BACI,0BAAQpc,QAASlwB,KAAK6sC,sBAAoB,mCAI9C,2BACI,4BAEJ,+BACI,+BACI,sCAEJ,gBAAC,UAAO,CAAC/rC,MAAOd,KAAKc,MAAOgqC,WAAY9qC,KAAK8qC,cAEjD,+BACI,+BACI,oDAEJ,gBAAC,UAAmB,CAChBhqC,MAAOd,KAAKc,MAAM0yB,oBAClBsX,WAAY9qC,KAAK8qC,cAGzB,+BACI,+BACI,6CAEJ,gBAAC,UAAiB,CACdhqC,MAAOd,KAAKc,MAAMsrB,cAClB0e,WAAY9qC,KAAK8qC,cAGzB,+BACI,+BACI,oDAEJ,gBAAC,UAAwB,CACrBhqC,MAAOd,KAAKc,MAAMyrB,qBAClBue,WAAY9qC,KAAK8qC,cAGzB,2BACI,4BAEJ,2BACI,yBACIrrC,GAAG,UACHsxB,KAAK,WACL0L,QAASz8B,KAAKc,MAAM+oB,MACpByQ,SAAUt6B,KAAK+sC,kBACfpiB,IAAK3qB,KAAKqsC,MAEd,yBAAOjQ,QAAQ,WAAS,qCAE5B,2BACA,+BACI,+BACI,wCAEJ,2BACI,4BACI,2BAAMp8B,KAAKysC,cAIvB,+BACI,+BACI,8CAEJ,gBAAC,UAAI,CAAC3rC,MAAOd,KAAKc,SAEtB,wBACI6pB,IAAK3qB,KAAKmsC,WACVa,OAAO,OACPC,OAAO,gCACPjW,OAAO,UACP,yBAAO9nB,KAAK,OAAO6hB,KAAK,SAASpG,IAAK3qB,KAAKosC,cAI3D,EAEA,YAAAJ,SAAA,WACI,OAAO,EAAP,eAAYhsC,KAAKc,MACrB,EA8DQ,YAAA2rC,QAAR,WACI,MAAO,yhBACX,EACJ,EApKA,CAAyCxf,EAAMqD,mHC1C/C,UACA,UAIMzqB,EAAS,EAAQ,KAOvB,gFACY,EAAAmtB,UAAY/F,EAAMC,YAClB,EAAA8G,cAAgB/G,EAAMC,YACtB,EAAAkG,mBAAqBnG,EAAMC,YA8H3B,EAAAggB,cAAgB,SAACztC,GACrB,EAAKooB,MAAMijB,YAAW,SAAAhqC,GAClB,IAAIiqC,EAAWznC,SAAS+rB,eAAe5vB,GACvCqB,EAAMiyB,WAAWtzB,GAAMsrC,EAAStO,OACpC,IAAG,EACP,GACJ,QAvIqC,oBAKjC,YAAA3P,OAAA,WACI,OACI,6BACI,6BACK9sB,KAAKmtC,iBAAiB,cAAe,gBACrCntC,KAAKmtC,iBACF,YACA,mBACAntC,KAAKotC,eACD,gBACAptC,KAAKgzB,UACLhzB,KAAK6nB,MAAM/mB,MAAMkyB,UACjB,QAAU,EAAA3M,eAAiB,wBAC3B,SAACvlB,EAAOD,GAAU,OAACC,EAAMkyB,UAAYnyB,CAAnB,KAGzBb,KAAKmtC,iBAAiB,QAAS,gBAC/BntC,KAAKmtC,iBACF,YACA,mBACAntC,KAAKotC,eACD,mBACAptC,KAAKg0B,cACLh0B,KAAK6nB,MAAM/mB,MAAMkzB,cACjB,IACA,SAAClzB,EAAOD,GAAU,OAACC,EAAMkzB,cAAgBnzB,CAAvB,KAGzBb,KAAKmtC,iBACF,YACA,oBACAntC,KAAKqtC,eACD,uBACArtC,KAAKozB,mBACLpzB,KAAK6nB,MAAM/mB,MAAMsyB,oBACjB,SAACtyB,EAAOD,GAAU,OAACC,EAAMsyB,mBAAqBvyB,CAA5B,KAGzBb,KAAKmtC,iBAAiB,oBAAqB,2BAC3CntC,KAAKmtC,iBAAiB,gBAAiB,wCACvCntC,KAAKmtC,iBACF,cACA,kDAEHntC,KAAKmtC,iBAAiB,qBAAsB,wBAC5CntC,KAAKmtC,iBAAiB,WAAY,aAInD,EAEQ,YAAAA,iBAAR,SACI1tC,EACAka,EACAwxB,GAHJ,WAKU1O,EAAUz8B,KAAK6nB,MAAM/mB,MAAMiyB,WAAWtzB,GAE5C,OACI,0BACI,sBAAIwqB,UAAWpkB,EAAOulC,gBAClB,yBACIra,KAAK,WACLtxB,GAAIA,EACJg9B,QAASA,EACTnC,SAAU,WAAM,SAAK4S,cAAcztC,EAAnB,KAGxB,0BACI,2BACI,yBAAO28B,QAAS38B,GAAKka,IAExB8iB,GAAW0O,GAI5B,EAEQ,YAAAiC,eAAR,SACIvO,EACAlU,EACA9pB,EACAu+B,EACA9E,GALJ,WAOI,OACI,2BACKuE,EACD,yBACI9N,KAAK,OACLpG,IAAKA,EACL9pB,MAAOA,EACPu+B,YAAaA,EACb9E,SAAU,WACN,SAAKzS,MAAMijB,YAAW,SAAAhqC,GAAS,OAAAw5B,EAASx5B,EAAO6pB,EAAIlc,QAAQ5N,MAA5B,IAAoC,EAAnE,EAEJysC,OAAQ,WAAM,SAAKzlB,MAAMijB,WAAW,MAAM,EAA5B,IAI9B,EAEQ,YAAAuC,eAAR,SACIxO,EACAlU,EACA9pB,EACAy5B,GAJJ,WAMI,OACI,2BACI,yBACIvJ,KAAK,WACLpG,IAAKA,EACL8R,QAAS57B,EACTy5B,SAAU,WACN,SAAKzS,MAAMijB,YAAW,SAAAhqC,GAAS,OAAAw5B,EAASx5B,EAAO6pB,EAAIlc,QAAQguB,QAA5B,IAAsC,EAArE,EAEJ6Q,OAAQ,WAAM,SAAKzlB,MAAMijB,WAAW,MAAM,EAA5B,IAEjBjM,EAGb,EAQJ,EAvIA,CAAqC5R,EAAMqD,mHCZ3C,UACA,UAEMid,EAAoC,CACtCC,QAAS,+BACTC,QAAS,iCACTC,QAAS,oCACTC,aAAc,iCACdC,gBAAiB,oCACjBC,WAAY,gBACZC,WAAY,iBAIhB,yEAUA,QAVyC,oBACrC,YAAA3F,QAAA,WACI,IAAMjjC,GAAM,EAAH,8BAAQqoC,GAAO,CAAEQ,WAJf,kDAKX,OAAO,IAAAzX,eAAcpxB,GAChBA,KACG,SAAAzF,GACI,kCAA4BA,EAAE,sCAAsCyF,EAAIzF,GAAG,MAA3E,IAEPkG,KAAK,GACd,EACJ,EAVA,CAAyC,mGCdzC,8BAaA,QAVc,YAAAqoC,OAAV,SAAiBC,GACb,OAAOA,EAAIp2B,QAAQ,MAAO,QAAQA,QAAQ,KAAM,MACpD,EAEU,YAAAqrB,OAAV,SAAiB+K,GACb,OAAOA,EACF1hC,MAAM,MACNrH,KAAI,SAAAgpC,GAAQ,MAAS,IAARA,EAAa,GAAK,OAASA,EAAO,IAAnC,IACZvoC,KAAK,GACd,EACJ,EAbA,2GCAA,UACA,SAGA,cAEI,WAAYwoC,GAAZ,MACI,cAAO,YACP,EAAKnD,SAAW,IAAI,UAAwBmD,IAChD,CAKJ,OAV6C,oBAOzC,YAAAhG,QAAA,WACI,MAAO,6BAA+BnoC,KAAKgrC,SAAS7C,UAAY,GACpE,EACJ,EAVA,CAA6C,kHCJ7C,UACA,UAEA,UAEA,cACI,WAAoBrnC,GAApB,MACI,cAAO,YADS,EAAAA,MAAAA,GAEpB,CAeJ,OAlBqD,oBAKjD,YAAAqnC,QAAA,sBACQiG,GAAgB,eAChBpD,GAAW,IAAA1U,eAAc8X,GACxBlpC,KAAI,SAAAmC,GACD,IAAIo1B,EAAU,EAAK37B,MAAMuG,GAEzB,MAAyB,kBAAXo1B,GAAwBA,GAAW2R,EAAc/mC,GACzD,KACGA,EAAG,MAAKo1B,EAAU,OAAS,SAAO,KAC/C,IACClG,QAAO,SAAA2X,GAAQ,QAAEA,CAAF,IACpB,OAAOlD,EAASrrC,OAAS,EAAI,MAAQK,KAAKkjC,OAAO8H,EAASrlC,KAAK,KAAO,IAAM,EAChF,EACJ,EAlBA,CAAqD,mHCHrD,yEAIA,QAJ0C,oBACtC,YAAAwiC,QAAA,WACI,MAAO,wBACX,EACJ,EAJA,CAFA,QAE0C,iHCC1C,cACI,WAAoB/b,GAApB,MACI,cAAO,YADS,EAAAA,cAAAA,GAEpB,CAwBJ,OA3B+C,oBAK3C,YAAA+b,QAAA,WACQ,MAQAnoC,KAAKosB,cAPLiiB,EAAI,OACJC,EAAM,SACNC,EAAS,YACTC,EAAU,aACVC,EAAQ,WACRC,EAAS,YACTjc,EAAe,kBAEfkc,EAAQ,CACRN,EAAO,gBAAkB,KACzBC,EAAS,kBAAoB,KAC7BC,EAAY,qBAAuB,KACnCC,EAAa,gBAAgBxuC,KAAKguC,OAAOQ,GAAW,OAAS,KAC7DC,EAAW,cAAczuC,KAAKguC,OAAOS,GAAS,OAAS,KACvDC,EAAY,eAAe1uC,KAAKguC,OAAOU,GAAU,OAAS,KAC1Djc,EAAkB,qBAAqBzyB,KAAKguC,OAAOvb,GAAgB,OAAS,MAC9E8D,QAAO,SAAA2X,GAAQ,QAAEA,CAAF,IAEjB,OAAOS,EAAMhvC,OAAS,EAAI,MAAQK,KAAKkjC,OAAOyL,EAAMhpC,KAAK,KAAO,IAAM,EAC1E,EACJ,EA3BA,CAHA,QAG+C,gHCF/C,UACA,UACA,UACA,UACA,UACA,UAEA,cAOI,WAAY7E,GAAZ,MACI,cAAO,YAEP,EAAK+pB,QAAU,IAAI,UAAY/pB,GAC/B,EAAKsrB,cAAgB,IAAI,UAAkBtrB,EAAMsrB,eACjD,EAAK9B,QAAU,IAAI,UACnB,EAAKiC,qBAAuB,IAAI,UAAyBzrB,EAAMyrB,sBAC/D,EAAKzD,SAAW,IAAI,WACxB,CAsBJ,OArCwC,oBAiBpC,YAAAqf,QAAA,WACI,IAAI/b,EAAgBpsB,KAAKosB,cAAc+b,UACnCyG,EAAuB5uC,KAAKusB,qBAAqB4b,UACjDrf,EAAW9oB,KAAK8oB,SAASqf,UACzBoE,EAAO,8EAcX,OAbAA,GAAQ,iBAAiBvsC,KAAK6qB,QAAQsd,UAAS,MAC/CoE,GAAQngB,EAAgB,sCAAsCA,EAAa,MAAQ,GACnFmgB,GAAQ,6CACRA,GAAQvsC,KAAKkjC,OAAO,uBACpBqJ,GAAQngB,EAAgBpsB,KAAKkjC,OAAO,mCAAqC,GACzEqJ,GAAQqC,EACF5uC,KAAKkjC,OAAO,4BAA4B0L,EAAoB,QAC5D,GACNrC,GAAQzjB,EAAW9oB,KAAKkjC,OAAO,iBAAiBpa,EAAQ,OAAS,GACjEyjB,GAAQ,QACRA,GAAQ,8DACAvsC,KAAKsqB,QAAUtqB,KAAKsqB,QAAQ6d,UAAY,GAGpD,EACJ,EArCA,CAAwC,mHCLxC,cACI,WAAoB5b,GAApB,MACI,cAAO,YADS,EAAAA,qBAAAA,GAEpB,CAOJ,OAVsD,oBAKlD,YAAA4b,QAAA,sBACI,OAAQnoC,KAAKusB,sBAAwB,IAChCrnB,KAAI,SAAAgK,GAAQ,SAAKg0B,OAAO,IAAMh0B,EAAO,KAAzB,IACZvJ,KAAK,KACd,EACJ,EAVA,CAHA,QAGsD,iHCHtD,UACA,UAEA,cACI,WAAoBqtB,GAApB,MACI,cAAO,YADS,EAAAA,UAAAA,GAEpB,CAyBJ,OA5B2C,oBAKvC,YAAAmV,QAAA,WACI,MAAO,2BAA6BnoC,KAAK6uC,kBAAoB,GACjE,EAEQ,YAAAA,gBAAR,WACI,IAAK7uC,KAAKgzB,UACN,MAAO,GAGX,IAAI7sB,EAAQnG,KAAKgzB,UAAUliB,QAAQ,EAAAuV,gBACnC,GAAIlgB,GAAS,EAAG,CACZ,IAAIyqB,EAAO5wB,KAAKgzB,UAAUsG,OAAO,EAAGnzB,GAChC2oC,EAAQ9uC,KAAKgzB,UAAUsG,OAAOnzB,EAAQ,EAAAkgB,eAAe1mB,QACzD,MACI,WACCixB,EAAO,IAAI5wB,KAAKguC,OAAOpd,GAAK,OAAS,IACtC,OACCke,EAAQ,OAAO9uC,KAAKguC,OAAOc,GAAM,IAAM,IAG5C,MAAO,UAAU9uC,KAAKgzB,UAAS,GAEvC,EACJ,EA5BA,CAA2C,mHCF3C,UACA,UACA,UACA,UACA,UACA,UAOA,cAGI,WAAoBlyB,EAAmCiuC,GAAvD,MACI,cAAO,KADS,EAAAjuC,MAAAA,EAAmC,EAAAiuC,kBAAAA,EAGnD,IAAIhc,EAAajyB,EAAMiyB,kBACvB,EAAKlI,QAAU,CACXkI,EAAWO,aAAe,IAAI,UAAgBxyB,EAAM0yB,qBACpDT,EAAWU,WAAa,IAAI,UAAc3yB,EAAMkyB,WAChD,IAAI,EAAAgc,sBACJjc,EAAWe,WAAa,IAAI,UAAc,EAAKhzB,MAAMkzB,eACrDjB,EAAWE,WAAa,IAAI,EAAAgc,cAC5Blc,EAAWkB,mBAAqB,IAAI,EAAAib,sBACpCnc,EAAWwB,eAAiB,IAAI,EAAA4a,kBAChCpc,EAAWoB,oBAAsB,IAAI,WACvCoC,QAAO,SAAAhM,GAAU,QAAEA,CAAF,KACvB,CAYJ,OA7ByC,oBAmBrC,YAAA4d,QAAA,WACI,IAAIoE,EAAO,MAOX,OANAA,GAAQvsC,KAAKkjC,OAAOljC,KAAK6qB,QAAQ3lB,KAAI,SAAAqlB,GAAU,OAAAA,EAAO4d,UAAY,KAAnB,IAA0BxiC,KAAK,KAE1E3F,KAAK+uC,oBACLxC,GAAQvsC,KAAKkjC,OAAOljC,KAAK+uC,kBAAkB7pC,KAAI,SAAA3E,GAAK,OAAAA,EAAI,KAAJ,IAAWoF,KAAK,MAExE4mC,EAAQ,GAEZ,EACJ,EA7BA,CAAyC,kHCZzC,UACA,UACA,UACA,UACA,UACA,SACA,UAEM6C,EAAsB,eAE5B,cASI,WAAYtuC,GAAZ,MACI,cAAO,YAEP,EAAKuuC,aAAe,IAAI,UACxB,EAAKC,OAAS,IAAI,UAAWxuC,EAAO,EAAKuuC,cACzC,EAAKxkB,QAAU,IAAI,UAAY/pB,EAAO,EAAKwuC,OAAS,CAACF,QAAuB5tC,GAC5E,EAAK4qB,cAAgB,IAAI,UAAkBtrB,EAAMsrB,eACjD,EAAKG,qBAAuB,IAAI,UAAyBzrB,EAAMyrB,sBAC/D,EAAKzD,SAAW,IAAI,UACpB,EAAKe,MAAQ/oB,EAAM+oB,OACvB,CAwCJ,OA3D6C,oBAqBzC,YAAAse,QAAA,WACI,IAuBIoH,EAvBAnjB,EAAgBpsB,KAAKosB,cAAc+b,UACnCyG,EAAuB5uC,KAAKusB,qBAAqB4b,UACjDrf,EAAW9oB,KAAK8oB,SAASqf,UACzBoE,EAAO,gDAgCX,OA9BIvsC,KAAKqvC,eACL9C,GAAQ,OAAO6C,EAAmB,6CAGtC7C,GAAQ,iBAAiBvsC,KAAK6qB,QAAQsd,UAAS,MAC/CoE,GAAQngB,EAAgB,sCAAsCA,EAAa,MAAQ,GACnFmgB,GAAQ,6CACRA,GAAQvsC,KAAKkjC,OAAO,uBACpBqJ,GAAQngB,EAAgBpsB,KAAKkjC,OAAO,mCAAqC,GACzEqJ,GAAQqC,EACF5uC,KAAKkjC,OAAO,4BAA4B0L,EAAoB,QAC5D,GACNrC,GAAQzjB,EAAW9oB,KAAKkjC,OAAO,iBAAiBpa,EAAQ,OAAS,GACjEyjB,GAAQ,OAERA,GAAQ,yEACJvsC,KAAK6pB,MAAQ,aAAe,IAAE,QAI9B7pB,KAAKsvC,QAAUtvC,KAAKqvC,cACpB9C,GAAQvsC,KAAKqvC,aAAalH,UAC1BoE,GAAQ,gBAAkBvsC,KAAKsvC,OAAOnH,UACtCoH,EAAgB,yBAEhBA,EAAgB,SAGpBhD,EAAQ,mBAAqBgD,EAAgB,YAGjD,EACJ,EA3DA,CAA6C,kHCX7C,UAEMC,EAAgB,UAEtB,yEAyBA,QAzB8C,oBAG1C,YAAArH,QAAA,WACI,IAAIoE,EAAO,OAAOiD,EAAa,oCAe/B,OAbIxvC,KAAKyvC,kBACLlD,GAAWiD,EAAa,YACxBjD,GAAQvsC,KAAKkjC,OAAO,gCACpBqJ,GAAQvsC,KAAKkjC,OAAO,mCACpBqJ,GAAQvsC,KAAKkjC,OAAO,6BACpBqJ,GAAQvsC,KAAKkjC,OAAO,uDACpBqJ,GAAQvsC,KAAKkjC,OAAO,0BACpBqJ,GAAQvsC,KAAKkjC,OAAO,wDACpBqJ,GAAQvsC,KAAKkjC,OAAO,yBACpBqJ,GAAQvsC,KAAKkjC,OAAO,QACpBqJ,GAAQ,SAGLA,CACX,EAEA,YAAAmD,iBAAA,WACI,OAAOF,CACX,EACJ,EAzBA,CAA8C,mHCA9C,cAII,WAAY1uC,EAA2BuuC,GAAvC,MACI,cAAO,YACP,EAAKM,eAAiBN,EAAaK,mBACnC,EAAK7lB,MAAQ/oB,EAAM+oB,OACvB,CAOJ,OAfwC,oBAUpC,YAAAse,QAAA,WACI,MAAO,mCAAmCnoC,KAAK2vC,eAAc,4BACzD3vC,KAAK6pB,MAAQ,aAAe,IAAE,OAEtC,EACJ,EAfA,CAHA,QAGwC,0OCFxC,cACI,WAAoB3a,EAAsB0gC,QAAA,IAAAA,IAAAA,EAAA,aAA1C,MACI,cAAO,YADS,EAAA1gC,KAAAA,EAAsB,EAAA0gC,UAAAA,GAE1C,CAKJ,OAR+B,oBAK3B,YAAAzH,QAAA,WACI,MAAO,OAAOnoC,KAAK4vC,UAAS,IAAI5vC,KAAKkP,KAAI,IAC7C,EACJ,EARA,CAFA,QAE+B,SAU/B,cACI,oBACI,YAAM,UAAQ,IAClB,CACJ,OAJ+B,oBAI/B,EAJA,CAA+B2gC,GAAlB,EAAAC,UAAAA,EAMb,kBACI,oBACI,YAAM,cAAe,0BAAwB,IACjD,CACJ,OAJ2C,oBAI3C,EAJA,CAA2CD,GAA9B,EAAAb,sBAAAA,EAMb,kBACI,oBACI,YAAM,cAAY,IACtB,CACJ,OAJmC,oBAInC,EAJA,CAAmCa,GAAtB,EAAAZ,cAAAA,EAMb,kBACI,oBACI,YAAM,sBAAoB,IAC9B,CACJ,OAJ2C,oBAI3C,EAJA,CAA2CY,GAA9B,EAAAX,sBAAAA,EAMb,kBACI,oBACI,YAAM,gBAAc,IACxB,CACJ,OAJqC,oBAIrC,EAJA,CAAqCW,GAAxB,EAAAE,gBAAAA,EAMb,kBACI,oBACI,YAAM,kBAAgB,IAC1B,CACJ,OAJuC,oBAIvC,EAJA,CAAuCF,GAA1B,EAAAV,kBAAAA,8FCxCb,cACI,oBACI,cAAO,IACX,CAKJ,OARoD,oBAKhD,YAAAhH,QAAA,WACI,MAAO,oCACX,EACJ,EARA,CAFA,QAEoD,iHCApD,cACI,WAAoBnU,GAApB,MACI,cAAO,YADS,EAAAA,cAAAA,GAEpB,CAKJ,OAR2C,oBAKvC,YAAAmU,QAAA,WACI,MAAO,4BAA4BnoC,KAAKguC,OAAOhuC,KAAKg0B,eAAc,IACtE,EACJ,EARA,CAFA,QAE2C,iHCD3C,UACA,UAEA,qBACI,IAAMgc,GAAc,IAAA/E,kBAEpB,OAAO,EAAP,gBACO,IAAA3U,eAAc0Z,GAAaC,QAAO,SAAC9B,EAAU9mC,GAE5C,OADA8mC,EAAS9mC,IAAQ2oC,EAAY3oC,GAAK6oC,gBAC3B/B,CACX,GAA+B,CAAC,GAExC,sGCbA,UAGA,UAQMtoC,EAAS,EAAQ,MAajBsqC,IAAY,MACd,IAAiC,gBACjC,MAA+B,cAC/B,KAAkC,iBAClC,KAAkC,iBAClC,MAA+B,cAC/B,MAAmC,kBACnC,KAAyC,wBACzC,KAA2B,UAC3B,KAA4B,WAC5B,KAAyB,QACzB,KAA6B,YAC7B,KAA2B,UAC3B,KAAyB,QACzB,MAA6C,4BAC7C,MAA0B,SAC1B,KAAiC,gBACjC,MAA+B,cAC/B,MAAqC,oBACrC,MAAqC,oBACrC,MAA6B,YAC7B,MAAoC,mBACpC,MAA+B,cAC/B,MAAoC,mBACpC,MAAyC,2BAGvCC,IAAkB,MACpB,GAAiC,gBACjC,MAAoC,mBACpC,KAAyB,QACzB,KAA+B,cAC/B,KAA0B,SAC1B,KAA6B,YAC7B,KAA6B,YAC7B,KAAoC,mBACpC,KAAiC,gBACjC,KAAmC,kBACnC,KAA2C,0BAC3C,MAAqC,uBAGzC,cAQI,WAAYvoB,GAAZ,MACI,YAAMA,IAAM,YALR,EAAAwoB,OAAuB,GACvB,EAAAC,aAAerjB,EAAMC,YACrB,EAAA7mB,UAAY,EAwLZ,EAAAkqC,MAAQ,WACZ,EAAKF,OAAS,GACd,EAAKllB,SAAS,CACVqlB,cAAe,GAEvB,EAEQ,EAAAC,YAAc,SAACC,EAAuBC,IAC1C,IAAAC,UAASD,GAAW,SAAAE,GAAW,OAACH,EAAIzC,IAAM4C,CAAX,GACnC,EAEQ,EAAAC,sBAAwB,WAC5B,IAAIjwC,EAAQ6L,SAAS,EAAK4jC,aAAa7hC,QAAQ5N,OAC/C,EAAKsqB,SAAS,CACVmlB,aAAczvC,GAEtB,EApMI,EAAKC,MAAQ,CACTwvC,aAAc,GACdE,cAAe,IAEvB,CA+NJ,OA7O2C,oBAgBvC,YAAA1jB,OAAA,sBACQwjB,EAAevnC,KAAKD,IAAI9I,KAAKqwC,OAAO1wC,OAAQK,KAAKc,MAAMwvC,cACvDS,EACAT,EAAe,EAAItwC,KAAKqwC,OAAOxtC,MAAM7C,KAAKqwC,OAAO1wC,OAAS2wC,GAAgB,GAG9E,OAFAS,EAAkBA,EAAgBC,UAG9B,gCACI,8CAEI,0BACI1rC,aAActF,KAAKc,MAAMwvC,aAAankC,WACtCwe,IAAK3qB,KAAKswC,aACVhW,SAAUt6B,KAAK8wC,uBACf,0BAAQjwC,MAAO,KAAG,YAClB,0BAAQA,MAAO,MAAI,MACnB,0BAAQA,MAAO,MAAI,MACnB,0BAAQA,MAAO,OAAK,QACd,IACV,0BAAQqvB,QAASlwB,KAAKuwC,OAAK,cAE/B,2BACKQ,EAAgB7rC,KAAI,SAAA0yB,GAAS,OAC1B,2BAASvwB,IAAKuwB,EAAMzxB,MAAMgG,YACtB,+BACQyrB,EAAMqZ,KAAKC,WAAU,IAAItZ,EAAMqZ,KAAKE,aAAY,IAAIvZ,EAAMqZ,KAAKG,aAAY,IAAIxZ,EAAMqZ,KAAKI,kBAAiB,IAC9GlB,EAAavY,EAAMA,MAAMC,YAE9B,uBAAK5N,UAAWpkB,EAAOyrC,cAClB,EAAKC,YAAY3Z,EAAMA,QAPN,KAc9C,EAEA,YAAA4Z,SAAA,SAAS5Z,GACL,GAAI53B,KAAKc,MAAMwvC,aAAe,EAAG,CAC7B,GAAuB,IAAnB1Y,EAAMC,UAA0C,CAChD,IAAMkD,EAAY,IAAI,EAAAsH,cAAczK,EAAM6Z,kBACpC9sB,EAAWiT,EAAMjT,SAASzI,WAAU,GAE1C6e,EAAUyH,4BAA4B7d,GACtCoW,EAAUhW,SAASJ,GAClBiT,EAAM8Z,cAAsBr4B,KAAOrZ,KAAKysC,QAAQ9nB,GASrD,IANA3kB,KAAKqwC,OAAO7rC,KAAK,CACbysC,KAAM,IAAI3uC,KACVs1B,MAAOA,EACPzxB,MAAOnG,KAAKqG,cAGTrG,KAAKqwC,OAAO1wC,OAAS,KACxBK,KAAKqwC,OAAOsB,QAEhB3xC,KAAKmrB,SAAS,CACVqlB,aAAcxwC,KAAKqG,YAG/B,EAEQ,YAAAkrC,YAAR,SAAoB3Z,GAApB,WACI,OAAQA,EAAMC,WACV,KAAK,EACL,KAAK,EACL,KAAK,EACD,OACI,mCAEKD,EAAME,SAAS7F,OAI5B,KAAK,EACL,KAAK,EACL,KAAK,GACD,OACI,sCAEK2F,EAAME,SAASa,uBACff,EAAME,SAASd,SAAU,IAAAmL,cAAavK,EAAME,SAASd,mBAErDY,EAAME,SAASnK,iBACfiK,EAAME,SAAShH,OAI5B,KAAK,EACD,OACI,sCAEK8G,EAAM9hB,iBACN8hB,EAAMtiB,MAAQsiB,EAAMtiB,KAAKnJ,UAAYyrB,EAAMtiB,KAAKnJ,YAI7D,KAAK,GACD,OACI,qCAEKyrB,EAAM8Z,cAAcE,MAAMjsC,OAC1B3F,KAAK6xC,mBAAmB,aAAcja,EAAM8Z,cAAc/3B,MAC1D3Z,KAAK6xC,mBACF,iBACCja,EAAM8Z,cAAsBr4B,MAEhCrZ,KAAK6xC,mBAAmB,gBAAiBja,EAAM8Z,cAAcI,SAC7D9xC,KAAK6xC,mBAAmB,QAASja,EAAM8Z,cAAc/S,OAAO,SAAA+R,GAAO,OAChE,uBACI/lB,IAAK,SAAAA,GAAO,OAAAA,GAAO,EAAK8lB,YAAY9lB,EAAK+lB,EAA7B,EACZzmB,UAAWpkB,EAAO6qC,KAH0C,IAMnE1wC,KAAK6xC,mBACF,cACAja,EAAM8Z,cAAcK,YACd/gC,KAAKC,UAAU2mB,EAAM8Z,cAAcK,aACnC,kDAGTna,EAAM8Z,cAAcM,iBAAmB,QAAU,UACjD,IAAA1b,eAAcsB,EAAM8Z,cAAcO,cAAc/sC,KAAI,SAAAgtC,GACjD,SAAKL,mBACDK,EACAta,EAAM8Z,cAAcO,aAAaC,GAFrC,KAOhB,KAAK,GACD,IAAMxc,EAAckC,EAAMlC,YACpBxoB,GAAO,IAAAopB,eAAcZ,GAC3B,OAAO,4BAAOxoB,EAAKhI,KAAI,SAAAmC,GAAO,OAAGA,EAAG,IAAIuwB,EAAMlC,YAAYruB,GAAI,IAAhC,KAElC,KAAK,GAEG,IAAA6wB,EAEAN,EAAK,UADL,EACAA,EAAK,OADKn4B,EAAE,KAAEsxB,EAAI,OAEtB,OACI,yCACeqf,EAAmBlY,YAAkBnH,UAAWtxB,GAIvE,KAAK,EACO,IAAA0yC,EAAUva,EAAK,MACvB,OAAO,qCAAaua,EAAQ,OAAS,SAEzC,KAAK,GACD,OACI,gCACI,uCAAeva,EAAMwa,OAAO9Y,OAAO,EAAG,OAIlD,KAAK,GACD,OACI,yCACe1B,EAAMya,2BAAyBza,EAAM0a,cAI5D,KAAK,GACD,OAAO,wCAAgB1a,EAAME,SAAS7F,OAE1C,QACI,OAAO,KAEnB,EAoBQ,YAAA4f,mBAAR,SACIrY,EACAl6B,EACAizC,GAEA,YAFA,IAAAA,IAAAA,EAAA,SAA0CjzC,GAAW,mCAAOA,EAAP,GAGjDA,GACI,+BACI,+BAAUk6B,GACV,uBAAKvP,UAAWpkB,EAAO2sC,cAAeD,EAASjzC,IAI/D,EAEQ,YAAAmtC,QAAR,SAAgB9nB,GAEZ,IADA,IAAM8tB,EAAwB,GACrBC,EAAQ/tB,EAASS,WAAYstB,EAAOA,EAAQA,EAAMC,YACvDF,EAAYjuC,MACR,IAAAs9B,gBAAe4Q,EAAO,eAChBA,EAAMtxB,WACN,IAAA0gB,gBAAe4Q,EAAO,QACtBA,EAAMtQ,UACN,IAId,OAAOqQ,EAAY9sC,KAAK,GAC5B,EACJ,EA7OA,CAA2CsnB,EAAMqD,mHClEjD,UAKA,cAII,oBACI,YAAM,UAAe,QAAS,iBAAe,IACjD,CASJ,OAf6C,oBAQzC,YAAAqH,cAAA,SAActK,GACVrtB,KAAKm6B,cAAa,SAAAF,GAAa,OAAAA,EAAUuX,SAASnkB,EAAnB,GACnC,EAEA,YAAA6M,kBAAA,SAAkBQ,GACd,OAAOA,CACX,EACJ,EAfA,CAJA,QAI6C,iHCL7C,UACA,UAIM70B,EAAS,EAAQ,MAUvB,cAII,WAAYgiB,GAAZ,MACI,YAAMA,IAAM,YACZ,EAAK/mB,MAAQ,CACT6lC,OAAQ9e,EAAM8e,OACdiM,MAAO/qB,EAAM+qB,MACbhpC,EAAGie,EAAMje,EACTC,EAAGge,EAAMhe,IAEjB,CA0GJ,OAtH6C,oBAczC,YAAAgpC,eAAA,SAAe/xC,GACXd,KAAKmrB,SAASrqB,EAClB,EAEA,YAAAgsB,OAAA,WACQ,MAAmB9sB,KAAKc,MAAtB6lC,EAAM,SAAE/8B,EAAC,IAAEC,EAAC,IAClB,OAAO88B,EACH,6BACI,6BACI,0BACI,sBAAI1c,UAAWpkB,EAAO2zB,OAAK,YAC3B,0BAAQ5vB,EAAC,IAAIC,IAEjB,0BACI,sBAAIogB,UAAWpkB,EAAO2zB,OAAK,QAC3B,0BACI,4BAAUmN,EAAOmM,SAAQ,KAAKnM,EAAO8H,YAG7C,0BACI,sBAAIxkB,UAAWpkB,EAAO2zB,OAAK,UAC3B,0BACI,wBACIvN,MAAO,CACHlgB,MAAO46B,EAAO+H,UACdjc,gBAAiBkU,EAAOlU,kBACrBkU,EAAO+H,UAAS,MAAM/H,EAAOlU,mBAGhD,0BACI,sBAAIxI,UAAWpkB,EAAO2zB,OAAK,OAC3B,0BAAKx5B,KAAK+yC,WAAW/yC,KAAKc,MAAM8xC,MAAO,WAE3C,0BACI,sBAAI3oB,UAAWpkB,EAAO2zB,OAAK,WAC3B,0BACKx5B,KAAK+yC,WAAWpM,EAAOqM,OAAQ,QAC/BhzC,KAAK+yC,WAAWpM,EAAOsM,SAAU,UACjCjzC,KAAK+yC,WAAWpM,EAAOuM,YAAa,aACpClzC,KAAK+yC,WAAWpM,EAAOwM,gBAAiB,UACxCnzC,KAAK+yC,WAAWpM,EAAOyM,YAAa,aACpCpzC,KAAK+yC,WAAWpM,EAAO0M,cAAe,eACtC,gBAAgB1M,EAAO2M,aAGhC,0BACI,sBAAIrpB,UAAWpkB,EAAO2zB,OAAK,aAC3B,0BACKx5B,KAAK+yC,WAAWpM,EAAO4M,SAAU,UACjCvzC,KAAK+yC,WAAWpM,EAAO6M,YAAa,aACpCxzC,KAAK+yC,WAAWpM,EAAO8M,aAAc,SACrCzzC,KAAK+yC,WAAWpM,EAAO+M,UAAW,WAClC1zC,KAAK+yC,WAAWpM,EAAOgN,mBAAoB,YAC3C3zC,KAAK+yC,WAAWpM,EAAOiN,UAAW,YAClC5zC,KAAK+yC,WAAWpM,EAAOkN,eAAgB,oBACxC,wBACI5pB,UAC2B,GAAvB0c,EAAOmN,cAAqBjuC,EAAOkuC,UACpC,WAAWpN,EAAOmN,gBAGjC,0BACI,sBAAI7pB,UAAWpkB,EAAO2zB,OAAK,QAC3B,0BACKx5B,KAAK+yC,WAAWpM,EAAOqN,QAAS,YAChCh0C,KAAK+yC,WAAWpM,EAAOsN,QAAS,cAGzC,0BACI,sBAAIhqB,UAAWpkB,EAAO2zB,OAAK,WAC3B,0BACKx5B,KAAK+yC,WAAW,EAAAmB,QAAQC,SAAU,UAClCn0C,KAAK+yC,WAAW,EAAAmB,QAAQE,UAAW,WACnCp0C,KAAK+yC,WAAW,EAAAmB,QAAQG,SAAU,UAClCr0C,KAAK+yC,WAAW,EAAAmB,QAAQI,SAAU,YAG3C,0BACI,sBAAIrqB,UAAWpkB,EAAO2zB,OAAK,MAC3B,0BACKx5B,KAAK+yC,WAAW,EAAAmB,QAAQK,MAAO,SAC/Bv0C,KAAK+yC,WAAW,EAAAmB,QAAQM,MAAO,WAC/Bx0C,KAAK+yC,WAAW,EAAAmB,QAAQO,UAAW,WACnCz0C,KAAK+yC,WAAW,EAAAmB,QAAQQ,iBAAkB,mBAGnD,0BACI,sBAAIzqB,UAAWpkB,EAAO2zB,OAAK,cAC3B,0BAAKx4B,OAAO2zC,UAAUC,YAE1B,0BACI,sBAAI3qB,UAAWpkB,EAAO2zB,OAAK,eAC3B,0BAAKx4B,OAAO2zC,UAAUE,eAKlC,sDAER,EAEQ,YAAA9B,WAAR,SAAmBrd,EAAsB/b,GACrC,OAAO,wBAAMsQ,UAAWyL,EAAc,GAAK7vB,EAAOkuC,UAAWp6B,EAAO,IACxE,EACJ,EAtHA,CAA6CsT,EAAMqD,mHCfnD,UACA,UACA,UACA,UAIA,cAII,oBACI,YAAM,UAAiB,SAAU,iBAAe,IACpD,CA+CJ,OArD+C,oBAQ3C,YAAAmH,WAAA,SAAWtL,GAAX,WACI,YAAMsL,WAAU,UAACtL,GACjBnsB,KAAKmsB,OAAOsP,UAAS,SAAAtP,GACjBA,EAAOyJ,QAEP,EAAKkf,mBACT,GACJ,EAEA,YAAA5a,kBAAA,SAAkBQ,GACd,OAAO,EAAP,8BACOA,GACA16B,KAAK+0C,iBAEhB,EAEA,YAAApd,cAAA,SAAcC,GAEa,GAAnBA,EAAMC,WACa,GAAnBD,EAAMC,WACa,GAAnBD,EAAMC,WAEN73B,KAAK80C,mBAEb,EAEA,YAAAA,kBAAA,sBACI90C,KAAKm6B,cAAa,SAAAF,GAAa,OAAAA,EAAU4Y,eAAe,EAAKkC,iBAA9B,GACnC,EAEU,YAAAA,eAAV,WACI,IAAK/0C,KAAKmsB,OACN,OAAO,KAGX,IAAMwa,GAAS,IAAAoO,gBAAe/0C,KAAKmsB,QAC7BkT,EAAWr/B,KAAKmsB,QAAUnsB,KAAKmsB,OAAO6oB,qBACtCvkB,EAAO4O,IAAY,IAAA4V,iBAAgB5V,GACzC,MAAO,CACHsH,OAAM,EACNiM,MAAO5yC,KAAKmsB,QAAUnsB,KAAKmsB,OAAO+oB,UAClCtrC,EAAG6mB,EAAOA,EAAKG,KAAO,EACtB/mB,EAAG4mB,EAAOA,EAAKI,IAAM,EAE7B,EACJ,EArDA,CAA+C,mHCP/C,UAGMhrB,EAAS,EAAQ,MAcvB,cAGI,WAAYgiB,GAAZ,MACI,YAAMA,IAAM,YAwDR,EAAAstB,aAAe,WACnB,IAAMC,EAAW,EAAKvtB,MAAMwtB,iBAC5B,EAAKC,YAAY,EAAKC,iBAAiBH,GAC3C,EAEQ,EAAAE,YAAc,SAACF,GACnB,EAAK5U,SAAS3/B,MAAQu0C,CAC1B,EAEQ,EAAAI,WAAa,SAACJ,EAAoBjvC,GACtC,IAAI8jB,EAAY,GACZ9jB,GAAS,EAAKrF,MAAM0vC,eACpBvmB,GAAa,IAAMpkB,EAAO4I,SAE1BtI,GAAS,EAAKrF,MAAM20C,oBACpBxrB,GAAa,IAAMpkB,EAAO6vC,cAG9B,IAAMC,EAAc,EAAKJ,iBAAiBH,GAC1C,OACI,uBACInrB,UAAWA,EACX5iB,IAAKlB,EACL+pB,QAAS,WAAM,SAAKolB,YAAYK,EAAjB,EACfpZ,cAAe,WAAM,SAAK1U,MAAM+tB,OAAOzvC,EAAQ,EAAKrF,MAAM0vC,aAArC,IACnBmF,GAAe,oBAAoBvvC,UAAU,EAAG,KAG9D,EAlFI,EAAKtF,MAAQ,CACT+0C,UAAW,GACXrF,cAAe,EACfiF,mBAAoB,IAE5B,CA8EJ,OAzF0C,oBAatC,YAAA3oB,OAAA,sBACI,OACI,uBAAK7C,UAAWpkB,EAAOiwC,cACnB,4CACA,uBAAK7rB,UAAWpkB,EAAOkwC,cAClB/1C,KAAKc,MAAM+0C,UAAU3wC,IAAIlF,KAAKw1C,aAEnC,+CACA,uBAAKvrB,UAAWpkB,EAAOykB,SACnB,0BAAQ4F,QAASlwB,KAAKm1C,cAAe,iBAA0B,IAC/D,0BACIjlB,QAAS,WACL,SAAKrI,MAAMmuB,kBACP,CACI38B,KAAM,EAAKmnB,SAAS3/B,MACpBg4B,SAAU,KACVod,YAAa,KAEjB,EANJ,GASH,qBAGT,4BACItrB,IAAK,SAAAA,GAAO,OAAC,EAAK6V,SAAW7V,CAAjB,EACZV,UAAWpkB,EAAO26B,SAClB0V,YAAY,IAI5B,EAEA,YAAAC,gBAAA,SAAgBN,EAAuBrF,EAAsBiF,GACzDz1C,KAAKmrB,SAAS,CACV0qB,UAAS,EACTrF,aAAY,EACZiF,kBAAiB,GAEzB,EAEA,YAAAF,iBAAA,SAAiBH,GACb,OACIA,EAAS/7B,MAAQ+7B,EAASvc,SAAW,UAAO7nB,KAAKC,UAAUmkC,EAASvc,UAAS,SAAQ,GAE7F,EA+BJ,EAzFA,CAA0C5L,EAAMqD,mHCjBhD,UAEA,UACA,UACA,UAIA,aAMI,wBAkCQ,KAAA8lB,YAAc,SAACzrB,GACnB,EAAKsP,UAAYtP,EACbA,GACA,EAAKwrB,iBAEb,EAUQ,KAAAd,eAAiB,WACrB,IAAIgB,EAEJ,IACI,EAAKC,gBAAgBC,yBAAwB,SAAAnB,GACzCiB,EAAcjB,CAClB,IACA,EAAKoB,eAAepf,0BAEpB,EAAKkf,gBAAgBG,yBAGzB,OAAOJ,CACX,EAEQ,KAAAT,OAAS,SAACc,GACd,IAAMtB,EAAW,EAAKkB,gBAAgBK,KAAKD,GAC3C,EAAKV,kBAAkBZ,GAAU,EACrC,EAEQ,KAAAY,kBAAoB,SAACZ,EAAoBzY,GAC7C,EAAK6Z,eAAe5gB,QACpB,EAAK4gB,eAAeI,WAChB,EAAK3c,UAAUsb,iBAAiBH,GAChCzY,EAER,EAEQ,KAAAwZ,gBAAkB,WACjB,EAAKlc,WAIV,EAAKA,UAAUkc,gBACX,EAAKG,gBAAgBO,eACrB,EAAKP,gBAAgBQ,kBACrB,EAAKR,gBAAgBS,uBAE7B,EAtFI/2C,KAAKs2C,gBAAkB,IAAI,UAAcU,EAAenB,UAAW71C,KAAKm2C,gBAC5E,CAsFJ,OApFI,YAAA3e,QAAA,WACI,MAAO,UACX,EAEA,YAAAC,WAAA,SAAWtL,GACPnsB,KAAKw2C,eAAiBrqB,CAC1B,EAEA,YAAAuL,QAAA,WACI13B,KAAKw2C,eAAiB,IAC1B,EAEA,YAAA7e,cAAA,SAActK,GACS,IAAfA,EAAEwK,WACF73B,KAAKm2C,iBAEb,EAEA,YAAA1c,SAAA,WACI,MAAO,gBACX,EAEA,YAAAhP,eAAA,WACI,OAAO,gBAAC,WAAY,iBAAKzqB,KAAKk6B,oBAAmB,CAAEvP,IAAK3qB,KAAKo2C,cACjE,EAEA,YAAA3pB,mBAAA,WACI,OAAOzsB,KAAKs2C,eAChB,EASQ,YAAApc,kBAAR,WACI,MAAO,CACH8b,kBAAmBh2C,KAAKg2C,kBACxBX,eAAgBr1C,KAAKq1C,eACrBO,OAAQ51C,KAAK41C,OAErB,EAjDe,EAAAC,WAAY,IAAAoB,iBAA0B,KA0FzD,EA9FA,aAAqBD,gFCPrB,cAQA,aAGI,WAAoBnB,EAAwCvb,GAAxC,KAAAub,UAAAA,EAAwC,KAAAvb,SAAAA,CAAuB,CAqDvF,OAnDW,YAAA4c,wBAAP,WACI,OAAO,CACX,EAEO,YAAAX,wBAAP,SAA+B/lB,GAC3BxwB,KAAKm3C,2BAA6B3mB,CACtC,EAEO,YAAAimB,uBAAP,WACIz2C,KAAKm3C,gCAA6B31C,CACtC,EAEO,YAAA41C,QAAP,SAAenuC,GACX,OAAO,IAAAouC,wBAAuBr3C,KAAK61C,UAAW5sC,EAClD,EAEO,YAAA0tC,KAAP,SAAY1tC,GACR,IAAMnD,GAAS,IAAAwxC,qBAAoBt3C,KAAK61C,UAAW5sC,GAEnD,OADAjJ,KAAKs6B,WACEx0B,CACX,EAEO,YAAAyxC,YAAP,SAAmBnC,EAAoBoC,GAC/Bx3C,KAAKm3C,2BACLn3C,KAAKm3C,2BAA2B/B,KAEhC,IAAAqC,eAAcz3C,KAAK61C,UAAWT,EAAUoC,GACxCx3C,KAAKs6B,WAEb,EAEO,YAAAod,UAAP,YACI,IAAAC,4BAA2B33C,KAAK61C,WAChC71C,KAAKs6B,UACT,EAEO,YAAAuc,aAAP,WACI,OAAO72C,KAAK61C,UAAUA,SAC1B,EAEO,YAAAiB,gBAAP,WACI,OAAO92C,KAAK61C,UAAUrF,YAC1B,EAEO,YAAAuG,qBAAP,WACI,OAAO/2C,KAAK61C,UAAUJ,iBAC1B,EAEO,YAAAmC,oBAAP,WACI,OAAO,IAAAA,qBAAoB53C,KAAK61C,UACpC,EACJ,EAxDA,2GCTA,UAEMhwC,EAAS,EAAQ,MACjBgyC,EAAS,EAAQ,MAMvB,yEA2DA,QA3DsC,oBAClC,YAAA/qB,OAAA,WACY,IAAWgrB,EAAkB93C,KAAK6nB,MAAK,UACzCoC,EAAYpkB,EAAOkyC,SAAW,KAAOD,GAAiB,IAG5D,OACI,uBAAK7tB,UAAWA,GACZ,uBAAKA,UAAWpkB,EAAO2zB,OACnB,wBAAMvP,UAAWpkB,EAAOmyC,WALlB,wBAOV,uBAAK/tB,UAAWpkB,EAAOmV,UACvB,uBAAKiP,UAAWpkB,EAAOoyC,OACnB,qBAAGC,KAAK,IAAIjuB,UAAWpkB,EAAOgI,MAAI,iBAGjC,MACD,qBACIqqC,KAAK,8CACLlhB,OAAO,SACP/M,UAAWpkB,EAAOgI,MAAI,QAGzB,MACD,qBAAGqqC,KAAK,kBAAkBlhB,OAAO,SAAS/M,UAAWpkB,EAAOgI,MAAI,cAG/D,MACD,qBAAGqqC,KAAK,sBAAsBlhB,OAAO,SAAS/M,UAAWpkB,EAAOgI,MAAI,QAGnE,MACD,qBACIqqC,KAAK,gFACLlhB,OAAO,UACP,uBACI/M,UAAWpkB,EAAOsyC,aAClBlK,IAAI,0FACJmK,IAAI,kBAEP,IACL,qBAAGF,KAAK,oCAAoClhB,OAAO,UAC/C,uBACIiX,IAAI,yCACJmK,IAAI,cACJnuB,UAAWpkB,EAAOsyC,gBAErB,IACL,qBACID,KAAK,yCACLlhB,OAAO,SACP/M,UAAWpkB,EAAOgI,KAClB2rB,MAAM,uBACN,uBAAKvP,UAAWpkB,EAAOsyC,aAAclK,IAAK4J,MAK9D,EACJ,EA3DA,CAAsC5qB,EAAMqD,gICT5C,cAiBa,EAAA+nB,kBAA2D,CACpEhxC,IAAK,wBACLkuB,gBAAiB,eACjBC,SAAU,cACV8iB,WAAY,SAAA5iB,GAAe,OAACA,EAAYie,kBAAb,EAC3BzjB,QAAS,SAAA/D,GACL,IAnBE2S,EAmBIx7B,EAAW6oB,EAAO2J,cAClByiB,IApBJzZ,EAoB4Bx7B,EApBhBI,cAAc,UAE1BqtB,KAAO,OACb+N,EAAM0Z,OAAS,UACf1Z,EAAMj7B,aAAa,UAAW,QAEvBi7B,GAeHx7B,EAAS8e,KAAKte,YAAYy0C,GAE1BA,EAAUjrB,iBAAiB,UAAU,WACjC,GAAIirB,EAAUE,MACV,IAAK,IAAI/4C,EAAI,EAAGA,EAAI64C,EAAUE,MAAM94C,OAAQD,KACxC,IAAAg5C,aAAYvsB,EAAQosB,EAAUE,MAAM/4C,GAGhD,IAEA,IACI64C,EAAUI,gBAEVr1C,EAAS8e,KAAKpd,YAAYuzC,GAElC,yGCxCJ,cAWa,EAAAK,eAAwD,CACjEvxC,IAAK,qBACLkuB,gBAAiB,YACjBC,SAAU,aACVC,UAAW,SAAAC,GAAe,OAAAA,EAAYhM,UAAZ,EAC1BwG,QAAS,SAAA/D,GAKL,OAJAA,EAAOyJ,QAGP,EAAA9L,SAASyE,cAAcuB,kBAChB,CACX,8GCtBJ,cAWa,EAAA+oB,oBAA2D,CACpExxC,IAAK,mBACLkuB,gBAAiB,SACjBC,SAAU,SACVK,aAAa,EACb3F,QAAS,SAAA/D,GACL,IAAM4C,EAAM5C,EAAO2J,cAAcC,YAAY/G,OACvC3V,GAAO,IAAA2P,eAAcmD,GAC3B4C,EAAIzrB,SAAS2rB,MAAM9C,EAAO2sB,uBAAP3sB,CAA+B9S,GACtD,8GCpBJ,cAOa,EAAA0/B,oBAAqD,CAC9D1xC,IAAK,gBACLkuB,gBAAiB,iBACjBC,SAAU,QACVtF,QAAS,WACL,EAAA8oB,oBAAoBC,oBACxB,gICbJ,cACA,UAIM9T,EAGF,CACAC,QAAS,SAACr5B,EAAOkxB,GACb,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EACA,EAAAmtC,kBAAkBC,QAClB,KACAlc,EACAlxB,EAXJ,EAaJs5B,8BAA+B,SAACt5B,EAAOkxB,GACnC,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EACA,EAAAmtC,kBAAkBC,QAClB,KACAlc,EACAlxB,EAXJ,EAaJu5B,oBAAqB,SAACv5B,EAAOkxB,GACzB,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EACA,EAAAmtC,kBAAkBE,cAClB,KACAnc,EACAlxB,EAXJ,EAaJw5B,KAAM,SAACx5B,EAAOkxB,GACV,OAAA8G,EACIh4B,EACAA,EACA,MACA,GACA,GACA,GACA,EACA,EAAAmtC,kBAAkBC,QAClB,KACAlc,EACAlxB,EAXJ,EAaJy5B,mCAAoC,SAACz5B,EAAOkxB,GACxC,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EACA,EAAAmtC,kBAAkBG,0BAClB,UACApc,EACAlxB,EAXJ,EAaJ05B,SAAU,SAAC15B,EAAOkxB,GACd,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EACA,EAAAmtC,kBAAkBI,oBAClB,KACArc,EACAlxB,EAXJ,EAaJ25B,mBAAoB,SAAC35B,EAAOkxB,GACxB,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EACA,EAAAmtC,kBAAkBK,gBAClB,KACAtc,EACAlxB,EAXJ,EAaJ45B,gBAAiB,SAAC55B,EAAOkxB,GACrB,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EACA,EAAAmtC,kBAAkBM,cAClB,KACAvc,EACAlxB,EAXJ,EAaJ65B,gBAAiB,SAAC75B,EAAOkxB,GACrB,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EACA,EAAAmtC,kBAAkBO,cAClB,KACAxc,EACAlxB,EAXJ,EAaJ85B,gBAAiB,SAAC95B,EAAOkxB,GACrB,OAAA8G,EACIh4B,EACAA,EACAA,GACA,GACA,GACA,GACA,EACA,E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A,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,UAEhBP,OAAQ,CACJO,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,UAEhBN,WAAY,CACRM,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,UAEhBL,KAAM,CACFK,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,UAEhBJ,OAAQ,CACJI,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,UAEhBH,QAAS,CACLK,EACAF,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,UAE7Bf,QAAS,CACLe,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBA,EAAyB,SACzBA,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZa,EAAyB,SACzBb,EAAY,SACZA,EAAY,SACZA,EAAY,SACZA,EAAY,SACZa,EAAyB,SACz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","sources":["webpack://roosterjs/./demo/scripts/controls/MainPane.scss?02c0","webpack://roosterjs/./demo/scripts/controls/colorPicker/ColorPicker.scss?c445","webpack://roosterjs/./demo/scripts/controls/sidePane/SidePane.scss?a7d6","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/ApiPlaygroundPane.scss?cd78","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/blockElements/BlockElementsPane.scss?ce6a","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/darkColor/GetDarkColorPane.scss?facd","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/getSelection/getSelectionPane.scss?f584","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/insertContent/InsertContentPane.scss?2858","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/insertEntity/InsertEntityPane.scss?8968","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/region/GetSelectedRegionsPane.scss?89d2","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/sanitizer/SanitizerPane.scss?2631","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/vtable/VTablePane.scss?698d","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/OptionsPane.scss?48fd","webpack://roosterjs/./demo/scripts/controls/sidePane/eventViewer/EventViewPane.scss?43ed","webpack://roosterjs/./demo/scripts/controls/sidePane/formatState/FormatStatePane.scss?5094","webpack://roosterjs/./demo/scripts/controls/sidePane/snapshot/SnapshotPane.scss?6a8a","webpack://roosterjs/./demo/scripts/controls/titleBar/TitleBar.scss?49b4","webpack://roosterjs/./demo/scripts/controlsV2/mainPane/MainPane.scss?3f45","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/SidePane.scss?6d40","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/apiPlayground/ApiPlaygroundPane.scss?7322","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/apiPlayground/insertEntity/InsertEntityPane.scss?4b23","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/ContentModelPane.scss?9d17","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/ButtonGroup.scss?156f","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/ContentModelView.scss?62ba","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/FormatView.scss?8c0f","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelBrView.scss?1657","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelCodeView.scss?10fe","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelDividerView.scss?a795","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelDocumentView.scss?dab2","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelEntityView.scss?d452","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelFormatContainerView.scss?247c","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelGeneralView.scss?3e4c","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelImageView.scss?e84d","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelJson.scss?0816","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelLinkView.scss?3770","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelListItemView.scss?9898","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelListLevelView.scss?3f63","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelParagraphView.scss?c9bf","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelSelectionMarkerView.scss?78c4","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelTableCellView.scss?859a","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelTableRowView.scss?b2b5","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelTableView.scss?b157","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelTextView.scss?26dc","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/OptionsPane.scss?7e44","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/eventViewer/EventViewPane.scss?7eae","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/formatState/FormatStatePane.scss?10b5","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/snapshot/SnapshotPane.scss?cc2f","webpack://roosterjs/./demo/scripts/controlsV2/titleBar/TitleBar.scss?d944","webpack://roosterjs/./node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js","webpack://roosterjs/./node_modules/color-convert/conversions.js","webpack://roosterjs/./node_modules/color-convert/index.js","webpack://roosterjs/./node_modules/color-convert/route.js","webpack://roosterjs/./node_modules/color-name/index.js","webpack://roosterjs/./node_modules/color-string/index.js","webpack://roosterjs/./node_modules/color/index.js","webpack://roosterjs/./demo/scripts/controls/MainPane.scss","webpack://roosterjs/./demo/scripts/controls/colorPicker/ColorPicker.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/SidePane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/ApiPlaygroundPane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/blockElements/BlockElementsPane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/darkColor/GetDarkColorPane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/getSelection/getSelectionPane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/insertContent/InsertContentPane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/insertEntity/InsertEntityPane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/region/GetSelectedRegionsPane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/sanitizer/SanitizerPane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/vtable/VTablePane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/OptionsPane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/eventViewer/EventViewPane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/formatState/FormatStatePane.scss","webpack://roosterjs/./demo/scripts/controls/sidePane/snapshot/SnapshotPane.scss","webpack://roosterjs/./demo/scripts/controls/titleBar/TitleBar.scss","webpack://roosterjs/./demo/scripts/controlsV2/mainPane/MainPane.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/SidePane.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/apiPlayground/ApiPlaygroundPane.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/apiPlayground/insertEntity/InsertEntityPane.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/ContentModelPane.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/ButtonGroup.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/ContentModelView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/FormatView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelBrView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelCodeView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelDividerView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelDocumentView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelEntityView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelFormatContainerView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelGeneralView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelImageView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelJson.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelLinkView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelListItemView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelListLevelView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelParagraphView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelSelectionMarkerView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelTableCellView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelTableRowView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelTableView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelTextView.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/OptionsPane.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/eventViewer/EventViewPane.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/formatState/FormatStatePane.scss","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/snapshot/SnapshotPane.scss","webpack://roosterjs/./demo/scripts/controlsV2/titleBar/TitleBar.scss","webpack://roosterjs/./node_modules/css-loader/dist/runtime/api.js","webpack://roosterjs/./node_modules/dompurify/dist/purify.js","webpack://roosterjs/./node_modules/is-arrayish/index.js","webpack://roosterjs/./node_modules/simple-swizzle/index.js","webpack://roosterjs/./demo/scripts/controls/BuildInPluginState.ts","webpack://roosterjs/./demo/scripts/controls/MainPane.tsx","webpack://roosterjs/./demo/scripts/controls/MainPaneBase.tsx","webpack://roosterjs/./demo/scripts/controls/colorPicker/ColorPicker.tsx","webpack://roosterjs/./demo/scripts/controls/getToggleablePlugins.ts","webpack://roosterjs/./demo/scripts/controls/ribbonButtons/darkMode.ts","webpack://roosterjs/./demo/scripts/controls/ribbonButtons/export.ts","webpack://roosterjs/./demo/scripts/controls/ribbonButtons/popout.ts","webpack://roosterjs/./demo/scripts/controls/ribbonButtons/zoom.ts","webpack://roosterjs/./demo/scripts/controls/sampleEntity/SampleEntityPlugin.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/SidePane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/SidePanePluginImpl.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/ApiPlaygroundPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/ApiPlaygroundPlugin.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/apiEntries.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/blockElements/BlockElementsPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/darkColor/GetDarkColorPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/getSelection/getSelectionPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/insertContent/InsertContentPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/insertEntity/InsertEntityPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/matchLink/MatchLinkPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/region/GetSelectedRegionsPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/sanitizer/SanitizerPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/vlist/VListPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/vtable/PredefinedTableStyles.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/apiPlayground/vtable/VTablePane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/Code.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/ContentEditFeatures.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/DefaultFormat.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/EditorOptionsPlugin.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/ExperimentalFeatures.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/OptionsPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/Plugins.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/ButtonsCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/CodeElement.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/ContentEditCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/ContentEditFeaturesCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/DarkModeCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/DefaultFormatCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/EditorCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/ExperimentalFeaturesCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/HyperLinkCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/PluginsCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/ReactEditorCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/RibbonButtonCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/RibbonCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/SimplePluginCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/TableCellSelectionCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/codes/WatermarkCode.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/editorOptions/getDefaultContentEditFeatureSettings.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/eventViewer/EventViewPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/eventViewer/EventViewPlugin.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/formatState/FormatStatePane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/formatState/FormatStatePlugin.ts","webpack://roosterjs/./demo/scripts/controls/sidePane/snapshot/SnapshotPane.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/snapshot/SnapshotPlugin.tsx","webpack://roosterjs/./demo/scripts/controls/sidePane/snapshot/UndoSnapshots.ts","webpack://roosterjs/./demo/scripts/controls/titleBar/TitleBar.tsx","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/changeImageButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/darkModeButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/exportContentButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/formatPainterButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/formatTableButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/imageBorderColorButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/imageBorderRemoveButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/imageBorderStyleButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/imageBorderWidthButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/imageBoxShadowButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/listStartNumberButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/pasteButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/popoutButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/setBulletedListStyleButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/setNumberedListStyleButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/setTableCellShadeButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/setTableHeaderButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/spaceBeforeAfterButtons.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/spacingButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/tableBorderApplyButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/tableBorderColorButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/tableBorderStyleButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/tableBorderWidthButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/tableEditButtons.ts","webpack://roosterjs/./demo/scripts/controlsV2/demoButtons/zoomButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/mainPane/MainPane.tsx","webpack://roosterjs/./demo/scripts/controlsV2/mainPane/ribbonButtons.ts","webpack://roosterjs/./demo/scripts/controlsV2/plugins/FormatPainterPlugin.ts","webpack://roosterjs/./demo/scripts/controlsV2/plugins/SampleEntityPlugin.ts","webpack://roosterjs/./demo/scripts/controlsV2/plugins/UpdateContentPlugin.ts","webpack://roosterjs/./demo/scripts/controlsV2/plugins/createLegacyPlugins.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/colorPicker/component/renderColorPicker.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/colorPicker/utils/backgroundColors.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/colorPicker/utils/getClassNamesForColorPicker.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/colorPicker/utils/textColors.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/common/index.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/common/utils/createUIUtilities.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/common/utils/getLocalizedString.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/common/utils/renderReactComponent.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/contextMenu/index.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/contextMenu/menus/createImageEditMenuProvider.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/contextMenu/menus/createListEditMenuProvider.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/contextMenu/menus/createTableEditMenuProvider.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/contextMenu/plugin/createContextMenuPlugin.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/contextMenu/utils/createContextMenuProvider.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/emoji/components/EmojiIcon.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/emoji/components/EmojiNavBar.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/emoji/components/EmojiPane.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/emoji/components/EmojiStatusBar.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/emoji/components/showEmojiCallout.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/emoji/index.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/emoji/plugin/createEmojiPlugin.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/emoji/type/EmojiStrings.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/emoji/utils/emojiList.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/emoji/utils/searchEmojis.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/inputDialog/component/InputDialog.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/inputDialog/component/InputDialogItem.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/inputDialog/index.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/inputDialog/utils/showInputDialog.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/pasteOptions/component/showPasteOptionPane.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/pasteOptions/index.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/pasteOptions/plugin/createPasteOptionPlugin.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/pasteOptions/utils/buttons.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/pasteOptions/utils/getPositionRect.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/alignCenterButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/alignJustifyButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/alignLeftButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/alignRightButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/backgroundColorButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/blockQuoteButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/boldButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/bulletedListButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/clearFormatButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/codeButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/decreaseFontSizeButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/decreaseIndentButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/fontButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/fontSizeButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/increaseFontSizeButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/increaseIndentButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/insertImageButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/insertLinkButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/insertTableButton.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/italicButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/ltrButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/moreCommands.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/numberedListButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/redoButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/removeLinkButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/rtlButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/setHeadingLevelButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/strikethroughButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/subscriptButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/superscriptButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/textColorButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/underlineButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/buttons/undoButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/component/Ribbon.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/index.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/ribbon/plugin/createRibbonPlugin.ts","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/rooster/component/Rooster.tsx","webpack://roosterjs/./demo/scripts/controlsV2/roosterjsReact/rooster/index.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/SidePane.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/SidePanePluginImpl.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/apiPlayground/ApiPlaygroundPane.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/apiPlayground/ApiPlaygroundPlugin.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/apiPlayground/apiEntries.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/apiPlayground/insertEntity/InsertEntityPane.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/ContentModelPane.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/ContentModelPanePlugin.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/buttons/exportButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/buttons/refreshButton.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/ButtonGroup.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/ContentModelView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/BlockFormatView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/FormatView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/LinkFormatView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/MetadataView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/SegmentFormatView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/BackgroundColorFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/BasicFormatRenderers.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/BorderBoxFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/BorderFormatRenderers.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/DirectionFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/DisplayFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/FloatFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/FontFamilyFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/FontSizeFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/HtmlAlignFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/IdFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/ImageMetadataFormatRenderers.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/LetterSpacingFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/LineHeightFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/ListMetadataFormatRenderers.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/ListStylePositionFormatRenderers.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/ListThreadFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/MarginFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/PaddingFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/SizeFormatRenderers.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/SpacingFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/TableCellMetadataFormatRenders.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/TableLayoutFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/TableMetadataFormatRenders.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/TextAlignFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/TextColorFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/TextIndentFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/VerticalAlignFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/WhiteSpaceFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/formatPart/WordBreakFormatRenderer.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/utils/createCheckboxFormatRenderer.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/utils/createColorFormatRender.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/utils/createDropDownFormatRenderer.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/format/utils/createTextFormatRenderer.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/BlockGroupContentView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelBlockGroupView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelBlockView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelBrView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelCodeView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelDividerView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelDocumentView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelEntityView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelFormatContainerView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelGeneralView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelImageView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelJson.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelLinkView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelListItemView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelListLevelView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelParagraphView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelSegmentView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelSelectionMarkerView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelTableCellView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelTableRowView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelTableView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/components/model/ContentModelTextView.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/currentModel.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/contentModel/hooks/useProperty.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/Code.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/ContentEditFeatures.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/DefaultFormatPane.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/EditorOptionsPlugin.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/OptionState.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/OptionsPane.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/Plugins.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/codes/ButtonsCode.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/codes/CodeElement.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/codes/ContentEditCode.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/codes/ContentEditFeaturesCode.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/codes/DarkModeCode.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/codes/DefaultFormatCode.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/codes/EditorCode.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/codes/HyperLinkCode.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/codes/PluginsCode.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/codes/SimplePluginCode.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/codes/WatermarkCode.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/editorOptions/getDefaultContentEditFeatureSettings.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/eventViewer/EventViewPane.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/eventViewer/EventViewPlugin.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/formatState/FormatStatePane.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/formatState/FormatStatePlugin.ts","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/snapshot/SnapshotPane.tsx","webpack://roosterjs/./demo/scripts/controlsV2/sidePane/snapshot/SnapshotPlugin.tsx","webpack://roosterjs/./demo/scripts/controlsV2/theme/themes.ts","webpack://roosterjs/./demo/scripts/controlsV2/titleBar/TitleBar.tsx","webpack://roosterjs/./demo/scripts/utils/cssMonitor.ts","webpack://roosterjs/./demo/scripts/utils/trustedHTMLHandler.ts","webpack://roosterjs/./packages/roosterjs-editor-adapter/lib/corePlugins/BridgePlugin.ts","webpack://roosterjs/./packages/roosterjs-editor-adapter/lib/corePlugins/EditPlugin.ts","webpack://roosterjs/./packages/roosterjs-editor-adapter/lib/editor/DarkColorHandlerImpl.ts","webpack://roosterjs/./packages/roosterjs-editor-adapter/lib/editor/EditorAdapter.ts","webpack://roosterjs/./packages/roosterjs-editor-adapter/lib/editor/utils/buildRangeEx.ts","webpack://roosterjs/./packages/roosterjs-editor-adapter/lib/editor/utils/eventConverter.ts","webpack://roosterjs/./packages/roosterjs-editor-adapter/lib/editor/utils/insertNode.ts","webpack://roosterjs/./packages/roosterjs-editor-adapter/lib/editor/utils/selectionConverter.ts","webpack://roosterjs/./packages/roosterjs-editor-adapter/lib/index.ts","webpack://roosterjs/./demo/scripts/controls/titleBar/iconmonstr-github-1.svg","webpack://roosterjs/./demo/scripts/controlsV2/plugins/formatpaintercursor.svg","webpack://roosterjs/./demo/scripts/controlsV2/titleBar/iconmonstr-github-1.svg","webpack://roosterjs/external var \"FluentUIReact\"","webpack://roosterjs/external var \"React\"","webpack://roosterjs/external var \"ReactDOM\"","webpack://roosterjs/external var \"roosterjs\"","webpack://roosterjs/external var \"roosterjsContentModel\"","webpack://roosterjs/external var \"roosterjsReact\"","webpack://roosterjs/./node_modules/tslib/tslib.es6.mjs","webpack://roosterjs/webpack/bootstrap","webpack://roosterjs/webpack/runtime/define property getters","webpack://roosterjs/webpack/runtime/global","webpack://roosterjs/webpack/runtime/hasOwnProperty shorthand","webpack://roosterjs/webpack/runtime/make namespace object","webpack://roosterjs/./demo/scripts/index.ts"],"sourcesContent":["var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../node_modules/sass-loader/dist/cjs.js!./MainPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./ColorPicker.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./SidePane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./ApiPlaygroundPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js!./BlockElementsPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js!./GetDarkColorPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js!./getSelectionPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js!./InsertContentPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js!./InsertEntityPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js!./GetSelectedRegionsPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js!./SanitizerPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js!./VTablePane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./OptionsPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./EventViewPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./FormatStatePane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./SnapshotPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./TitleBar.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./MainPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./SidePane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./ApiPlaygroundPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js!./InsertEntityPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js!./ButtonGroup.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./FormatView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelBrView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelCodeView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelDividerView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelDocumentView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelEntityView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelFormatContainerView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelGeneralView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelImageView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelJson.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelLinkView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelListItemView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelListLevelView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelParagraphView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelSelectionMarkerView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelTableCellView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelTableRowView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelTableView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../../node_modules/sass-loader/dist/cjs.js!./ContentModelTextView.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./OptionsPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./EventViewPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./FormatStatePane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./SnapshotPane.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./TitleBar.scss\");\nvar loader = require(\"/home/runner/work/roosterjs/roosterjs/node_modules/@microsoft/loader-load-themed-styles/node_modules/@microsoft/load-themed-styles/lib/index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1], false);\n\nif(content.locals) module.exports = content.locals;","\"use strict\";\n/**\n * An IThemingInstruction can specify a rawString to be preserved or a theme slot and a default value\n * to use if that slot is not specified by the theme.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Store the theming state in __themeState__ global scope for reuse in the case of duplicate\n// load-themed-styles hosted on the page.\nvar _root = (typeof window === 'undefined') ? global : window; // eslint-disable-line @typescript-eslint/no-explicit-any\n// Nonce string to inject into script tag if one provided. This is used in CSP (Content Security Policy).\nvar _styleNonce = _root && _root.CSPSettings && _root.CSPSettings.nonce;\nvar _themeState = initializeThemeState();\n/**\n * Matches theming tokens. For example, \"[theme: themeSlotName, default: #FFF]\" (including the quotes).\n */\nvar _themeTokenRegex = /[\\'\\\"]\\[theme:\\s*(\\w+)\\s*(?:\\,\\s*default:\\s*([\\\\\"\\']?[\\.\\,\\(\\)\\#\\-\\s\\w]*[\\.\\,\\(\\)\\#\\-\\w][\\\"\\']?))?\\s*\\][\\'\\\"]/g;\nvar now = function () { return (typeof performance !== 'undefined' && !!performance.now) ? performance.now() : Date.now(); };\nfunction measure(func) {\n    var start = now();\n    func();\n    var end = now();\n    _themeState.perf.duration += end - start;\n}\n/**\n * initialize global state object\n */\nfunction initializeThemeState() {\n    var state = _root.__themeState__ || {\n        theme: undefined,\n        lastStyleElement: undefined,\n        registeredStyles: []\n    };\n    if (!state.runState) {\n        state = __assign({}, (state), { perf: {\n                count: 0,\n                duration: 0\n            }, runState: {\n                flushTimer: 0,\n                mode: 0 /* sync */,\n                buffer: []\n            } });\n    }\n    if (!state.registeredThemableStyles) {\n        state = __assign({}, (state), { registeredThemableStyles: [] });\n    }\n    _root.__themeState__ = state;\n    return state;\n}\n/**\n * Loads a set of style text. If it is registered too early, we will register it when the window.load\n * event is fired.\n * @param {string | ThemableArray} styles Themable style text to register.\n * @param {boolean} loadAsync When true, always load styles in async mode, irrespective of current sync mode.\n */\nfunction loadStyles(styles, loadAsync) {\n    if (loadAsync === void 0) { loadAsync = false; }\n    measure(function () {\n        var styleParts = Array.isArray(styles) ? styles : splitStyles(styles);\n        var _a = _themeState.runState, mode = _a.mode, buffer = _a.buffer, flushTimer = _a.flushTimer;\n        if (loadAsync || mode === 1 /* async */) {\n            buffer.push(styleParts);\n            if (!flushTimer) {\n                _themeState.runState.flushTimer = asyncLoadStyles();\n            }\n        }\n        else {\n            applyThemableStyles(styleParts);\n        }\n    });\n}\nexports.loadStyles = loadStyles;\n/**\n * Allows for customizable loadStyles logic. e.g. for server side rendering application\n * @param {(processedStyles: string, rawStyles?: string | ThemableArray) => void}\n * a loadStyles callback that gets called when styles are loaded or reloaded\n */\nfunction configureLoadStyles(loadStylesFn) {\n    _themeState.loadStyles = loadStylesFn;\n}\nexports.configureLoadStyles = configureLoadStyles;\n/**\n * Configure run mode of load-themable-styles\n * @param mode load-themable-styles run mode, async or sync\n */\nfunction configureRunMode(mode) {\n    _themeState.runState.mode = mode;\n}\nexports.configureRunMode = configureRunMode;\n/**\n * external code can call flush to synchronously force processing of currently buffered styles\n */\nfunction flush() {\n    measure(function () {\n        var styleArrays = _themeState.runState.buffer.slice();\n        _themeState.runState.buffer = [];\n        var mergedStyleArray = [].concat.apply([], styleArrays);\n        if (mergedStyleArray.length > 0) {\n            applyThemableStyles(mergedStyleArray);\n        }\n    });\n}\nexports.flush = flush;\n/**\n * register async loadStyles\n */\nfunction asyncLoadStyles() {\n    return setTimeout(function () {\n        _themeState.runState.flushTimer = 0;\n        flush();\n    }, 0);\n}\n/**\n * Loads a set of style text. If it is registered too early, we will register it when the window.load event\n * is fired.\n * @param {string} styleText Style to register.\n * @param {IStyleRecord} styleRecord Existing style record to re-apply.\n */\nfunction applyThemableStyles(stylesArray, styleRecord) {\n    if (_themeState.loadStyles) {\n        _themeState.loadStyles(resolveThemableArray(stylesArray).styleString, stylesArray);\n    }\n    else {\n        registerStyles(stylesArray);\n    }\n}\n/**\n * Registers a set theme tokens to find and replace. If styles were already registered, they will be\n * replaced.\n * @param {theme} theme JSON object of theme tokens to values.\n */\nfunction loadTheme(theme) {\n    _themeState.theme = theme;\n    // reload styles.\n    reloadStyles();\n}\nexports.loadTheme = loadTheme;\n/**\n * Clear already registered style elements and style records in theme_State object\n * @param option - specify which group of registered styles should be cleared.\n * Default to be both themable and non-themable styles will be cleared\n */\nfunction clearStyles(option) {\n    if (option === void 0) { option = 3 /* all */; }\n    if (option === 3 /* all */ || option === 2 /* onlyNonThemable */) {\n        clearStylesInternal(_themeState.registeredStyles);\n        _themeState.registeredStyles = [];\n    }\n    if (option === 3 /* all */ || option === 1 /* onlyThemable */) {\n        clearStylesInternal(_themeState.registeredThemableStyles);\n        _themeState.registeredThemableStyles = [];\n    }\n}\nexports.clearStyles = clearStyles;\nfunction clearStylesInternal(records) {\n    records.forEach(function (styleRecord) {\n        var styleElement = styleRecord && styleRecord.styleElement;\n        if (styleElement && styleElement.parentElement) {\n            styleElement.parentElement.removeChild(styleElement);\n        }\n    });\n}\n/**\n * Reloads styles.\n */\nfunction reloadStyles() {\n    if (_themeState.theme) {\n        var themableStyles = [];\n        for (var _i = 0, _a = _themeState.registeredThemableStyles; _i < _a.length; _i++) {\n            var styleRecord = _a[_i];\n            themableStyles.push(styleRecord.themableStyle);\n        }\n        if (themableStyles.length > 0) {\n            clearStyles(1 /* onlyThemable */);\n            applyThemableStyles([].concat.apply([], themableStyles));\n        }\n    }\n}\n/**\n * Find theme tokens and replaces them with provided theme values.\n * @param {string} styles Tokenized styles to fix.\n */\nfunction detokenize(styles) {\n    if (styles) {\n        styles = resolveThemableArray(splitStyles(styles)).styleString;\n    }\n    return styles;\n}\nexports.detokenize = detokenize;\n/**\n * Resolves ThemingInstruction objects in an array and joins the result into a string.\n * @param {ThemableArray} splitStyleArray ThemableArray to resolve and join.\n */\nfunction resolveThemableArray(splitStyleArray) {\n    var theme = _themeState.theme;\n    var themable = false;\n    // Resolve the array of theming instructions to an array of strings.\n    // Then join the array to produce the final CSS string.\n    var resolvedArray = (splitStyleArray || []).map(function (currentValue) {\n        var themeSlot = currentValue.theme;\n        if (themeSlot) {\n            themable = true;\n            // A theming annotation. Resolve it.\n            var themedValue = theme ? theme[themeSlot] : undefined;\n            var defaultValue = currentValue.defaultValue || 'inherit';\n            // Warn to console if we hit an unthemed value even when themes are provided, but only if \"DEBUG\" is true.\n            // Allow the themedValue to be undefined to explicitly request the default value.\n            if (theme && !themedValue && console && !(themeSlot in theme) && typeof DEBUG !== 'undefined' && DEBUG) {\n                console.warn(\"Theming value not provided for \\\"\" + themeSlot + \"\\\". Falling back to \\\"\" + defaultValue + \"\\\".\");\n            }\n            return themedValue || defaultValue;\n        }\n        else {\n            // A non-themable string. Preserve it.\n            return currentValue.rawString;\n        }\n    });\n    return {\n        styleString: resolvedArray.join(''),\n        themable: themable\n    };\n}\n/**\n * Split tokenized CSS into an array of strings and theme specification objects\n * @param {string} styles Tokenized styles to split.\n */\nfunction splitStyles(styles) {\n    var result = [];\n    if (styles) {\n        var pos = 0; // Current position in styles.\n        var tokenMatch = void 0; // eslint-disable-line @rushstack/no-null\n        while ((tokenMatch = _themeTokenRegex.exec(styles))) {\n            var matchIndex = tokenMatch.index;\n            if (matchIndex > pos) {\n                result.push({\n                    rawString: styles.substring(pos, matchIndex)\n                });\n            }\n            result.push({\n                theme: tokenMatch[1],\n                defaultValue: tokenMatch[2] // May be undefined\n            });\n            // index of the first character after the current match\n            pos = _themeTokenRegex.lastIndex;\n        }\n        // Push the rest of the string after the last match.\n        result.push({\n            rawString: styles.substring(pos)\n        });\n    }\n    return result;\n}\nexports.splitStyles = splitStyles;\n/**\n * Registers a set of style text. If it is registered too early, we will register it when the\n * window.load event is fired.\n * @param {ThemableArray} styleArray Array of IThemingInstruction objects to register.\n * @param {IStyleRecord} styleRecord May specify a style Element to update.\n */\nfunction registerStyles(styleArray) {\n    if (typeof document === 'undefined') {\n        return;\n    }\n    var head = document.getElementsByTagName('head')[0];\n    var styleElement = document.createElement('style');\n    var _a = resolveThemableArray(styleArray), styleString = _a.styleString, themable = _a.themable;\n    styleElement.setAttribute('data-load-themed-styles', 'true');\n    if (_styleNonce) {\n        styleElement.setAttribute('nonce', _styleNonce);\n    }\n    styleElement.appendChild(document.createTextNode(styleString));\n    _themeState.perf.count++;\n    head.appendChild(styleElement);\n    var ev = document.createEvent('HTMLEvents');\n    ev.initEvent('styleinsert', true /* bubbleEvent */, false /* cancelable */);\n    ev.args = {\n        newStyle: styleElement\n    };\n    document.dispatchEvent(ev);\n    var record = {\n        styleElement: styleElement,\n        themableStyle: styleArray\n    };\n    if (themable) {\n        _themeState.registeredThemableStyles.push(record);\n    }\n    else {\n        _themeState.registeredStyles.push(record);\n    }\n}\n//# sourceMappingURL=index.js.map","/* MIT license */\nvar cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n\tif (cssKeywords.hasOwnProperty(key)) {\n\t\treverseKeywords[cssKeywords[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar rdif;\n\tvar gdif;\n\tvar bdif;\n\tvar h;\n\tvar s;\n\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar v = Math.max(r, g, b);\n\tvar diff = v - Math.min(r, g, b);\n\tvar diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = s = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in cssKeywords) {\n\t\tif (cssKeywords.hasOwnProperty(keyword)) {\n\t\t\tvar value = cssKeywords[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","var conversions = require('./conversions');\nvar route = require('./route');\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","var conversions = require('./conversions');\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\n\nvar reverseNames = {};\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (colorNames.hasOwnProperty(name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar keyword = /(\\D+)/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\n\t\tif (!rgb) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = (parseFloat(match[1]) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = num.toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","'use strict';\n\nvar colorString = require('color-string');\nvar convert = require('color-convert');\n\nvar _slice = [].slice;\n\nvar skippedModels = [\n\t// to be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// shouldn't really be in color-convert either...\n\t'hex'\n];\n\nvar hashedModelKeys = {};\nObject.keys(convert).forEach(function (model) {\n\thashedModelKeys[_slice.call(convert[model].labels).sort().join('')] = model;\n});\n\nvar limiters = {};\n\nfunction Color(obj, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tvar i;\n\tvar channels;\n\n\tif (obj == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (obj instanceof Color) {\n\t\tthis.model = obj.model;\n\t\tthis.color = obj.color.slice();\n\t\tthis.valpha = obj.valpha;\n\t} else if (typeof obj === 'string') {\n\t\tvar result = colorString.get(obj);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + obj);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (obj.length) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tvar newArr = _slice.call(obj, 0, channels);\n\t\tthis.color = zeroArray(newArr, channels);\n\t\tthis.valpha = typeof obj[channels] === 'number' ? obj[channels] : 1;\n\t} else if (typeof obj === 'number') {\n\t\t// this is always RGB - can be converted later on.\n\t\tobj &= 0xFFFFFF;\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(obj >> 16) & 0xFF,\n\t\t\t(obj >> 8) & 0xFF,\n\t\t\tobj & 0xFF\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tvar keys = Object.keys(obj);\n\t\tif ('alpha' in obj) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof obj.alpha === 'number' ? obj.alpha : 0;\n\t\t}\n\n\t\tvar hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(obj));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tvar labels = convert[this.model].labels;\n\t\tvar color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(obj[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tvar limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString: function () {\n\t\treturn this.string();\n\t},\n\n\ttoJSON: function () {\n\t\treturn this[this.model]();\n\t},\n\n\tstring: function (places) {\n\t\tvar self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString: function (places) {\n\t\tvar self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray: function () {\n\t\treturn this.valpha === 1 ? this.color.slice() : this.color.concat(this.valpha);\n\t},\n\n\tobject: function () {\n\t\tvar result = {};\n\t\tvar channels = convert[this.model].channels;\n\t\tvar labels = convert[this.model].labels;\n\n\t\tfor (var i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray: function () {\n\t\tvar rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject: function () {\n\t\tvar rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround: function (places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color(this.color.map(roundToPlace(places)).concat(this.valpha), this.model);\n\t},\n\n\talpha: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(this.color.concat(Math.max(0, Math.min(1, val))), this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, function (val) { return ((val % 360) + 360) % 360; }), // eslint-disable-line brace-style\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(100)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(100)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.rgb().color;\n\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.rgb().color;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight: function () {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = this.rgb();\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\t\treturn rgb;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale: function () {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar rgb = this.rgb().color;\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(val, val, val);\n\t},\n\n\tfade: function (ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer: function (ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.hsl();\n\t\tvar hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix: function (mixinColor, weight) {\n\t\t// ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\t\tvar color1 = mixinColor.rgb();\n\t\tvar color2 = this.rgb();\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t}\n};\n\n// model conversion methods and static constructors\nObject.keys(convert).forEach(function (model) {\n\tif (skippedModels.indexOf(model) !== -1) {\n\t\treturn;\n\t}\n\n\tvar channels = convert[model].channels;\n\n\t// conversion methods\n\tColor.prototype[model] = function () {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (arguments.length) {\n\t\t\treturn new Color(arguments, model);\n\t\t}\n\n\t\tvar newAlpha = typeof arguments[channels] === 'number' ? channels : this.valpha;\n\t\treturn new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha), model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (color) {\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(_slice.call(arguments), channels);\n\t\t}\n\t\treturn new Color(color, model);\n\t};\n});\n\nfunction roundTo(num, places) {\n\treturn Number(num.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (num) {\n\t\treturn roundTo(num, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tmodel.forEach(function (m) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t});\n\n\tmodel = model[0];\n\n\treturn function (val) {\n\t\tvar result;\n\n\t\tif (arguments.length) {\n\t\t\tif (modifier) {\n\t\t\t\tval = modifier(val);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = val;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(val) {\n\treturn Array.isArray(val) ? val : [val];\n}\n\nfunction zeroArray(arr, length) {\n\tfor (var i = 0; i < length; i++) {\n\t\tif (typeof arr[i] !== 'number') {\n\t\t\tarr[i] = 0;\n\t\t}\n\t}\n\n\treturn arr;\n}\n\nmodule.exports = Color;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#0091a1;color:#aaf7ff;border:solid 1px #007b8b}select,input,textarea{background-color:#333;color:#aaf7ff;border:solid 1px #007b8b}}._2bo1k8lHl_uV-BG6znDJAB{display:flex;flex-direction:column;width:100%;height:100%}._2w6Qajx0rNoAfiZ90ELvWi{flex:0 0 auto;overflow-x:hidden}.Wu-w1vnX5xXDlokHB7qep{flex:1 1 auto;position:relative;display:flex}._1QRxv0rbFhdjIh9rjvd2w4{width:\\\"100%\\\";min-width:200px;flex-grow:1;flex-shrink:1;position:relative}@media(prefers-color-scheme: dark){._1QRxv0rbFhdjIh9rjvd2w4 a:link,._1QRxv0rbFhdjIh9rjvd2w4 a:visited{color:#ba7cff}}._3a-q_waO25gsrEedKcbvzq{border:solid 1px #0bc;overflow:auto;padding:10px;outline:none;position:absolute;left:0;top:0;right:0;bottom:0}._2fUtCc9nx7qZAmJvSYE2Ij{flex-grow:0;flex-shrink:0;width:6px;cursor:col-resize}._2fUtCc9nx7qZAmJvSYE2Ij:hover{background-color:#ccc}._2ksqVkP0P8VOnkTSDwC9gZ{flex-grow:0;flex-shrink:0;width:30px;cursor:hand;white-space:nowrap}._2ksqVkP0P8VOnkTSDwC9gZ div{transform:rotate(-90deg)}._2ksqVkP0P8VOnkTSDwC9gZ:hover{background-color:#ccc}.p_p04H6Z22MyE14zIJ1QR{min-width:340px;flex-shrink:0;flex-grow:0;width:300px}.p_p04H6Z22MyE14zIJ1QR._3aTZ87z1JhQNydo6VrKJpL{width:100%}@media(prefers-color-scheme: dark){._3a-q_waO25gsrEedKcbvzq{border:solid 1px #007b8b}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"mainPane\": \"_2bo1k8lHl_uV-BG6znDJAB\",\n\t\"noGrow\": \"_2w6Qajx0rNoAfiZ90ELvWi\",\n\t\"body\": \"Wu-w1vnX5xXDlokHB7qep\",\n\t\"editorContainer\": \"_1QRxv0rbFhdjIh9rjvd2w4\",\n\t\"editor\": \"_3a-q_waO25gsrEedKcbvzq\",\n\t\"resizer\": \"_2fUtCc9nx7qZAmJvSYE2Ij\",\n\t\"showSidePane\": \"_2ksqVkP0P8VOnkTSDwC9gZ\",\n\t\"sidePane\": \"p_p04H6Z22MyE14zIJ1QR\",\n\t\"sidePaneFullWidth\": \"_3aTZ87z1JhQNydo6VrKJpL\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".zzrG7QTYWevpNEutHRteL{border:solid 1px #000;position:relative;width:100%;height:250px}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp{position:absolute;top:5px;left:5px;right:60px;bottom:25px}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp .tACuk57Dyi-G8vSeWqr1J{width:100%;height:100%;background:linear-gradient(to right, white, rgba(255, 255, 255, 0))}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp ._2spr_UnliyPKejcb4aR4VA{width:100%;height:100%;background:linear-gradient(to top, black, rgba(0, 0, 0, 0))}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp .w4z5tFrATWvV5ruSLWsJp{position:absolute}.zzrG7QTYWevpNEutHRteL ._2oyU282TgFscZ5UHgcUmdp .w4z5tFrATWvV5ruSLWsJp div{position:absolute;box-sizing:border-box;left:-6px;top:-6px;width:12px;height:12px;border:solid 2px #000;border-radius:50%}.zzrG7QTYWevpNEutHRteL .dtqPj9iGhxveR4Am-elmu{position:absolute;top:5px;width:50px;right:5px;bottom:50%}.zzrG7QTYWevpNEutHRteL ._3eWedriXwotOrDVbydtjbM{position:absolute;top:50%;width:50px;right:5px;bottom:5px}.zzrG7QTYWevpNEutHRteL ._3MccxpeP-m7bKvTxQer9Ky{position:absolute;left:5px;right:60px;bottom:5px;height:15px;background:linear-gradient(to right, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%)}.zzrG7QTYWevpNEutHRteL ._3MccxpeP-m7bKvTxQer9Ky .w4z5tFrATWvV5ruSLWsJp{position:absolute;height:100%}.zzrG7QTYWevpNEutHRteL ._3MccxpeP-m7bKvTxQer9Ky .w4z5tFrATWvV5ruSLWsJp div{position:absolute;box-sizing:border-box;left:-4px;width:8px;top:-2px;bottom:-2px;border:solid 2px #000;border-radius:20%}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"container\": \"zzrG7QTYWevpNEutHRteL\",\n\t\"picker\": \"_2oyU282TgFscZ5UHgcUmdp\",\n\t\"layer1\": \"tACuk57Dyi-G8vSeWqr1J\",\n\t\"layer2\": \"_2spr_UnliyPKejcb4aR4VA\",\n\t\"currentColor\": \"w4z5tFrATWvV5ruSLWsJp\",\n\t\"newColor\": \"dtqPj9iGhxveR4Am-elmu\",\n\t\"initColor\": \"_3eWedriXwotOrDVbydtjbM\",\n\t\"hueBar\": \"_3MccxpeP-m7bKvTxQer9Ky\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#0091a1;color:#aaf7ff;border:solid 1px #007b8b}select,input,textarea{background-color:#333;color:#aaf7ff;border:solid 1px #007b8b}}._1PlpDVxjlx0PpeYJornEhO{display:flex;flex-direction:column;overflow:auto hidden;border:solid 1px #0bc}.bUl77zUyQ8rsLeCWewoHf{font-family:\\\"Tahoma\\\";font-size:12pt;font-weight:bold;background-color:#09a;color:#fff;padding:2px;border:solid 1px #fff;cursor:pointer;flex:0 0 auto}.bUl77zUyQ8rsLeCWewoHf:hover{background-color:#00b0c4}._1Wy64YypxEm0pHdAFt3XyU{display:flex;flex-direction:column;flex:1 1 auto}._1Wy64YypxEm0pHdAFt3XyU ._3n6qkPOj7d7pT5EreXLpW_{flex:1 1 auto;display:flex;position:relative}._1Wy64YypxEm0pHdAFt3XyU ._3n6qkPOj7d7pT5EreXLpW_ ._1kHOYplq2tIl0x8bAqBZrs{position:absolute;left:0;top:0;right:0;bottom:0;display:flex;flex-direction:column;font-family:Arial,Helvetica,sans-serif;padding:10px;overflow-y:auto}._2l2WY2-sLGfv8zWnCEMFYu{flex:0 0 auto}._2l2WY2-sLGfv8zWnCEMFYu ._3n6qkPOj7d7pT5EreXLpW_{height:0;overflow:hidden}@media(prefers-color-scheme: dark){._1PlpDVxjlx0PpeYJornEhO{color:#0bc;border:solid 1px #007b8b}.bUl77zUyQ8rsLeCWewoHf{background-color:#0091a1;color:#333}.bUl77zUyQ8rsLeCWewoHf:hover{background-color:#00a8bb}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"sidePane\": \"_1PlpDVxjlx0PpeYJornEhO\",\n\t\"title\": \"bUl77zUyQ8rsLeCWewoHf\",\n\t\"activePane\": \"_1Wy64YypxEm0pHdAFt3XyU\",\n\t\"bodyContainer\": \"_3n6qkPOj7d7pT5EreXLpW_\",\n\t\"body\": \"_1kHOYplq2tIl0x8bAqBZrs\",\n\t\"inactivePane\": \"_2l2WY2-sLGfv8zWnCEMFYu\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._12Yaq4bmIYMlsqqYimZ13I{flex:0 0 auto;padding-bottom:5px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"header\": \"_12Yaq4bmIYMlsqqYimZ13I\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1_jgBU84mPgcYlpMVPoqWE{overflow:hidden;text-overflow:ellipsis;cursor:pointer;margin:3px 0;white-space:nowrap}._1_jgBU84mPgcYlpMVPoqWE:hover{background-color:#eee}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"block\": \"_1_jgBU84mPgcYlpMVPoqWE\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2QN9z7UV4YLHwj9CQ-6ra6{position:absolute;left:25px;right:25px;top:25px;bottom:25px}.KAuwbJuev3yAQmPcrB-wl,._2r_v4LIS95O1jezeMfgUpS,.bIPZz2lZ0Dy0-dW2Poeua{position:relative;width:100px;height:100px;border:solid 1px #000}.bIPZz2lZ0Dy0-dW2Poeua{background-color:#fff}._2r_v4LIS95O1jezeMfgUpS{background-color:#333}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"result\": \"_2QN9z7UV4YLHwj9CQ-6ra6\",\n\t\"backgroundBase\": \"KAuwbJuev3yAQmPcrB-wl\",\n\t\"darkBackground\": \"_2r_v4LIS95O1jezeMfgUpS\",\n\t\"lightBackground\": \"bIPZz2lZ0Dy0-dW2Poeua\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1hYhx3hKo_jDHdj3blAjc{margin-top:2px;margin-bottom:2px;line-height:2px}._5v3zhTlG_yH7GaGVgXfQP{width:30px;margin-left:4px}._1RrgLiiHLlvBCf-d5YWxnu{margin-top:2px;margin-bottom:2px}._3V3Ji0Va8o5p54tjedX892{font-weight:bold}._137J0ZhSm3qals9lhoTtS3{line-height:20px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"input\": \"_1hYhx3hKo_jDHdj3blAjc\",\n\t\"coordinates\": \"_5v3zhTlG_yH7GaGVgXfQP\",\n\t\"button\": \"_1RrgLiiHLlvBCf-d5YWxnu\",\n\t\"title\": \"_3V3Ji0Va8o5p54tjedX892\",\n\t\"containerInfo\": \"_137J0ZhSm3qals9lhoTtS3\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3zqjTFVESq7ErkoLCRZ-6U{resize:none;min-height:100px;max-height:200px}._3eEmGG3kPCcFFRLXYSrjlt{text-align:center}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"text\": \"_3zqjTFVESq7ErkoLCRZ-6U\",\n\t\"buttonRow\": \"_3eEmGG3kPCcFFRLXYSrjlt\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3w8Hon1pjNxrKF0BoO_5HY{outline:none;resize:none;min-height:40px;width:90%}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"textarea\": \"_3w8Hon1pjNxrKF0BoO_5HY\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#0091a1;color:#aaf7ff;border:solid 1px #007b8b}select,input,textarea{background-color:#333;color:#aaf7ff;border:solid 1px #007b8b}}.deySpGrN2RNEpBoMFR8Uh{font-weight:bold;background-color:#aaf7ff}._2mBGUX8vWQF-5jynECLtGD{background-color:#00b0c4;border:solid 2px #09a}@media(prefers-color-scheme: dark){.deySpGrN2RNEpBoMFR8Uh{background-color:#a1f6ff}._2mBGUX8vWQF-5jynECLtGD{background-color:#00a8bb;border:solid 2px #0091a1}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"regionNode\": \"deySpGrN2RNEpBoMFR8Uh\",\n\t\"hover\": \"_2mBGUX8vWQF-5jynECLtGD\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".z_Kjs2wjz5dWJBsuOtSYN{outline:none;resize:none;min-height:100px;height:300px}._1jzoyXnrzDHw1HFmidMaWi{margin:10px;height:35px;width:80px;flex:0 0 auto}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"textarea\": \"z_Kjs2wjz5dWJBsuOtSYN\",\n\t\"button\": \"_1jzoyXnrzDHw1HFmidMaWi\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1npSAsDS54nnYHLeTCHICi{text-align:center}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"buttonRow\": \"_1npSAsDS54nnYHLeTCHICi\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3QUL-cTI2rzYtI4ueZE5lr{vertical-align:top}._pll-4jUC7rvgi0vFQdY1{white-space:nowrap}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"checkboxColumn\": \"_3QUL-cTI2rzYtI4ueZE5lr\",\n\t\"defaultFormatLabel\": \"_pll-4jUC7rvgi0vFQdY1\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2TlmgQ1bW5R050B6jYhEX{max-width:100%;max-height:300px}.ffJacBjxWzCVBw1QPEOh4{font-family:\\\"Courier New\\\";font-size:10.5pt;margin:10px}.bUF-XqoekK8dhSeJ-0o5c{margin-left:20px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"img\": \"_2TlmgQ1bW5R050B6jYhEX\",\n\t\"pasteContent\": \"ffJacBjxWzCVBw1QPEOh4\",\n\t\"eventContent\": \"bUF-XqoekK8dhSeJ-0o5c\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2HXvsNDp44ok-mZyQwNNCy{color:#eee}._1HxlX2f9hy_xnwciZLYJ3w{font-weight:bold}@media(prefers-color-scheme: dark){._2HXvsNDp44ok-mZyQwNNCy{color:#555}}.dark ._2HXvsNDp44ok-mZyQwNNCy{color:#555}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"inactive\": \"_2HXvsNDp44ok-mZyQwNNCy\",\n\t\"title\": \"_1HxlX2f9hy_xnwciZLYJ3w\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#0091a1;color:#aaf7ff;border:solid 1px #007b8b}select,input,textarea{background-color:#333;color:#aaf7ff;border:solid 1px #007b8b}}.HibV3xkyKxOpjnAyk0qr4{flex:1 1 auto;display:flex;flex-direction:column}._1yCf4MUqqEDULqM4RSNRBS{margin-bottom:10px;flex:0 0 auto}.E1MpWNg-lFB-dmiOBDnVv{flex:1 1 auto;resize:none;min-height:100px;border-color:#0bc}._2WqAZxlRXbhGBPoaHrJ1Gv{min-height:100px;max-height:200px;overflow:hidden auto;border:solid 1px #0bc}._2WqAZxlRXbhGBPoaHrJ1Gv pre{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;margin:0}._2WqAZxlRXbhGBPoaHrJ1Gv pre:hover{background-color:#eee}._2WqAZxlRXbhGBPoaHrJ1Gv pre._21blMEsk_K31sbjM73Q_V2{font-weight:bold}._2WqAZxlRXbhGBPoaHrJ1Gv pre.t0z_eiUKKfEvZR3eNUMXy{background-color:#ff0}@media(prefers-color-scheme: dark){._2WqAZxlRXbhGBPoaHrJ1Gv{border:solid 1px #007b8b}.E1MpWNg-lFB-dmiOBDnVv{border-color:#007b8b}._2WqAZxlRXbhGBPoaHrJ1Gv{border:solid 1px #007b8b}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"snapshotPane\": \"HibV3xkyKxOpjnAyk0qr4\",\n\t\"buttons\": \"_1yCf4MUqqEDULqM4RSNRBS\",\n\t\"textarea\": \"E1MpWNg-lFB-dmiOBDnVv\",\n\t\"snapshotList\": \"_2WqAZxlRXbhGBPoaHrJ1Gv\",\n\t\"current\": \"_21blMEsk_K31sbjM73Q_V2\",\n\t\"autoComplete\": \"t0z_eiUKKfEvZR3eNUMXy\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#0091a1;color:#aaf7ff;border:solid 1px #007b8b}select,input,textarea{background-color:#333;color:#aaf7ff;border:solid 1px #007b8b}}._38B2xrPpolo75ScC_XTUJ0{display:flex;background-color:#09a;padding:5px 10px;margin-bottom:10px;border-radius:10px;align-items:center}._3rKujTCbT6hEqSSJowznfl{flex:0 0 auto;font-size:24pt;font-family:Arial;font-weight:bold;font-style:italic;color:#fff;text-shadow:2px 2px 2px #000}.LmRq7AaEB4aAjkYn1_Fx1{flex:1 1 auto;color:#fff;font-family:Calibri;font-size:14pt;margin:10px 0 0 10px}._2pD0Ll-40t-pFcvxGbmrDa{color:#fff;flex:0 0 auto;text-align:right;font-size:14pt;font-family:Calibri}.NlCA34doW26bRa3ETK3MV{color:#fff;text-decoration:none}.NlCA34doW26bRa3ETK3MV:hover{text-decoration:underline}._1TClD7zQfb72l9_IIRB9Bu{vertical-align:middle}@media(prefers-color-scheme: dark){._38B2xrPpolo75ScC_XTUJ0{background-color:#0091a1}._3rKujTCbT6hEqSSJowznfl,.NlCA34doW26bRa3ETK3MV{color:#bbd1e1}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"titleBar\": \"_38B2xrPpolo75ScC_XTUJ0\",\n\t\"title\": \"_3rKujTCbT6hEqSSJowznfl\",\n\t\"version\": \"LmRq7AaEB4aAjkYn1_Fx1\",\n\t\"links\": \"_2pD0Ll-40t-pFcvxGbmrDa\",\n\t\"link\": \"NlCA34doW26bRa3ETK3MV\",\n\t\"externalLink\": \"_1TClD7zQfb72l9_IIRB9Bu\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#cb6587;color:#fff;border:solid 1px #cb6587}select,input,textarea{background-color:#333;color:#fff;border:solid 1px #cb6587}}._1Vd7XilFCiG21bAPFLj2II{display:flex;flex-direction:column;width:100%;height:100%}._23LenQcZad0qCk02i6eGGv{flex:0 0 auto;overflow-x:hidden}._3qco7ziGP42a5ExBXlCzLM{flex:1 1 auto;position:relative;display:flex}._3seGejKWK4LYJLgONtrupA{width:\\\"100%\\\";min-width:200px;flex-grow:1;flex-shrink:1;position:relative}@media(prefers-color-scheme: dark){._3seGejKWK4LYJLgONtrupA a:link,._3seGejKWK4LYJLgONtrupA a:visited{color:#ba7cff}}._3oitr-ji576joN-EOTKyxg{border:solid 1px #c68;overflow:auto;padding:10px;outline:none;position:absolute;left:0;top:0;right:0;bottom:0}.Mfr5Ig446lykagYmmpG3g{flex-grow:0;flex-shrink:0;width:6px;cursor:col-resize}.Mfr5Ig446lykagYmmpG3g:hover{background-color:#ccc}._3yvgFdqCfvTJBGVRZEtcYi{flex-grow:0;flex-shrink:0;width:30px;cursor:hand;white-space:nowrap}._3yvgFdqCfvTJBGVRZEtcYi div{transform:rotate(-90deg)}._3yvgFdqCfvTJBGVRZEtcYi:hover{background-color:#ccc}._2oVM-i43du-Ct8U49UpmKk{min-width:340px;flex-shrink:0;flex-grow:0;width:300px}._2oVM-i43du-Ct8U49UpmKk._1ZxvpxzdGp13ThgmwAfwEV{width:100%}@media(prefers-color-scheme: dark){._3oitr-ji576joN-EOTKyxg{border:solid 1px #cb6587}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"mainPane\": \"_1Vd7XilFCiG21bAPFLj2II\",\n\t\"noGrow\": \"_23LenQcZad0qCk02i6eGGv\",\n\t\"body\": \"_3qco7ziGP42a5ExBXlCzLM\",\n\t\"editorContainer\": \"_3seGejKWK4LYJLgONtrupA\",\n\t\"editor\": \"_3oitr-ji576joN-EOTKyxg\",\n\t\"resizer\": \"Mfr5Ig446lykagYmmpG3g\",\n\t\"showSidePane\": \"_3yvgFdqCfvTJBGVRZEtcYi\",\n\t\"sidePane\": \"_2oVM-i43du-Ct8U49UpmKk\",\n\t\"sidePaneFullWidth\": \"_1ZxvpxzdGp13ThgmwAfwEV\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#cb6587;color:#fff;border:solid 1px #cb6587}select,input,textarea{background-color:#333;color:#fff;border:solid 1px #cb6587}}._3m0dVzEpXl-iV7GJZD0Reg{display:flex;flex-direction:column;overflow:auto hidden;border:solid 1px #c68}._3sCE_dbYg32gGwgKSmaZdT{font-family:\\\"Tahoma\\\";font-size:12pt;font-weight:bold;background-color:#c68;color:#fff;padding:2px;border:solid 1px #fff;cursor:pointer;flex:0 0 auto}._3sCE_dbYg32gGwgKSmaZdT:hover{background-color:#d27997}._2W3wuveqbmtn8cePGgks9q{display:flex;flex-direction:column;flex:1 1 auto}._2W3wuveqbmtn8cePGgks9q ._39UmG0y7b2eQj02AUG1tXr{flex:1 1 auto;display:flex;position:relative}._2W3wuveqbmtn8cePGgks9q ._39UmG0y7b2eQj02AUG1tXr ._3EVbyd0wXGlFG_HoOvSESI{position:absolute;left:0;top:0;right:0;bottom:0;display:flex;flex-direction:column;font-family:Arial,Helvetica,sans-serif;padding:10px;overflow-y:auto}._2ejN8yMN_gBPUYg6ZEMHVT{flex:0 0 auto}._2ejN8yMN_gBPUYg6ZEMHVT ._39UmG0y7b2eQj02AUG1tXr{height:0;overflow:hidden}@media(prefers-color-scheme: dark){._3m0dVzEpXl-iV7GJZD0Reg{color:#0bc;border:solid 1px #cb6587}._3sCE_dbYg32gGwgKSmaZdT{background-color:#cb6587;color:#333}._3sCE_dbYg32gGwgKSmaZdT:hover{background-color:#d17896}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"sidePane\": \"_3m0dVzEpXl-iV7GJZD0Reg\",\n\t\"title\": \"_3sCE_dbYg32gGwgKSmaZdT\",\n\t\"activePane\": \"_2W3wuveqbmtn8cePGgks9q\",\n\t\"bodyContainer\": \"_39UmG0y7b2eQj02AUG1tXr\",\n\t\"body\": \"_3EVbyd0wXGlFG_HoOvSESI\",\n\t\"inactivePane\": \"_2ejN8yMN_gBPUYg6ZEMHVT\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1JORDcs_P-8F95LAfVtuNe{flex:0 0 auto;padding-bottom:5px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"header\": \"_1JORDcs_P-8F95LAfVtuNe\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2Yj3BqD3S_krM1ZOGPc6ar{outline:none;resize:none;min-height:40px;width:90%}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"textarea\": \"_2Yj3BqD3S_krM1ZOGPc6ar\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._218NbvnF160txYk_bOmcz8{flex:1 1 auto;overflow:auto}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"contentModel\": \"_218NbvnF160txYk_bOmcz8\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3lgWb5vukycWr4-DDqhJER{height:20px;vertical-align:top;padding:2px;border-width:1px;border-color:#888;background-color:#ccc}._3lgWb5vukycWr4-DDqhJER:hover{background-color:#fff}._1-w8E1OCqfjjJ519XR0G7S{font-weight:bold;background-color:#eee;border-bottom:none}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"button\": \"_3lgWb5vukycWr4-DDqhJER\",\n\t\"buttonChecked\": \"_1-w8E1OCqfjjJ519XR0G7S\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Rnn-wLHq3O7e73RYMhpKz{margin-bottom:2px;display:flex;font-family:\\\"Segoe UI\\\",Tahoma,Geneva,Verdana,sans-serif;font-size:12pt;border:solid 2px #ccc;flex:1 1 auto;display:flex;flex-direction:column}.Rnn-wLHq3O7e73RYMhpKz._1ebWzIXMlWa5HKt9HWO4kF{border-color:#f9b}.Rnn-wLHq3O7e73RYMhpKz ._2LSRTUCf6DtL56da88VlK0{border-color:#a46}._2X7mbfNiaLXP3760BpSPc{flex:0 0 auto;white-space:nowrap;overflow:hidden;padding:3px 0 0 0;height:20px}._2X7mbfNiaLXP3760BpSPc:hover ._3iQ2Y5PB87HdLW9Wic-h_S{display:block}._28y28EWvvcy_1qJDZJmtcy{font-weight:bold;padding:0 5px;float:left}.OW-M_lT6c2QuqNnM9n76q{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis}._3iQ2Y5PB87HdLW9Wic-h_S{float:right;display:none}._1qLUgUVx3j0OpNWOAEYX31{border-bottom:solid 1px #888}._2OHgueVTRTdaGWuQjFDFDi{background-color:#fff;padding:4px;display:flex;flex-direction:column;color:#000}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelWrapper\": \"Rnn-wLHq3O7e73RYMhpKz\",\n\t\"childSelected\": \"_1ebWzIXMlWa5HKt9HWO4kF\",\n\t\"selected\": \"_2LSRTUCf6DtL56da88VlK0\",\n\t\"titleBar\": \"_2X7mbfNiaLXP3760BpSPc\",\n\t\"buttonGroup\": \"_3iQ2Y5PB87HdLW9Wic-h_S\",\n\t\"title\": \"_28y28EWvvcy_1qJDZJmtcy\",\n\t\"subTitle\": \"OW-M_lT6c2QuqNnM9n76q\",\n\t\"titleWithBorder\": \"_1qLUgUVx3j0OpNWOAEYX31\",\n\t\"expandedBody\": \"_2OHgueVTRTdaGWuQjFDFDi\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1s1NGzyvCHsJXfXaMfG-9p{display:table}._29SGSfWttY-Yt8CIpArPGk{display:table-row;height:24px}._1puuF-3c4fF9brFviQaDVM{display:table-cell;width:120px;vertical-align:top}._3_2cml_VV6YZZJ2pxgUJYa{display:table-cell;margin:2px;overflow-x:hidden}._1lkDXCtsvNawOqFKjVX3RU{color:red;font-weight:bold}._1OatnxfRr2gEz-vPV9sbcz{width:60px}._3xdIPev2uNMUHuQUAxzzTE{width:95%}._2I8HJH--VSNVgW7g0tnpy-{width:95%;height:80px}._1ANraWrh3gzruHXly9rVfc{width:80px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"formatTable\": \"_1s1NGzyvCHsJXfXaMfG-9p\",\n\t\"formatRow\": \"_29SGSfWttY-Yt8CIpArPGk\",\n\t\"formatName\": \"_1puuF-3c4fF9brFviQaDVM\",\n\t\"formatValue\": \"_3_2cml_VV6YZZJ2pxgUJYa\",\n\t\"errorMessage\": \"_1lkDXCtsvNawOqFKjVX3RU\",\n\t\"colorValue\": \"_1OatnxfRr2gEz-vPV9sbcz\",\n\t\"textValue\": \"_3xdIPev2uNMUHuQUAxzzTE\",\n\t\"multiLineValue\": \"_2I8HJH--VSNVgW7g0tnpy-\",\n\t\"numberValue\": \"_1ANraWrh3gzruHXly9rVfc\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3s3rG4EK-H2idudX6SCMR0{background-color:#cff}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelBr\": \"_3s3rG4EK-H2idudX6SCMR0\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2QURgJ1pLiMEYQLcNkYBqk{background-color:#093}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelCode\": \"_2QURgJ1pLiMEYQLcNkYBqk\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2mv2BQJV1hGg71gznHkiIv{background-color:#c0f}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelDivider\": \"_2mv2BQJV1hGg71gznHkiIv\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1gbxlTakl2oXmha5WMy1m8{background-color:#ddd}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelDocument\": \"_1gbxlTakl2oXmha5WMy1m8\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".W54VA5cZ_0M5I16QU_kJc{background-color:#3b2}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelEntity\": \"W54VA5cZ_0M5I16QU_kJc\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3ZxrmaRQg1wzKsMvBEnIBu{background-color:#a8a}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelFormatContainer\": \"_3ZxrmaRQg1wzKsMvBEnIBu\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3Cr5TpAhJG7fBCfpsfypMs{background-color:#cfc}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelGeneral\": \"_3Cr5TpAhJG7fBCfpsfypMs\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".wN7YF1YTGxKrVDMOwWKM4{max-width:100px}._1scPQjZWLkZBhShc7fsmHE{background-color:#ff3}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"image\": \"wN7YF1YTGxKrVDMOwWKM4\",\n\t\"modelImage\": \"_1scPQjZWLkZBhShc7fsmHE\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#cb6587;color:#fff;border:solid 1px #cb6587}select,input,textarea{background-color:#333;color:#fff;border:solid 1px #cb6587}}._2OR1hD1DGzpR1_FiCYO7zm{margin:0;font-size:13px;word-break:break-all;white-space:pre-wrap}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"json\": \"_2OR1hD1DGzpR1_FiCYO7zm\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".dJoMPZZZsOR_Mi8SiBLQa{background-color:#07f}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelLink\": \"dJoMPZZZsOR_Mi8SiBLQa\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".BgJ7GMUS-uvi78dOY705i{background-color:#fb7}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelListItem\": \"BgJ7GMUS-uvi78dOY705i\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2GeP1mqrNT_ijKTmAfZJuR{background-color:#38a}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelListLevel\": \"_2GeP1mqrNT_ijKTmAfZJuR\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".O_jydsSezRLK5_yEMuFmE{background-color:#bdf}._3rCPYynkXFsQD6SrBMiAJv{background-color:#ccf}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelParagraph\": \"O_jydsSezRLK5_yEMuFmE\",\n\t\"modelDecorator\": \"_3rCPYynkXFsQD6SrBMiAJv\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._FiJrtKOUVh0rXgBIDPwn{background-color:#7ef}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelSelectionMarker\": \"_FiJrtKOUVh0rXgBIDPwn\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2Y-o2S7ISWuZEebI5daPBV{background-color:#fbd}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelTableCell\": \"_2Y-o2S7ISWuZEebI5daPBV\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3LZnuKGrihfFveTfbRUHmI{background-color:#a88}._28uOU7xXe1YI-BBabRkQVY{width:40px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelTableRow\": \"_3LZnuKGrihfFveTfbRUHmI\",\n\t\"sizeInput\": \"_28uOU7xXe1YI-BBabRkQVY\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3b2qMn_-yCF2sbwvCMTMy5{background-color:#df8}._3h6fCtO2owbxWCuDw0oM-Z{width:40px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelTable\": \"_3b2qMn_-yCF2sbwvCMTMy5\",\n\t\"sizeInput\": \"_3h6fCtO2owbxWCuDw0oM-Z\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3QgYSAIQPvvA-BhDRJBMG9{background-color:#fca}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modelText\": \"_3QgYSAIQPvvA-BhDRJBMG9\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3dTGFWaIo3uzIlvbAXfHJM{vertical-align:top}._3M33Z5DgfdvkH73Opljwoq{white-space:nowrap}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"checkboxColumn\": \"_3dTGFWaIo3uzIlvbAXfHJM\",\n\t\"defaultFormatLabel\": \"_3M33Z5DgfdvkH73Opljwoq\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._1BlYg8ayOKZo0Eo4Zq81X3{max-width:100%;max-height:300px}._2CJlhhko21yP3MDzEw_nII{font-family:\\\"Courier New\\\";font-size:10.5pt;margin:10px}._1RKHaW5Bo9HrNZdOkh75VZ{margin-left:20px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"img\": \"_1BlYg8ayOKZo0Eo4Zq81X3\",\n\t\"pasteContent\": \"_2CJlhhko21yP3MDzEw_nII\",\n\t\"eventContent\": \"_1RKHaW5Bo9HrNZdOkh75VZ\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._3E79rgbqe59JCLc8va8lFu{color:#eee}.moYTM2r3e1oL6EAypGzms{font-weight:bold}@media(prefers-color-scheme: dark){._3E79rgbqe59JCLc8va8lFu{color:#555}}.dark ._3E79rgbqe59JCLc8va8lFu{color:#555}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"inactive\": \"_3E79rgbqe59JCLc8va8lFu\",\n\t\"title\": \"moYTM2r3e1oL6EAypGzms\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#cb6587;color:#fff;border:solid 1px #cb6587}select,input,textarea{background-color:#333;color:#fff;border:solid 1px #cb6587}}._37xSKCg6D18TsMJeMcSzD3{flex:1 1 auto;display:flex;flex-direction:column}._3mFaa9bukidlC8T8jLxJ2E{margin-bottom:10px;flex:0 0 auto}._4G_ApGg-kyE4XL2IJH90g{flex:1 1 auto;resize:none;min-height:100px;border-color:#c68}._3givqGrHDziVWxZ9oIL8jw{min-height:100px;max-height:200px;overflow:hidden auto;border:solid 1px #c68}._3givqGrHDziVWxZ9oIL8jw pre{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;margin:0}._3givqGrHDziVWxZ9oIL8jw pre:hover{background-color:#eee}._3givqGrHDziVWxZ9oIL8jw pre._3ipy0VCw_tGDkSakjN4DW{font-weight:bold}._3givqGrHDziVWxZ9oIL8jw pre._3bbBQ6bofSaKgrn9qivZZy{background-color:#ff0}@media(prefers-color-scheme: dark){._3givqGrHDziVWxZ9oIL8jw{border:solid 1px #cb6587}._4G_ApGg-kyE4XL2IJH90g{border-color:#cb6587}._3givqGrHDziVWxZ9oIL8jw{border:solid 1px #cb6587}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"snapshotPane\": \"_37xSKCg6D18TsMJeMcSzD3\",\n\t\"buttons\": \"_3mFaa9bukidlC8T8jLxJ2E\",\n\t\"textarea\": \"_4G_ApGg-kyE4XL2IJH90g\",\n\t\"snapshotList\": \"_3givqGrHDziVWxZ9oIL8jw\",\n\t\"current\": \"_3ipy0VCw_tGDkSakjN4DW\",\n\t\"autoComplete\": \"_3bbBQ6bofSaKgrn9qivZZy\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(prefers-color-scheme: dark){button{background-color:#cb6587;color:#fff;border:solid 1px #cb6587}select,input,textarea{background-color:#333;color:#fff;border:solid 1px #cb6587}}.pJbHvwwZzFB1_sM9JT4tM{display:flex;background-color:#c68;padding:5px 10px;margin-bottom:10px;border-radius:10px;align-items:center}._3TsHz2xc3NTBfWZa9Om5Zk{flex:0 0 auto;font-size:24pt;font-family:Arial;font-weight:bold;font-style:italic;color:#fff;text-shadow:2px 2px 2px #000}._1i9rhnQJkDyfKkUTAWBXoK{flex:1 1 auto;color:#fff;font-family:Calibri;font-size:14pt;margin:10px 0 0 10px}._3NWbxK5UhlMaIMTg6yhtEW{color:#fff;flex:0 0 auto;text-align:right;font-size:14pt;font-family:Calibri}._3ZPc8UIlEY8IDFM9E4a3FU{color:#fff;text-decoration:none}._3ZPc8UIlEY8IDFM9E4a3FU:hover{text-decoration:underline}._1HXcfrOKq8x18pYpVI3HF{vertical-align:middle}@media(prefers-color-scheme: dark){.pJbHvwwZzFB1_sM9JT4tM{background-color:#cb6587}._3TsHz2xc3NTBfWZa9Om5Zk,._3ZPc8UIlEY8IDFM9E4a3FU{color:#bbd1e1}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"titleBar\": \"pJbHvwwZzFB1_sM9JT4tM\",\n\t\"title\": \"_3TsHz2xc3NTBfWZa9Om5Zk\",\n\t\"version\": \"_1i9rhnQJkDyfKkUTAWBXoK\",\n\t\"links\": \"_3NWbxK5UhlMaIMTg6yhtEW\",\n\t\"link\": \"_3ZPc8UIlEY8IDFM9E4a3FU\",\n\t\"externalLink\": \"_1HXcfrOKq8x18pYpVI3HF\"\n};\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*! @license DOMPurify 2.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.0/LICENSE */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.DOMPurify = factory());\n}(this, function () { 'use strict';\n\n  function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var hasOwnProperty = Object.hasOwnProperty,\n      setPrototypeOf = Object.setPrototypeOf,\n      isFrozen = Object.isFrozen,\n      getPrototypeOf = Object.getPrototypeOf,\n      getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n  var freeze = Object.freeze,\n      seal = Object.seal,\n      create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n  var _ref = typeof Reflect !== 'undefined' && Reflect,\n      apply = _ref.apply,\n      construct = _ref.construct;\n\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return new (Function.prototype.bind.apply(Func, [null].concat(_toConsumableArray(args))))();\n    };\n  }\n\n  var arrayForEach = unapply(Array.prototype.forEach);\n  var arrayPop = unapply(Array.prototype.pop);\n  var arrayPush = unapply(Array.prototype.push);\n\n  var stringToLowerCase = unapply(String.prototype.toLowerCase);\n  var stringMatch = unapply(String.prototype.match);\n  var stringReplace = unapply(String.prototype.replace);\n  var stringIndexOf = unapply(String.prototype.indexOf);\n  var stringTrim = unapply(String.prototype.trim);\n\n  var regExpTest = unapply(RegExp.prototype.test);\n\n  var typeErrorCreate = unconstruct(TypeError);\n\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return apply(func, thisArg, args);\n    };\n  }\n\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return construct(func, args);\n    };\n  }\n\n  /* Add properties to a lookup table */\n  function addToSet(set, array) {\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n\n    var l = array.length;\n    while (l--) {\n      var element = array[l];\n      if (typeof element === 'string') {\n        var lcElement = stringToLowerCase(element);\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n\n          element = lcElement;\n        }\n      }\n\n      set[element] = true;\n    }\n\n    return set;\n  }\n\n  /* Shallow clone an object */\n  function clone(object) {\n    var newObject = create(null);\n\n    var property = void 0;\n    for (property in object) {\n      if (apply(hasOwnProperty, object, [property])) {\n        newObject[property] = object[property];\n      }\n    }\n\n    return newObject;\n  }\n\n  /* IE10 doesn't support __lookupGetter__ so lets'\n   * simulate it. It also automatically checks\n   * if the prop is function or getter and behaves\n   * accordingly. */\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      var desc = getOwnPropertyDescriptor(object, prop);\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n\n      object = getPrototypeOf(object);\n    }\n\n    function fallbackValue(element) {\n      console.warn('fallback value for', element);\n      return null;\n    }\n\n    return fallbackValue;\n  }\n\n  var html = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n\n  // SVG\n  var svg = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n\n  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n\n  // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n  var svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'fedropshadow', 'feimage', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n\n  var mathMl = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']);\n\n  // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n  var mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n\n  var text = freeze(['#text']);\n\n  var html$1 = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n\n  var svg$1 = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n\n  var mathMl$1 = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n\n  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  // eslint-disable-next-line unicorn/better-regex\n  var MUSTACHE_EXPR = seal(/\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n  var ERB_EXPR = seal(/<%[\\s\\S]*|[\\s\\S]*%>/gm);\n  var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n  var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n  function _toConsumableArray$1(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {Document} document The document object (to determine policy name suffix)\n   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported).\n   */\n  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n    if ((typeof trustedTypes === 'undefined' ? 'undefined' : _typeof(trustedTypes)) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    }\n\n    // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n    var suffix = null;\n    var ATTR_NAME = 'data-tt-policy-suffix';\n    if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n      suffix = document.currentScript.getAttribute(ATTR_NAME);\n    }\n\n    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML: function createHTML(html$$1) {\n          return html$$1;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n\n  function createDOMPurify() {\n    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n    var DOMPurify = function DOMPurify(root) {\n      return createDOMPurify(root);\n    };\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '2.3.0';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n\n      return DOMPurify;\n    }\n\n    var originalDocument = window.document;\n\n    var document = window.document;\n    var DocumentFragment = window.DocumentFragment,\n        HTMLTemplateElement = window.HTMLTemplateElement,\n        Node = window.Node,\n        Element = window.Element,\n        NodeFilter = window.NodeFilter,\n        _window$NamedNodeMap = window.NamedNodeMap,\n        NamedNodeMap = _window$NamedNodeMap === undefined ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n        Text = window.Text,\n        Comment = window.Comment,\n        DOMParser = window.DOMParser,\n        trustedTypes = window.trustedTypes;\n\n\n    var ElementPrototype = Element.prototype;\n\n    var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    var getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n      var template = document.createElement('template');\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n\n    var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n    var emptyHTML = trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML('') : '';\n\n    var _document = document,\n        implementation = _document.implementation,\n        createNodeIterator = _document.createNodeIterator,\n        createDocumentFragment = _document.createDocumentFragment,\n        getElementsByTagName = _document.getElementsByTagName;\n    var importNode = originalDocument.importNode;\n\n\n    var documentMode = {};\n    try {\n      documentMode = clone(document).documentMode ? document.documentMode : {};\n    } catch (_) {}\n\n    var hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n\n    var MUSTACHE_EXPR$$1 = MUSTACHE_EXPR,\n        ERB_EXPR$$1 = ERB_EXPR,\n        DATA_ATTR$$1 = DATA_ATTR,\n        ARIA_ATTR$$1 = ARIA_ATTR,\n        IS_SCRIPT_OR_DATA$$1 = IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE$$1 = ATTR_WHITESPACE;\n    var IS_ALLOWED_URI$$1 = IS_ALLOWED_URI;\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray$1(html), _toConsumableArray$1(svg), _toConsumableArray$1(svgFilters), _toConsumableArray$1(mathMl), _toConsumableArray$1(text)));\n\n    /* Allowed attribute names */\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray$1(html$1), _toConsumableArray$1(svg$1), _toConsumableArray$1(mathMl$1), _toConsumableArray$1(xml)));\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    var FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    var FORBID_ATTR = null;\n\n    /* Decide if ARIA attributes are okay */\n    var ALLOW_ARIA_ATTR = true;\n\n    /* Decide if custom data attributes are okay */\n    var ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    var SAFE_FOR_TEMPLATES = false;\n\n    /* Decide if document with <html>... should be returned */\n    var WHOLE_DOCUMENT = false;\n\n    /* Track whether config is already set on this instance of DOMPurify. */\n    var SET_CONFIG = false;\n\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n    var FORCE_BODY = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    var RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n    var RETURN_DOM_FRAGMENT = false;\n\n    /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n     * `Node` is imported into the current `Document`. If this flag is not enabled the\n     * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n     * DOMPurify.\n     *\n     * This defaults to `true` starting DOMPurify 2.2.0. Note that setting it to `false`\n     * might cause XSS from attacks hidden in closed shadowroots in case the browser\n     * supports Declarative Shadow: DOM https://web.dev/declarative-shadow-dom/\n     */\n    var RETURN_DOM_IMPORT = true;\n\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n    var RETURN_TRUSTED_TYPE = false;\n\n    /* Output should be free from DOM clobbering attacks? */\n    var SANITIZE_DOM = true;\n\n    /* Keep element content when removing element? */\n    var KEEP_CONTENT = true;\n\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n    var IN_PLACE = false;\n\n    /* Allow usage of profiles like html, svg and mathMl */\n    var USE_PROFILES = {};\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    var FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n\n    /* Tags that are safe for data: URIs */\n    var DATA_URI_TAGS = null;\n    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n\n    /* Attributes safe for values like \"javascript:\" */\n    var URI_SAFE_ATTRIBUTES = null;\n    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'summary', 'title', 'value', 'style', 'xmlns']);\n\n    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n    var NAMESPACE = HTML_NAMESPACE;\n    var IS_EMPTY_INPUT = false;\n\n    /* Keep a reference to config to pass to hooks */\n    var CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n    var _parseConfig = function _parseConfig(cfg) {\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n\n      /* Shield configuration object from tampering */\n      if (!cfg || (typeof cfg === 'undefined' ? 'undefined' : _typeof(cfg)) !== 'object') {\n        cfg = {};\n      }\n\n      /* Shield configuration object from prototype pollution */\n      cfg = clone(cfg);\n\n      /* Set configuration parameters */\n      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n      RETURN_DOM_IMPORT = cfg.RETURN_DOM_IMPORT !== false; // Default true\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n      IS_ALLOWED_URI$$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$$1;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n\n      /* Parse profile info */\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray$1(text)));\n        ALLOWED_ATTR = [];\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html);\n          addToSet(ALLOWED_ATTR, html$1);\n        }\n\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg);\n          addToSet(ALLOWED_ATTR, svg$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl);\n          addToSet(ALLOWED_ATTR, mathMl$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n\n      /* Merge configuration parameters */\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n      }\n\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n      }\n\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n      }\n\n      /* Add #text in case KEEP_CONTENT is set to true */\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      }\n\n      // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n      if (freeze) {\n        freeze(cfg);\n      }\n\n      CONFIG = cfg;\n    };\n\n    var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n\n    var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']);\n\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n    var ALL_SVG_TAGS = addToSet({}, svg);\n    addToSet(ALL_SVG_TAGS, svgFilters);\n    addToSet(ALL_SVG_TAGS, svgDisallowed);\n\n    var ALL_MATHML_TAGS = addToSet({}, mathMl);\n    addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n\n    /**\n     *\n     *\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n    var _checkValidNamespace = function _checkValidNamespace(element) {\n      var parent = getParentNode(element);\n\n      // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: HTML_NAMESPACE,\n          tagName: 'template'\n        };\n      }\n\n      var tagName = stringToLowerCase(element.tagName);\n      var parentTagName = stringToLowerCase(parent.tagName);\n\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        }\n\n        // The only way to switch from MathML to SVG is via\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        }\n\n        // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        }\n\n        // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        }\n\n        // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        // Certain elements are allowed in both SVG and HTML\n        // namespace. We need to specify them explicitly\n        // so that they don't get erronously deleted from\n        // HTML namespace.\n        var commonSvgAndHTMLElements = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n\n        // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n        return !ALL_MATHML_TAGS[tagName] && (commonSvgAndHTMLElements[tagName] || !ALL_SVG_TAGS[tagName]);\n      }\n\n      // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG or MathML). Return false just in case.\n      return false;\n    };\n\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n    var _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, { element: node });\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        try {\n          node.outerHTML = emptyHTML;\n        } catch (_) {\n          node.remove();\n        }\n      }\n    };\n\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n    var _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n\n      node.removeAttribute(name);\n\n      // We void attribute values for unremovable \"is\"\" attributes\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n    var _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      var doc = void 0;\n      var leadingWhitespace = void 0;\n\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n\n      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, 'text/html');\n        } catch (_) {}\n      }\n\n      /* Use createHTMLDocument in case DOMParser is not available */\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n        } catch (_) {\n          // Syntax error if dirtyPayload is invalid xml\n        }\n      }\n\n      var body = doc.body || doc.documentElement;\n\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n\n      /* Work on whole document or just its body */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n\n    /**\n     * _createIterator\n     *\n     * @param  {Document} root document/fragment to create iterator for\n     * @return {Iterator} iterator instance\n     */\n    var _createIterator = function _createIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n    var _isClobbered = function _isClobbered(elm) {\n      if (elm instanceof Text || elm instanceof Comment) {\n        return false;\n      }\n\n      if (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function') {\n        return true;\n      }\n\n      return false;\n    };\n\n    /**\n     * _isNode\n     *\n     * @param  {Node} obj object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n    var _isNode = function _isNode(object) {\n      return (typeof Node === 'undefined' ? 'undefined' : _typeof(Node)) === 'object' ? object instanceof Node : object && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n    var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n\n      arrayForEach(hooks[entryPoint], function (hook) {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n    var _sanitizeElements = function _sanitizeElements(currentNode) {\n      var content = void 0;\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeElements', currentNode, null);\n\n      /* Check if element is clobbered or can clobber */\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Check if tagname contains Unicode */\n      if (stringMatch(currentNode.nodeName, /[\\u0080-\\uFFFF]/)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Now let's check the element's type and name */\n      var tagName = stringToLowerCase(currentNode.nodeName);\n\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName: tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n\n      /* Detect mXSS attempts abusing namespace confusion */\n      if (!_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Remove element if anything forbids its presence */\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Keep content except for bad-listed elements */\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n          if (childNodes && parentNode) {\n            var childCount = childNodes.length;\n\n            for (var i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Check whether element has a valid namespace */\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Sanitize element content to be template-safe */\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        content = stringReplace(content, MUSTACHE_EXPR$$1, ' ');\n        content = stringReplace(content, ERB_EXPR$$1, ' ');\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n          currentNode.textContent = content;\n        }\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeElements', currentNode, null);\n\n      return false;\n    };\n\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$$1, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$$1, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        return false;\n\n        /* Check value is safe. First, is attr inert? If so, is safe */\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$$1, stringReplace(value, ATTR_WHITESPACE$$1, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$$1, stringReplace(value, ATTR_WHITESPACE$$1, ''))) ; else if (!value) ; else {\n        return false;\n      }\n\n      return true;\n    };\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      var attr = void 0;\n      var value = void 0;\n      var lcName = void 0;\n      var l = void 0;\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n      var attributes = currentNode.attributes;\n\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n\n      var hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      l = attributes.length;\n\n      /* Go backwards over all attributes; safely remove bad ones */\n      while (l--) {\n        attr = attributes[l];\n        var _attr = attr,\n            name = _attr.name,\n            namespaceURI = _attr.namespaceURI;\n\n        value = stringTrim(attr.value);\n        lcName = stringToLowerCase(name);\n\n        /* Execute a hook if present */\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n\n        /* Remove attribute */\n        _removeAttribute(name, currentNode);\n\n        /* Did the hooks approve of the attribute? */\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n\n        /* Work around a security issue in jQuery 3.0 */\n        if (regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n          continue;\n        }\n\n        /* Sanitize attribute content to be template-safe */\n        if (SAFE_FOR_TEMPLATES) {\n          value = stringReplace(value, MUSTACHE_EXPR$$1, ' ');\n          value = stringReplace(value, ERB_EXPR$$1, ' ');\n        }\n\n        /* Is `value` valid for this attribute? */\n        var lcTag = currentNode.nodeName.toLowerCase();\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n\n        /* Handle invalid data-* attribute set by try-catching it */\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      var shadowNode = void 0;\n      var shadowIterator = _createIterator(fragment);\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n\n        /* Deep shadow DOM detected */\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(shadowNode);\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    // eslint-disable-next-line complexity\n    DOMPurify.sanitize = function (dirty, cfg) {\n      var body = void 0;\n      var importedNode = void 0;\n      var currentNode = void 0;\n      var oldNode = void 0;\n      var returnNode = void 0;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n      IS_EMPTY_INPUT = !dirty;\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n\n      /* Stringify, in case dirty is an object */\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        // eslint-disable-next-line no-negated-condition\n        if (typeof dirty.toString !== 'function') {\n          throw typeErrorCreate('toString is not a function');\n        } else {\n          dirty = dirty.toString();\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        }\n      }\n\n      /* Check we can run. Otherwise fall back or ignore */\n      if (!DOMPurify.isSupported) {\n        if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n          if (typeof dirty === 'string') {\n            return window.toStaticHTML(dirty);\n          }\n\n          if (_isNode(dirty)) {\n            return window.toStaticHTML(dirty.outerHTML);\n          }\n        }\n\n        return dirty;\n      }\n\n      /* Assign config vars */\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n\n      /* Clean up removed elements */\n      DOMPurify.removed = [];\n\n      /* Check if dirty is correctly typed for IN_PLACE */\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n\n      if (IN_PLACE) ; else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n\n        /* Initialize the document to work on */\n        body = _initDocument(dirty);\n\n        /* Check we have a DOM node from the data */\n        if (!body) {\n          return RETURN_DOM ? null : emptyHTML;\n        }\n      }\n\n      /* Remove first element node (ours) if FORCE_BODY is set */\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n\n      /* Get node iterator */\n      var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\n      /* Now start iterating over the created document */\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Fix IE's strange behavior with manipulated textNodes #89 */\n        if (currentNode.nodeType === 3 && currentNode === oldNode) {\n          continue;\n        }\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n\n        /* Shadow DOM detected, sanitize it */\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(currentNode);\n\n        oldNode = currentNode;\n      }\n\n      oldNode = null;\n\n      /* If we sanitized `dirty` in-place, return it. */\n      if (IN_PLACE) {\n        return dirty;\n      }\n\n      /* Return sanitized string or DOM */\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n\n        if (RETURN_DOM_IMPORT) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n\n        return returnNode;\n      }\n\n      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n      /* Sanitize final string template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, ERB_EXPR$$1, ' ');\n      }\n\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n    DOMPurify.setConfig = function (cfg) {\n      _parseConfig(cfg);\n      SET_CONFIG = true;\n    };\n\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {string} tag Tag name of containing element.\n     * @param  {string} attr Attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n\n      var lcTag = stringToLowerCase(tag);\n      var lcName = stringToLowerCase(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     */\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        arrayPop(hooks[entryPoint]);\n      }\n    };\n\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     */\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n\n    return DOMPurify;\n  }\n\n  var purify = createDOMPurify();\n\n  return purify;\n\n}));\n//# sourceMappingURL=purify.js.map\n","module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n","import { SidePaneElementProps } from './sidePane/SidePaneElement';\nimport {\n    ContentEditFeatureSettings,\n    DefaultFormat,\n    ExperimentalFeatures,\n} from 'roosterjs-editor-types';\n\nexport const UrlPlaceholder = '$url$';\n\nexport interface BuildInPluginList {\n    contentEdit: boolean;\n    hyperlink: boolean;\n    paste: boolean;\n    watermark: boolean;\n    imageEdit: boolean;\n    cutPasteListChain: boolean;\n    tableCellSelection: boolean;\n    tableResize: boolean;\n    customReplace: boolean;\n    listEditMenu: boolean;\n    imageEditMenu: boolean;\n    tableEditMenu: boolean;\n    contextMenu: boolean;\n    autoFormat: boolean;\n    announce: boolean;\n}\n\nexport default interface BuildInPluginState {\n    pluginList: BuildInPluginList;\n    contentEditFeatures: ContentEditFeatureSettings;\n    defaultFormat: DefaultFormat;\n    linkTitle: string;\n    watermarkText: string;\n    experimentalFeatures: ExperimentalFeatures[];\n    forcePreserveRatio: boolean;\n    isRtl: boolean;\n    cacheModel?: boolean;\n    tableFeaturesContainerSelector: string;\n    applyChangesOnMouseUp?: boolean;\n}\n\nexport interface BuildInPluginProps extends BuildInPluginState, SidePaneElementProps {}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport ApiPlaygroundPlugin from './sidePane/apiPlayground/ApiPlaygroundPlugin';\nimport EditorOptionsPlugin from './sidePane/editorOptions/EditorOptionsPlugin';\nimport EventViewPlugin from './sidePane/eventViewer/EventViewPlugin';\nimport FormatStatePlugin from './sidePane/formatState/FormatStatePlugin';\nimport getToggleablePlugins from './getToggleablePlugins';\nimport MainPaneBase, { MainPaneBaseState } from './MainPaneBase';\nimport SampleEntityPlugin from './sampleEntity/SampleEntityPlugin';\nimport SidePane from './sidePane/SidePane';\nimport SnapshotPlugin from './sidePane/snapshot/SnapshotPlugin';\nimport TitleBar from './titleBar/TitleBar';\nimport { arrayPush } from 'roosterjs-editor-dom';\nimport { darkMode, DarkModeButtonStringKey } from './ribbonButtons/darkMode';\nimport { Editor } from 'roosterjs-editor-core';\nimport { EditorOptions, EditorPlugin, IEditor } from 'roosterjs-editor-types';\nimport { ExportButtonStringKey, exportContent } from './ribbonButtons/export';\nimport { getDarkColor } from 'roosterjs-color-utils';\nimport { PartialTheme } from '@fluentui/react/lib/Theme';\nimport { popout, PopoutButtonStringKey } from './ribbonButtons/popout';\nimport { trustedHTMLHandler } from '../utils/trustedHTMLHandler';\nimport { zoom, ZoomButtonStringKey } from './ribbonButtons/zoom';\nimport {\n    createRibbonPlugin,\n    RibbonPlugin,\n    createPasteOptionPlugin,\n    createEmojiPlugin,\n    Ribbon,\n    RibbonButton,\n    AllButtonStringKeys,\n    getButtons,\n    AllButtonKeys,\n    Rooster,\n} from 'roosterjs-react';\n\nconst styles = require('./MainPane.scss');\ntype RibbonStringKeys =\n    | AllButtonStringKeys\n    | DarkModeButtonStringKey\n    | ZoomButtonStringKey\n    | ExportButtonStringKey\n    | PopoutButtonStringKey;\n\nconst LightTheme: PartialTheme = {\n    palette: {\n        themePrimary: '#0099aa',\n        themeLighterAlt: '#f2fbfc',\n        themeLighter: '#cbeef2',\n        themeLight: '#a1dfe6',\n        themeTertiary: '#52c0cd',\n        themeSecondary: '#16a5b5',\n        themeDarkAlt: '#008a9a',\n        themeDark: '#007582',\n        themeDarker: '#005660',\n        neutralLighterAlt: '#faf9f8',\n        neutralLighter: '#f3f2f1',\n        neutralLight: '#edebe9',\n        neutralQuaternaryAlt: '#e1dfdd',\n        neutralQuaternary: '#d0d0d0',\n        neutralTertiaryAlt: '#c8c6c4',\n        neutralTertiary: '#a19f9d',\n        neutralSecondary: '#605e5c',\n        neutralPrimaryAlt: '#3b3a39',\n        neutralPrimary: '#323130',\n        neutralDark: '#201f1e',\n        black: '#000000',\n        white: '#ffffff',\n    },\n};\n\nconst DarkTheme: PartialTheme = {\n    palette: {\n        themePrimary: '#0091A1',\n        themeLighterAlt: '#f1fafb',\n        themeLighter: '#caecf0',\n        themeLight: '#9fdce3',\n        themeTertiary: '#4fbac6',\n        themeSecondary: '#159dac',\n        themeDarkAlt: '#008291',\n        themeDark: '#006e7a',\n        themeDarker: '#00515a',\n        neutralLighterAlt: '#3c3c3c',\n        neutralLighter: '#444444',\n        neutralLight: '#515151',\n        neutralQuaternaryAlt: '#595959',\n        neutralQuaternary: '#5f5f5f',\n        neutralTertiaryAlt: '#7a7a7a',\n        neutralTertiary: '#c8c8c8',\n        neutralSecondary: '#d0d0d0',\n        neutralPrimaryAlt: '#dadada',\n        neutralPrimary: '#ffffff',\n        neutralDark: '#f4f4f4',\n        black: '#f8f8f8',\n        white: '#333333',\n    },\n};\n\ninterface MainPaneState extends MainPaneBaseState {\n    editorCreator: (div: HTMLDivElement, options: EditorOptions) => IEditor;\n}\n\nclass MainPane extends MainPaneBase<MainPaneState> {\n    private formatStatePlugin: FormatStatePlugin;\n    private editorOptionPlugin: EditorOptionsPlugin;\n    private eventViewPlugin: EventViewPlugin;\n    private apiPlaygroundPlugin: ApiPlaygroundPlugin;\n    private ribbonPlugin: RibbonPlugin;\n    private pasteOptionPlugin: EditorPlugin;\n    private emojiPlugin: EditorPlugin;\n    private toggleablePlugins: EditorPlugin[] | null = null;\n    private sampleEntityPlugin: SampleEntityPlugin;\n    private snapshotPlugin: SnapshotPlugin;\n    private mainWindowButtons: RibbonButton<RibbonStringKeys>[];\n    private popoutWindowButtons: RibbonButton<RibbonStringKeys>[];\n\n    constructor(props: {}) {\n        super(props);\n\n        this.formatStatePlugin = new FormatStatePlugin();\n        this.editorOptionPlugin = new EditorOptionsPlugin();\n        this.eventViewPlugin = new EventViewPlugin();\n        this.apiPlaygroundPlugin = new ApiPlaygroundPlugin();\n        this.snapshotPlugin = new SnapshotPlugin();\n        this.ribbonPlugin = createRibbonPlugin();\n        this.pasteOptionPlugin = createPasteOptionPlugin();\n        this.emojiPlugin = createEmojiPlugin();\n        this.sampleEntityPlugin = new SampleEntityPlugin();\n\n        this.mainWindowButtons = getButtons([\n            ...AllButtonKeys,\n            darkMode,\n            zoom,\n            exportContent,\n            popout,\n        ]);\n        this.popoutWindowButtons = getButtons([...AllButtonKeys, darkMode, zoom, exportContent]);\n\n        this.state = {\n            showSidePane: window.location.hash != '',\n            popoutWindow: null,\n            initState: this.editorOptionPlugin.getBuildInPluginState(),\n            scale: 1,\n            isDarkMode: this.themeMatch?.matches || false,\n            editorCreator: null,\n            isRtl: false,\n        };\n    }\n\n    getStyles(): Record<string, string> {\n        return styles;\n    }\n\n    renderTitleBar() {\n        return <TitleBar className={styles.noGrow} />;\n    }\n\n    renderRibbon(isPopout: boolean) {\n        return (\n            <Ribbon\n                buttons={isPopout ? this.popoutWindowButtons : this.mainWindowButtons}\n                plugin={this.ribbonPlugin}\n                dir={this.state.isRtl ? 'rtl' : 'ltr'}\n            />\n        );\n    }\n\n    renderSidePane(fullWidth: boolean) {\n        const styles = this.getStyles();\n\n        return (\n            <SidePane\n                ref={this.sidePane}\n                plugins={this.getSidePanePlugins()}\n                className={`main-pane ${styles.sidePane} ${\n                    fullWidth ? styles.sidePaneFullWidth : ''\n                }`}\n            />\n        );\n    }\n\n    getPlugins() {\n        this.toggleablePlugins =\n            this.toggleablePlugins || getToggleablePlugins(this.state.initState);\n\n        const plugins = [\n            ...this.toggleablePlugins,\n            this.ribbonPlugin,\n            this.pasteOptionPlugin,\n            this.emojiPlugin,\n            this.sampleEntityPlugin,\n        ];\n\n        if (this.state.showSidePane || this.state.popoutWindow) {\n            arrayPush(plugins, this.getSidePanePlugins());\n        }\n\n        plugins.push(this.updateContentPlugin);\n\n        return plugins;\n    }\n\n    resetEditor() {\n        this.toggleablePlugins = null;\n        this.setState({\n            editorCreator: (div: HTMLDivElement, options: EditorOptions) =>\n                new Editor(div, options),\n        });\n    }\n\n    getTheme(isDark: boolean): PartialTheme {\n        return isDark ? DarkTheme : LightTheme;\n    }\n\n    renderEditor() {\n        const styles = this.getStyles();\n        const allPlugins = this.getPlugins();\n        const editorStyles = {\n            transform: `scale(${this.state.scale})`,\n            transformOrigin: this.state.isRtl ? 'right top' : 'left top',\n            height: `calc(${100 / this.state.scale}%)`,\n            width: `calc(${100 / this.state.scale}%)`,\n        };\n\n        this.updateContentPlugin.forceUpdate();\n\n        return (\n            <div className={styles.editorContainer} id=\"EditorContainer\">\n                <div style={editorStyles}>\n                    {this.state.editorCreator && (\n                        <Rooster\n                            className={styles.editor}\n                            plugins={allPlugins}\n                            defaultFormat={this.state.initState.defaultFormat}\n                            inDarkMode={this.state.isDarkMode}\n                            getDarkColor={getDarkColor}\n                            experimentalFeatures={this.state.initState.experimentalFeatures}\n                            undoMetadataSnapshotService={this.snapshotPlugin.getSnapshotService()}\n                            trustedHTMLHandler={trustedHTMLHandler}\n                            zoomScale={this.state.scale}\n                            initialContent={this.content}\n                            editorCreator={this.state.editorCreator}\n                            dir={this.state.isRtl ? 'rtl' : 'ltr'}\n                        />\n                    )}\n                </div>\n            </div>\n        );\n    }\n\n    private getSidePanePlugins() {\n        return [\n            this.formatStatePlugin,\n            this.editorOptionPlugin,\n            this.eventViewPlugin,\n            this.apiPlaygroundPlugin,\n            this.snapshotPlugin,\n        ];\n    }\n}\n\nexport function mount(parent: HTMLElement) {\n    ReactDOM.render(<MainPane />, parent);\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport BuildInPluginState from './BuildInPluginState';\nimport SidePane from './sidePane/SidePane';\nimport { Border } from 'roosterjs-content-model-types';\nimport { createUpdateContentPlugin, UpdateContentPlugin, UpdateMode } from 'roosterjs-react';\nimport { PartialTheme, ThemeProvider } from '@fluentui/react/lib/Theme';\nimport { registerWindowForCss, unregisterWindowForCss } from '../utils/cssMonitor';\nimport { trustedHTMLHandler } from '../utils/trustedHTMLHandler';\nimport { WindowProvider } from '@fluentui/react/lib/WindowProvider';\n\nexport interface MainPaneBaseState {\n    showSidePane: boolean;\n    popoutWindow: Window;\n    initState: BuildInPluginState;\n    scale: number;\n    isDarkMode: boolean;\n    isRtl: boolean;\n    tableBorderFormat?: Border;\n}\n\nconst PopoutRoot = 'mainPane';\nconst POPOUT_HTML = `<!doctype html><html><head><title>RoosterJs Demo Site</title></head><body><div id=${PopoutRoot}></div></body></html>`;\nconst POPOUT_FEATURES = 'menubar=no,statusbar=no,width=1200,height=800';\nconst POPOUT_URL = 'about:blank';\nconst POPOUT_TARGET = '_blank';\n\nexport default abstract class MainPaneBase<T extends MainPaneBaseState> extends React.Component<\n    {},\n    T\n> {\n    private mouseX: number;\n    private static instance: MainPaneBase<MainPaneBaseState>;\n    private popoutRoot: HTMLElement;\n\n    protected sidePane = React.createRef<SidePane>();\n    protected updateContentPlugin: UpdateContentPlugin;\n    protected content: string = '';\n    protected themeMatch = window.matchMedia?.('(prefers-color-scheme: dark)');\n\n    static getInstance() {\n        return this.instance;\n    }\n\n    static readonly editorDivId = 'RoosterJsContentDiv';\n\n    constructor(props: {}) {\n        super(props);\n\n        MainPaneBase.instance = this;\n        this.updateContentPlugin = createUpdateContentPlugin(UpdateMode.OnDispose, this.onUpdate);\n    }\n\n    abstract getStyles(): Record<string, string>;\n\n    abstract renderRibbon(isPopout: boolean): JSX.Element;\n\n    abstract renderTitleBar(): JSX.Element;\n\n    abstract renderSidePane(fullWidth: boolean): JSX.Element;\n\n    abstract resetEditor(): void;\n\n    abstract getTheme(isDark: boolean): PartialTheme;\n\n    abstract renderEditor(): JSX.Element;\n\n    render() {\n        const styles = this.getStyles();\n\n        return (\n            <ThemeProvider\n                applyTo=\"body\"\n                theme={this.getTheme(this.state.isDarkMode)}\n                className={styles.mainPane}>\n                {this.renderTitleBar()}\n                {!this.state.popoutWindow && this.renderRibbon(false /*isPopout*/)}\n                <div className={styles.body + ' ' + (this.state.isDarkMode ? 'dark' : '')}>\n                    {this.state.popoutWindow ? this.renderPopout() : this.renderMainPane()}\n                </div>\n            </ThemeProvider>\n        );\n    }\n\n    componentDidMount() {\n        this.themeMatch?.addEventListener('change', this.onThemeChange);\n        this.resetEditor();\n    }\n\n    componentWillUnmount() {\n        this.themeMatch?.removeEventListener('change', this.onThemeChange);\n    }\n\n    popout() {\n        this.updateContentPlugin.forceUpdate();\n\n        const win = window.open(POPOUT_URL, POPOUT_TARGET, POPOUT_FEATURES);\n        win.document.write(trustedHTMLHandler(POPOUT_HTML));\n        win.addEventListener('beforeunload', () => {\n            this.updateContentPlugin.forceUpdate();\n\n            unregisterWindowForCss(win);\n            this.setState({ popoutWindow: null });\n        });\n\n        registerWindowForCss(win);\n\n        this.popoutRoot = win.document.getElementById(PopoutRoot);\n        this.setState({\n            popoutWindow: win,\n        });\n    }\n\n    resetEditorPlugin(pluginState: BuildInPluginState) {\n        this.updateContentPlugin.forceUpdate();\n        this.setState({\n            initState: pluginState,\n        });\n\n        this.resetEditor();\n    }\n\n    setScale(scale: number): void {\n        this.setState({\n            scale: scale,\n        });\n    }\n\n    getTableBorder(): Border {\n        return this.state.tableBorderFormat;\n    }\n\n    setTableBorderColor(color: string): void {\n        this.setState({\n            tableBorderFormat: { ...this.getTableBorder(), color },\n        });\n    }\n\n    setTableBorderWidth(width: string): void {\n        this.setState({\n            tableBorderFormat: { ...this.getTableBorder(), width },\n        });\n    }\n\n    setTableBorderStyle(style: string): void {\n        this.setState({\n            tableBorderFormat: { ...this.getTableBorder(), style },\n        });\n    }\n\n    toggleDarkMode(): void {\n        this.setState({\n            isDarkMode: !this.state.isDarkMode,\n        });\n    }\n\n    setPageDirection(isRtl: boolean): void {\n        this.setState({ isRtl: isRtl });\n        [window, this.state.popoutWindow].forEach(win => {\n            if (win) {\n                win.document.body.dir = isRtl ? 'rtl' : 'ltr';\n            }\n        });\n    }\n\n    private renderMainPane() {\n        const styles = this.getStyles();\n\n        return (\n            <>\n                {this.renderEditor()}\n                {this.state.showSidePane ? (\n                    <>\n                        <div className={styles.resizer} onMouseDown={this.onMouseDown} />\n                        {this.renderSidePane(false /*fullWidth*/)}\n                        {this.renderSidePaneButton()}\n                    </>\n                ) : (\n                    this.renderSidePaneButton()\n                )}\n            </>\n        );\n    }\n\n    private renderSidePaneButton() {\n        const styles = this.getStyles();\n\n        return (\n            <button\n                className={`side-pane-toggle ${this.state.showSidePane ? 'open' : 'close'} ${\n                    styles.showSidePane\n                }`}\n                onClick={this.state.showSidePane ? this.onHideSidePane : this.onShowSidePane}>\n                <div>{this.state.showSidePane ? 'Hide side pane' : 'Show side pane'}</div>\n            </button>\n        );\n    }\n\n    private renderPopout() {\n        const styles = this.getStyles();\n\n        return (\n            <>\n                {this.renderSidePane(true /*fullWidth*/)}\n                {ReactDOM.createPortal(\n                    <WindowProvider window={this.state.popoutWindow}>\n                        <ThemeProvider applyTo=\"body\" theme={this.getTheme(this.state.isDarkMode)}>\n                            <div className={styles.mainPane}>\n                                {this.renderRibbon(true /*isPopout*/)}\n                                <div className={styles.body}>{this.renderEditor()}</div>\n                            </div>\n                        </ThemeProvider>\n                    </WindowProvider>,\n                    this.popoutRoot\n                )}\n            </>\n        );\n    }\n\n    private onMouseDown = (e: React.MouseEvent<EventTarget>) => {\n        document.addEventListener('mousemove', this.onMouseMove, true);\n        document.addEventListener('mouseup', this.onMouseUp, true);\n        document.body.style.userSelect = 'none';\n        this.mouseX = e.pageX;\n    };\n\n    private onMouseMove = (e: MouseEvent) => {\n        this.sidePane.current.changeWidth(this.mouseX - e.pageX);\n        this.mouseX = e.pageX;\n    };\n\n    private onMouseUp = (e: MouseEvent) => {\n        document.removeEventListener('mousemove', this.onMouseMove, true);\n        document.removeEventListener('mouseup', this.onMouseUp, true);\n        document.body.style.userSelect = '';\n    };\n\n    private onUpdate = (content: string) => {\n        this.content = content;\n    };\n\n    private onShowSidePane = () => {\n        this.setState({\n            showSidePane: true,\n        });\n        this.resetEditor();\n    };\n\n    private onHideSidePane = () => {\n        this.setState({\n            showSidePane: false,\n        });\n        this.resetEditor();\n        window.location.hash = '';\n    };\n\n    private onThemeChange = () => {\n        this.setState({\n            isDarkMode: this.themeMatch?.matches || false,\n        });\n    };\n}\n","import * as Color from 'color';\nimport * as React from 'react';\nimport { getComputedStyle } from 'roosterjs-editor-dom';\n\nconst styles = require('./ColorPicker.scss');\n\nexport interface ColorPickerProps {\n    initColor: Color;\n    onSelect?: (color: Color) => void;\n    className?: string;\n}\n\nconst enum Keys {\n    PageUp = 33,\n    PageDown = 34,\n    End = 35,\n    Home = 36,\n    Left = 37,\n    Up = 38,\n    Right = 39,\n    Down = 40,\n}\n\nexport default function ColorPicker(props: ColorPickerProps): JSX.Element {\n    const hueBar = React.useRef<HTMLDivElement>(null);\n    const picker = React.useRef<HTMLDivElement>(null);\n    const hsv = props.initColor.hsv();\n    const [hue, setHue] = React.useState(hsv.hue());\n    const [saturation, setSaturation] = React.useState(hsv.saturationv());\n    const [value, setValue] = React.useState(hsv.value());\n    const isRtl = getComputedStyle(document.body, 'direction') == 'rtl';\n\n    const onMouseDownHueBar = React.useCallback((e: React.MouseEvent<EventTarget>) => {\n        startDrag(hueBar.current!, x => setHue(x * 360));\n    }, []);\n\n    const onMouseDownPicker = React.useCallback((e: React.MouseEvent<EventTarget>) => {\n        startDrag(picker.current!, (x, y) => {\n            setSaturation(x * 100);\n            setValue(100 - y * 100);\n        });\n    }, []);\n\n    const onChangeHue = React.useCallback(\n        (e: React.KeyboardEvent<EventTarget>) => {\n            let newHue = hue;\n            switch (e.which) {\n                case Keys.Left:\n                    newHue += isRtl ? 1 : -1;\n                    break;\n                case Keys.Up:\n                    newHue--;\n                    break;\n                case Keys.Right:\n                    newHue += isRtl ? -1 : 1;\n                    break;\n                case Keys.Down:\n                    newHue++;\n                    break;\n                case Keys.PageUp:\n                    newHue -= 10;\n                    break;\n                case Keys.PageDown:\n                    newHue += 10;\n                    break;\n                case Keys.Home:\n                    newHue = 0;\n                    break;\n                case Keys.End:\n                    newHue = 360;\n                    break;\n            }\n            setHue(Math.max(Math.min(newHue, 360), 0));\n        },\n        [hue, isRtl]\n    );\n\n    const onChangeColor = React.useCallback(\n        (e: React.KeyboardEvent<EventTarget>) => {\n            let newSaturation = saturation;\n            let newValue = value;\n            switch (e.which) {\n                case Keys.Left:\n                    newSaturation += isRtl ? 1 : -1;\n                    break;\n                case Keys.Right:\n                    newSaturation += isRtl ? -1 : 1;\n                    break;\n                case Keys.Home:\n                    newSaturation = 0;\n                    break;\n                case Keys.End:\n                    newSaturation = 100;\n                    break;\n                case Keys.Up:\n                    newValue++;\n                    break;\n                case Keys.Down:\n                    newValue--;\n                    break;\n                case Keys.PageUp:\n                    newValue += 10;\n                    break;\n                case Keys.PageDown:\n                    newValue -= 10;\n                    break;\n            }\n            setSaturation(Math.max(Math.min(newSaturation, 100), 0));\n            setValue(Math.max(Math.min(newValue, 100), 0));\n        },\n        [saturation, value, isRtl]\n    );\n\n    React.useEffect(() => {\n        props.onSelect?.(props.initColor);\n    }, []);\n\n    React.useEffect(() => {\n        props.onSelect?.(Color.hsv(hue, saturation, value).rgb());\n    }, [hue, saturation, value]);\n\n    return (\n        <div className={styles.container}>\n            <div\n                tabIndex={0}\n                className={styles.picker}\n                ref={picker}\n                style={{\n                    backgroundColor: Color.hsv(hue, 100, 100).rgb().toString(),\n                }}\n                onKeyDown={onChangeColor}\n                onMouseDown={onMouseDownPicker}>\n                <div className={styles.layer1}>\n                    <div className={styles.layer2} />\n                </div>\n                <div\n                    className={styles.currentColor}\n                    style={{\n                        left: saturation + '%',\n                        top: 100 - value + '%',\n                    }}>\n                    <div />\n                </div>\n            </div>\n\n            <div\n                className={styles.newColor}\n                style={{ backgroundColor: Color.hsv(hue, saturation, value).rgb().toString() }}\n            />\n            <div\n                className={styles.initColor}\n                style={{ backgroundColor: props.initColor.toString() }}\n            />\n\n            <div\n                className={styles.hueBar}\n                ref={hueBar}\n                tabIndex={0}\n                onMouseDown={onMouseDownHueBar}\n                onKeyDown={onChangeHue}>\n                <div\n                    className={styles.currentColor}\n                    style={{\n                        left: hue / 3.6 + '%',\n                    }}>\n                    <div />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction startDrag(element: HTMLElement, callback: (x: number, y: number) => void) {\n    const rect = element.getBoundingClientRect();\n    const document = element.ownerDocument;\n\n    const onMouseChange = (e: MouseEvent) => {\n        const left = e.pageX - rect.left;\n        const top = e.pageY - rect.top;\n        let x = Math.round((left * 100) / rect.width) / 100;\n        let y = Math.round((top * 100) / rect.height) / 100;\n        x = Math.min(Math.max(x, 0), 1);\n        y = Math.min(Math.max(y, 0), 1);\n\n        callback(x, y);\n\n        if (e.type == 'mouseup') {\n            document.removeEventListener('mousemove', onMouseChange, true /*useCapture*/);\n            document.removeEventListener('mouseup', onMouseChange, true /*useCapture*/);\n        } else {\n            e.stopPropagation();\n            e.preventDefault();\n        }\n    };\n\n    document.addEventListener('mousemove', onMouseChange, true /*useCapture*/);\n    document.addEventListener('mouseup', onMouseChange, true /*useCapture*/);\n}\n","import BuildInPluginState, { BuildInPluginList, UrlPlaceholder } from './BuildInPluginState';\nimport { Announce } from 'roosterjs-editor-plugins/lib/Announce';\nimport { AutoFormat } from 'roosterjs-editor-plugins/lib/AutoFormat';\nimport { ContentEdit } from 'roosterjs-editor-plugins/lib/ContentEdit';\nimport { CustomReplace as CustomReplacePlugin } from 'roosterjs-editor-plugins/lib/CustomReplace';\nimport { CutPasteListChain } from 'roosterjs-editor-plugins/lib/CutPasteListChain';\nimport { EditorPlugin, KnownAnnounceStrings } from 'roosterjs-editor-types';\nimport { HyperLink } from 'roosterjs-editor-plugins/lib/HyperLink';\nimport { ImageEdit } from 'roosterjs-editor-plugins/lib/ImageEdit';\nimport { Paste } from 'roosterjs-editor-plugins/lib/Paste';\nimport { TableCellSelection } from 'roosterjs-editor-plugins/lib/TableCellSelection';\nimport { TableResize } from 'roosterjs-editor-plugins';\nimport { Watermark } from 'roosterjs-editor-plugins/lib/Watermark';\nimport {\n    createContextMenuPlugin,\n    createImageEditMenuProvider,\n    createListEditMenuProvider,\n    createTableEditMenuProvider,\n} from 'roosterjs-react/lib/contextMenu';\n\nexport default function getToggleablePlugins(initState: BuildInPluginState) {\n    const { pluginList, linkTitle } = initState;\n    const imageEdit = pluginList.imageEdit\n        ? new ImageEdit({\n              preserveRatio: initState.forcePreserveRatio,\n              applyChangesOnMouseUp: initState.applyChangesOnMouseUp,\n          })\n        : null;\n\n    const plugins: Record<keyof BuildInPluginList, EditorPlugin | null> = {\n        contentEdit: pluginList.contentEdit ? new ContentEdit(initState.contentEditFeatures) : null,\n        hyperlink: pluginList.hyperlink\n            ? new HyperLink(\n                  linkTitle?.indexOf(UrlPlaceholder) >= 0\n                      ? url => linkTitle.replace(UrlPlaceholder, url)\n                      : linkTitle\n                      ? () => linkTitle\n                      : null\n              )\n            : null,\n        paste: pluginList.paste ? new Paste() : null,\n        watermark: pluginList.watermark ? new Watermark(initState.watermarkText) : null,\n        imageEdit,\n        cutPasteListChain: pluginList.cutPasteListChain ? new CutPasteListChain() : null,\n        tableCellSelection: pluginList.tableCellSelection ? new TableCellSelection() : null,\n        tableResize: pluginList.tableResize ? new TableResize() : null,\n        customReplace: pluginList.customReplace ? new CustomReplacePlugin() : null,\n        autoFormat: pluginList.autoFormat ? new AutoFormat() : null,\n        listEditMenu:\n            pluginList.contextMenu && pluginList.listEditMenu ? createListEditMenuProvider() : null,\n        imageEditMenu:\n            pluginList.contextMenu && pluginList.imageEditMenu && imageEdit\n                ? createImageEditMenuProvider(imageEdit)\n                : null,\n        tableEditMenu:\n            pluginList.contextMenu && pluginList.tableEditMenu\n                ? createTableEditMenuProvider()\n                : null,\n        contextMenu: pluginList.contextMenu ? createContextMenuPlugin() : null,\n        announce: pluginList.announce ? new Announce(getDefaultStringsMap()) : null,\n    };\n\n    return Object.values(plugins);\n}\n\nfunction getDefaultStringsMap(): Map<KnownAnnounceStrings, string> {\n    return new Map<KnownAnnounceStrings, string>([\n        [KnownAnnounceStrings.AnnounceListItemBullet, 'Autocorrected Bullet'],\n        [KnownAnnounceStrings.AnnounceListItemNumbering, 'Autocorrected {0}'],\n        [\n            KnownAnnounceStrings.AnnounceOnFocusLastCell,\n            'Warning, pressing tab here adds an extra row.',\n        ],\n    ]);\n}\n","import MainPaneBase from '../MainPaneBase';\nimport { RibbonButton } from 'roosterjs-react';\n\n/**\n * Key of localized strings of Dark mode button\n */\nexport type DarkModeButtonStringKey = 'buttonNameDarkMode';\n\n/**\n * \"Dark mode\" button on the format ribbon\n */\nexport const darkMode: RibbonButton<DarkModeButtonStringKey> = {\n    key: 'buttonNameDarkMode',\n    unlocalizedText: 'Dark Mode',\n    iconName: 'ClearNight',\n    isChecked: formatState => formatState.isDarkMode,\n    onClick: editor => {\n        editor.setDarkModeState(!editor.isDarkMode());\n        editor.focus();\n\n        // Let main pane know this state change so that it can be persisted when pop out/pop in\n        MainPaneBase.getInstance().toggleDarkMode();\n        return true;\n    },\n};\n","import { RibbonButton } from 'roosterjs-react';\nimport { trustedHTMLHandler } from '../../utils/trustedHTMLHandler';\n\n/**\n * Key of localized strings of Zoom button\n */\nexport type ExportButtonStringKey = 'buttonNameExport';\n\n/**\n * \"Export content\" button on the format ribbon\n */\nexport const exportContent: RibbonButton<ExportButtonStringKey> = {\n    key: 'buttonNameExport',\n    unlocalizedText: 'Export',\n    iconName: 'Export',\n    flipWhenRtl: true,\n    onClick: editor => {\n        const win = editor.getDocument().defaultView.open();\n        win.document.write(trustedHTMLHandler(editor.getContent()));\n    },\n};\n","import MainPaneBase from '../MainPaneBase';\nimport { RibbonButton } from 'roosterjs-react';\n\n/**\n * Key of localized strings of Popout button\n */\nexport type PopoutButtonStringKey = 'buttonNamePopout';\n\n/**\n * \"Popout\" button on the format ribbon\n */\nexport const popout: RibbonButton<PopoutButtonStringKey> = {\n    key: 'buttonNamePopout',\n    unlocalizedText: 'Open in a separate window',\n    iconName: 'OpenInNewWindow',\n    flipWhenRtl: true,\n    onClick: _ => {\n        MainPaneBase.getInstance().popout();\n    },\n};\n","import MainPaneBase from '../MainPaneBase';\nimport { getObjectKeys } from 'roosterjs-editor-dom';\nimport { RibbonButton } from 'roosterjs-react';\n\nconst DropDownItems = {\n    'zoom50%': '50%',\n    'zoom75%': '75%',\n    'zoom100%': '100%',\n    'zoom150%': '150%',\n    'zoom200%': '200%',\n};\n\nconst DropDownValues: { [key in keyof typeof DropDownItems]: number } = {\n    'zoom50%': 0.5,\n    'zoom75%': 0.75,\n    'zoom100%': 1,\n    'zoom150%': 1.5,\n    'zoom200%': 2,\n};\n\n/**\n * Key of localized strings of Zoom button\n */\nexport type ZoomButtonStringKey = 'buttonNameZoom';\n\n/**\n * \"Zoom\" button on the format ribbon\n */\nexport const zoom: RibbonButton<ZoomButtonStringKey> = {\n    key: 'buttonNameZoom',\n    unlocalizedText: 'Zoom',\n    iconName: 'ZoomIn',\n    dropDownMenu: {\n        items: DropDownItems,\n        getSelectedItemKey: formatState =>\n            getObjectKeys(DropDownItems).filter(\n                key => DropDownValues[key] == formatState.zoomScale\n            )[0],\n    },\n    onClick: (editor, key) => {\n        const zoomScale = DropDownValues[key as keyof typeof DropDownItems];\n        editor.setZoomScale(zoomScale);\n        editor.focus();\n\n        // Let main pane know this state change so that it can be persisted when pop out/pop in\n        MainPaneBase.getInstance().setScale(zoomScale);\n        return true;\n    },\n};\n","import { insertEntity } from 'roosterjs-editor-api';\nimport {\n    createNumberDefinition,\n    createObjectDefinition,\n    findClosestElementAncestor,\n    getEntityFromElement,\n    getEntitySelector,\n    getMetadata,\n    setMetadata,\n} from 'roosterjs-editor-dom';\nimport {\n    EditorPlugin,\n    Entity,\n    EntityOperation,\n    EntityState,\n    IEditor,\n    PluginEvent,\n    PluginEventType,\n} from 'roosterjs-editor-types';\n\nconst EntityType = 'SampleEntity';\n\ninterface EntityMetadata {\n    count: number;\n}\n\nconst EntityMetadataDefinition = createObjectDefinition<EntityMetadata>({\n    count: createNumberDefinition(),\n});\n\nexport default class SampleEntityPlugin implements EditorPlugin {\n    private editor: IEditor;\n\n    getName() {\n        return 'SampleEntity';\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.editor = null;\n    }\n\n    onPluginEvent(event: PluginEvent) {\n        if (\n            event.eventType == PluginEventType.KeyDown &&\n            event.rawEvent.key == 'm' &&\n            event.rawEvent.ctrlKey\n        ) {\n            const entityNode = this.createEntity();\n            let entity: Entity | undefined;\n\n            this.editor.addUndoSnapshot(\n                () => {\n                    entity = insertEntity(this.editor, EntityType, entityNode, true, true);\n                },\n                undefined /*changeSource*/,\n                false /*canUndoByBackspace*/,\n                {\n                    getEntityState: () => this.getEntityStates(entity),\n                }\n            );\n\n            event.rawEvent.preventDefault();\n        } else if (\n            event.eventType == PluginEventType.EntityOperation &&\n            event.entity.type == EntityType\n        ) {\n            switch (event.operation) {\n                case EntityOperation.NewEntity:\n                    this.dehydrate(event.entity);\n                    this.hydrate(event.entity);\n\n                    event.shouldPersist = true;\n\n                    break;\n\n                case EntityOperation.RemoveFromEnd:\n                case EntityOperation.RemoveFromStart:\n                case EntityOperation.Overwrite:\n                case EntityOperation.ReplaceTemporaryContent:\n                    this.dehydrate(event.entity);\n\n                    break;\n\n                case EntityOperation.UpdateEntityState:\n                    if (event.state) {\n                        setMetadata(\n                            event.entity.wrapper,\n                            JSON.parse(event.state),\n                            EntityMetadataDefinition\n                        );\n                        this.updateEntity(event.entity);\n                    }\n\n                    break;\n            }\n        }\n    }\n\n    private hydrate(entity: Entity) {\n        const containerDiv = entity.wrapper.querySelector('div');\n\n        const span = document.createElement('span');\n        const button = document.createElement('button');\n\n        containerDiv.appendChild(span);\n        containerDiv.appendChild(button);\n\n        button.textContent = 'Test entity';\n        button.addEventListener('click', this.onClickEntity);\n\n        this.updateEntity(entity);\n    }\n\n    private dehydrate(entity: Entity) {\n        const containerDiv = entity.wrapper.querySelector('div');\n        const button = containerDiv.querySelector('button');\n\n        if (button) {\n            button.removeEventListener('click', this.onClickEntity);\n            containerDiv.removeChild(button);\n        }\n    }\n\n    private updateEntity(entity: Entity, increase: number = 0) {\n        const metadata = getMetadata<EntityMetadata>(entity.wrapper);\n        const count = (metadata?.count || 0) + increase;\n\n        setMetadata(entity.wrapper, {\n            count,\n        });\n\n        entity.wrapper.querySelector('span').textContent = 'Count: ' + count;\n    }\n\n    private createEntity() {\n        const div = document.createElement('div');\n\n        return div;\n    }\n\n    private onClickEntity = (e: MouseEvent) => {\n        const wrapper = findClosestElementAncestor(\n            e.target as Node,\n            undefined,\n            getEntitySelector(EntityType)\n        );\n        const entity = getEntityFromElement(wrapper);\n\n        if (entity) {\n            this.editor.addUndoSnapshot(\n                () => {\n                    this.updateEntity(entity, 1);\n                },\n                undefined /*changeSource*/,\n                false /*canUndoByBackspace*/,\n                {\n                    getEntityState: () => this.getEntityStates(entity),\n                }\n            );\n        }\n    };\n\n    private getEntityStates(entity: Entity | undefined): EntityState[] {\n        return entity\n            ? [\n                  {\n                      id: entity.id,\n                      type: entity.type,\n                      state: entity.wrapper.dataset.editingInfo,\n                  },\n              ]\n            : undefined;\n    }\n}\n","import * as React from 'react';\nimport SidePanePlugin from '../SidePanePlugin';\n\nconst styles = require('./SidePane.scss');\n\nexport interface SidePaneProps {\n    plugins: SidePanePlugin[];\n    className?: string;\n}\n\nexport interface SidePaneState {\n    currentPane: SidePanePlugin;\n}\n\nexport default class SidePane extends React.Component<SidePaneProps, SidePaneState> {\n    private div = React.createRef<HTMLDivElement>();\n\n    constructor(props: SidePaneProps) {\n        super(props);\n        this.state = {\n            currentPane: this.props.plugins[0],\n        };\n\n        window.addEventListener('hashchange', this.updateStateFromHash);\n    }\n\n    componentDidMount() {\n        this.updateStateFromHash();\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('hashchange', this.updateStateFromHash);\n    }\n\n    render() {\n        const className = (this.props.className || '') + ' ' + styles.sidePane;\n\n        return (\n            <div className={className} ref={this.div}>\n                {this.props.plugins.map(this.renderSidePane)}\n            </div>\n        );\n    }\n\n    changeWidth(widthDelta: number) {\n        let div = this.div.current;\n        if (div) {\n            div.style.width = div.clientWidth + widthDelta + 'px';\n        }\n    }\n\n    updateHash = (pluginName?: string, path?: string[]) => {\n        window.location.hash =\n            (pluginName || this.state.currentPane.getName()) + (path ? '/' + path.join('/') : '');\n    };\n\n    private updateStateFromHash = () => {\n        let hash = window.location.hash;\n        let hashes = (hash ? hash.substr(1) : '').split('/');\n        let pluginName = hashes[0];\n        let plugin =\n            pluginName && this.props.plugins.filter(plugin => plugin.getName() == pluginName)[0];\n\n        if (plugin) {\n            this.setState({\n                currentPane: plugin,\n            });\n\n            window.setTimeout(() => {\n                hashes.splice(0, 1);\n                if (plugin.setHashPath) {\n                    plugin.setHashPath(hashes);\n                }\n            }, 0);\n        }\n    };\n\n    private renderSidePane = (plugin: SidePanePlugin): JSX.Element => {\n        const title = plugin.getTitle();\n        const isCurrent = this.state.currentPane == plugin;\n\n        return (\n            <div key={title} className={isCurrent ? styles.activePane : styles.inactivePane}>\n                <div className={styles.title} onClick={() => this.updateHash(plugin.getName())}>\n                    {title}\n                </div>\n                <div className={styles.bodyContainer}>\n                    <div className={styles.body}>{plugin.renderSidePane(this.updateHash)}</div>\n                </div>\n            </div>\n        );\n    };\n}\n","import * as React from 'react';\nimport SidePanePlugin from '../SidePanePlugin';\nimport { IEditor } from 'roosterjs-editor-types';\nimport { SidePaneElement, SidePaneElementProps } from './SidePaneElement';\n\ninterface SidePaneComponent<P extends SidePaneElementProps>\n    extends React.Component<P, any>,\n        SidePaneElement {}\n\nexport default abstract class SidePanePluginImpl<\n    T extends SidePaneComponent<P>,\n    P extends SidePaneElementProps\n> implements SidePanePlugin {\n    protected editor: IEditor;\n    private component = React.createRef<T>();\n\n    constructor(\n        private readonly componentCtor: { new (props: P): T },\n        private readonly pluginName: string,\n        private readonly title: string\n    ) {}\n\n    getName() {\n        return this.pluginName;\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.editor = null;\n    }\n\n    getTitle() {\n        return this.title;\n    }\n\n    renderSidePane(updateHash: (pluginName?: string, path?: string[]) => void) {\n        return React.createElement<P>(this.componentCtor, {\n            ...this.getComponentProps({\n                updateHash,\n            }),\n            ref: this.component,\n        });\n    }\n\n    setHashPath(path: string[]) {\n        if (this.component.current && this.component.current.setHashPath) {\n            this.component.current.setHashPath(path);\n        }\n    }\n\n    protected abstract getComponentProps(baseProps: SidePaneElementProps): P;\n\n    protected getComponent(callback: (component: T) => void) {\n        if (this.component.current) {\n            callback(this.component.current);\n        }\n    }\n}\n","import * as React from 'react';\nimport apiEntries, { ApiPlaygroundReactComponent } from './apiEntries';\nimport ApiPaneProps from './ApiPaneProps';\nimport { getObjectKeys } from 'roosterjs-editor-dom';\nimport { PluginEvent } from 'roosterjs-editor-types';\nimport { SidePaneElement } from '../SidePaneElement';\n\nconst styles = require('./ApiPlaygroundPane.scss');\n\nexport interface ApiPlaygroundPaneState {\n    current: string;\n}\n\nexport default class ApiPlaygroundPane extends React.Component<ApiPaneProps, ApiPlaygroundPaneState>\n    implements SidePaneElement {\n    private select = React.createRef<HTMLSelectElement>();\n    private pane = React.createRef<ApiPlaygroundReactComponent>();\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = { current: 'empty' };\n    }\n\n    render() {\n        let componentClass = apiEntries[this.state.current].component;\n        let pane: JSX.Element = null;\n        if (componentClass) {\n            pane = React.createElement(componentClass, { ...this.props, ref: this.pane });\n        }\n\n        return (\n            <>\n                <div className={styles.header}>\n                    <h3>Select an API to try</h3>\n\n                    <select ref={this.select} value={this.state.current} onChange={this.onChange}>\n                        {getObjectKeys(apiEntries).map(key => (\n                            <option value={key} key={key}>\n                                {apiEntries[key].name}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n                {pane}\n            </>\n        );\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (this.pane.current && this.pane.current.onPluginEvent) {\n            this.pane.current.onPluginEvent(e);\n        }\n    }\n\n    setHashPath(path: string[]) {\n        let paneName = path && getObjectKeys(apiEntries).indexOf(path[0]) >= 0 ? path[0] : null;\n\n        if (paneName && paneName != this.state.current) {\n            this.setState({\n                current: paneName,\n            });\n        } else {\n            this.props.updateHash(null, [this.state.current]);\n        }\n    }\n\n    private onChange = () => {\n        this.props.updateHash(null, [this.select.current.value]);\n    };\n}\n","import ApiPaneProps from './ApiPaneProps';\nimport ApiPlaygroundPane from './ApiPlaygroundPane';\nimport SidePanePluginImpl from '../SidePanePluginImpl';\nimport { PluginEvent } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nexport default class ApiPlaygroundPlugin extends SidePanePluginImpl<\n    ApiPlaygroundPane,\n    ApiPaneProps\n> {\n    constructor() {\n        super(ApiPlaygroundPane, 'api', 'API Playground');\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return {\n            ...base,\n            getEditor: () => {\n                return this.editor;\n            },\n        };\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        this.getComponent(component => component.onPluginEvent(e));\n    }\n}\n","import * as React from 'react';\nimport ApiPaneProps, { ApiPlaygroundComponent } from './ApiPaneProps';\nimport BlockElementsPane from './blockElements/BlockElementsPane';\nimport GetDarkColorPane from './darkColor/GetDarkColorPane';\nimport GetSelectedRegionsPane from './region/GetSelectedRegionsPane';\nimport GetSelectionPane from './getSelection/getSelectionPane';\nimport InsertContentPane from './insertContent/InsertContentPane';\nimport InsertEntityPane from './insertEntity/InsertEntityPane';\nimport MatchLinkPane from './matchLink/MatchLinkPane';\nimport SanitizerPane from './sanitizer/SanitizerPane';\nimport VListPane from './vlist/VListPane';\nimport VTablePane from './vtable/VTablePane';\n\nexport interface ApiPlaygroundReactComponent\n    extends React.Component<ApiPaneProps, any>,\n        ApiPlaygroundComponent {}\n\ninterface ApiEntry {\n    name: string;\n    component?: { new (prpos: ApiPaneProps): ApiPlaygroundReactComponent };\n}\n\nconst apiEntries: { [key: string]: ApiEntry } = {\n    empty: {\n        name: 'Please select',\n    },\n    block: {\n        name: 'Block Elements',\n        component: BlockElementsPane,\n    },\n    sanitizer: {\n        name: 'HTML Sanitizer',\n        component: SanitizerPane,\n    },\n    matchlink: {\n        name: 'Match Link',\n        component: MatchLinkPane,\n    },\n    insertContent: {\n        name: 'Insert Content',\n        component: InsertContentPane,\n    },\n    region: {\n        name: 'Get Selected Regions',\n        component: GetSelectedRegionsPane,\n    },\n    entity: {\n        name: 'Insert Entity',\n        component: InsertEntityPane,\n    },\n    vlist: {\n        name: 'VList',\n        component: VListPane,\n    },\n    vtable: {\n        name: 'VTable',\n        component: VTablePane,\n    },\n    getDarkColor: {\n        name: 'getDarkColor',\n        component: GetDarkColorPane,\n    },\n    getSelection: {\n        name: 'getSelection',\n        component: GetSelectionPane,\n    },\n    more: {\n        name: 'Coming soon...',\n    },\n};\n\nexport default apiEntries;\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { BlockElement, PluginEvent, PluginEventType, PositionType } from 'roosterjs-editor-types';\nimport { createRange, isBlockElement } from 'roosterjs-editor-dom';\n\nconst styles = require('./BlockElementsPane.scss');\n\nexport interface BlockElementPaneState {\n    blocks: BlockElement[];\n}\n\nexport default class BlockElementsPane extends React.Component<\n    ApiPaneProps,\n    BlockElementPaneState\n> {\n    private checkGetBlocks = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            blocks: [],\n        };\n    }\n\n    render() {\n        return (\n            <div>\n                <button onClick={this.onGetBlocks}>Get blocks</button>\n                <input\n                    type=\"checkbox\"\n                    id=\"checkGetBlocks\"\n                    ref={this.checkGetBlocks}\n                    onClick={this.update}\n                />\n                <label htmlFor=\"checkGetBlocks\">Auto refresh</label>\n                {this.state.blocks.map((block, index) => (\n                    <pre\n                        key={index}\n                        className={styles.block}\n                        onMouseOver={() => this.onMouseOver(block)}>\n                        {isNodeBlockElement(block) ? (\n                            this.renderBlock(block)\n                        ) : (\n                            <i onDoubleClick={() => this.collapse(block)}>\n                                {this.renderBlock(block)}\n                            </i>\n                        )}\n                    </pre>\n                ))}\n            </div>\n        );\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (\n            e.eventType == PluginEventType.KeyPress ||\n            e.eventType == PluginEventType.ContentChanged\n        ) {\n            if (this.checkGetBlocks.current.checked) {\n                this.update();\n            } else {\n                this.setBlocks([]);\n            }\n        }\n    }\n\n    private update = () => {\n        this.props.getEditor().runAsync(this.onGetBlocks);\n    };\n\n    private collapse(block: BlockElement) {\n        block.collapseToSingleElement();\n        this.props.getEditor().triggerContentChangedEvent();\n        if (!this.checkGetBlocks.current.checked) {\n            this.onGetBlocks();\n        }\n    }\n\n    private renderBlock(block: BlockElement): JSX.Element {\n        let isNodeBlock = isNodeBlockElement(block);\n        return (\n            <div\n                onDoubleClick={!isNodeBlock && (() => this.collapse(block))}\n                title={\n                    isNodeBlock\n                        ? 'This is a NodeBlockElement'\n                        : 'This is a StartEndBlockElement, double to collapse'\n                }\n                style={{ fontStyle: isNodeBlock ? 'normal' : 'italic' }}>\n                {getTextContent(block) || '<NO CONTENT>'}\n            </div>\n        );\n    }\n\n    private setBlocks(blocks: BlockElement[]) {\n        this.setState({\n            blocks: blocks,\n        });\n    }\n\n    private onGetBlocks = () => {\n        let traverser = this.props.getEditor().getBodyTraverser();\n        let block = traverser && traverser.currentBlockElement;\n        let blocks: BlockElement[] = [];\n\n        while (block) {\n            blocks.push(block);\n            block = traverser.getNextBlockElement();\n        }\n\n        this.setBlocks(blocks);\n    };\n\n    private onMouseOver = (block: BlockElement) => {\n        this.props\n            .getEditor()\n            .select(block.getStartNode(), 0, block.getEndNode(), PositionType.End);\n    };\n}\n\nfunction getTextContent(block: BlockElement): string {\n    return block.getStartNode() == block.getEndNode()\n        ? block.getStartNode().textContent\n        : createRange(block.getStartNode(), block.getEndNode()).toString();\n}\n\nfunction isNodeBlockElement(block: BlockElement): boolean {\n    return block.getStartNode() == block.getEndNode() && isBlockElement(block.getStartNode());\n}\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { getDarkColor } from 'roosterjs-color-utils';\n\ninterface GetDarkColorPaneState {\n    lightColor: string;\n    darkColor: string;\n}\n\nconst styles = require('./GetDarkColorPane.scss');\n\nexport default class GetDarkColorPane extends React.Component<ApiPaneProps, GetDarkColorPaneState> {\n    private lightColor = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            lightColor: '',\n            darkColor: '',\n        };\n    }\n\n    render() {\n        return (\n            <>\n                <div>\n                    Light Color:{' '}\n                    <input\n                        type=\"input\"\n                        ref={this.lightColor}\n                        onChange={this.onInputChange}\n                        value={this.state.lightColor}\n                    />\n                </div>\n                <hr />\n                <div>\n                    Light Color:\n                    <div className={styles.lightBackground}>\n                        <div\n                            className={styles.result}\n                            style={{ backgroundColor: this.state.lightColor }}\n                        />\n                    </div>\n                </div>\n                <div>\n                    DarkColor: <span>{this.state.darkColor}</span>\n                    <div className={styles.darkBackground}>\n                        <div\n                            className={styles.result}\n                            style={{ backgroundColor: this.state.darkColor }}\n                        />\n                    </div>\n                </div>\n            </>\n        );\n    }\n\n    private onInputChange = () => {\n        let lightColor = this.lightColor.current.value;\n        let darkColor = '';\n\n        try {\n            darkColor = getDarkColor(lightColor);\n        } catch (e) {\n            darkColor = e;\n        }\n\n        this.setState({\n            lightColor: lightColor,\n            darkColor: darkColor,\n        });\n    };\n}\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport {\n    PluginEvent,\n    PluginEventType,\n    SelectionRangeEx,\n    SelectionRangeTypes,\n    TableSelection,\n} from 'roosterjs-editor-types';\n\ninterface SelectionPaneState {\n    selection: SelectionRangeEx;\n    selectionMessage: string;\n    isImageSelectionOption: boolean;\n    manualSelect: boolean;\n}\n\nconst styles = require('./getSelectionPane.scss');\n\nexport default class GetSelectionPane extends React.Component<ApiPaneProps, SelectionPaneState> {\n    private selectInfo = React.createRef<HTMLInputElement>();\n    private editor = this.props.getEditor();\n    private firstCellX = React.createRef<HTMLInputElement>();\n    private firstCellY = React.createRef<HTMLInputElement>();\n    private lastCellX = React.createRef<HTMLInputElement>();\n    private lastCellY = React.createRef<HTMLInputElement>();\n    private selectionType: Record<string, string> = {\n        [SelectionRangeTypes.Normal]: 'Normal',\n        [SelectionRangeTypes.TableSelection]: 'Table Selection',\n        [SelectionRangeTypes.ImageSelection]: 'Image Selection',\n    };\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            selection: null,\n            selectionMessage: '',\n            isImageSelectionOption: true,\n            manualSelect: false,\n        };\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (e.eventType == PluginEventType.SelectionChanged && !this.state.manualSelect) {\n            this.updateSelection();\n        }\n    }\n\n    private updateSelection = () => {\n        this.setState({\n            selection: this.editor ? this.editor.getSelectionRangeEx() : null,\n        });\n    };\n\n    private selectElement = () => {\n        const queryInfo = this.selectInfo.current.value;\n        if (queryInfo) {\n            if (this.state.isImageSelectionOption) {\n                const elementToSelect = this.editor\n                    .getDocument()\n                    .querySelector(`img[id$=\"${queryInfo}\"]`);\n                const select = elementToSelect ? this.editor.select(elementToSelect) : null;\n                this.setState({\n                    selection: select ? this.editor.getSelectionRangeEx() : null,\n                    selectionMessage: select ? 'Image Found' : 'Image not found',\n                });\n            } else {\n                const elementToSelect = this.editor\n                    .getDocument()\n                    .querySelector(`table[id$=\"${queryInfo}\"]`) as HTMLTableElement;\n                const coordinates = this.getCoordinates();\n                const select =\n                    elementToSelect && coordinates\n                        ? this.editor.select(elementToSelect, coordinates)\n                        : null;\n                this.setState({\n                    selection: select ? this.editor.getSelectionRangeEx() : null,\n                    selectionMessage: select ? 'Table found' : 'Table not found',\n                });\n            }\n        }\n    };\n\n    private getCoordinates = (): TableSelection => {\n        if (\n            this.firstCellX.current.value &&\n            this.firstCellY.current.value &&\n            this.lastCellX.current.value &&\n            this.lastCellY.current.value\n        ) {\n            const coordinates: TableSelection = {\n                firstCell: {\n                    x: parseInt(this.firstCellX.current.value),\n                    y: parseInt(this.firstCellY.current.value),\n                },\n                lastCell: {\n                    x: parseInt(this.lastCellX.current.value),\n                    y: parseInt(this.lastCellY.current.value),\n                },\n            };\n            return coordinates;\n        }\n        return null;\n    };\n\n    private createSelectionInfo = () => {\n        return (\n            <>\n                <div className={styles.containerInfo}>\n                    <span className={styles.title}>Selection Information</span>\n                    <div>Selection type: {this.selectionType[this.state.selection.type]}</div>\n                    <div>Are collapsed: {`${this.state.selection.areAllCollapsed}`}</div>\n                    {this.state.selection.type === SelectionRangeTypes.TableSelection && (\n                        <>\n                            <div>Coordinates</div>\n                            <div>\n                                First cell:\n                                <span> X: {this.state.selection.coordinates.firstCell.x}</span>\n                                <span> Y: {this.state.selection.coordinates.firstCell.y}</span>\n                            </div>\n                            <div>\n                                Last cell:\n                                <span> X: {this.state.selection.coordinates.lastCell.x}</span>\n                                <span> Y: {this.state.selection.coordinates.lastCell.y}</span>\n                            </div>\n                        </>\n                    )}\n                    {this.state.selection.type === SelectionRangeTypes.ImageSelection && (\n                        <>\n                            <div>Image Id: {this.state.selection.image.id}</div>\n                        </>\n                    )}\n                </div>\n            </>\n        );\n    };\n\n    private selectionOption = (label: string, checked: boolean, onChange: () => void) => {\n        return (\n            <>\n                <div>\n                    <label>\n                        <input\n                            className={styles.input}\n                            type=\"radio\"\n                            checked={checked}\n                            onChange={onChange}\n                        />\n                        {label}\n                    </label>\n                </div>\n            </>\n        );\n    };\n\n    private changeSelectionOption = () => {\n        this.setState({\n            isImageSelectionOption: !this.state.isImageSelectionOption,\n        });\n    };\n\n    private createCoordinatesInput = (\n        label: string,\n        coordinateRef: React.RefObject<HTMLInputElement>\n    ) => {\n        return (\n            <>\n                <div>\n                    <label>\n                        {label}\n                        <input\n                            className={styles.coordinates}\n                            min=\"0\"\n                            type=\"number\"\n                            ref={coordinateRef}\n                        />\n                    </label>\n                </div>\n            </>\n        );\n    };\n\n    private showManualSelection = () => {\n        this.setState({\n            manualSelect: !this.state.manualSelect,\n        });\n    };\n\n    render() {\n        return (\n            <>\n                {!this.state.manualSelect && (\n                    <span className={styles.title}>\n                        Click on the screen to get selection information\n                    </span>\n                )}\n                {this.state.selection && <span>{this.createSelectionInfo()}</span>}\n                {this.state.manualSelect && (\n                    <div className={styles.containerInfo}>\n                        <div>\n                            <span className={styles.title}>Select element type:</span>\n                            {this.selectionOption(\n                                'Image',\n                                this.state.isImageSelectionOption,\n                                this.changeSelectionOption\n                            )}\n                            {this.selectionOption(\n                                'Table',\n                                !this.state.isImageSelectionOption,\n                                this.changeSelectionOption\n                            )}\n                            <input\n                                className={styles.input}\n                                placeholder=\"Type element id:\"\n                                type=\"input\"\n                                ref={this.selectInfo}\n                            />\n                            {!this.state.isImageSelectionOption && (\n                                <div>\n                                    <div> Coordinates </div>\n                                    {this.createCoordinatesInput('First cell X', this.firstCellX)}\n                                    {this.createCoordinatesInput('First cell Y', this.firstCellY)}\n                                    {this.createCoordinatesInput('Last cell X', this.lastCellX)}\n                                    {this.createCoordinatesInput('Last cell X', this.lastCellY)}\n                                </div>\n                            )}\n                        </div>\n                        <div>{this.state.selectionMessage}</div>\n                        <div>\n                            {this.selectInfo && (\n                                <button className={styles.button} onClick={this.selectElement}>\n                                    Select Element\n                                </button>\n                            )}\n                        </div>\n                    </div>\n                )}\n\n                <button className={styles.button} onClick={this.showManualSelection}>\n                    {this.state.manualSelect ? 'Hide manual select' : 'Show manual select'}\n                </button>\n            </>\n        );\n    }\n}\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { ContentPosition, InsertOptionBasic } from 'roosterjs-editor-types';\n\nconst styles = require('./InsertContentPane.scss');\n\nexport interface InsertContentPaneState {\n    content: string;\n    position: ContentPosition;\n    updateCursor: boolean;\n    replaceSelection: boolean;\n    insertOnNewLine: boolean;\n}\n\nexport default class InsertContentPane extends React.Component<\n    ApiPaneProps,\n    InsertContentPaneState\n> {\n    private html = React.createRef<HTMLTextAreaElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            content: '',\n            position: ContentPosition.SelectionStart,\n            updateCursor: true,\n            replaceSelection: true,\n            insertOnNewLine: false,\n        };\n    }\n\n    render() {\n        return (\n            <table>\n                <tr>\n                    <td>HTML Content</td>\n                    <td>\n                        <textarea\n                            className={styles.text}\n                            ref={this.html}\n                            value={this.state.content}\n                            onChange={() => this.setState({ content: this.html.current.value })}\n                        />\n                    </td>\n                </tr>\n                <tr>\n                    <td>Insert at</td>\n                    <td>\n                        <div>\n                            <input\n                                type=\"radio\"\n                                name=\"position\"\n                                checked={this.state.position == ContentPosition.Begin}\n                                id=\"insertBegin\"\n                                onClick={() => this.setPosition(ContentPosition.Begin)}\n                            />\n                            <label htmlFor=\"insertBegin\">Begin</label>\n                        </div>\n                        <div>\n                            <input\n                                type=\"radio\"\n                                name=\"position\"\n                                checked={this.state.position == ContentPosition.End}\n                                id=\"insertEnd\"\n                                onClick={() => this.setPosition(ContentPosition.End)}\n                            />\n                            <label htmlFor=\"insertEnd\">End</label>\n                        </div>\n                        <div>\n                            <input\n                                type=\"radio\"\n                                name=\"position\"\n                                checked={this.state.position == ContentPosition.SelectionStart}\n                                id=\"insertSelectionStart\"\n                                onClick={() => this.setPosition(ContentPosition.SelectionStart)}\n                            />\n                            <label htmlFor=\"insertSelectionStart\">SelectionStart</label>\n                        </div>\n                        <div>\n                            <input\n                                type=\"radio\"\n                                name=\"position\"\n                                checked={this.state.position == ContentPosition.Outside}\n                                id=\"insertOutside\"\n                                onClick={() => this.setPosition(ContentPosition.Outside)}\n                            />\n                            <label htmlFor=\"insertOutside\">Outside</label>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <td>Cursor option</td>\n                    <td>\n                        <input\n                            type=\"checkbox\"\n                            id=\"insertUpdateCursor\"\n                            checked={this.state.updateCursor}\n                            onClick={() =>\n                                this.setState({ updateCursor: !this.state.updateCursor })\n                            }\n                        />\n                        <label htmlFor=\"insertUpdateCursor\">Update cursor</label>\n                    </td>\n                </tr>\n                <tr>\n                    <td>Replace option</td>\n                    <td>\n                        <input\n                            type=\"checkbox\"\n                            id=\"insertReplaceSelection\"\n                            checked={this.state.replaceSelection}\n                            onClick={() =>\n                                this.setState({ replaceSelection: !this.state.replaceSelection })\n                            }\n                        />\n                        <label htmlFor=\"insertReplaceSelection\">Replace selection</label>\n                    </td>\n                </tr>\n                <tr>\n                    <td>New line option</td>\n                    <td>\n                        <input\n                            type=\"checkbox\"\n                            id=\"insertOnNewLine\"\n                            checked={this.state.insertOnNewLine}\n                            onClick={() =>\n                                this.setState({ insertOnNewLine: !this.state.insertOnNewLine })\n                            }\n                        />\n                        <label htmlFor=\"insertOnNewLine\">Insert on new line</label>\n                    </td>\n                </tr>\n                <tr>\n                    <td colSpan={2} className={styles.buttonRow}>\n                        <button onClick={this.onClick}>Insert Content</button>\n                    </td>\n                </tr>\n            </table>\n        );\n    }\n\n    private setPosition(position: ContentPosition) {\n        this.setState({\n            position: position,\n        });\n    }\n\n    private onClick = () => {\n        let editor = this.props.getEditor();\n        if (this.state.position != ContentPosition.Range) {\n            const inputOption: InsertOptionBasic = {\n                position: this.state.position,\n                updateCursor: this.state.updateCursor,\n                replaceSelection: this.state.replaceSelection,\n                insertOnNewLine: this.state.insertOnNewLine,\n            };\n            editor.addUndoSnapshot(() => editor.insertContent(this.state.content, inputOption));\n        }\n    };\n}\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { Entity } from 'roosterjs-editor-types';\nimport { getEntityFromElement, getEntitySelector } from 'roosterjs-editor-dom';\nimport { insertEntity } from 'roosterjs-editor-api';\nimport { trustedHTMLHandler } from '../../../../utils/trustedHTMLHandler';\n\nconst styles = require('./InsertEntityPane.scss');\n\ninterface InsertEntityPaneState {\n    entities: Entity[];\n}\n\nexport default class InsertEntityPane extends React.Component<ApiPaneProps, InsertEntityPaneState> {\n    private entityType = React.createRef<HTMLInputElement>();\n    private html = React.createRef<HTMLTextAreaElement>();\n    private styleInline = React.createRef<HTMLInputElement>();\n    private styleBlock = React.createRef<HTMLInputElement>();\n    private isReadonly = React.createRef<HTMLInputElement>();\n    private insertAtRoot = React.createRef<HTMLInputElement>();\n    private focusAfterEntity = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            entities: [],\n        };\n    }\n\n    render() {\n        return (\n            <>\n                <div>\n                    Type: <input type=\"input\" ref={this.entityType} />\n                </div>\n                <div>\n                    HTML: <textarea className={styles.textarea} ref={this.html}></textarea>\n                </div>\n                <div>\n                    Style:\n                    <input\n                        type=\"radio\"\n                        name=\"entityStyle\"\n                        ref={this.styleInline}\n                        id=\"styleInline\"\n                    />\n                    <label htmlFor=\"styleInline\">Inline</label>\n                    <input type=\"radio\" name=\"entityStyle\" ref={this.styleBlock} id=\"styleBlock\" />\n                    <label htmlFor=\"styleBlock\">Block</label>\n                </div>\n                <div>\n                    <input id=\"readonly\" type=\"checkbox\" ref={this.isReadonly} />\n                    <label htmlFor=\"readonly\">Readonly </label>\n                </div>\n                <div>\n                    <input id=\"insertAtRoot\" type=\"checkbox\" ref={this.insertAtRoot} />\n                    <label htmlFor=\"insertAtRoot\">Force insert at root of region</label>\n                </div>\n                <div>\n                    <input id=\"focusAfterEntity\" type=\"checkbox\" ref={this.focusAfterEntity} />\n                    <label htmlFor=\"focusAfterEntity\">Focus after entity</label>\n                </div>\n                <div>\n                    <button onClick={this.insertEntity}>Insert Entity</button>\n                </div>\n                <hr />\n                <div>\n                    <button onClick={this.onGetEntities}>Get all entities</button>\n                </div>\n                <div>\n                    {this.state.entities.map(entity => (\n                        <EntityButton key={entity.id} entity={entity} />\n                    ))}\n                </div>\n            </>\n        );\n    }\n\n    private insertEntity = () => {\n        const entityType = this.entityType.current.value;\n        const node = document.createElement('span');\n        node.innerHTML = trustedHTMLHandler(this.html.current.value);\n        const isBlock = this.styleBlock.current.checked;\n        const isReadonly = this.isReadonly.current.checked;\n        const insertAtRoot = this.insertAtRoot.current.checked;\n        const focusAfterEntity = this.focusAfterEntity.current.checked;\n\n        if (node) {\n            const editor = this.props.getEditor();\n\n            editor.addUndoSnapshot(() => {\n                insertEntity(\n                    editor,\n                    entityType,\n                    node,\n                    isBlock,\n                    isReadonly,\n                    undefined /*position*/,\n                    insertAtRoot,\n                    focusAfterEntity\n                );\n            });\n        }\n    };\n\n    private onGetEntities = () => {\n        const selector = getEntitySelector();\n        const nodes = this.props.getEditor().queryElements(selector);\n        const allEntities = nodes.map(node => getEntityFromElement(node));\n\n        this.setState({\n            entities: allEntities.filter(e => !!e),\n        });\n    };\n}\n\nfunction EntityButton({ entity }: { entity: Entity }) {\n    let background = '';\n    const onMouseOver = React.useCallback(() => {\n        background = entity.wrapper.style.backgroundColor;\n        entity.wrapper.style.backgroundColor = 'blue';\n    }, [entity]);\n\n    const onMouseOut = React.useCallback(() => {\n        entity.wrapper.style.backgroundColor = background;\n    }, [entity]);\n\n    return (\n        <div onMouseOver={onMouseOver} onMouseOut={onMouseOut}>\n            Type: {entity.type}\n            <br />\n            Id: {entity.id}\n            <br />\n            Readonly: {entity.isReadonly ? 'True' : 'False'}\n            <br />\n        </div>\n    );\n}\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { LinkData } from 'roosterjs-editor-types';\nimport { matchLink } from 'roosterjs-editor-dom';\n\ninterface MatchLinkState {\n    linkData: LinkData;\n}\n\nexport default class MatchLinkPane extends React.Component<ApiPaneProps, MatchLinkState> {\n    private url = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = { linkData: undefined };\n    }\n\n    render() {\n        let { scheme, originalUrl, normalizedUrl } = this.state.linkData || ({} as LinkData);\n        return (\n            <>\n                <div>\n                    Url: <input type=\"input\" ref={this.url} />{' '}\n                    <button onClick={this.onMatchLink}>Match Link</button>\n                </div>\n                {this.state.linkData === null ? (\n                    <div>Not matched</div>\n                ) : (\n                    <>\n                        <div>Schema: {scheme || ''}</div>\n                        <div>Original Url: {originalUrl || ''}</div>\n                        <div>Normalized Url: {normalizedUrl || ''}</div>\n                    </>\n                )}\n            </>\n        );\n    }\n\n    private onMatchLink = () => {\n        let match = matchLink(this.url.current.value);\n        this.setState({\n            linkData: match,\n        });\n    };\n}\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { IEditor, PositionType, Region } from 'roosterjs-editor-types';\nimport {\n    createRange,\n    getSelectedBlockElementsInRegion,\n    getTagOfNode,\n    safeInstanceOf,\n} from 'roosterjs-editor-dom';\n\nconst styles = require('./GetSelectedRegionsPane.scss');\n\ninterface GetSelectedRegionsPaneState {\n    regions: Region[];\n}\n\nexport default class GetSelectedRegionsPane extends React.Component<\n    ApiPaneProps,\n    GetSelectedRegionsPaneState\n> {\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = { regions: [] };\n    }\n\n    render() {\n        const editor = this.props.getEditor();\n        return (\n            <>\n                <div>\n                    <button onClick={this.getSelectedRegions}>Get Selected Regions</button>&nbsp;\n                    <button onClick={this.clearAll}>Clear</button>\n                </div>\n                <div>\n                    {this.state.regions.map((region, i) => (\n                        <Region key={i} region={region} editor={editor} index={i} />\n                    ))}\n                </div>\n            </>\n        );\n    }\n\n    private getSelectedRegions = () => {\n        this.setState({\n            regions: this.props.getEditor().getSelectedRegions(),\n        });\n    };\n\n    private clearAll = () => {\n        this.setState({\n            regions: [],\n        });\n    };\n}\n\nfunction Region({ region, editor, index }: { region: Region; editor: IEditor; index: number }) {\n    const selectRegion = React.useCallback(() => {\n        const blocks = getSelectedBlockElementsInRegion(region);\n        if (blocks.length > 0) {\n            const range = createRange(\n                blocks[0].getStartNode(),\n                PositionType.Begin,\n                blocks[blocks.length - 1].getEndNode(),\n                PositionType.End\n            );\n            editor.focus();\n            editor.select(range);\n        }\n    }, [region]);\n\n    return (\n        <div>\n            <hr />\n            <div>\n                <b>Region {index}</b>\n            </div>\n            <div>\n                Root node: <NodeName node={region.rootNode} />\n            </div>\n            <div>\n                Node Before: <NodeName node={region.nodeBefore} />\n            </div>\n            <div>\n                Node After: <NodeName node={region.nodeAfter} />\n            </div>\n            <div>\n                Selected blocks: <button onClick={selectRegion}>Select</button>\n            </div>\n        </div>\n    );\n}\n\nfunction NodeName({ node }: { node: Node }) {\n    const mouseOver = React.useCallback(() => {\n        if (safeInstanceOf(node, 'HTMLElement')) {\n            node.className += ' ' + styles.hover;\n        }\n    }, [node]);\n\n    const mouseOut = React.useCallback(() => {\n        if (safeInstanceOf(node, 'HTMLElement')) {\n            let classNames = node.className.split(' ');\n            classNames = classNames.filter(name => name != styles.hover);\n            node.className = classNames.join(' ').trim();\n        }\n    }, [node]);\n\n    return node ? (\n        safeInstanceOf(node, 'HTMLElement') ? (\n            <span onMouseOver={mouseOver} onMouseOut={mouseOut} className={styles.regionNode}>\n                {getTagOfNode(node)}#{node.id}\n            </span>\n        ) : (\n            <span className={styles.regionNode}>{node.nodeValue.substr(0, 10)}</span>\n        )\n    ) : null;\n}\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport { HtmlSanitizer } from 'roosterjs-editor-dom';\nimport { trustedHTMLHandler } from '../../../../utils/trustedHTMLHandler';\n\nconst styles = require('./SanitizerPane.scss');\n\nexport default class SanitizerPane extends React.Component<ApiPaneProps, {}> {\n    private source = React.createRef<HTMLTextAreaElement>();\n    private result = React.createRef<HTMLTextAreaElement>();\n    private sanitizer = new HtmlSanitizer();\n\n    render() {\n        return (\n            <>\n                <h3>Input</h3>\n                <textarea className={styles.textarea} ref={this.source} />\n                <div>\n                    <button className={styles.button} onClick={this.inline}>\n                        Inline CSS\n                    </button>\n                    <button className={styles.button} onClick={this.sanitize}>\n                        Sanitize\n                    </button>\n                </div>\n                <h3>Result</h3>\n                <textarea className={styles.textarea} ref={this.result} />\n            </>\n        );\n    }\n\n    private inline = () => {\n        const doc = this.getDOMDocument();\n\n        if (doc?.body) {\n            this.sanitizer.convertGlobalCssToInlineCss(doc);\n            this.result.current.value = doc.body.innerHTML;\n        }\n    };\n\n    private sanitize = () => {\n        const doc = this.getDOMDocument();\n\n        if (doc?.body) {\n            this.sanitizer.sanitize(doc.body.firstChild);\n            this.result.current.value = doc.body.innerHTML;\n        }\n    };\n\n    private getDOMDocument(): Document {\n        const parser = new DOMParser();\n        const html = trustedHTMLHandler(this.source.current.value) || '';\n        const doc = parser.parseFromString(html, 'text/html');\n        return doc;\n    }\n}\n","import * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport VListItem from 'roosterjs-editor-dom/lib/list/VListItem';\nimport { createVListFromRegion, VList } from 'roosterjs-editor-dom';\nimport { ExperimentalFeatures, IEditor, ListType, PositionType } from 'roosterjs-editor-types';\n\ninterface VListPaneState {\n    vlist: VList;\n}\n\nconst ListTypeToString = {\n    [ListType.None]: 'None',\n    [ListType.Ordered]: 'Ordered',\n    [ListType.Unordered]: 'Unordered',\n};\n\nfunction VListItemPane(props: { editor: IEditor; item: VListItem; onChange: () => void }) {\n    const { item, editor, onChange } = props;\n    const type = item.getListType();\n\n    const onMouseOver = React.useCallback(() => {\n        const node = item.getNode();\n        editor.select(node);\n    }, [props.item, editor]);\n\n    const onOrdered = React.useCallback(() => {\n        item.changeListType(ListType.Ordered);\n        onChange();\n    }, [props.item, editor]);\n    const onUnrdered = React.useCallback(() => {\n        item.changeListType(ListType.Unordered);\n        onChange();\n    }, [props.item, editor]);\n    const onIndent = React.useCallback(() => {\n        item.indent();\n        onChange();\n    }, [props.item, editor]);\n    const onOutdent = React.useCallback(() => {\n        item.outdent();\n        onChange();\n    }, [props.item, editor]);\n\n    return (\n        <div>\n            <button onClick={onOrdered}>1.</button>\n            <button onClick={onUnrdered}>*</button>\n            <button onClick={onOutdent}>&lt;-</button>\n            <button onClick={onIndent}>-&gt;</button>\n            <span\n                style={{\n                    marginLeft: item.getLevel() * 20 + 'px',\n                    display: 'inline-block',\n                    cursor: 'pointer',\n                }}\n                onMouseOver={onMouseOver}>\n                {ListTypeToString[type]}\n            </span>\n        </div>\n    );\n}\n\nexport default class VListPane extends React.Component<ApiPaneProps, VListPaneState> {\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            vlist: null,\n        };\n    }\n\n    render() {\n        const editor = this.props.getEditor();\n        return (\n            <>\n                <button onClick={this.createVList}>Create VList from cursor</button>\n                {this.state.vlist && (\n                    <>\n                        {this.state.vlist.items.map(item => (\n                            <VListItemPane item={item} editor={editor} onChange={this.onChange} />\n                        ))}\n                        <button onClick={this.onWriteback}>Write back</button>\n                    </>\n                )}\n            </>\n        );\n    }\n\n    private createVList = () => {\n        const editor = this.props.getEditor();\n        const node = editor.getElementAtCursor();\n        const region = editor.getSelectedRegions()[0];\n        const vlist = node\n            ? createVListFromRegion(region, false /*includingSiblingList*/, node)\n            : null;\n\n        this.setState({\n            vlist: vlist,\n        });\n    };\n\n    private onWriteback = () => {\n        const editor = this.props.getEditor();\n        editor.addUndoSnapshot(() => {\n            this.state.vlist?.writeBack(\n                editor.isFeatureEnabled(ExperimentalFeatures.ReuseAllAncestorListElements),\n                editor.isFeatureEnabled(ExperimentalFeatures.DisableListChain)\n            );\n            editor.focus();\n            editor.select(this.state.vlist.items[0]?.getNode(), PositionType.Begin);\n        });\n        this.createVList();\n    };\n\n    private onChange = () => {\n        this.forceUpdate();\n    };\n}\n","import { TableBorderFormat, TableFormat } from 'roosterjs-editor-types';\n\nexport const PREDEFINED_STYLES: Record<\n    string,\n    (color?: string, lightColor?: string) => TableFormat\n> = {\n    DEFAULT: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.DEFAULT /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    DEFAULT_WITH_BACKGROUND_COLOR: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.DEFAULT /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    GRID_WITHOUT_BORDER: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            true /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.NO_SIDE_BORDERS /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    LIST: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            null /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.DEFAULT /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    BANDED_ROWS_FIRST_COLUMN_NO_BORDER: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.FIRST_COLUMN_HEADER_EXTERNAL /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    EXTERNAL: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.LIST_WITH_SIDE_BORDERS /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    NO_HEADER_VERTICAL: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.NO_HEADER_BORDERS /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    ESPECIAL_TYPE_1: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.ESPECIAL_TYPE_1 /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    ESPECIAL_TYPE_2: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.ESPECIAL_TYPE_2 /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    ESPECIAL_TYPE_3: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.ESPECIAL_TYPE_3 /** tableBorderFormat */,\n            lightColor /** bgColorEven */,\n            null /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    CLEAR: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.CLEAR /** tableBorderFormat */,\n            lightColor /** bgColorEven */,\n            null /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n};\n\nexport function createTableFormat(\n    topBorder?: string,\n    bottomBorder?: string,\n    verticalBorder?: string,\n    bandedRows?: boolean,\n    bandedColumns?: boolean,\n    headerRow?: boolean,\n    firstColumn?: boolean,\n    borderFormat?: TableBorderFormat,\n    bgColorEven?: string,\n    bgColorOdd?: string,\n    headerRowColor?: string\n): TableFormat {\n    return {\n        topBorderColor: topBorder,\n        bottomBorderColor: bottomBorder,\n        verticalBorderColor: verticalBorder,\n        hasBandedRows: bandedRows,\n        bgColorEven: bgColorEven,\n        bgColorOdd: bgColorOdd,\n        hasBandedColumns: bandedColumns,\n        hasHeaderRow: headerRow,\n        headerRowColor: headerRowColor,\n        hasFirstColumn: firstColumn,\n        tableBorderFormat: borderFormat,\n        keepCellShade: false,\n    };\n}\n","import * as Color from 'color';\nimport * as React from 'react';\nimport ApiPaneProps from '../ApiPaneProps';\nimport ColorPicker from '../../../colorPicker/ColorPicker';\nimport { createTableFormat, PREDEFINED_STYLES } from './PredefinedTableStyles';\nimport { editTable, formatTable } from 'roosterjs-editor-api';\nimport { getTagOfNode, VTable } from 'roosterjs-editor-dom';\nimport { IEditor, PositionType, TableFormat, TableOperation, VCell } from 'roosterjs-editor-types';\n\nconst PREDEFINED_STYLES_KEYS = {\n    default: 'DEFAULT',\n    gridWithoutBorder: 'GRID_WITHOUT_BORDER',\n    list: 'LIST',\n    bandedRowsFirstColumnNoBorder: 'BANDED_ROWS_FIRST_COLUMN_NO_BORDER',\n    defaultWithBackgroundColor: 'DEFAULT_WITH_BACKGROUND_COLOR',\n    external: 'EXTERNAL',\n    noHeader: 'NO_HEADER_VERTICAL',\n    especialType1: 'ESPECIAL_TYPE_1',\n    especialType2: 'ESPECIAL_TYPE_2',\n    especialType3: 'ESPECIAL_TYPE_3',\n    clear: 'CLEAR',\n};\n\nconst TABLE_COLORS: Record<string, string> = {\n    transparent: 'transparent',\n    black: '#000000',\n    blue: '#0C64C0',\n    orange: '#DE6A19',\n    yellow: '#DCBE22',\n    red: '#ED5C57',\n    purple: '#B36AE2',\n    green: '#0C882A',\n};\n\ninterface VTablePaneState {\n    vtable: VTable;\n}\n\nconst styles = require('./VTablePane.scss');\n\nfunction TableCell(props: {\n    cell: VCell;\n    editor: IEditor;\n    isCurrent: boolean;\n    onClickCell: (td: HTMLTableCellElement) => void;\n}) {\n    const { cell, editor, isCurrent } = props;\n    const onMouseOver = React.useCallback(() => {\n        editor.select(cell.td);\n    }, [cell, editor]);\n    const onClick = React.useCallback(() => {\n        if (cell.td) {\n            props.onClickCell(cell.td);\n        }\n    }, [cell, editor]);\n\n    const text = cell.td\n        ? getTagOfNode(cell.td)\n        : cell.spanAbove && cell.spanLeft\n        ? ''\n        : cell.spanAbove\n        ? ''\n        : cell.spanLeft\n        ? ''\n        : '';\n\n    return (\n        <div\n            style={{ cursor: 'pointer', border: isCurrent ? 'solid 2px black' : '' }}\n            onMouseOver={onMouseOver}\n            onClick={onClick}>\n            {text}\n        </div>\n    );\n}\n\nexport default class VTablePane extends React.Component<ApiPaneProps, VTablePaneState> {\n    private bgColor = React.createRef<HTMLInputElement>();\n    private topBorderColor = React.createRef<HTMLInputElement>();\n    private bottomBorderColor = React.createRef<HTMLInputElement>();\n    private verticalBorderColor = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            vtable: null,\n        };\n    }\n\n    render() {\n        const editor = this.props.getEditor();\n        const currentTd = this.state.vtable?.getCurrentTd();\n        return (\n            <>\n                <button onClick={this.createVTable}>Create VTable from cursor</button>\n                {this.state.vtable && (\n                    <>\n                        <table\n                            style={{\n                                border: 'solid 1px black',\n                            }}>\n                            <tbody>\n                                {this.state.vtable.cells.map((row, rowIndex) => (\n                                    <tr key={'row' + rowIndex}>\n                                        {row.map((cell, cellIndex) => (\n                                            <td key={'cell' + cellIndex}>\n                                                <TableCell\n                                                    cell={cell}\n                                                    editor={editor}\n                                                    isCurrent={currentTd == cell.td}\n                                                    onClickCell={this.onClickCell}\n                                                />\n                                            </td>\n                                        ))}\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                        <table>\n                            <tbody>\n                                <tr>\n                                    <th colSpan={2}>Edit Table</th>\n                                </tr>\n                                <tr>\n                                    <td>Insert</td>\n                                    <td>\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Above',\n                                            TableOperation.InsertAbove\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Below',\n                                            TableOperation.InsertBelow\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Left',\n                                            TableOperation.InsertLeft\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Right',\n                                            TableOperation.InsertRight\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Delete</td>\n                                    <td>\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Table',\n                                            TableOperation.DeleteTable\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Column',\n                                            TableOperation.DeleteColumn\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Row',\n                                            TableOperation.DeleteRow\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Merge</td>\n                                    <td>\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Above',\n                                            TableOperation.MergeAbove\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Below',\n                                            TableOperation.MergeBelow\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Left',\n                                            TableOperation.MergeLeft\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Right',\n                                            TableOperation.MergeRight\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Split</td>\n                                    <td>\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Horizontally',\n                                            TableOperation.SplitHorizontally\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Vertically',\n                                            TableOperation.SplitVertically\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Align</td>\n                                    <td>\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Left',\n                                            TableOperation.AlignLeft\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Center',\n                                            TableOperation.AlignCenter\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Right',\n                                            TableOperation.AlignRight\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Align Cell</td>\n                                    <td>\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Left',\n                                            TableOperation.AlignCellLeft\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Center',\n                                            TableOperation.AlignCellCenter\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Right',\n                                            TableOperation.AlignCellRight\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Top',\n                                            TableOperation.AlignCellTop\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Middle',\n                                            TableOperation.AlignCellMiddle\n                                        )}\n                                        {this.renderEditTableButton(\n                                            editor,\n                                            'Bottom',\n                                            TableOperation.AlignCellBottom\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <th colSpan={2}>Format Table</th>\n                                </tr>\n                                <tr>\n                                    <td>State:</td>\n                                    <td>\n                                        {this.renderSetHeaderRowButton(editor)}\n                                        {this.renderSetFirstColumnButton(editor)}\n                                        {this.renderSetBandedColumnButton(editor)}\n                                        {this.renderSetBandedRowButton(editor)}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Predefined:</td>\n                                    <td>\n                                        {this.renderFormatTableButton(\n                                            'Default',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.default](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n\n                                        {this.renderFormatTableButton(\n                                            'Grid without border',\n                                            PREDEFINED_STYLES[\n                                                PREDEFINED_STYLES_KEYS.gridWithoutBorder\n                                            ](TABLE_COLORS.blue, `${TABLE_COLORS.blue}20`),\n                                            editor\n                                        )}\n\n                                        {this.renderFormatTableButton(\n                                            'List',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.list](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'Banded Row and first column and no border',\n                                            PREDEFINED_STYLES[\n                                                PREDEFINED_STYLES_KEYS.bandedRowsFirstColumnNoBorder\n                                            ](TABLE_COLORS.blue, `${TABLE_COLORS.blue}20`),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'Default with background color',\n                                            PREDEFINED_STYLES[\n                                                PREDEFINED_STYLES_KEYS.defaultWithBackgroundColor\n                                            ](TABLE_COLORS.blue, `${TABLE_COLORS.blue}20`),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'External',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.external](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'No Header Vertical',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.noHeader](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'Especial type 1',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.especialType1](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'Especial type 2',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.especialType2](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'Especial type 3',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.especialType3](\n                                                TABLE_COLORS.blue,\n                                                `${TABLE_COLORS.blue}20`\n                                            ),\n                                            editor\n                                        )}\n                                        {this.renderFormatTableButton(\n                                            'Clear',\n                                            PREDEFINED_STYLES[PREDEFINED_STYLES_KEYS.clear](\n                                                TABLE_COLORS.transparent\n                                            ),\n                                            editor\n                                        )}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <th colSpan={2} className={styles.buttonRow}>\n                                        Customized Colors:\n                                    </th>\n                                </tr>\n                                <CustomizeFormatRow\n                                    text=\"BackgroundColor\"\n                                    inputRef={this.bgColor}\n                                />\n                                <CustomizeFormatRow\n                                    text=\"Top border\"\n                                    inputRef={this.topBorderColor}\n                                />\n                                <CustomizeFormatRow\n                                    text=\"Bottom border\"\n                                    inputRef={this.bottomBorderColor}\n                                />\n                                <CustomizeFormatRow\n                                    text=\"Vertical border\"\n                                    inputRef={this.verticalBorderColor}\n                                />\n\n                                <tr>\n                                    <td\n                                        colSpan={2}\n                                        className={styles.buttonRow}\n                                        onClick={this.onCustomizeFormat}>\n                                        <button className={styles.button}>Apply Format</button>\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <th colSpan={2} className={styles.buttonRow}>\n                                        Style Info:\n                                    </th>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <button onClick={this.onWriteBack}>Write back</button>\n                    </>\n                )}\n            </>\n        );\n    }\n\n    private createVTable = () => {\n        const editor = this.props.getEditor();\n        const node = editor.getElementAtCursor('td,th') as HTMLTableCellElement;\n        const vtable = node ? new VTable(node) : null;\n\n        this.setState({ vtable });\n    };\n\n    private onClickCell = (td: HTMLTableCellElement) => {\n        const vtable = new VTable(td);\n        this.setState({ vtable });\n    };\n\n    private renderEditTableButton(\n        editor: IEditor,\n        text: string,\n        operation: TableOperation\n    ): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    editTable(editor, operation);\n                    this.forceUpdate();\n                }}>\n                {text}\n            </button>\n        );\n    }\n\n    private renderSetHeaderRowButton(editor: IEditor): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    formatTable(\n                        editor,\n                        setHeaderRow(this.state.vtable.table),\n                        this.state.vtable.table\n                    );\n\n                    this.forceUpdate();\n                }}>\n                Header Row\n            </button>\n        );\n    }\n\n    private renderSetFirstColumnButton(editor: IEditor): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    formatTable(\n                        editor,\n                        setFirstColumn(this.state.vtable.table),\n                        this.state.vtable.table\n                    );\n\n                    this.forceUpdate();\n                }}>\n                First Column\n            </button>\n        );\n    }\n    private renderSetBandedColumnButton(editor: IEditor): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    formatTable(\n                        editor,\n                        setBandedColumn(this.state.vtable.table),\n                        this.state.vtable.table\n                    );\n\n                    this.forceUpdate();\n                }}>\n                Banded Column\n            </button>\n        );\n    }\n    private renderSetBandedRowButton(editor: IEditor): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    formatTable(\n                        editor,\n                        setBandedRow(this.state.vtable.table),\n                        this.state.vtable.table\n                    );\n\n                    this.forceUpdate();\n                }}>\n                Banded Row\n            </button>\n        );\n    }\n\n    private renderFormatTableButton(\n        text: string,\n        format: TableFormat,\n        editor: IEditor\n    ): JSX.Element {\n        return (\n            <button\n                className={styles.button}\n                onClick={() => {\n                    formatTable(editor, format, this.state.vtable.table);\n                    this.forceUpdate();\n                }}>\n                {text}\n            </button>\n        );\n    }\n\n    private onCustomizeFormat = () => {\n        const format = createTableFormat(\n            this.topBorderColor.current.value || undefined,\n            this.bottomBorderColor.current.value || undefined,\n            this.verticalBorderColor.current.value || undefined\n        );\n\n        this.state.vtable.applyFormat(format);\n        this.forceUpdate();\n    };\n\n    private onWriteBack = () => {\n        const editor = this.props.getEditor();\n        editor.addUndoSnapshot(() => {\n            const vtable = this.state.vtable;\n            const td = vtable.getCurrentTd();\n            vtable.writeBack();\n            editor.focus();\n            editor.select(td, PositionType.Begin);\n        });\n        this.createVTable();\n    };\n}\n\nfunction setHeaderRow(table: HTMLTableElement): TableFormat {\n    const vtable = new VTable(table);\n    const format = vtable.formatInfo;\n    format.keepCellShade = true;\n    format.hasHeaderRow = !format.hasHeaderRow;\n\n    return format;\n}\n\nfunction setFirstColumn(table: HTMLTableElement): TableFormat {\n    const vtable = new VTable(table);\n    const format = vtable.formatInfo;\n    format.keepCellShade = true;\n    format.hasFirstColumn = !format.hasFirstColumn;\n    return format;\n}\n\nfunction setBandedColumn(table: HTMLTableElement): TableFormat {\n    const vtable = new VTable(table);\n    const format = vtable.formatInfo;\n    format.keepCellShade = true;\n    format.hasBandedColumns = !format.hasBandedColumns;\n    return format;\n}\n\nfunction setBandedRow(table: HTMLTableElement): TableFormat {\n    const vtable = new VTable(table);\n    const format = vtable.formatInfo;\n    format.keepCellShade = true;\n    format.hasBandedRows = !format.hasBandedRows;\n    return format;\n}\n\nfunction CustomizeFormatRow(props: { text: string; inputRef: React.RefObject<HTMLInputElement> }) {\n    const [isColorPickerShowing, setIsColorPickerShowing] = React.useState(false);\n    const onShowColorPicker = React.useCallback(() => {\n        setIsColorPickerShowing(!isColorPickerShowing);\n    }, [isColorPickerShowing]);\n    const setColor = React.useCallback((color: Color) => {\n        props.inputRef.current.value = color.hex().toString();\n    }, []);\n    let color: Color;\n    try {\n        color = Color(props.inputRef.current.value);\n    } catch {\n        color = Color('white');\n    }\n    return (\n        <>\n            <tr>\n                <td className={styles.label}>\n                    <button onClick={onShowColorPicker}>{props.text}</button>\n                </td>\n                <td>\n                    <input type=\"text\" ref={props.inputRef} />\n                </td>\n            </tr>\n            {isColorPickerShowing && (\n                <tr>\n                    <td colSpan={2}>\n                        <ColorPicker initColor={color} onSelect={setColor} />\n                    </td>\n                </tr>\n            )}\n        </>\n    );\n}\n","import * as React from 'react';\nimport BuildInPluginState from '../../BuildInPluginState';\nimport EditorCode from './codes/EditorCode';\n\nexport interface CodeProps {\n    state: BuildInPluginState;\n}\n\nexport default class Code extends React.Component<CodeProps, {}> {\n    render() {\n        let editor = new EditorCode(this.props.state);\n        return (\n            <div>\n                <pre>{editor.getCode()}</pre>\n            </div>\n        );\n    }\n}\n","import * as React from 'react';\nimport BuildInPluginState from '../../BuildInPluginState';\nimport { ContentEditFeatureSettings } from 'roosterjs-editor-types';\nimport { getAllFeatures } from 'roosterjs-editor-plugins/lib/ContentEdit';\nimport { getObjectKeys } from 'roosterjs-editor-dom';\n\ntype ContentEditItemId = keyof ContentEditFeatureSettings;\n\nconst styles = require('./OptionsPane.scss');\nconst EditFeatureDescriptionMap: Record<keyof ContentEditFeatureSettings, string> = {\n    autoBullet: 'Auto Bullet / Numbering',\n    indentWhenTab: 'Indent list when Tab',\n    outdentWhenShiftTab: 'Outdent list when Shift + Tab',\n    outdentWhenBackspaceOnEmptyFirstLine: 'Outdent list when Backspace on empty first Line',\n    outdentWhenEnterOnEmptyLine: 'Outdent list when Enter on empty line',\n    mergeInNewLineWhenBackspaceOnFirstChar:\n        'Merge in new line when Backspace on first char in list',\n    maintainListChain: 'Maintain the continued list numbers',\n    unquoteWhenBackspaceOnEmptyFirstLine: 'Unquote when Backspace on empty first line',\n    unquoteWhenEnterOnEmptyLine: 'Unquote when Enter on empty line',\n    tabInTable: 'Tab to jump cell in table',\n    upDownInTable: 'Up / Down to jump cell in table',\n    insertLineBeforeStructuredNodeFeature:\n        'Enter to create new line before table/list at beginning of editor content',\n    autoLink: 'Auto link',\n    unlinkWhenBackspaceAfterLink: 'Auto unlink when backspace right after a hyperlink',\n    defaultShortcut: 'Default Shortcuts',\n    noCycleCursorMove: 'Avoid moving cycle moving cursor when Ctrl+Left/Right',\n    clickOnEntity: 'Fire an event when click on a readonly entity',\n    escapeFromEntity: 'Fire an event when Escape from a readonly entity',\n    enterBeforeReadonlyEntity: 'Start a new line when Enter before an event',\n    backspaceAfterEntity: 'Fire an event when Backspace after an entity',\n    deleteBeforeEntity: 'Fire an event when Delete before an event',\n    markdownBold: 'Markdown style Bolding',\n    markdownItalic: 'Markdown style Italics',\n    markdownStrikethru: 'Markdown style Strikethrough',\n    markdownInlineCode: 'Markdown style Code blocks',\n    maintainListChainWhenDelete:\n        'Maintain the list of number in the right order after press delete before the first item',\n    indentTableOnTab: 'Indent the table if it is all cells are selected.',\n    indentWhenTabText:\n        'On Tab indent the selection or add Tab, requires TabKeyFeatures Experimental Feature',\n    outdentWhenTabText:\n        'On Shift + Tab outdent the selection, requires TabKeyFeatures Experimental Feature',\n    autoHyphen: 'Automatically transform -- into hyphen, if typed between two words.',\n    autoBulletList:\n        'When press space after *, -, --, ->, -->, >, =>  in an empty line, toggle bullet',\n    autoNumberingList:\n        'When press space after an number, a letter or roman number followed by ), ., -, or between parenthesis in an empty line, toggle numbering',\n    mergeListOnBackspaceAfterList: 'When backspacing between lists, merge the lists',\n    deleteTableWithBackspace: 'Delete table with backspace key with whole table is selected',\n    moveBetweenDelimitersFeature:\n        'Content edit feature to move the cursor from Delimiters around Entities when using Right or Left Arrow Keys',\n    removeEntityBetweenDelimiters:\n        'When using BACKSPACE or DELETE in a Readonly inline entity delimeter, trigger a Entity Operation',\n    removeCodeWhenEnterOnEmptyLine: 'Remove code line when enter on empty line',\n    removeCodeWhenBackspaceOnEmptyFirstLine: 'Remove code line when backspace on empty first line',\n    indentWhenAltShiftRight: 'Indent list item using Alt + Shift + Right',\n    outdentWhenAltShiftLeft: 'Outdent list item using Alt + Shift + Left',\n};\n\nexport interface ContentEditFeaturessProps {\n    state: ContentEditFeatureSettings;\n    resetState: (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => void;\n}\n\nexport default class ContentEditFeatures extends React.Component<ContentEditFeaturessProps, {}> {\n    render() {\n        const features = getAllFeatures();\n        return (\n            <table>\n                <tbody>\n                    {getObjectKeys(features).map(key =>\n                        this.renderContentEditItem(key, EditFeatureDescriptionMap[key])\n                    )}\n                </tbody>\n            </table>\n        );\n    }\n\n    private renderContentEditItem(\n        id: ContentEditItemId,\n        text: string,\n        moreOptions?: JSX.Element\n    ): JSX.Element {\n        const checked = this.props.state[id];\n\n        return (\n            <tr key={id}>\n                <td className={styles.checkboxColumn}>\n                    <input\n                        type=\"checkbox\"\n                        id={id}\n                        checked={checked}\n                        title={id}\n                        onChange={() => this.onContentEditClick(id)}\n                    />\n                </td>\n                <td>\n                    <div>\n                        <label htmlFor={id} title={id}>\n                            {text}\n                        </label>\n                    </div>\n                    {checked && moreOptions}\n                </td>\n            </tr>\n        );\n    }\n\n    private onContentEditClick = (id: ContentEditItemId) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(id) as HTMLInputElement;\n            state.contentEditFeatures[id] = checkbox.checked;\n        }, true);\n    };\n}\n","import * as React from 'react';\nimport BuildInPluginState from '../../BuildInPluginState';\nimport { DefaultFormat } from 'roosterjs-editor-types';\nimport { getObjectKeys } from 'roosterjs-editor-dom';\n\ntype ToggleFormatId = 'bold' | 'italic' | 'underline';\ntype ModeIndependentColorId = 'textColors' | 'backgroundColors';\ntype SelectFormatId = Exclude<keyof DefaultFormat, ToggleFormatId | ModeIndependentColorId>;\n\nconst styles = require('./OptionsPane.scss');\nconst NOT_SET = 'NotSet';\n\nexport interface DefaultFormatProps {\n    state: DefaultFormat;\n    resetState: (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => void;\n}\n\nexport default class DefaultFormatPane extends React.Component<DefaultFormatProps, {}> {\n    render() {\n        return (\n            <>\n                <table>\n                    <tbody>\n                        {this.renderFormatItem('bold', 'Bold')}\n                        {this.renderFormatItem('italic', 'Italic')}\n                        {this.renderFormatItem('underline', 'Underline')}\n                    </tbody>\n                </table>\n                <table>\n                    <tbody>\n                        {this.renderSelectItem('fontFamily', 'Font family: ', {\n                            [NOT_SET]: 'Not Set',\n                            Arial: 'Arial',\n                            Calibri: 'Calibri',\n                            'Courier New': 'Courier New',\n                            Tahoma: 'Tahoma',\n                            'Times New Roman': 'Times New Roman',\n                        })}\n                        {this.renderSelectItem('fontSize', 'Font size: ', {\n                            [NOT_SET]: 'Not Set',\n                            '8pt': '8',\n                            '10pt': '10',\n                            '12pt': '12',\n                            '16pt': '16',\n                            '20pt': '20',\n                            '36pt': '36',\n                            '72pt': '72',\n                        })}\n                        {this.renderSelectItem('textColor', 'Text color: ', {\n                            [NOT_SET]: 'Not Set',\n                            '#757b80': 'Gray',\n                            '#bd1398': 'Violet',\n                            '#7232ad': 'Purple',\n                            '#006fc9': 'Blue',\n                            '#4ba524': 'Green',\n                            '#e2c501': 'Yellow',\n                            '#d05c12': 'Orange',\n                            '#ff0000': 'Red',\n                            '#ffffff': 'White',\n                            '#000000': 'Black',\n                        })}\n                        {this.renderSelectItem('backgroundColor', 'Back color: ', {\n                            [NOT_SET]: 'Not Set',\n                            '#ffff00': 'Yellow',\n                            '#00ff00': 'Green',\n                            '#00ffff': 'Cyan',\n                            '#ff00ff': 'Purple',\n                            '#0000ff': 'Blue',\n                            '#ff0000': 'Red',\n                            '#bebebe': 'Gray',\n                            '#666666': 'Dark Gray',\n                            '#ffffff': 'White',\n                            '#000000': 'Black',\n                        })}\n                    </tbody>\n                </table>\n            </>\n        );\n    }\n\n    private renderFormatItem(id: ToggleFormatId, text: string): JSX.Element {\n        let checked = (this.props.state[id] as boolean) || false;\n        return (\n            <tr>\n                <td className={styles.checkboxColumn}>\n                    <input\n                        type=\"checkbox\"\n                        id={id}\n                        checked={checked}\n                        onChange={() => this.onFormatClick(id)}\n                    />\n                </td>\n                <td>\n                    <div>\n                        <label htmlFor={id}>{text}</label>\n                    </div>\n                </td>\n            </tr>\n        );\n    }\n\n    private renderSelectItem(\n        id: SelectFormatId,\n        label: string,\n        items: { [key: string]: string }\n    ): JSX.Element {\n        return (\n            <tr>\n                <td className={styles.defaultFormatLabel}>{label}</td>\n                <td>\n                    <select\n                        id={id}\n                        onChange={() => this.onSelectChanged(id)}\n                        defaultValue={(this.props.state[id] || NOT_SET) as string}>\n                        {getObjectKeys(items).map(key => (\n                            <option value={key} key={key}>\n                                {items[key]}\n                            </option>\n                        ))}\n                    </select>\n                </td>\n            </tr>\n        );\n    }\n\n    private onFormatClick = (id: ToggleFormatId) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(id) as HTMLInputElement;\n            state.defaultFormat[id] = checkbox.checked;\n        }, true);\n    };\n\n    private onSelectChanged = (id: SelectFormatId) => {\n        this.props.resetState(state => {\n            let value = (document.getElementById(id) as HTMLSelectElement).value;\n            state.defaultFormat[id] = value == NOT_SET ? null : value;\n        }, true);\n    };\n}\n","import BuildInPluginState, { BuildInPluginProps, UrlPlaceholder } from '../../BuildInPluginState';\nimport getDefaultContentEditFeatureSettings from './getDefaultContentEditFeatureSettings';\nimport OptionsPane from './OptionsPane';\nimport SidePanePluginImpl from '../SidePanePluginImpl';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nconst initialState: BuildInPluginState = {\n    pluginList: {\n        contentEdit: true,\n        hyperlink: true,\n        paste: true,\n        watermark: false,\n        imageEdit: true,\n        cutPasteListChain: true,\n        tableCellSelection: true,\n        tableResize: true,\n        customReplace: true,\n        listEditMenu: true,\n        imageEditMenu: true,\n        tableEditMenu: true,\n        contextMenu: true,\n        autoFormat: true,\n        announce: true,\n    },\n    contentEditFeatures: getDefaultContentEditFeatureSettings(),\n    defaultFormat: {},\n    linkTitle: 'Ctrl+Click to follow the link:' + UrlPlaceholder,\n    watermarkText: 'Type content here ...',\n    forcePreserveRatio: false,\n    experimentalFeatures: [],\n    isRtl: false,\n    tableFeaturesContainerSelector: '#' + 'EditorContainer',\n};\n\nexport default class EditorOptionsPlugin extends SidePanePluginImpl<\n    OptionsPane,\n    BuildInPluginProps\n> {\n    constructor() {\n        super(OptionsPane, 'options', 'Editor Options');\n    }\n\n    getBuildInPluginState(): BuildInPluginState {\n        let result: BuildInPluginState;\n        this.getComponent(component => (result = component.getState()));\n        return result || initialState;\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return {\n            ...initialState,\n            ...base,\n        };\n    }\n}\n","import * as React from 'react';\nimport BuildInPluginState from '../../BuildInPluginState';\nimport { ExperimentalFeatures } from 'roosterjs-editor-types';\nimport { getObjectKeys } from 'roosterjs-editor-dom';\n\nexport interface ExperimentalFeaturesProps {\n    state: ExperimentalFeatures[];\n    resetState: (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => void;\n}\n\nconst FeatureNames: Partial<Record<ExperimentalFeatures, string>> = {\n    [ExperimentalFeatures.TabKeyTextFeatures]: 'Additional functionality to Tab Key',\n    [ExperimentalFeatures.ReuseAllAncestorListElements]:\n        \"Reuse ancestor list elements even if they don't match the types from the list item.\",\n    [ExperimentalFeatures.DeleteTableWithBackspace]:\n        'Delete a table selected with the table selector pressing Backspace key',\n    [ExperimentalFeatures.DisableListChain]: 'Disable list chain functionality',\n};\n\nexport default class ExperimentalFeaturesPane extends React.Component<\n    ExperimentalFeaturesProps,\n    {}\n> {\n    render() {\n        return <>{getObjectKeys(FeatureNames).map(name => this.renderFeature(name))}</>;\n    }\n\n    private renderFeature(name: keyof typeof FeatureNames): JSX.Element {\n        let checked = this.props.state.indexOf(name) >= 0;\n        return (\n            <div key={name}>\n                <input\n                    type=\"checkbox\"\n                    checked={checked}\n                    id={name}\n                    onChange={() => this.onClick(name)}\n                />\n                <label htmlFor={name}>{FeatureNames[name]}</label>\n            </div>\n        );\n    }\n\n    private onClick = (name: keyof typeof FeatureNames) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(name) as HTMLInputElement;\n            let index = state.experimentalFeatures.indexOf(name);\n\n            if (checkbox.checked && index < 0) {\n                state.experimentalFeatures.push(name);\n            } else if (!checkbox.checked && index >= 0) {\n                state.experimentalFeatures.splice(index, 1);\n            }\n        }, true);\n    };\n}\n","import * as React from 'react';\nimport BuildInPluginState, { BuildInPluginProps } from '../../BuildInPluginState';\nimport Code from './Code';\nimport ContentEditFeatures from './ContentEditFeatures';\nimport DefaultFormatPane from './DefaultFormat';\nimport EditorCode from './codes/EditorCode';\nimport ExperimentalFeaturesPane from './ExperimentalFeatures';\nimport MainPaneBase from '../../MainPaneBase';\nimport Plugins from './Plugins';\nimport ReactEditorCode from './codes/ReactEditorCode';\n\nconst htmlStart =\n    '<html>\\n' +\n    '<body>\\n' +\n    '<div id=\"contentDiv\" style=\"width: 800px; height: 400px; border: solid 1px black; overflow: auto\"></div>\\n';\nconst htmlButtons =\n    '<button id=buttonB><b>B</b></button>\\n' +\n    '<button id=buttonI><i>I</i></button>\\n' +\n    '<button id=buttonU><u>U</u></button>\\n' +\n    '<button id=buttonBullet>Bullet</button>\\n' +\n    '<button id=buttonNumbering>Numbering</button>\\n' +\n    '<button id=buttonUndo>Undo</button>\\n' +\n    '<button id=buttonRedo>Redo</button>\\n';\nconst darkButton = '<button id=buttonDark>Dark Mode</button>\\n';\nconst htmlEnd =\n    '<script src=\"https://microsoft.github.io/roosterjs/rooster-min.js\"></script>\\n' +\n    '</body>\\n' +\n    '</html>';\n\nconst htmlRoosterReact =\n    '<html>\\n' +\n    '<body>\\n' +\n    '<div id=\"root\"></div>\\n' +\n    '<script src=\"https://unpkg.com/react@16/umd/react.development.js\"></script>\\n' +\n    '<script src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"></script>\\n' +\n    '<script src=\"https://cdnjs.cloudflare.com/ajax/libs/fluentui-react/8.60.1/fluentui-react.min.js\"></script>\\n' +\n    '<script src=\"https://microsoft.github.io/roosterjs/rooster-min.js\"></script>\\n' +\n    '<script src=\"https://microsoft.github.io/roosterjs/rooster-react-min.js\"></script>\\n' +\n    '</body>\\n' +\n    '</html>';\n\nconst cssRoosterReact = '.editor { border: solid 1px black; width: 100%; height: 600px}';\nexport default class OptionsPane extends React.Component<BuildInPluginProps, BuildInPluginState> {\n    private exportForm = React.createRef<HTMLFormElement>();\n    private exportData = React.createRef<HTMLInputElement>();\n    private rtl = React.createRef<HTMLInputElement>();\n\n    constructor(props: BuildInPluginProps) {\n        super(props);\n        this.state = { ...props };\n    }\n    render() {\n        return (\n            <div>\n                <div>\n                    <button onClick={this.onExportRooster}>Try roosterjs in CodePen</button>\n                </div>\n                <div>\n                    <button onClick={this.onExportRoosterReact}>\n                        Try roosterjs-react in CodePen\n                    </button>\n                </div>\n                <div>\n                    <br />\n                </div>\n                <details>\n                    <summary>\n                        <b>Plugins:</b>\n                    </summary>\n                    <Plugins state={this.state} resetState={this.resetState} />\n                </details>\n                <details>\n                    <summary>\n                        <b>Content edit features:</b>\n                    </summary>\n                    <ContentEditFeatures\n                        state={this.state.contentEditFeatures}\n                        resetState={this.resetState}\n                    />\n                </details>\n                <details>\n                    <summary>\n                        <b>Default Format:</b>\n                    </summary>\n                    <DefaultFormatPane\n                        state={this.state.defaultFormat}\n                        resetState={this.resetState}\n                    />\n                </details>\n                <details>\n                    <summary>\n                        <b>Experimental features:</b>\n                    </summary>\n                    <ExperimentalFeaturesPane\n                        state={this.state.experimentalFeatures}\n                        resetState={this.resetState}\n                    />\n                </details>\n                <div>\n                    <br />\n                </div>\n                <div>\n                    <input\n                        id=\"pageRtl\"\n                        type=\"checkbox\"\n                        checked={this.state.isRtl}\n                        onChange={this.onToggleDirection}\n                        ref={this.rtl}\n                    />\n                    <label htmlFor=\"pageRtl\">Show controls from right to left</label>\n                </div>\n                <hr />\n                <details>\n                    <summary>\n                        <b>HTML Code:</b>\n                    </summary>\n                    <div>\n                        <code>\n                            <pre>{this.getHtml()}</pre>\n                        </code>\n                    </div>\n                </details>\n                <details>\n                    <summary>\n                        <b>Typescript Code:</b>\n                    </summary>\n                    <Code state={this.state} />\n                </details>\n                <form\n                    ref={this.exportForm}\n                    method=\"POST\"\n                    action=\"https://codepen.io/pen/define\"\n                    target=\"_blank\">\n                    <input name=\"data\" type=\"hidden\" ref={this.exportData} />\n                </form>\n            </div>\n        );\n    }\n\n    getState(): BuildInPluginState {\n        return { ...this.state };\n    }\n\n    private resetState = (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => {\n        let state: BuildInPluginState = {\n            linkTitle: this.state.linkTitle,\n            watermarkText: this.state.watermarkText,\n            pluginList: { ...this.state.pluginList },\n            contentEditFeatures: { ...this.state.contentEditFeatures },\n            defaultFormat: { ...this.state.defaultFormat },\n            experimentalFeatures: this.state.experimentalFeatures,\n            forcePreserveRatio: this.state.forcePreserveRatio,\n            isRtl: this.state.isRtl,\n            tableFeaturesContainerSelector: this.state.tableFeaturesContainerSelector,\n        };\n\n        if (callback) {\n            callback(state);\n            this.setState(state);\n        }\n\n        if (resetEditor) {\n            MainPaneBase.getInstance().resetEditorPlugin(state);\n        }\n    };\n\n    private onExportRooster = () => {\n        let editor = new EditorCode(this.state);\n        let code = editor.getCode();\n        let json = {\n            title: 'RoosterJs',\n            html: this.getHtml(),\n            head: '',\n            js: code,\n            js_pre_processor: 'typescript',\n        };\n        this.exportData.current.value = JSON.stringify(json);\n        this.exportForm.current.submit();\n    };\n\n    private onExportRoosterReact = () => {\n        let editor = new ReactEditorCode(this.state);\n        let code = editor.getCode();\n        let json = {\n            title: 'RoosterJs React',\n            html: htmlRoosterReact,\n            css: cssRoosterReact,\n            head: '',\n            js: code,\n            js_pre_processor: 'typescript',\n        };\n        this.exportData.current.value = JSON.stringify(json);\n        this.exportForm.current.submit();\n    };\n\n    private onToggleDirection = () => {\n        let isRtl = this.rtl.current.checked;\n        this.setState({\n            isRtl: isRtl,\n        });\n        MainPaneBase.getInstance().setPageDirection(isRtl);\n    };\n\n    private getHtml() {\n        return `${htmlStart}${htmlButtons}${darkButton}${htmlEnd}`;\n    }\n}\n","import * as React from 'react';\nimport BuildInPluginState, { BuildInPluginList, UrlPlaceholder } from '../../BuildInPluginState';\n\ntype PluginItemId = keyof BuildInPluginList;\n\nconst styles = require('./OptionsPane.scss');\n\nexport interface PluginsProps {\n    state: BuildInPluginState;\n    resetState: (callback: (state: BuildInPluginState) => void, resetEditor: boolean) => void;\n}\n\nexport default class Plugins extends React.Component<PluginsProps, {}> {\n    private linkTitle = React.createRef<HTMLInputElement>();\n    private watermarkText = React.createRef<HTMLInputElement>();\n    private forcePreserveRatio = React.createRef<HTMLInputElement>();\n\n    render() {\n        return (\n            <table>\n                <tbody>\n                    {this.renderPluginItem('contentEdit', 'Content Edit')}\n                    {this.renderPluginItem(\n                        'hyperlink',\n                        'Hyperlink Plugin',\n                        this.renderInputBox(\n                            'Label title: ',\n                            this.linkTitle,\n                            this.props.state.linkTitle,\n                            'Use \"' + UrlPlaceholder + '\" for the url string',\n                            (state, value) => (state.linkTitle = value)\n                        )\n                    )}\n                    {this.renderPluginItem('paste', 'Paste Plugin')}\n                    {this.renderPluginItem(\n                        'watermark',\n                        'Watermark Plugin',\n                        this.renderInputBox(\n                            'Watermark text: ',\n                            this.watermarkText,\n                            this.props.state.watermarkText,\n                            '',\n                            (state, value) => (state.watermarkText = value)\n                        )\n                    )}\n                    {this.renderPluginItem(\n                        'imageEdit',\n                        'Image Edit Plugin',\n                        this.renderCheckBox(\n                            'Force preserve ratio',\n                            this.forcePreserveRatio,\n                            this.props.state.forcePreserveRatio,\n                            (state, value) => (state.forcePreserveRatio = value)\n                        )\n                    )}\n                    {this.renderPluginItem('cutPasteListChain', 'CutPasteListChainPlugin')}\n                    {this.renderPluginItem('customReplace', 'Custom Replace Plugin (autocomplete)')}\n                    {this.renderPluginItem(\n                        'contextMenu',\n                        'Show customized context menu for special cases'\n                    )}\n                    {this.renderPluginItem('tableCellSelection', 'Table Cell Selection')}\n                    {this.renderPluginItem('announce', 'Announce')}\n                </tbody>\n            </table>\n        );\n    }\n\n    private renderPluginItem(\n        id: PluginItemId,\n        text: string,\n        moreOptions?: JSX.Element\n    ): JSX.Element {\n        const checked = this.props.state.pluginList[id];\n\n        return (\n            <tr>\n                <td className={styles.checkboxColumn}>\n                    <input\n                        type=\"checkbox\"\n                        id={id}\n                        checked={checked}\n                        onChange={() => this.onPluginClick(id)}\n                    />\n                </td>\n                <td>\n                    <div>\n                        <label htmlFor={id}>{text}</label>\n                    </div>\n                    {checked && moreOptions}\n                </td>\n            </tr>\n        );\n    }\n\n    private renderInputBox(\n        label: string,\n        ref: React.RefObject<HTMLInputElement>,\n        value: string,\n        placeholder: string,\n        onChange: (state: BuildInPluginState, value: string) => void\n    ): JSX.Element {\n        return (\n            <div>\n                {label}\n                <input\n                    type=\"text\"\n                    ref={ref}\n                    value={value}\n                    placeholder={placeholder}\n                    onChange={() =>\n                        this.props.resetState(state => onChange(state, ref.current.value), false)\n                    }\n                    onBlur={() => this.props.resetState(null, true)}\n                />\n            </div>\n        );\n    }\n\n    private renderCheckBox(\n        label: string,\n        ref: React.RefObject<HTMLInputElement>,\n        value: boolean,\n        onChange: (state: BuildInPluginState, value: boolean) => void\n    ): JSX.Element {\n        return (\n            <div>\n                <input\n                    type=\"checkbox\"\n                    ref={ref}\n                    checked={value}\n                    onChange={() =>\n                        this.props.resetState(state => onChange(state, ref.current.checked), true)\n                    }\n                    onBlur={() => this.props.resetState(null, true)}\n                />\n                {label}\n            </div>\n        );\n    }\n\n    private onPluginClick = (id: PluginItemId) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(id) as HTMLInputElement;\n            state.pluginList[id] = checkbox.checked;\n        }, true);\n    };\n}\n","import CodeElement from './CodeElement';\nimport { getObjectKeys } from 'roosterjs-editor-dom';\n\nconst codeMap: { [id: string]: string } = {\n    buttonB: 'roosterjs.toggleBold(editor)',\n    buttonI: 'roosterjs.toggleItalic(editor)',\n    buttonU: 'roosterjs.toggleUnderline(editor)',\n    buttonBullet: 'roosterjs.toggleBullet(editor)',\n    buttonNumbering: 'roosterjs.toggleNumbering(editor)',\n    buttonUndo: 'editor.undo()',\n    buttonRedo: 'editor.redo()',\n};\nconst buttonDark = 'editor.setDarkModeState(!editor.isDarkMode())';\n\nexport default class ButtonsCode extends CodeElement {\n    getCode() {\n        const map = { ...codeMap, buttonDark: buttonDark };\n        return getObjectKeys(map)\n            .map(\n                id =>\n                    `document.getElementById('${id}').addEventListener('click', () => ${map[id]});\\n`\n            )\n            .join('');\n    }\n}\n","export default abstract class CodeElement {\n    abstract getCode(): string;\n\n    protected encode(src: string): string {\n        return src.replace(/\\\\/g, '\\\\\\\\').replace(/'/g, \"\\\\'\");\n    }\n\n    protected indent(src: string): string {\n        return src\n            .split('\\n')\n            .map(line => (line == '' ? '' : '    ' + line + '\\n'))\n            .join('');\n    }\n}\n","import CodeElement from './CodeElement';\nimport ContentEditFeaturesCode from './ContentEditFeaturesCode';\nimport { ContentEditFeatureSettings } from 'roosterjs-editor-types';\n\nexport default class ContentEditCode extends CodeElement {\n    private features: ContentEditFeaturesCode;\n    constructor(settings: ContentEditFeatureSettings) {\n        super();\n        this.features = new ContentEditFeaturesCode(settings);\n    }\n\n    getCode() {\n        return 'new roosterjs.ContentEdit(' + this.features.getCode() + ')';\n    }\n}\n","import CodeElement from './CodeElement';\nimport getDefaultContentEditFeatureSettings from '../getDefaultContentEditFeatureSettings';\nimport { ContentEditFeatureSettings } from 'roosterjs-editor-types';\nimport { getObjectKeys } from 'roosterjs-editor-dom';\n\nexport default class ContentEditFeaturesCode extends CodeElement {\n    constructor(private state: ContentEditFeatureSettings) {\n        super();\n    }\n\n    getCode() {\n        let defaultValues = getDefaultContentEditFeatureSettings();\n        let features = getObjectKeys(defaultValues)\n            .map(key => {\n                let checked = this.state[key];\n\n                return typeof checked != 'boolean' || checked == defaultValues[key]\n                    ? null\n                    : `${key}: ${checked ? 'true' : 'false'},\\n`;\n            })\n            .filter(line => !!line);\n        return features.length > 0 ? '{\\n' + this.indent(features.join('')) + '}' : '';\n    }\n}\n","import CodeElement from './CodeElement';\n\nexport default class DarkModeCode extends CodeElement {\n    getCode() {\n        return 'roosterjs.getDarkColor';\n    }\n}\n","import CodeElement from './CodeElement';\nimport { DefaultFormat } from 'roosterjs-editor-types';\n\nexport default class DefaultFormatCode extends CodeElement {\n    constructor(private defaultFormat: DefaultFormat) {\n        super();\n    }\n\n    getCode() {\n        let {\n            bold,\n            italic,\n            underline,\n            fontFamily,\n            fontSize,\n            textColor,\n            backgroundColor,\n        } = this.defaultFormat;\n        let lines = [\n            bold ? 'bold: true,\\n' : null,\n            italic ? 'italic: true,\\n' : null,\n            underline ? 'underline: true,\\n' : null,\n            fontFamily ? `fontFamily: '${this.encode(fontFamily)}',\\n` : null,\n            fontSize ? `fontSize: '${this.encode(fontSize)}',\\n` : null,\n            textColor ? `textColor: '${this.encode(textColor)}',\\n` : null,\n            backgroundColor ? `backgroundColor: '${this.encode(backgroundColor)}',\\n` : null,\n        ].filter(line => !!line);\n\n        return lines.length > 0 ? '{\\n' + this.indent(lines.join('')) + '}' : '';\n    }\n}\n","import BuildInPluginState from '../../../BuildInPluginState';\nimport ButtonsCode from './ButtonsCode';\nimport CodeElement from './CodeElement';\nimport DarkModeCode from './DarkModeCode';\nimport DefaultFormatCode from './DefaultFormatCode';\nimport ExperimentalFeaturesCode from './ExperimentalFeaturesCode';\nimport PluginsCode from './PluginsCode';\n\nexport default class EditorCode extends CodeElement {\n    private plugins: PluginsCode;\n    private defaultFormat: DefaultFormatCode;\n    private buttons: ButtonsCode;\n    private experimentalFeatures: ExperimentalFeaturesCode;\n    private darkMode: DarkModeCode;\n\n    constructor(state: BuildInPluginState) {\n        super();\n\n        this.plugins = new PluginsCode(state);\n        this.defaultFormat = new DefaultFormatCode(state.defaultFormat);\n        this.buttons = new ButtonsCode();\n        this.experimentalFeatures = new ExperimentalFeaturesCode(state.experimentalFeatures);\n        this.darkMode = new DarkModeCode();\n    }\n\n    getCode() {\n        let defaultFormat = this.defaultFormat.getCode();\n        let expermientalFeatures = this.experimentalFeatures.getCode();\n        let darkMode = this.darkMode.getCode();\n        let code = \"let contentDiv = document.getElementById('contentDiv') as HTMLDivElement;\\n\";\n        code += `let plugins = ${this.plugins.getCode()};\\n`;\n        code += defaultFormat ? `let defaultFormat: DefaultFormat = ${defaultFormat};\\n` : '';\n        code += 'let options: roosterjs.EditorOptions = {\\n';\n        code += this.indent('plugins: plugins,\\n');\n        code += defaultFormat ? this.indent('defaultFormat: defaultFormat,\\n') : '';\n        code += expermientalFeatures\n            ? this.indent(`experimentalFeatures: [\\n${expermientalFeatures}],\\n`)\n            : '';\n        code += darkMode ? this.indent(`getDarkColor: ${darkMode},\\n`) : '';\n        code += '};\\n';\n        code += 'let editor = new roosterjs.Editor(contentDiv, options);\\n';\n        code += this.buttons ? this.buttons.getCode() : '';\n\n        return code;\n    }\n}\n","import CodeElement from './CodeElement';\nimport { ExperimentalFeatures } from 'roosterjs-editor-types';\n\nexport default class ExperimentalFeaturesCode extends CodeElement {\n    constructor(private experimentalFeatures: ExperimentalFeatures[]) {\n        super();\n    }\n\n    getCode() {\n        return (this.experimentalFeatures || [])\n            .map(name => this.indent(\"'\" + name + \"',\"))\n            .join('\\n');\n    }\n}\n","import CodeElement from './CodeElement';\nimport { UrlPlaceholder } from '../../../BuildInPluginState';\n\nexport default class HyperLinkCode extends CodeElement {\n    constructor(private linkTitle: string) {\n        super();\n    }\n\n    getCode() {\n        return 'new roosterjs.HyperLink(' + this.getLinkCallback() + ')';\n    }\n\n    private getLinkCallback() {\n        if (!this.linkTitle) {\n            return '';\n        }\n\n        let index = this.linkTitle.indexOf(UrlPlaceholder);\n        if (index >= 0) {\n            let left = this.linkTitle.substr(0, index);\n            let right = this.linkTitle.substr(index + UrlPlaceholder.length);\n            return (\n                'url => ' +\n                (left ? `'${this.encode(left)}' + ` : '') +\n                'url' +\n                (right ? ` + '${this.encode(right)}'` : '')\n            );\n        } else {\n            return `() => '${this.linkTitle}'`;\n        }\n    }\n}\n","import BuildInPluginState from '../../../BuildInPluginState';\nimport CodeElement from './CodeElement';\nimport ContentEditCode from './ContentEditCode';\nimport HyperLinkCode from './HyperLinkCode';\nimport TableCellSelectionCode from './TableCellSelectionCode';\nimport WatermarkCode from './WatermarkCode';\nimport {\n    CustomReplaceCode,\n    CutPasteListChainCode,\n    ImageEditCode,\n    ContentModelPasteCode,\n} from './SimplePluginCode';\n\nexport default class PluginsCode extends CodeElement {\n    private plugins: CodeElement[];\n\n    constructor(private state: BuildInPluginState, private additionalPlugins?: string[]) {\n        super();\n\n        let pluginList = state.pluginList;\n        this.plugins = [\n            pluginList.contentEdit && new ContentEditCode(state.contentEditFeatures),\n            pluginList.hyperlink && new HyperLinkCode(state.linkTitle),\n            new ContentModelPasteCode(),\n            pluginList.watermark && new WatermarkCode(this.state.watermarkText),\n            pluginList.imageEdit && new ImageEditCode(),\n            pluginList.cutPasteListChain && new CutPasteListChainCode(),\n            pluginList.customReplace && new CustomReplaceCode(),\n            pluginList.tableCellSelection && new TableCellSelectionCode(),\n        ].filter(plugin => !!plugin);\n    }\n\n    getCode() {\n        let code = '[\\n';\n        code += this.indent(this.plugins.map(plugin => plugin.getCode() + ',\\n').join(''));\n\n        if (this.additionalPlugins) {\n            code += this.indent(this.additionalPlugins.map(p => p + ',\\n').join(''));\n        }\n        code += ']';\n        return code;\n    }\n}\n","import BuildInPluginState from '../../../BuildInPluginState';\nimport CodeElement from './CodeElement';\nimport DarkModeCode from './DarkModeCode';\nimport DefaultFormatCode from './DefaultFormatCode';\nimport ExperimentalFeaturesCode from './ExperimentalFeaturesCode';\nimport PluginsCode from './PluginsCode';\nimport RibbonButtonCode from './RibbonButtonCode';\nimport RibbonCode from './RibbonCode';\n\nconst RibbonPluginVarName = 'ribbonPlugin';\n\nexport default class ReactEditorCode extends CodeElement {\n    private plugins: PluginsCode;\n    private defaultFormat: DefaultFormatCode;\n    private ribbon: RibbonCode;\n    private ribbonButton: RibbonButtonCode;\n    private experimentalFeatures: ExperimentalFeaturesCode;\n    private darkMode: DarkModeCode;\n    private isRtl: boolean;\n\n    constructor(state: BuildInPluginState) {\n        super();\n\n        this.ribbonButton = new RibbonButtonCode();\n        this.ribbon = new RibbonCode(state, this.ribbonButton);\n        this.plugins = new PluginsCode(state, this.ribbon ? [RibbonPluginVarName] : undefined);\n        this.defaultFormat = new DefaultFormatCode(state.defaultFormat);\n        this.experimentalFeatures = new ExperimentalFeaturesCode(state.experimentalFeatures);\n        this.darkMode = new DarkModeCode();\n        this.isRtl = state.isRtl;\n    }\n\n    getCode() {\n        let defaultFormat = this.defaultFormat.getCode();\n        let expermientalFeatures = this.experimentalFeatures.getCode();\n        let darkMode = this.darkMode.getCode();\n        let code = \"let root = document.getElementById('root');\\n\";\n\n        if (this.ribbonButton) {\n            code += `let ${RibbonPluginVarName} = roosterjsReact.createRibbonPlugin();\\n`;\n        }\n\n        code += `let plugins = ${this.plugins.getCode()};\\n`;\n        code += defaultFormat ? `let defaultFormat: DefaultFormat = ${defaultFormat};\\n` : '';\n        code += 'let options: roosterjs.EditorOptions = {\\n';\n        code += this.indent('plugins: plugins,\\n');\n        code += defaultFormat ? this.indent('defaultFormat: defaultFormat,\\n') : '';\n        code += expermientalFeatures\n            ? this.indent(`experimentalFeatures: [\\n${expermientalFeatures}],\\n`)\n            : '';\n        code += darkMode ? this.indent(`getDarkColor: ${darkMode},\\n`) : '';\n        code += '};\\n';\n\n        code += `let editor = <roosterjsReact.Rooster className=\"editor\" {...options} ${\n            this.isRtl ? 'dir=\"rtl\" ' : ''\n        }/>;\\n`;\n        let componentCode: string;\n\n        if (this.ribbon && this.ribbonButton) {\n            code += this.ribbonButton.getCode();\n            code += 'let ribbon = ' + this.ribbon.getCode();\n            componentCode = '<>{ribbon}{editor}</>';\n        } else {\n            componentCode = 'editor';\n        }\n\n        code += 'ReactDOM.render(' + componentCode + ', root);\\n';\n\n        return code;\n    }\n}\n","import CodeElement from './CodeElement';\n\nconst ButtonVarName = 'buttons';\n\nexport default class RibbonButtonCode extends CodeElement {\n    private supportDarkMode: boolean;\n\n    getCode() {\n        let code = `let ${ButtonVarName} = roosterjsReact.getButtons();\\n`;\n\n        if (this.supportDarkMode) {\n            code += `${ButtonVarName}.push({\\n`;\n            code += this.indent('key: \"buttonNameDarkMode\",\\n');\n            code += this.indent('unlocalizedText: \"Dark Mode\",\\n');\n            code += this.indent('iconName: \"ClearNight\",\\n');\n            code += this.indent('isChecked: formatState => formatState.isDarkMode,\\n');\n            code += this.indent('onClick: editor => {\\n');\n            code += this.indent('    editor.setDarkModeState(!editor.isDarkMode());\\n');\n            code += this.indent('    editor.focus();\\n');\n            code += this.indent('},\\n');\n            code += '});\\n';\n        }\n\n        return code;\n    }\n\n    getButtonVarName() {\n        return ButtonVarName;\n    }\n}\n","import BuildInPluginState from '../../../BuildInPluginState';\nimport CodeElement from './CodeElement';\nimport RibbonButtonCode from './RibbonButtonCode';\n\nexport default class RibbonCode extends CodeElement {\n    private buttonsVarName: string;\n    private isRtl: boolean;\n\n    constructor(state: BuildInPluginState, ribbonButton: RibbonButtonCode) {\n        super();\n        this.buttonsVarName = ribbonButton.getButtonVarName();\n        this.isRtl = state.isRtl;\n    }\n\n    getCode() {\n        return `<roosterjsReact.Ribbon buttons={${this.buttonsVarName}} plugin={ribbonPlugin} ${\n            this.isRtl ? 'dir=\"rtl\" ' : ''\n        }/>;\\n`;\n    }\n}\n","import CodeElement from './CodeElement';\n\nclass SimplePluginCode extends CodeElement {\n    constructor(private name: string, private namespace: string = 'roosterjs') {\n        super();\n    }\n\n    getCode() {\n        return `new ${this.namespace}.${this.name}()`;\n    }\n}\n\nexport class PasteCode extends SimplePluginCode {\n    constructor() {\n        super('Paste');\n    }\n}\n\nexport class ContentModelPasteCode extends SimplePluginCode {\n    constructor() {\n        super('PastePlugin', 'roosterjsContentModel');\n    }\n}\n\nexport class ImageEditCode extends SimplePluginCode {\n    constructor() {\n        super('ImageEdit');\n    }\n}\n\nexport class CutPasteListChainCode extends SimplePluginCode {\n    constructor() {\n        super('CutPasteListChain');\n    }\n}\n\nexport class TableResizeCode extends SimplePluginCode {\n    constructor() {\n        super('TableResize');\n    }\n}\n\nexport class CustomReplaceCode extends SimplePluginCode {\n    constructor() {\n        super('CustomReplace');\n    }\n}\n","import CodeElement from './CodeElement';\n\nexport default class TableCellSelectionCode extends CodeElement {\n    constructor() {\n        super();\n    }\n\n    getCode() {\n        return 'new roosterjs.TableCellSelection()';\n    }\n}\n","import CodeElement from './CodeElement';\n\nexport default class WatermarkCode extends CodeElement {\n    constructor(private watermarkText: string) {\n        super();\n    }\n\n    getCode() {\n        return `new roosterjs.Watermark('${this.encode(this.watermarkText)}')`;\n    }\n}\n","import { ContentEditFeatureSettings } from 'roosterjs-editor-types';\nimport { getAllFeatures } from 'roosterjs-editor-plugins/lib/ContentEdit';\nimport { getObjectKeys } from 'roosterjs-editor-dom';\n\nexport default function getDefaultContentEditFeatureSettings(): ContentEditFeatureSettings {\n    const allFeatures = getAllFeatures();\n\n    return {\n        ...getObjectKeys(allFeatures).reduce((settings, key) => {\n            settings[key] = !allFeatures[key].defaultDisabled;\n            return settings;\n        }, <ContentEditFeatureSettings>{}),\n    };\n}\n","import * as React from 'react';\nimport { EntityOperation, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\nimport {\n    getObjectKeys,\n    getTagOfNode,\n    HtmlSanitizer,\n    readFile,\n    safeInstanceOf,\n} from 'roosterjs-editor-dom';\n\nconst styles = require('./EventViewPane.scss');\n\nexport interface EventEntry {\n    index: number;\n    time: Date;\n    event: PluginEvent;\n}\n\nexport interface EventViewPaneState {\n    displayCount: number;\n    currentIndex: number;\n}\n\nconst EventTypeMap: { [key in PluginEventType]: string } = {\n    [PluginEventType.BeforeDispose]: 'BeforeDispose',\n    [PluginEventType.BeforePaste]: 'BeforePaste',\n    [PluginEventType.CompositionEnd]: 'CompositionEnd',\n    [PluginEventType.ContentChanged]: 'ContentChanged',\n    [PluginEventType.EditorReady]: 'EditorReady',\n    [PluginEventType.EntityOperation]: 'EntityOperation',\n    [PluginEventType.ExtractContentWithDom]: 'ExtractContentWithDom',\n    [PluginEventType.KeyDown]: 'KeyDown',\n    [PluginEventType.KeyPress]: 'KeyPress',\n    [PluginEventType.KeyUp]: 'KeyUp',\n    [PluginEventType.MouseDown]: 'MouseDown',\n    [PluginEventType.MouseUp]: 'MouseUp',\n    [PluginEventType.Input]: 'Input',\n    [PluginEventType.PendingFormatStateChanged]: 'PendingFormatStateChanged',\n    [PluginEventType.Scroll]: 'Scroll',\n    [PluginEventType.BeforeCutCopy]: 'BeforeCutCopy',\n    [PluginEventType.ContextMenu]: 'ContextMenu',\n    [PluginEventType.EnteredShadowEdit]: 'EnteredShadowEdit',\n    [PluginEventType.LeavingShadowEdit]: 'LeavingShadowEdit',\n    [PluginEventType.EditImage]: 'EditImage',\n    [PluginEventType.BeforeSetContent]: 'BeforeSetContent',\n    [PluginEventType.ZoomChanged]: 'ZoomChanged',\n    [PluginEventType.SelectionChanged]: 'SelectionChanged',\n    [PluginEventType.BeforeKeyboardEditing]: 'BeforeKeyboardEditing',\n};\n\nconst EntityOperationMap: { [key in EntityOperation]: string } = {\n    [EntityOperation.AddShadowRoot]: 'AddShadowRoot',\n    [EntityOperation.RemoveShadowRoot]: 'RemoveShadowRoot',\n    [EntityOperation.Click]: 'Click',\n    [EntityOperation.ContextMenu]: 'ContextMenu',\n    [EntityOperation.Escape]: 'Escape',\n    [EntityOperation.NewEntity]: 'NewEntity',\n    [EntityOperation.Overwrite]: 'Overwrite',\n    [EntityOperation.PartialOverwrite]: 'PartialOverwrite',\n    [EntityOperation.RemoveFromEnd]: 'RemoveFromEnd',\n    [EntityOperation.RemoveFromStart]: 'RemoveFromStart',\n    [EntityOperation.ReplaceTemporaryContent]: 'ReplaceTemporaryContent',\n    [EntityOperation.UpdateEntityState]: 'UpdateEntityState',\n};\n\nexport default class EventViewPane extends React.Component<\n    SidePaneElementProps,\n    EventViewPaneState\n> {\n    private events: EventEntry[] = [];\n    private displayCount = React.createRef<HTMLSelectElement>();\n    private lastIndex = 0;\n\n    constructor(props: SidePaneElementProps) {\n        super(props);\n        this.state = {\n            displayCount: 20,\n            currentIndex: -1,\n        };\n    }\n\n    render() {\n        let displayCount = Math.min(this.events.length, this.state.displayCount);\n        let displayedEvents =\n            displayCount > 0 ? this.events.slice(this.events.length - displayCount) : [];\n        displayedEvents = displayedEvents.reverse();\n\n        return (\n            <>\n                <div>\n                    Show item count:\n                    <select\n                        defaultValue={this.state.displayCount.toString()}\n                        ref={this.displayCount}\n                        onChange={this.onDisplayCountChanged}>\n                        <option value={'0'}>Disabled</option>\n                        <option value={'20'}>20</option>\n                        <option value={'50'}>50</option>\n                        <option value={'100'}>100</option>\n                    </select>{' '}\n                    <button onClick={this.clear}>Clear all</button>\n                </div>\n                <div>\n                    {displayedEvents.map(event => (\n                        <details key={event.index.toString()}>\n                            <summary>\n                                {`${event.time.getHours()}:${event.time.getMinutes()}:${event.time.getSeconds()}.${event.time.getMilliseconds()} `}\n                                {EventTypeMap[event.event.eventType]}\n                            </summary>\n                            <div className={styles.eventContent}>\n                                {this.renderEvent(event.event)}\n                            </div>\n                        </details>\n                    ))}\n                </div>\n            </>\n        );\n    }\n\n    addEvent(event: PluginEvent) {\n        if (this.state.displayCount > 0) {\n            if (event.eventType == PluginEventType.BeforePaste) {\n                const sanitizer = new HtmlSanitizer(event.sanitizingOption);\n                const fragment = event.fragment.cloneNode(true /*deep*/) as DocumentFragment;\n\n                sanitizer.convertGlobalCssToInlineCss(fragment);\n                sanitizer.sanitize(fragment);\n                (event.clipboardData as any).html = this.getHtml(fragment);\n            }\n\n            this.events.push({\n                time: new Date(),\n                event: event,\n                index: this.lastIndex++,\n            });\n\n            while (this.events.length > 100) {\n                this.events.shift();\n            }\n            this.setState({\n                currentIndex: this.lastIndex,\n            });\n        }\n    }\n\n    private renderEvent(event: PluginEvent): JSX.Element {\n        switch (event.eventType) {\n            case PluginEventType.KeyDown:\n            case PluginEventType.KeyPress:\n            case PluginEventType.KeyUp:\n                return (\n                    <span>\n                        Key=\n                        {event.rawEvent.which}\n                    </span>\n                );\n\n            case PluginEventType.MouseDown:\n            case PluginEventType.MouseUp:\n            case PluginEventType.ContextMenu:\n                return (\n                    <span>\n                        Button=\n                        {event.rawEvent.button}, SrcElement=\n                        {event.rawEvent.target && getTagOfNode(event.rawEvent.target as Node)},\n                        PageX=\n                        {event.rawEvent.pageX}, PageY=\n                        {event.rawEvent.pageY}\n                    </span>\n                );\n\n            case PluginEventType.ContentChanged:\n                return (\n                    <span>\n                        Source=\n                        {event.source}, Data=\n                        {event.data && event.data.toString && event.data.toString()}\n                    </span>\n                );\n\n            case PluginEventType.BeforePaste:\n                return (\n                    <span>\n                        Types=\n                        {event.clipboardData.types.join()}\n                        {this.renderPasteContent('Plain text', event.clipboardData.text)}\n                        {this.renderPasteContent(\n                            'Sanitized HTML',\n                            (event.clipboardData as any).html\n                        )}\n                        {this.renderPasteContent('Original HTML', event.clipboardData.rawHtml)}\n                        {this.renderPasteContent('Image', event.clipboardData.image, img => (\n                            <img\n                                ref={ref => ref && this.renderImage(ref, img)}\n                                className={styles.img}\n                            />\n                        ))}\n                        {this.renderPasteContent(\n                            'LinkPreview',\n                            event.clipboardData.linkPreview\n                                ? JSON.stringify(event.clipboardData.linkPreview)\n                                : ''\n                        )}\n                        Paste from keyboard or native context menu:\n                        {event.clipboardData.pasteNativeEvent ? ' true' : ' false'}\n                        {getObjectKeys(event.clipboardData.customValues).map(contentType =>\n                            this.renderPasteContent(\n                                contentType,\n                                event.clipboardData.customValues[contentType]\n                            )\n                        )}\n                    </span>\n                );\n            case PluginEventType.PendingFormatStateChanged:\n                const formatState = event.formatState;\n                const keys = getObjectKeys(formatState);\n                return <span>{keys.map(key => `${key}=${event.formatState[key]}; `)}</span>;\n\n            case PluginEventType.EntityOperation:\n                const {\n                    operation,\n                    entity: { id, type },\n                } = event;\n                return (\n                    <span>\n                        Operation={EntityOperationMap[operation]} Type={type}; Id={id}\n                    </span>\n                );\n\n            case PluginEventType.BeforeCutCopy:\n                const { isCut } = event;\n                return <span>isCut={isCut ? 'true' : 'false'}</span>;\n\n            case PluginEventType.EditImage:\n                return (\n                    <>\n                        <span>new src={event.newSrc.substr(0, 100)}</span>\n                    </>\n                );\n\n            case PluginEventType.ZoomChanged:\n                return (\n                    <span>\n                        Old value={event.oldZoomScale} New value={event.newZoomScale}\n                    </span>\n                );\n\n            case PluginEventType.BeforeKeyboardEditing:\n                return <span>Key code={event.rawEvent.which}</span>;\n\n            default:\n                return null;\n        }\n    }\n\n    private clear = () => {\n        this.events = [];\n        this.setState({\n            currentIndex: -1,\n        });\n    };\n\n    private renderImage = (img: HTMLImageElement, imageFile: File) => {\n        readFile(imageFile, dataUrl => (img.src = dataUrl));\n    };\n\n    private onDisplayCountChanged = () => {\n        let value = parseInt(this.displayCount.current.value);\n        this.setState({\n            displayCount: value,\n        });\n    };\n\n    private renderPasteContent(\n        title: string,\n        content: any,\n        renderer: (content: any) => JSX.Element = content => <span>{content}</span>\n    ): JSX.Element {\n        return (\n            content && (\n                <details>\n                    <summary>{title}</summary>\n                    <div className={styles.pasteContent}>{renderer(content)}</div>\n                </details>\n            )\n        );\n    }\n\n    private getHtml(fragment: DocumentFragment) {\n        const stringArray: string[] = [];\n        for (let child = fragment.firstChild; child; child = child.nextSibling) {\n            stringArray.push(\n                safeInstanceOf(child, 'HTMLElement')\n                    ? child.outerHTML\n                    : safeInstanceOf(child, 'Text')\n                    ? child.nodeValue\n                    : ''\n            );\n        }\n\n        return stringArray.join('');\n    }\n}\n","import EventViewPane from './EventViewPane';\nimport SidePanePluginImpl from '../SidePanePluginImpl';\nimport { PluginEvent } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nexport default class EventViewPlugin extends SidePanePluginImpl<\n    EventViewPane,\n    SidePaneElementProps\n> {\n    constructor() {\n        super(EventViewPane, 'event', 'Event Viewer');\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        this.getComponent(component => component.addEvent(e));\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return base;\n    }\n}\n","import * as React from 'react';\nimport { Browser } from 'roosterjs-editor-dom';\nimport { FormatState } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nconst styles = require('./FormatStatePane.scss');\n\nexport interface FormatStatePaneState {\n    format: FormatState;\n    inIME: boolean;\n    x: number;\n    y: number;\n}\nexport interface FormatStatePaneProps extends FormatStatePaneState, SidePaneElementProps {}\n\nexport default class FormatStatePane extends React.Component<\n    FormatStatePaneProps,\n    FormatStatePaneState\n> {\n    constructor(props: FormatStatePaneProps) {\n        super(props);\n        this.state = {\n            format: props.format,\n            inIME: props.inIME,\n            x: props.x,\n            y: props.y,\n        };\n    }\n\n    setFormatState(state: FormatStatePaneState) {\n        this.setState(state);\n    }\n\n    render() {\n        let { format, x, y } = this.state;\n        return format ? (\n            <table>\n                <tbody>\n                    <tr>\n                        <td className={styles.title}>Position</td>\n                        <td>{`${x},${y}`}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Font</td>\n                        <td>\n                            <span>{`${format.fontName}, ${format.fontSize}`}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Colors</td>\n                        <td>\n                            <span\n                                style={{\n                                    color: format.textColor,\n                                    backgroundColor: format.backgroundColor,\n                                }}>{`${format.textColor} / ${format.backgroundColor}`}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>IME</td>\n                        <td>{this.renderSpan(this.state.inIME, 'InIME')}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Formats</td>\n                        <td>\n                            {this.renderSpan(format.isBold, 'Bold')}\n                            {this.renderSpan(format.isItalic, 'Italic')}\n                            {this.renderSpan(format.isUnderline, 'Underline')}\n                            {this.renderSpan(format.isStrikeThrough, 'Strike')}\n                            {this.renderSpan(format.isSubscript, 'Subscript')}\n                            {this.renderSpan(format.isSuperscript, 'Superscript')}\n                            {`Font-weight: ${format.fontWeight}`}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Structure</td>\n                        <td>\n                            {this.renderSpan(format.isBullet, 'Bullet')}\n                            {this.renderSpan(format.isNumbering, 'Numbering')}\n                            {this.renderSpan(format.isBlockQuote, 'Quote')}\n                            {this.renderSpan(format.canUnlink, 'In Link')}\n                            {this.renderSpan(format.canAddImageAltText, 'In Image')}\n                            {this.renderSpan(format.isInTable, 'In Table')}\n                            {this.renderSpan(format.tableHasHeader, 'Table Has Header')}\n                            <span\n                                className={\n                                    format.headingLevel == 0 && styles.inactive\n                                }>{`Heading ${format.headingLevel}`}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Undo</td>\n                        <td>\n                            {this.renderSpan(format.canUndo, 'Can Undo')}\n                            {this.renderSpan(format.canRedo, 'Can Redo')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Browser</td>\n                        <td>\n                            {this.renderSpan(Browser.isChrome, 'Chrome')}\n                            {this.renderSpan(Browser.isFirefox, 'Firefox')}\n                            {this.renderSpan(Browser.isSafari, 'Safari')}\n                            {this.renderSpan(Browser.isWebKit, 'Webkit')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>OS</td>\n                        <td>\n                            {this.renderSpan(Browser.isMac, 'MacOS')}\n                            {this.renderSpan(Browser.isWin, 'Windows')}\n                            {this.renderSpan(Browser.isAndroid, 'Android')}\n                            {this.renderSpan(Browser.isMobileOrTablet, 'Mobile/Tablet')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>User Agent</td>\n                        <td>{window.navigator.userAgent}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>App Version</td>\n                        <td>{window.navigator.appVersion}</td>\n                    </tr>\n                </tbody>\n            </table>\n        ) : (\n            <div>Please focus into editor</div>\n        );\n    }\n\n    private renderSpan(formatState: boolean, text: string): JSX.Element {\n        return <span className={formatState ? '' : styles.inactive}>{text + ' '}</span>;\n    }\n}\n","import FormatStatePane, { FormatStatePaneProps } from './FormatStatePane';\nimport SidePanePluginImpl from '../SidePanePluginImpl';\nimport { getFormatState } from 'roosterjs-editor-api';\nimport { getPositionRect } from 'roosterjs-editor-dom';\nimport { IEditor, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nexport default class FormatStatePlugin extends SidePanePluginImpl<\n    FormatStatePane,\n    FormatStatePaneProps\n> {\n    constructor() {\n        super(FormatStatePane, 'format', 'Format State');\n    }\n\n    initialize(editor: IEditor) {\n        super.initialize(editor);\n        this.editor.runAsync(editor => {\n            editor.focus();\n\n            this.updateFormatState();\n        });\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return {\n            ...base,\n            ...this.getFormatState(),\n        };\n    }\n\n    onPluginEvent(event: PluginEvent) {\n        if (\n            event.eventType == PluginEventType.KeyUp ||\n            event.eventType == PluginEventType.MouseUp ||\n            event.eventType == PluginEventType.ContentChanged\n        ) {\n            this.updateFormatState();\n        }\n    }\n\n    updateFormatState() {\n        this.getComponent(component => component.setFormatState(this.getFormatState()));\n    }\n\n    protected getFormatState() {\n        if (!this.editor) {\n            return null;\n        }\n\n        const format = getFormatState(this.editor);\n        const position = this.editor && this.editor.getFocusedPosition();\n        const rect = position && getPositionRect(position);\n        return {\n            format,\n            inIME: this.editor && this.editor.isInIME(),\n            x: rect ? rect.left : 0,\n            y: rect ? rect.top : 0,\n        };\n    }\n}\n","import * as React from 'react';\nimport { Snapshot } from 'roosterjs-editor-types';\n\nconst styles = require('./SnapshotPane.scss');\n\nexport interface SnapshotPaneProps {\n    onTakeSnapshot: () => Snapshot;\n    onRestoreSnapshot: (snapshot: Snapshot, triggerContentChangedEvent: boolean) => void;\n    onMove: (moveStep: number) => void;\n}\n\nexport interface SnapshotPaneState {\n    snapshots: Snapshot[];\n    currentIndex: number;\n    autoCompleteIndex: number;\n}\n\nexport default class SnapshotPane extends React.Component<SnapshotPaneProps, SnapshotPaneState> {\n    private textarea: HTMLTextAreaElement;\n\n    constructor(props: SnapshotPaneProps) {\n        super(props);\n\n        this.state = {\n            snapshots: [],\n            currentIndex: -1,\n            autoCompleteIndex: -1,\n        };\n    }\n\n    render() {\n        return (\n            <div className={styles.snapshotPane}>\n                <h3>Undo Snapshots</h3>\n                <div className={styles.snapshotList}>\n                    {this.state.snapshots.map(this.renderItem)}\n                </div>\n                <h3>Selected Snapshot</h3>\n                <div className={styles.buttons}>\n                    <button onClick={this.takeSnapshot}>{'Take snapshot'}</button>{' '}\n                    <button\n                        onClick={() =>\n                            this.props.onRestoreSnapshot(\n                                {\n                                    html: this.textarea.value,\n                                    metadata: null,\n                                    knownColors: [],\n                                },\n                                true\n                            )\n                        }>\n                        {'Restore snapshot'}\n                    </button>\n                </div>\n                <textarea\n                    ref={ref => (this.textarea = ref)}\n                    className={styles.textarea}\n                    spellCheck={false}\n                />\n            </div>\n        );\n    }\n\n    updateSnapshots(snapshots: Snapshot[], currentIndex: number, autoCompleteIndex: number) {\n        this.setState({\n            snapshots,\n            currentIndex,\n            autoCompleteIndex,\n        });\n    }\n\n    snapshotToString(snapshot: Snapshot) {\n        return (\n            snapshot.html + (snapshot.metadata ? `<!--${JSON.stringify(snapshot.metadata)}-->` : '')\n        );\n    }\n\n    private takeSnapshot = () => {\n        const snapshot = this.props.onTakeSnapshot();\n        this.setSnapshot(this.snapshotToString(snapshot));\n    };\n\n    private setSnapshot = (snapshot: string) => {\n        this.textarea.value = snapshot;\n    };\n\n    private renderItem = (snapshot: Snapshot, index: number) => {\n        let className = '';\n        if (index == this.state.currentIndex) {\n            className += ' ' + styles.current;\n        }\n        if (index == this.state.autoCompleteIndex) {\n            className += ' ' + styles.autoComplete;\n        }\n\n        const snapshotStr = this.snapshotToString(snapshot);\n        return (\n            <pre\n                className={className}\n                key={index}\n                onClick={() => this.setSnapshot(snapshotStr)}\n                onDoubleClick={() => this.props.onMove(index - this.state.currentIndex)}>\n                {(snapshotStr || '<EMPTY SNAPSHOT>').substring(0, 1000)}\n            </pre>\n        );\n    };\n}\n","import * as React from 'react';\nimport SidePanePlugin from '../../SidePanePlugin';\nimport SnapshotPane from './SnapshotPane';\nimport UndoSnapshots from './UndoSnapshots';\nimport { createSnapshots } from 'roosterjs-editor-dom';\nimport { IEditor, PluginEvent, PluginEventType } from 'roosterjs-editor-types';\nimport { Snapshot } from 'roosterjs-editor-types';\n\nexport default class SnapshotPlugin implements SidePanePlugin {\n    private editorInstance: IEditor;\n    private component: SnapshotPane;\n    private snapshotService: UndoSnapshots;\n    private static snapshots = createSnapshots<Snapshot>(1e7);\n\n    constructor() {\n        this.snapshotService = new UndoSnapshots(SnapshotPlugin.snapshots, this.updateSnapshots);\n    }\n\n    getName() {\n        return 'Snapshot';\n    }\n\n    initialize(editor: IEditor) {\n        this.editorInstance = editor;\n    }\n\n    dispose() {\n        this.editorInstance = null;\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (e.eventType == PluginEventType.EditorReady) {\n            this.updateSnapshots();\n        }\n    }\n\n    getTitle() {\n        return 'Undo Snapshots';\n    }\n\n    renderSidePane() {\n        return <SnapshotPane {...this.getComponentProps()} ref={this.refCallback} />;\n    }\n\n    getSnapshotService() {\n        return this.snapshotService;\n    }\n\n    private refCallback = (ref: SnapshotPane) => {\n        this.component = ref;\n        if (ref) {\n            this.updateSnapshots();\n        }\n    };\n\n    private getComponentProps() {\n        return {\n            onRestoreSnapshot: this.onRestoreSnapshot,\n            onTakeSnapshot: this.onTakeSnapshot,\n            onMove: this.onMove,\n        };\n    }\n\n    private onTakeSnapshot = (): Snapshot => {\n        let newSnapshot: Snapshot;\n\n        try {\n            this.snapshotService.startHijackUndoSnapshot(snapshot => {\n                newSnapshot = snapshot;\n            });\n            this.editorInstance.addUndoSnapshot();\n        } finally {\n            this.snapshotService.stopHijackUndoSnapshot();\n        }\n\n        return newSnapshot;\n    };\n\n    private onMove = (step: number) => {\n        const snapshot = this.snapshotService.move(step);\n        this.onRestoreSnapshot(snapshot, false);\n    };\n\n    private onRestoreSnapshot = (snapshot: Snapshot, triggerContentChangedEvent: boolean) => {\n        this.editorInstance.focus();\n        this.editorInstance.setContent(\n            this.component.snapshotToString(snapshot),\n            triggerContentChangedEvent\n        );\n    };\n\n    private updateSnapshots = () => {\n        if (!this.component) {\n            return;\n        }\n\n        this.component.updateSnapshots(\n            this.snapshotService.getSnapshots(),\n            this.snapshotService.getCurrentIndex(),\n            this.snapshotService.getAutoCompleteIndex()\n        );\n    };\n}\n","import { Snapshot, Snapshots, UndoSnapshotsService } from 'roosterjs-editor-types';\nimport {\n    addSnapshotV2,\n    canMoveCurrentSnapshot,\n    moveCurrentSnapshot,\n    clearProceedingSnapshotsV2,\n    canUndoAutoComplete,\n} from 'roosterjs-editor-dom';\n\nexport default class UndoSnapshots implements UndoSnapshotsService<Snapshot> {\n    private hijackUndoSnapshotCallback: undefined | ((snapshot: Snapshot) => void);\n\n    constructor(private snapshots: Snapshots<Snapshot>, private onChange: () => void) {}\n\n    public isUndoSnapshotServiceV2(): true {\n        return true;\n    }\n\n    public startHijackUndoSnapshot(callback: (snapshot: Snapshot) => void) {\n        this.hijackUndoSnapshotCallback = callback;\n    }\n\n    public stopHijackUndoSnapshot() {\n        this.hijackUndoSnapshotCallback = undefined;\n    }\n\n    public canMove(delta: number): boolean {\n        return canMoveCurrentSnapshot(this.snapshots, delta);\n    }\n\n    public move(delta: number): Snapshot {\n        const result = moveCurrentSnapshot(this.snapshots, delta);\n        this.onChange();\n        return result;\n    }\n\n    public addSnapshot(snapshot: Snapshot, isAutoCompleteSnapshot: boolean) {\n        if (this.hijackUndoSnapshotCallback) {\n            this.hijackUndoSnapshotCallback(snapshot);\n        } else {\n            addSnapshotV2(this.snapshots, snapshot, isAutoCompleteSnapshot);\n            this.onChange();\n        }\n    }\n\n    public clearRedo() {\n        clearProceedingSnapshotsV2(this.snapshots);\n        this.onChange();\n    }\n\n    public getSnapshots() {\n        return this.snapshots.snapshots;\n    }\n\n    public getCurrentIndex() {\n        return this.snapshots.currentIndex;\n    }\n\n    public getAutoCompleteIndex() {\n        return this.snapshots.autoCompleteIndex;\n    }\n\n    public canUndoAutoComplete() {\n        return canUndoAutoComplete(this.snapshots);\n    }\n}\n","import * as React from 'react';\n\nconst styles = require('./TitleBar.scss');\nconst github = require('./iconmonstr-github-1.svg');\n\nexport interface TitleBarProps {\n    className?: string;\n}\n\nexport default class TitleBar extends React.Component<TitleBarProps, {}> {\n    render() {\n        const { className: baseClassName } = this.props;\n        const className = styles.titleBar + ' ' + (baseClassName || '');\n        const titleText = 'RoosterJs Demo Site';\n\n        return (\n            <div className={className}>\n                <div className={styles.title}>\n                    <span className={styles.titleText}>{titleText}</span>\n                </div>\n                <div className={styles.version}></div>\n                <div className={styles.links}>\n                    <a href=\"?\" className={styles.link}>\n                        New demo site\n                    </a>\n                    {' | '}\n                    <a\n                        href=\"https://github.com/Microsoft/roosterjs/wiki\"\n                        target=\"_blank\"\n                        className={styles.link}>\n                        Wiki\n                    </a>\n                    {' | '}\n                    <a href=\"docs/index.html\" target=\"_blank\" className={styles.link}>\n                        References\n                    </a>\n                    {' | '}\n                    <a href=\"coverage/index.html\" target=\"_blank\" className={styles.link}>\n                        Test\n                    </a>\n                    {' | '}\n                    <a\n                        href=\"https://github.com/microsoft/roosterjs/actions/workflows/build-and-deploy.yml\"\n                        target=\"_blank\">\n                        <img\n                            className={styles.externalLink}\n                            src=\"https://github.com/microsoft/roosterjs/actions/workflows/build-and-deploy.yml/badge.svg\"\n                            alt=\"Build Status\"\n                        />\n                    </a>{' '}\n                    <a href=\"http://badge.fury.io/js/roosterjs\" target=\"_blank\">\n                        <img\n                            src=\"https://badge.fury.io/js/roosterjs.svg\"\n                            alt=\"NPM Version\"\n                            className={styles.externalLink}\n                        />\n                    </a>{' '}\n                    <a\n                        href=\"https://github.com/microsoft/roosterjs\"\n                        target=\"_blank\"\n                        className={styles.link}\n                        title=\"RoosterJs on Github\">\n                        <img className={styles.externalLink} src={github} />\n                    </a>\n                </div>\n            </div>\n        );\n    }\n}\n","import { changeImage } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\nfunction createInput(doc: Document): HTMLInputElement {\n    const input = doc.createElement('input');\n\n    input.type = 'file';\n    input.accept = 'image/*';\n    input.setAttribute('display', 'none');\n\n    return input;\n}\n\n/**\n * @internal\n * \"Change Image\" button on the format ribbon\n */\nexport const changeImageButton: RibbonButton<'buttonNameChangeImage'> = {\n    key: 'buttonNameChangeImage',\n    unlocalizedText: 'Change Image',\n    iconName: 'ImageSearch',\n    isDisabled: formatState => !formatState.canAddImageAltText,\n    onClick: editor => {\n        const document = editor.getDocument();\n        const fileInput = createInput(document) as HTMLInputElement;\n        document.body.appendChild(fileInput);\n\n        fileInput.addEventListener('change', () => {\n            if (fileInput.files) {\n                for (let i = 0; i < fileInput.files.length; i++) {\n                    changeImage(editor, fileInput.files[i]);\n                }\n            }\n        });\n\n        try {\n            fileInput.click();\n        } finally {\n            document.body.removeChild(fileInput);\n        }\n    },\n};\n","import { MainPane } from '../mainPane/MainPane';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\n/**\n * Key of localized strings of Dark mode button\n */\nexport type DarkModeButtonStringKey = 'buttonNameDarkMode';\n\n/**\n * \"Dark mode\" button on the format ribbon\n */\nexport const darkModeButton: RibbonButton<DarkModeButtonStringKey> = {\n    key: 'buttonNameDarkMode',\n    unlocalizedText: 'Dark Mode',\n    iconName: 'ClearNight',\n    isChecked: formatState => formatState.isDarkMode,\n    onClick: editor => {\n        editor.focus();\n\n        // Let main pane know this state change so that it can be persisted when pop out/pop in\n        MainPane.getInstance().toggleDarkMode();\n        return true;\n    },\n};\n","import { exportContent } from 'roosterjs-content-model-core';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\n/**\n * Key of localized strings of Zoom button\n */\nexport type ExportButtonStringKey = 'buttonNameExport';\n\n/**\n * \"Export content\" button on the format ribbon\n */\nexport const exportContentButton: RibbonButton<ExportButtonStringKey> = {\n    key: 'buttonNameExport',\n    unlocalizedText: 'Export',\n    iconName: 'Export',\n    flipWhenRtl: true,\n    onClick: editor => {\n        const win = editor.getDocument().defaultView.open();\n        const html = exportContent(editor);\n        win.document.write(editor.getTrustedHTMLHandler()(html));\n    },\n};\n","import { FormatPainterPlugin } from '../plugins/FormatPainterPlugin';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\n/**\n * @internal\n * \"Format Painter\" button on the format ribbon\n */\nexport const formatPainterButton: RibbonButton<'formatPainter'> = {\n    key: 'formatPainter',\n    unlocalizedText: 'Format painter',\n    iconName: 'Brush',\n    onClick: () => {\n        FormatPainterPlugin.startFormatPainter();\n    },\n};\n","import { formatTable } from 'roosterjs-content-model-api';\nimport { TableBorderFormat } from 'roosterjs-content-model-core';\nimport { TableMetadataFormat } from 'roosterjs-content-model-types';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\nconst PREDEFINED_STYLES: Record<\n    string,\n    (color?: string, lightColor?: string) => TableMetadataFormat\n> = {\n    DEFAULT: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.Default /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    DEFAULT_WITH_BACKGROUND_COLOR: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.Default /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    GRID_WITHOUT_BORDER: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            true /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.NoSideBorders /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    LIST: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            null /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.Default /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    BANDED_ROWS_FIRST_COLUMN_NO_BORDER: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            true /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.FirstColumnHeaderExternal /** tableBorderFormat */,\n            '#B0B0B0' /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    EXTERNAL: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.ListWithSideBorders /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    NO_HEADER_VERTICAL: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.NoHeaderBorders /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    ESPECIAL_TYPE_1: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.EspecialType1 /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    ESPECIAL_TYPE_2: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.EspecialType2 /** tableBorderFormat */,\n            null /** bgColorEven */,\n            lightColor /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    ESPECIAL_TYPE_3: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.EspecialType3 /** tableBorderFormat */,\n            lightColor /** bgColorEven */,\n            null /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n    CLEAR: (color, lightColor) =>\n        createTableFormat(\n            color /**topBorder */,\n            color /**bottomBorder */,\n            color /** verticalColors*/,\n            false /** bandedRows */,\n            false /** bandedColumns */,\n            false /** headerRow */,\n            false /** firstColumn */,\n            TableBorderFormat.Clear /** tableBorderFormat */,\n            lightColor /** bgColorEven */,\n            null /** bgColorOdd */,\n            color /** headerRowColor */\n        ),\n};\n\nexport function createTableFormat(\n    topBorder?: string,\n    bottomBorder?: string,\n    verticalBorder?: string,\n    bandedRows?: boolean,\n    bandedColumns?: boolean,\n    headerRow?: boolean,\n    firstColumn?: boolean,\n    borderFormat?: number,\n    bgColorEven?: string,\n    bgColorOdd?: string,\n    headerRowColor?: string\n): TableMetadataFormat {\n    return {\n        topBorderColor: topBorder,\n        bottomBorderColor: bottomBorder,\n        verticalBorderColor: verticalBorder,\n        hasBandedRows: bandedRows,\n        bgColorEven: bgColorEven,\n        bgColorOdd: bgColorOdd,\n        hasBandedColumns: bandedColumns,\n        hasHeaderRow: headerRow,\n        headerRowColor: headerRowColor,\n        hasFirstColumn: firstColumn,\n        tableBorderFormat: borderFormat,\n    };\n}\n\nexport const formatTableButton: RibbonButton<'ribbonButtonTableFormat'> = {\n    key: 'ribbonButtonTableFormat',\n    iconName: 'TableComputed',\n    unlocalizedText: 'Format Table',\n    isDisabled: formatState => !formatState.isInTable,\n    dropDownMenu: {\n        items: {\n            DEFAULT: 'Default',\n            DEFAULT_WITH_BACKGROUND_COLOR: 'Default with background color',\n            GRID_WITHOUT_BORDER: 'Gride without border',\n            LIST: 'list',\n            BANDED_ROWS_FIRST_COLUMN_NO_BORDER: 'Banded rows first column no border',\n            EXTERNAL: 'External',\n            NO_HEADER_VERTICAL: 'No header vertical',\n            ESPECIAL_TYPE_1: 'Especial type 1',\n            ESPECIAL_TYPE_2: 'Especial type 2',\n            ESPECIAL_TYPE_3: 'Especial type 3',\n            CLEAR: 'Clear',\n        },\n    },\n    onClick: (editor, key) => {\n        const format = PREDEFINED_STYLES[key]?.('#ABABAB', '#ABABAB20');\n\n        if (format) {\n            formatTable(editor, format);\n        }\n    },\n};\n","import { renderColorPicker } from '../roosterjsReact/colorPicker/component/renderColorPicker';\nimport { setImageBorder } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\nimport {\n    getColorPickerContainerClassName,\n    getColorPickerItemClassName,\n} from '../roosterjsReact/colorPicker/utils/getClassNamesForColorPicker';\nimport {\n    getTextColorValue,\n    TextColorDropDownItems,\n    TextColors,\n} from '../roosterjsReact/colorPicker/utils/textColors';\n\n/**\n * @internal\n * \"Image Border Color\" button on the format ribbon\n */\nexport const imageBorderColorButton: RibbonButton<'buttonNameImageBorderColor'> = {\n    dropDownMenu: {\n        items: TextColorDropDownItems,\n        itemClassName: getColorPickerItemClassName(),\n        allowLivePreview: true,\n        itemRender: (item, onClick) => renderColorPicker(item, TextColors, onClick),\n        commandBarSubMenuProperties: {\n            className: getColorPickerContainerClassName(),\n        },\n    },\n    key: 'buttonNameImageBorderColor',\n    unlocalizedText: 'Image Border Color',\n    iconName: 'Photo2',\n    isDisabled: formatState => !formatState.canAddImageAltText,\n    onClick: (editor, key) => {\n        // This check will always be true, add it here just to satisfy compiler\n        if (key != 'buttonNameImageBorderColor') {\n            setImageBorder(editor, { color: getTextColorValue(key).lightModeColor }, '5px');\n        }\n    },\n};\n","import { setImageBorder } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\n/**\n * @internal\n * \"Remove Image Border\" button on the format ribbon\n */\nexport const imageBorderRemoveButton: RibbonButton<'buttonNameImageBorderRemove'> = {\n    key: 'buttonNameImageBorderRemove',\n    unlocalizedText: 'Remove Image Border',\n    iconName: 'Cancel',\n    isDisabled: formatState => !formatState.canAddImageAltText,\n    onClick: editor => {\n        setImageBorder(editor, null);\n    },\n};\n","import { setImageBorder } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\nconst STYLES: Record<string, string> = {\n    dashed: 'dashed',\n    dotted: 'dotted',\n    solid: 'solid',\n    double: 'doubled',\n    groove: 'groove',\n    ridge: 'ridge',\n    inset: 'inset',\n    outset: 'outset',\n};\n\n/**\n * @internal\n * \"Image Border Style\" button on the format ribbon\n */\nexport const imageBorderStyleButton: RibbonButton<'buttonNameImageBorderStyle'> = {\n    key: 'buttonNameImageBorderStyle',\n    unlocalizedText: 'Image Border Style',\n    iconName: 'BorderDash',\n    isDisabled: formatState => !formatState.canAddImageAltText,\n    dropDownMenu: {\n        items: STYLES,\n        allowLivePreview: true,\n    },\n    onClick: (editor, style) => {\n        setImageBorder(editor, { style: style }, '5px');\n    },\n};\n","import { setImageBorder } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\nconst WIDTH = [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72];\n\n/**\n * @internal\n * \"Image Border Width\" button on the format ribbon\n */\nexport const imageBorderWidthButton: RibbonButton<'buttonNameImageBorderWidth'> = {\n    key: 'buttonNameImageBorderWidth',\n    unlocalizedText: 'Image Border Width',\n    iconName: 'Photo2',\n    isDisabled: formatState => !formatState.canAddImageAltText,\n    dropDownMenu: {\n        items: WIDTH.reduce((map, size) => {\n            map[size + 'pt'] = size.toString();\n            return map;\n        }, <Record<string, string>>{}),\n        allowLivePreview: true,\n    },\n    onClick: (editor, size) => {\n        setImageBorder(\n            editor,\n            {\n                width: size,\n            },\n            '5px'\n        );\n    },\n};\n","import { RibbonButton } from '../roosterjsReact/ribbon';\nimport { setImageBoxShadow } from 'roosterjs-content-model-api';\n\nconst STYLES_NAMES: Record<string, string> = {\n    noShadow: 'noShadow',\n    bottomRight: 'bottomRight',\n    bottom: 'bottom',\n    bottomLeft: 'bottomLeft',\n    right: 'right',\n    center: 'center',\n    left: 'left',\n    topRight: 'topRight',\n    top: 'top',\n    topLeft: 'topLeft',\n};\n\nconst STYLES: Record<string, string> = {\n    noShadow: '',\n    bottomRight: '4px 4px 3px #aaaaaa',\n    bottom: '0px 4px  3px 0px #aaaaaa',\n    bottomLeft: '-4px 4px 3px 3px #aaaaaa',\n    right: '4px 0px 3px 0px #aaaaaa',\n    center: '0px 0px 3px 3px #aaaaaa',\n    left: '-4px 0px 3px 0px #aaaaaa',\n    topRight: '4px -4px 3px 3px #aaaaaa',\n    top: '0px -4px 3px 0px #aaaaaa',\n    topLeft: '-4px -4px 3px 0px #aaaaaa',\n};\n\n/**\n * @internal\n * \"Image Shadow\" button on the format ribbon\n */\nexport const imageBoxShadowButton: RibbonButton<'buttonNameImageBoxSHadow'> = {\n    key: 'buttonNameImageBoxSHadow',\n    unlocalizedText: 'Image Shadow',\n    iconName: 'Photo2',\n    isDisabled: formatState => !formatState.canAddImageAltText,\n    dropDownMenu: {\n        items: STYLES_NAMES,\n        allowLivePreview: true,\n    },\n    onClick: (editor, size) => {\n        setImageBoxShadow(editor, STYLES[size], STYLES[size].length ? '4px' : null);\n    },\n};\n","import { CancelButtonStringKey, OkButtonStringKey } from '../roosterjsReact/common';\nimport { RibbonButton } from '../roosterjsReact/ribbon';\nimport { setListStartNumber } from 'roosterjs-content-model-api';\nimport { showInputDialog } from '../roosterjsReact/inputDialog';\n\n/**\n * @internal\n * \"Bulleted list\" button on the format ribbon\n */\nexport const listStartNumberButton: RibbonButton<\n    | 'ribbonButtonSetStartNumber'\n    | 'ribbonButtonSetStartNumberTo1'\n    | 'ribbonButtonSetStartNumberCustomize'\n    | OkButtonStringKey\n    | CancelButtonStringKey\n> = {\n    key: 'ribbonButtonSetStartNumber',\n    dropDownMenu: {\n        items: {\n            ribbonButtonSetStartNumberTo1: 'Restart at 1',\n            ribbonButtonSetStartNumberCustomize: 'Start numbering value',\n        },\n    },\n    unlocalizedText: 'Set list start number',\n    iconName: 'NumberSymbol',\n    isDisabled: formatState => !formatState.isNumbering,\n    onClick: (editor, key, strings, uiUtility) => {\n        if (key == 'ribbonButtonSetStartNumberCustomize') {\n            showInputDialog(\n                uiUtility,\n                'ribbonButtonSetStartNumberCustomize',\n                'Start numbering value',\n                {\n                    startNumber: {\n                        labelKey: null,\n                        unlocalizedLabel: null,\n                        initValue: '1',\n                    },\n                },\n                strings\n            ).then(values => {\n                const newValue = parseInt(values.startNumber);\n\n                if (newValue > 0) {\n                    setListStartNumber(editor, newValue);\n                }\n            });\n        } else {\n            setListStartNumber(editor, 1);\n        }\n    },\n};\n","import { extractClipboardItems, paste } from 'roosterjs-content-model-core';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\n/**\n * @internal\n * \"Paste\" button on the format ribbon\n */\nexport const pasteButton: RibbonButton<'buttonNamePaste'> = {\n    key: 'buttonNamePaste',\n    unlocalizedText: 'Paste',\n    iconName: 'Paste',\n    onClick: async editor => {\n        const doc = editor.getDocument();\n        const clipboard = doc.defaultView.navigator.clipboard;\n        if (clipboard && clipboard.read) {\n            try {\n                const clipboardItems = await clipboard.read();\n                const dataTransferItems = await Promise.all(\n                    createDataTransferItems(clipboardItems)\n                );\n                const clipboardData = await extractClipboardItems(dataTransferItems);\n                paste(editor, clipboardData);\n            } catch {}\n        }\n    },\n};\n\nconst createDataTransfer = (\n    kind: 'string' | 'file',\n    type: string,\n    blob: Blob\n): DataTransferItem => {\n    const file = blob as File;\n    return {\n        kind,\n        type,\n        getAsFile: () => file,\n        getAsString: (callback: (data: string) => void) => {\n            blob.text().then(callback);\n        },\n        webkitGetAsEntry: () => null,\n    };\n};\n\nconst createDataTransferItems = (data: ClipboardItems) => {\n    const isTEXT = (type: string) => type.startsWith('text/');\n    const isIMAGE = (type: string) => type.startsWith('image/');\n    const dataTransferItems: Promise<DataTransferItem>[] = [];\n    data.forEach(item => {\n        item.types.forEach(type => {\n            if (isTEXT(type) || isIMAGE(type)) {\n                dataTransferItems.push(\n                    item\n                        .getType(type)\n                        .then(blob =>\n                            createDataTransfer(isTEXT(type) ? 'string' : 'file', type, blob)\n                        )\n                );\n            }\n        });\n    });\n    return dataTransferItems;\n};\n","import { MainPane } from '../mainPane/MainPane';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\n/**\n * Key of localized strings of Popout button\n */\nexport type PopoutButtonStringKey = 'buttonNamePopout';\n\n/**\n * \"Popout\" button on the format ribbon\n */\nexport const popoutButton: RibbonButton<PopoutButtonStringKey> = {\n    key: 'buttonNamePopout',\n    unlocalizedText: 'Open in a separate window',\n    iconName: 'OpenInNewWindow',\n    flipWhenRtl: true,\n    onClick: _ => {\n        MainPane.getInstance().popout();\n    },\n};\n","import { BulletListType } from 'roosterjs-content-model-core';\nimport { setListStyle } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\nconst dropDownMenuItems = {\n    [BulletListType.Disc]: 'Disc',\n    [BulletListType.Dash]: 'Dash',\n    [BulletListType.Square]: 'Square',\n    [BulletListType.ShortArrow]: 'ShortArrow',\n    [BulletListType.LongArrow]: 'LongArrow',\n    [BulletListType.UnfilledArrow]: 'UnfilledArrow',\n    [BulletListType.Hyphen]: 'Hyphen',\n    [BulletListType.DoubleLongArrow]: 'DoubleLongArrow',\n    [BulletListType.Circle]: 'Circle',\n};\n\nexport const setBulletedListStyleButton: RibbonButton<'ribbonButtonBulletedListStyle'> = {\n    key: 'ribbonButtonBulletedListStyle',\n    dropDownMenu: { items: dropDownMenuItems },\n    unlocalizedText: 'Set unordered list style',\n    iconName: 'BulletedList',\n    isDisabled: formatState => !formatState.isBullet,\n    onClick: (editor, key) => {\n        const value = parseInt(key);\n\n        setListStyle(editor, {\n            unorderedStyleType: value,\n        });\n    },\n};\n","import { NumberingListType } from 'roosterjs-content-model-core';\nimport { setListStyle } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\nconst dropDownMenuItems = {\n    [NumberingListType.Decimal]: 'Decimal',\n    [NumberingListType.DecimalDash]: 'DecimalDash',\n    [NumberingListType.DecimalParenthesis]: 'DecimalParenthesis',\n    [NumberingListType.DecimalDoubleParenthesis]: 'DecimalDoubleParenthesis',\n    [NumberingListType.LowerAlpha]: 'LowerAlpha',\n    [NumberingListType.LowerAlphaParenthesis]: 'LowerAlphaParenthesis',\n    [NumberingListType.LowerAlphaDoubleParenthesis]: 'LowerAlphaDoubleParenthesis',\n    [NumberingListType.LowerAlphaDash]: 'LowerAlphaDash',\n    [NumberingListType.UpperAlpha]: 'UpperAlpha',\n    [NumberingListType.UpperAlphaParenthesis]: 'UpperAlphaParenthesis',\n    [NumberingListType.UpperAlphaDoubleParenthesis]: 'UpperAlphaDoubleParenthesis',\n    [NumberingListType.UpperAlphaDash]: 'UpperAlphaDash',\n    [NumberingListType.LowerRoman]: 'LowerRoman',\n    [NumberingListType.LowerRomanParenthesis]: 'LowerRomanParenthesis',\n    [NumberingListType.LowerRomanDoubleParenthesis]: 'LowerRomanDoubleParenthesis',\n    [NumberingListType.LowerRomanDash]: 'LowerRomanDash',\n    [NumberingListType.UpperRoman]: 'UpperRoman',\n    [NumberingListType.UpperRomanParenthesis]: 'UpperRomanParenthesis',\n    [NumberingListType.UpperRomanDoubleParenthesis]: 'UpperRomanDoubleParenthesis',\n    [NumberingListType.UpperRomanDash]: 'UpperRomanDash',\n};\n\nexport const setNumberedListStyleButton: RibbonButton<'ribbonButtonNumberedListStyle'> = {\n    key: 'ribbonButtonNumberedListStyle',\n    dropDownMenu: { items: dropDownMenuItems },\n    unlocalizedText: 'Set ordered list style',\n    iconName: 'NumberedList',\n    isDisabled: formatState => !formatState.isNumbering,\n    onClick: (editor, key) => {\n        const value = parseInt(key);\n\n        setListStyle(editor, {\n            orderedStyleType: value,\n        });\n    },\n};\n","import { BackgroundColorKeys } from '../roosterjsReact/colorPicker/types/stringKeys';\nimport { renderColorPicker } from '../roosterjsReact/colorPicker/component/renderColorPicker';\nimport { setTableCellShade } from 'roosterjs-content-model-api';\nimport {\n    getColorPickerContainerClassName,\n    getColorPickerItemClassName,\n} from '../roosterjsReact/colorPicker/utils/getClassNamesForColorPicker';\nimport {\n    BackgroundColorDropDownItems,\n    BackgroundColors,\n    getBackgroundColorValue,\n} from '../roosterjsReact/colorPicker/utils/backgroundColors';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\nexport const setTableCellShadeButton: RibbonButton<\n    'ribbonButtonSetTableCellShade' | BackgroundColorKeys\n> = {\n    dropDownMenu: {\n        items: BackgroundColorDropDownItems,\n        itemClassName: getColorPickerItemClassName(),\n        allowLivePreview: true,\n        itemRender: (item, onClick) => renderColorPicker(item, BackgroundColors, onClick),\n        commandBarSubMenuProperties: {\n            className: getColorPickerContainerClassName(),\n        },\n    },\n    key: 'ribbonButtonSetTableCellShade',\n    unlocalizedText: 'Set table shade color',\n    iconName: 'BackgroundColor',\n    isDisabled: formatState => !formatState.isInTable,\n    onClick: (editor, key) => {\n        if (key != 'ribbonButtonSetTableCellShade') {\n            const color = getBackgroundColorValue(key);\n\n            // Content Model doesn't need dark mode color at this point, so always pass in light mode color\n            setTableCellShade(editor, color.lightModeColor);\n        }\n    },\n};\n","import { formatTable, getFormatState } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\nexport const setTableHeaderButton: RibbonButton<'ribbonButtonSetTableHeader'> = {\n    key: 'ribbonButtonSetTableHeader',\n    unlocalizedText: 'Toggle table header',\n    iconName: 'Header',\n    isDisabled: formatState => !formatState.isInTable,\n    onClick: editor => {\n        const format = getFormatState(editor);\n        formatTable(editor, { hasHeaderRow: !format.tableHasHeader }, true /*keepCellShade*/);\n    },\n};\n","import { getFormatState, setParagraphMargin } from 'roosterjs-content-model-api';\nimport { RibbonButton } from '../roosterjsReact/ribbon';\n\nconst spaceAfterButtonKey = 'buttonNameSpaceAfter';\nconst spaceBeforeButtonKey = 'buttonNameSpaceBefore';\n\n/**\n * @internal\n * \"Add space after\" button on the format ribbon\n */\nexport const spaceAfterButton: RibbonButton<typeof spaceAfterButtonKey> = {\n    key: spaceAfterButtonKey,\n    unlocalizedText: 'Remove space after',\n    iconName: 'CaretDown8',\n    isChecked: formatState => !formatState.marginBottom || parseInt(formatState.marginBottom) <= 0,\n    onClick: editor => {\n        const marginBottom = getFormatState(editor).marginBottom;\n        setParagraphMargin(\n            editor,\n            undefined /* marginTop */,\n            parseInt(marginBottom) ? null : '8pt'\n        );\n    },\n};\n\n/**\n * @internal\n * \"Add space before\" button on the format ribbon\n */\nexport const spaceBeforeButton: RibbonButton<typeof spaceBeforeButtonKey> = {\n    key: spaceBeforeButtonKey,\n    unlocalizedText: 'Add space before',\n    iconName: 'CaretUp8',\n    isChecked: formatState => parseInt(formatState.marginTop) > 0,\n    onClick: editor => {\n        const marginTop = getFormatState(editor).marginTop;\n        setParagraphMargin(\n            editor,\n            parseInt(marginTop) ? null : '12pt',\n            undefined /* marginBottom */\n        );\n    },\n};\n","import { RibbonButton } from '../roosterjsReact/ribbon';\nimport { setSpacing } from 'roosterjs-content-model-api';\n\nconst SPACING_OPTIONS = ['1.0', '1.15', '1.5', '2.0'];\nconst NORMAL_SPACING = 1.2;\nconst spacingButtonKey = 'buttonNameSpacing';\n\nfunction findClosest(lineHeight?: string) {\n    if (Number.isNaN(+lineHeight)) {\n        return '';\n    }\n    const query = +lineHeight / NORMAL_SPACING;\n    return SPACING_OPTIONS.find(opt => Math.abs(query - +opt) < 0.05);\n}\n\n/**\n * @internal\n * \"Spacing\" button on the format ribbon\n */\nexport const spacingButton: RibbonButton<typeof spacingButtonKey> = {\n    key: spacingButtonKey,\n    unlocalizedText: 'Spacing',\n    iconName: 'LineSpacing',\n    dropDownMenu: {\n        items: SPACING_OPTIONS.reduce((map, size) => {\n            map[size] = size;\n            return map;\n        }, <Record<string, string>>{}),\n        getSelectedItemKey: formatState => findClosest(formatState.lineHeight),\n        allowLivePreview: true,\n    },\n    onClick: (editor, size) => {\n        setSpacing(editor, +size * NORMAL_SPACING);\n    },\n};\n","import { applyTableBorderFormat } from 'roosterjs-content-model-api';\nimport { BorderOperations } from 'roosterjs-content-model-types';\nimport { MainPane } from '../mainPane/MainPane';\nimport { RibbonButton } from '../roosterjsReact/ribbon';\n\nconst TABLE_OPERATIONS: Record<string, BorderOperations> = {\n    menuNameTableAllBorder: 'allBorders',\n    menuNameTableNoBorder: 'noBorders',\n    menuNameTableLeftBorder: 'leftBorders',\n    menuNameTableRightBorder: 'rightBorders',\n    menuNameTableTopBorder: 'topBorders',\n    menuNameTableBottomBorder: 'bottomBorders',\n    menuNameTableInsideBorder: 'insideBorders',\n    menuNameTableOutsideBorder: 'outsideBorders',\n};\n\nexport const tableBorderApplyButton: RibbonButton<'ribbonButtonTableBorder'> = {\n    key: 'ribbonButtonTableBorder',\n    iconName: 'TableComputed',\n    unlocalizedText: 'Table Border',\n    isDisabled: formatState => !formatState.isInTable,\n    dropDownMenu: {\n        items: {\n            menuNameTableAllBorder: 'All Borders',\n            menuNameTableNoBorder: 'No Borders',\n            menuNameTableLeftBorder: 'Left Borders',\n            menuNameTableRightBorder: 'Right Borders',\n            menuNameTableTopBorder: 'Top Borders',\n            menuNameTableBottomBorder: 'Bottom Borders',\n            menuNameTableInsideBorder: 'Inside Borders',\n            menuNameTableOutsideBorder: 'Outside Borders',\n        },\n    },\n    onClick: (editor, key) => {\n        const border = MainPane.getInstance().getTableBorder();\n        applyTableBorderFormat(editor, border, TABLE_OPERATIONS[key]);\n    },\n};\n","import { MainPane } from '../mainPane/MainPane';\nimport { renderColorPicker } from '../roosterjsReact/colorPicker/component/renderColorPicker';\nimport {\n    getColorPickerContainerClassName,\n    getColorPickerItemClassName,\n} from '../roosterjsReact/colorPicker/utils/getClassNamesForColorPicker';\nimport {\n    getTextColorValue,\n    TextColorDropDownItems,\n    TextColors,\n} from '../roosterjsReact/colorPicker/utils/textColors';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\n/**\n * @internal\n * \"Table Border Color\" button on the format ribbon\n */\nexport const tableBorderColorButton: RibbonButton<'buttonNameTableBorderColor'> = {\n    dropDownMenu: {\n        items: TextColorDropDownItems,\n        itemClassName: getColorPickerItemClassName(),\n        allowLivePreview: true,\n        itemRender: (item, onClick) => renderColorPicker(item, TextColors, onClick),\n        commandBarSubMenuProperties: {\n            className: getColorPickerContainerClassName(),\n        },\n    },\n    key: 'buttonNameTableBorderColor',\n    unlocalizedText: 'Table Border Color',\n    iconName: 'ColorSolid',\n    isDisabled: formatState => !formatState.isInTable,\n    onClick: (editor, key) => {\n        // This check will always be true, add it here just to satisfy compiler\n        if (key != 'buttonNameTableBorderColor') {\n            MainPane.getInstance().setTableBorderColor(getTextColorValue(key).lightModeColor);\n            editor.focus();\n        }\n    },\n};\n","import { MainPane } from '../mainPane/MainPane';\nimport { RibbonButton } from '../roosterjsReact/ribbon';\n\nconst STYLES: Record<string, string> = {\n    dashed: 'dashed',\n    dotted: 'dotted',\n    solid: 'solid',\n    double: 'doubled',\n    groove: 'groove',\n    ridge: 'ridge',\n    inset: 'inset',\n    outset: 'outset',\n};\n\n/**\n * @internal\n * \"Table Border Style\" button on the format ribbon\n */\nexport const tableBorderStyleButton: RibbonButton<'buttonNameTableBorderStyle'> = {\n    key: 'buttonNameTableBorderStyle',\n    unlocalizedText: 'Table Border Style',\n    iconName: 'LineStyle',\n    isDisabled: formatState => !formatState.isInTable,\n    dropDownMenu: {\n        items: STYLES,\n        allowLivePreview: true,\n    },\n    onClick: (editor, style) => {\n        MainPane.getInstance().setTableBorderStyle(style);\n        editor.focus();\n\n        return true;\n    },\n};\n","import { MainPane } from '../mainPane/MainPane';\nimport { RibbonButton } from '../roosterjsReact/ribbon';\n\nconst WIDTH = [0.25, 0.5, 0.75, 1, 1.5, 2.25, 3, 4.5, 6];\n\n/**\n * @internal\n * \"Table Border Width\" button on the format ribbon\n */\nexport const tableBorderWidthButton: RibbonButton<'buttonNameTableBorderWidth'> = {\n    key: 'buttonNameTableBorderWidth',\n    unlocalizedText: 'Table Border Width',\n    iconName: 'LineThickness',\n    isDisabled: formatState => !formatState.isInTable,\n    dropDownMenu: {\n        items: WIDTH.reduce((map, size) => {\n            map[size + 'pt'] = size.toString();\n            return map;\n        }, <Record<string, string>>{}),\n        allowLivePreview: true,\n    },\n    onClick: (editor, width) => {\n        MainPane.getInstance().setTableBorderWidth(width);\n        editor.focus();\n\n        return true;\n    },\n};\n","import { editTable } from 'roosterjs-content-model-api';\nimport { TableOperation } from 'roosterjs-content-model-types';\nimport {\n    TableEditAlignMenuItemStringKey,\n    TableEditAlignTableMenuItemStringKey,\n    TableEditDeleteMenuItemStringKey,\n    TableEditInsertMenuItemStringKey,\n    TableEditMenuItemStringKey,\n    TableEditMergeMenuItemStringKey,\n    TableEditSplitMenuItemStringKey,\n} from 'roosterjs-react';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\nconst TableEditOperationMap: Partial<Record<TableEditMenuItemStringKey, TableOperation>> = {\n    menuNameTableInsertAbove: 'insertAbove',\n    menuNameTableInsertBelow: 'insertBelow',\n    menuNameTableInsertLeft: 'insertLeft',\n    menuNameTableInsertRight: 'insertRight',\n    menuNameTableDeleteTable: 'deleteTable',\n    menuNameTableDeleteColumn: 'deleteColumn',\n    menuNameTableDeleteRow: 'deleteRow',\n    menuNameTableMergeAbove: 'mergeAbove',\n    menuNameTableMergeBelow: 'mergeBelow',\n    menuNameTableMergeLeft: 'mergeLeft',\n    menuNameTableMergeRight: 'mergeRight',\n    menuNameTableMergeCells: 'mergeCells',\n    menuNameTableSplitHorizontally: 'splitHorizontally',\n    menuNameTableSplitVertically: 'splitVertically',\n    menuNameTableAlignLeft: 'alignCellLeft',\n    menuNameTableAlignCenter: 'alignCellCenter',\n    menuNameTableAlignRight: 'alignCellRight',\n    menuNameTableAlignTop: 'alignCellTop',\n    menuNameTableAlignMiddle: 'alignCellMiddle',\n    menuNameTableAlignBottom: 'alignCellBottom',\n    menuNameTableAlignTableLeft: 'alignLeft',\n    menuNameTableAlignTableCenter: 'alignCenter',\n    menuNameTableAlignTableRight: 'alignRight',\n};\n\nexport const tableInsertButton: RibbonButton<\n    'ribbonButtonTableInsert' | TableEditInsertMenuItemStringKey\n> = {\n    key: 'ribbonButtonTableInsert',\n    iconName: 'InsertColumnsRight',\n    unlocalizedText: 'Insert',\n    isDisabled: formatState => !formatState.isInTable,\n    dropDownMenu: {\n        items: {\n            menuNameTableInsertAbove: 'Insert above',\n            menuNameTableInsertBelow: 'Insert below',\n            menuNameTableInsertLeft: 'Insert left',\n            menuNameTableInsertRight: 'Insert right',\n        },\n    },\n    onClick: (editor, key) => {\n        if (key != 'ribbonButtonTableInsert') {\n            editTable(editor, TableEditOperationMap[key]);\n        }\n    },\n};\n\nexport const tableDeleteButton: RibbonButton<\n    'ribbonButtonTableDelete' | TableEditDeleteMenuItemStringKey\n> = {\n    key: 'ribbonButtonTableDelete',\n    iconName: 'DeleteTable',\n    unlocalizedText: 'Delete',\n    isDisabled: formatState => !formatState.isInTable,\n    dropDownMenu: {\n        items: {\n            menuNameTableDeleteColumn: 'Delete column',\n            menuNameTableDeleteRow: 'Delete row',\n            menuNameTableDeleteTable: 'Delete table',\n        },\n    },\n    onClick: (editor, key) => {\n        if (key != 'ribbonButtonTableDelete') {\n            editTable(editor, TableEditOperationMap[key]);\n        }\n    },\n};\n\nexport const tableMergeButton: RibbonButton<\n    'ribbonButtonTableMerge' | TableEditMergeMenuItemStringKey\n> = {\n    key: 'ribbonButtonTableMerge',\n    iconName: 'TableComputed',\n    unlocalizedText: 'Merge',\n    isDisabled: formatState => !formatState.isInTable,\n    dropDownMenu: {\n        items: {\n            menuNameTableMergeAbove: 'Merge above',\n            menuNameTableMergeBelow: 'Merge below',\n            menuNameTableMergeLeft: 'Merge left',\n            menuNameTableMergeRight: 'Merge right',\n            '-': '-',\n            menuNameTableMergeCells: 'Merge selected cells',\n        },\n    },\n    onClick: (editor, key) => {\n        if (key != 'ribbonButtonTableMerge') {\n            editTable(editor, TableEditOperationMap[key]);\n        }\n    },\n};\n\nexport const tableSplitButton: RibbonButton<\n    'ribbonButtonTableSplit' | TableEditSplitMenuItemStringKey\n> = {\n    key: 'ribbonButtonTableSplit',\n    iconName: 'TableComputed',\n    unlocalizedText: 'Split',\n    isDisabled: formatState => !formatState.isInTable,\n    dropDownMenu: {\n        items: {\n            menuNameTableSplitHorizontally: 'Split horizontally',\n            menuNameTableSplitVertically: 'Split vertically',\n        },\n    },\n    onClick: (editor, key) => {\n        if (key != 'ribbonButtonTableSplit') {\n            editTable(editor, TableEditOperationMap[key]);\n        }\n    },\n};\n\nexport const tableAlignCellButton: RibbonButton<\n    'ribbonButtonTableAlignCell' | TableEditAlignMenuItemStringKey\n> = {\n    key: 'ribbonButtonTableAlignCell',\n    iconName: 'TableComputed',\n    unlocalizedText: 'Align table cell',\n    isDisabled: formatState => !formatState.isInTable,\n    dropDownMenu: {\n        items: {\n            menuNameTableAlignLeft: 'Align left',\n            menuNameTableAlignCenter: 'Align center',\n            menuNameTableAlignRight: 'Align right',\n            '-': '-',\n            menuNameTableAlignTop: 'Align top',\n            menuNameTableAlignMiddle: 'Align middle',\n            menuNameTableAlignBottom: 'Align bottom',\n        },\n    },\n    onClick: (editor, key) => {\n        if (key != 'ribbonButtonTableAlignCell') {\n            editTable(editor, TableEditOperationMap[key]);\n        }\n    },\n};\n\nexport const tableAlignTableButton: RibbonButton<\n    'ribbonButtonTableAlignTable' | TableEditAlignTableMenuItemStringKey\n> = {\n    key: 'ribbonButtonTableAlignTable',\n    iconName: 'TableComputed',\n    unlocalizedText: 'Align table',\n    isDisabled: formatState => !formatState.isInTable,\n    dropDownMenu: {\n        items: {\n            menuNameTableAlignTableLeft: 'Align left',\n            menuNameTableAlignTableCenter: 'Align center',\n            menuNameTableAlignTableRight: 'Align right',\n        },\n    },\n    onClick: (editor, key) => {\n        if (key != 'ribbonButtonTableAlignTable') {\n            editTable(editor, TableEditOperationMap[key]);\n        }\n    },\n};\n","import { MainPane } from '../mainPane/MainPane';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\nconst DropDownItems = {\n    'zoom50%': '50%',\n    'zoom75%': '75%',\n    'zoom100%': '100%',\n    'zoom150%': '150%',\n    'zoom200%': '200%',\n};\n\nconst DropDownValues: { [key in keyof typeof DropDownItems]: number } = {\n    'zoom50%': 0.5,\n    'zoom75%': 0.75,\n    'zoom100%': 1,\n    'zoom150%': 1.5,\n    'zoom200%': 2,\n};\n\n/**\n * Key of localized strings of Zoom button\n */\nexport type ZoomButtonStringKey = 'buttonNameZoom';\n\n/**\n * \"Zoom\" button on the format ribbon\n */\nexport const zoomButton: RibbonButton<ZoomButtonStringKey> = {\n    key: 'buttonNameZoom',\n    unlocalizedText: 'Zoom',\n    iconName: 'ZoomIn',\n    dropDownMenu: {\n        items: DropDownItems,\n    },\n    onClick: (editor, key) => {\n        const zoomScale = DropDownValues[key as keyof typeof DropDownItems];\n        editor.focus();\n\n        // Let main pane know this state change so that it can be persisted when pop out/pop in\n        MainPane.getInstance().setScale(zoomScale);\n\n        editor.triggerEvent('zoomChanged', { newZoomScale: zoomScale });\n    },\n};\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport SampleEntityPlugin from '../plugins/SampleEntityPlugin';\nimport { ApiPlaygroundPlugin } from '../sidePane/apiPlayground/ApiPlaygroundPlugin';\nimport { Border, ContentModelDocument, EditorOptions } from 'roosterjs-content-model-types';\nimport { buttons, buttonsWithPopout } from './ribbonButtons';\nimport { Colors, EditorPlugin, IEditor, Snapshots } from 'roosterjs-content-model-types';\nimport { ContentModelPanePlugin } from '../sidePane/contentModel/ContentModelPanePlugin';\nimport { createEmojiPlugin } from '../roosterjsReact/emoji';\nimport { createImageEditMenuProvider } from '../roosterjsReact/contextMenu/menus/createImageEditMenuProvider';\nimport { createLegacyPlugins } from '../plugins/createLegacyPlugins';\nimport { createListEditMenuProvider } from '../roosterjsReact/contextMenu/menus/createListEditMenuProvider';\nimport { createPasteOptionPlugin } from '../roosterjsReact/pasteOptions';\nimport { createRibbonPlugin, Ribbon, RibbonPlugin } from '../roosterjsReact/ribbon';\nimport { Editor } from 'roosterjs-content-model-core';\nimport { EditorAdapter } from 'roosterjs-editor-adapter';\nimport { EditorOptionsPlugin } from '../sidePane/editorOptions/EditorOptionsPlugin';\nimport { EventViewPlugin } from '../sidePane/eventViewer/EventViewPlugin';\nimport { FormatPainterPlugin } from '../plugins/FormatPainterPlugin';\nimport { FormatStatePlugin } from '../sidePane/formatState/FormatStatePlugin';\nimport { getDarkColor } from 'roosterjs-color-utils';\nimport { getTheme } from '../theme/themes';\nimport { OptionState } from '../sidePane/editorOptions/OptionState';\nimport { registerWindowForCss, unregisterWindowForCss } from '../../utils/cssMonitor';\nimport { Rooster } from '../roosterjsReact/rooster';\nimport { SidePane } from '../sidePane/SidePane';\nimport { SidePanePlugin } from '../sidePane/SidePanePlugin';\nimport { SnapshotPlugin } from '../sidePane/snapshot/SnapshotPlugin';\nimport { ThemeProvider } from '@fluentui/react/lib/Theme';\nimport { TitleBar } from '../titleBar/TitleBar';\nimport { trustedHTMLHandler } from '../../utils/trustedHTMLHandler';\nimport { UpdateContentPlugin } from '../plugins/UpdateContentPlugin';\nimport { WindowProvider } from '@fluentui/react/lib/WindowProvider';\nimport {\n    createContextMenuPlugin,\n    createTableEditMenuProvider,\n} from '../roosterjsReact/contextMenu';\nimport {\n    AutoFormatPlugin,\n    EditPlugin,\n    PastePlugin,\n    ShortcutPlugin,\n    TableEditPlugin,\n} from 'roosterjs-content-model-plugins';\n\nconst styles = require('./MainPane.scss');\n\nexport interface MainPaneState {\n    showSidePane: boolean;\n    popoutWindow: Window;\n    initState: OptionState;\n    scale: number;\n    isDarkMode: boolean;\n    isRtl: boolean;\n    tableBorderFormat?: Border;\n    editorCreator: (div: HTMLDivElement, options: EditorOptions) => IEditor;\n}\n\nconst PopoutRoot = 'mainPane';\nconst POPOUT_HTML = `<!doctype html><html><head><title>RoosterJs Demo Site</title></head><body><div id=${PopoutRoot}></div></body></html>`;\nconst POPOUT_FEATURES = 'menubar=no,statusbar=no,width=1200,height=800';\nconst POPOUT_URL = 'about:blank';\nconst POPOUT_TARGET = '_blank';\n\nexport class MainPane extends React.Component<{}, MainPaneState> {\n    private mouseX: number;\n    private static instance: MainPane;\n    private popoutRoot: HTMLElement;\n    private formatStatePlugin: FormatStatePlugin;\n    private editorOptionPlugin: EditorOptionsPlugin;\n    private eventViewPlugin: EventViewPlugin;\n    private apiPlaygroundPlugin: ApiPlaygroundPlugin;\n    private contentModelPanePlugin: ContentModelPanePlugin;\n    private ribbonPlugin: RibbonPlugin;\n    private snapshotPlugin: SnapshotPlugin;\n    private formatPainterPlugin: FormatPainterPlugin;\n    private snapshots: Snapshots;\n\n    protected sidePane = React.createRef<SidePane>();\n    protected updateContentPlugin: UpdateContentPlugin;\n    protected model: ContentModelDocument | null = null;\n    private knownColors: Record<string, Colors> = {};\n    protected themeMatch = window.matchMedia?.('(prefers-color-scheme: dark)');\n\n    static getInstance() {\n        return this.instance;\n    }\n\n    static readonly editorDivId = 'RoosterJsContentDiv';\n\n    constructor(props: {}) {\n        super(props);\n\n        MainPane.instance = this;\n        this.updateContentPlugin = new UpdateContentPlugin(this.onUpdate);\n\n        this.snapshots = {\n            snapshots: [],\n            totalSize: 0,\n            currentIndex: -1,\n            autoCompleteIndex: -1,\n            maxSize: 1e7,\n        };\n\n        this.formatStatePlugin = new FormatStatePlugin();\n        this.editorOptionPlugin = new EditorOptionsPlugin();\n        this.eventViewPlugin = new EventViewPlugin();\n        this.apiPlaygroundPlugin = new ApiPlaygroundPlugin();\n        this.snapshotPlugin = new SnapshotPlugin(this.snapshots);\n        this.contentModelPanePlugin = new ContentModelPanePlugin();\n        this.ribbonPlugin = createRibbonPlugin();\n        this.formatPainterPlugin = new FormatPainterPlugin();\n        this.state = {\n            showSidePane: window.location.hash != '',\n            popoutWindow: null,\n            initState: this.editorOptionPlugin.getBuildInPluginState(),\n            scale: 1,\n            isDarkMode: this.themeMatch?.matches || false,\n            editorCreator: null,\n            isRtl: false,\n            tableBorderFormat: {\n                width: '1px',\n                style: 'solid',\n                color: '#ABABAB',\n            },\n        };\n    }\n\n    render() {\n        return (\n            <ThemeProvider\n                applyTo=\"body\"\n                theme={getTheme(this.state.isDarkMode)}\n                className={styles.mainPane}>\n                {this.renderTitleBar()}\n                {!this.state.popoutWindow && this.renderRibbon(false /*isPopout*/)}\n                <div className={styles.body + ' ' + (this.state.isDarkMode ? 'dark' : '')}>\n                    {this.state.popoutWindow ? this.renderPopout() : this.renderMainPane()}\n                </div>\n            </ThemeProvider>\n        );\n    }\n\n    componentDidMount() {\n        this.themeMatch?.addEventListener('change', this.onThemeChange);\n        this.resetEditor();\n    }\n\n    componentWillUnmount() {\n        this.themeMatch?.removeEventListener('change', this.onThemeChange);\n    }\n\n    popout() {\n        this.updateContentPlugin.update();\n\n        const win = window.open(POPOUT_URL, POPOUT_TARGET, POPOUT_FEATURES);\n        win.document.write(trustedHTMLHandler(POPOUT_HTML));\n        win.addEventListener('beforeunload', () => {\n            this.updateContentPlugin.update();\n\n            unregisterWindowForCss(win);\n            this.setState({ popoutWindow: null });\n        });\n\n        registerWindowForCss(win);\n\n        this.popoutRoot = win.document.getElementById(PopoutRoot);\n        this.setState({\n            popoutWindow: win,\n        });\n    }\n\n    resetEditorPlugin(pluginState: OptionState) {\n        this.updateContentPlugin.update();\n        this.setState({\n            initState: pluginState,\n        });\n        this.resetEditor();\n    }\n\n    setScale(scale: number): void {\n        this.setState({\n            scale: scale,\n        });\n    }\n\n    getTableBorder(): Border {\n        return this.state.tableBorderFormat;\n    }\n\n    setTableBorderColor(color: string): void {\n        this.setState({\n            tableBorderFormat: { ...this.getTableBorder(), color },\n        });\n    }\n\n    setTableBorderWidth(width: string): void {\n        this.setState({\n            tableBorderFormat: { ...this.getTableBorder(), width },\n        });\n    }\n\n    setTableBorderStyle(style: string): void {\n        this.setState({\n            tableBorderFormat: { ...this.getTableBorder(), style },\n        });\n    }\n\n    toggleDarkMode(): void {\n        this.setState({\n            isDarkMode: !this.state.isDarkMode,\n        });\n    }\n\n    setPageDirection(isRtl: boolean): void {\n        this.setState({ isRtl: isRtl });\n        [window, this.state.popoutWindow].forEach(win => {\n            if (win) {\n                win.document.body.dir = isRtl ? 'rtl' : 'ltr';\n            }\n        });\n    }\n\n    private renderTitleBar() {\n        return <TitleBar className={styles.noGrow} />;\n    }\n\n    private renderRibbon(isPopout: boolean) {\n        return (\n            <Ribbon\n                buttons={isPopout ? buttons : buttonsWithPopout}\n                plugin={this.ribbonPlugin}\n                dir={this.state.isRtl ? 'rtl' : 'ltr'}\n            />\n        );\n    }\n\n    private renderSidePane(fullWidth: boolean) {\n        return (\n            <SidePane\n                ref={this.sidePane}\n                plugins={this.getSidePanePlugins()}\n                className={`main-pane ${styles.sidePane} ${\n                    fullWidth ? styles.sidePaneFullWidth : ''\n                }`}\n            />\n        );\n    }\n\n    private resetEditor() {\n        this.setState({\n            editorCreator: (div: HTMLDivElement, options: EditorOptions) => {\n                const legacyPluginList = createLegacyPlugins(this.state.initState);\n\n                return legacyPluginList.length > 0\n                    ? new EditorAdapter(div, {\n                          ...options,\n                          legacyPlugins: legacyPluginList,\n                      })\n                    : new Editor(div, options);\n            },\n        });\n    }\n\n    private renderEditor() {\n        const editorStyles = {\n            transform: `scale(${this.state.scale})`,\n            transformOrigin: this.state.isRtl ? 'right top' : 'left top',\n            height: `calc(${100 / this.state.scale}%)`,\n            width: `calc(${100 / this.state.scale}%)`,\n        };\n        const plugins: EditorPlugin[] = [\n            this.ribbonPlugin,\n            this.formatPainterPlugin,\n            ...this.getToggleablePlugins(),\n            this.contentModelPanePlugin.getInnerRibbonPlugin(),\n            this.updateContentPlugin,\n        ];\n\n        if (this.state.showSidePane || this.state.popoutWindow) {\n            plugins.push(...this.getSidePanePlugins());\n        }\n\n        this.updateContentPlugin.update();\n\n        return (\n            <div className={styles.editorContainer} id=\"EditorContainer\">\n                <div style={editorStyles}>\n                    {this.state.editorCreator && (\n                        <Rooster\n                            id={MainPane.editorDivId}\n                            className={styles.editor}\n                            plugins={plugins}\n                            defaultSegmentFormat={this.state.initState.defaultFormat}\n                            inDarkMode={this.state.isDarkMode}\n                            getDarkColor={getDarkColor}\n                            snapshots={this.snapshotPlugin.getSnapshots()}\n                            trustedHTMLHandler={trustedHTMLHandler}\n                            initialModel={this.model}\n                            editorCreator={this.state.editorCreator}\n                            dir={this.state.isRtl ? 'rtl' : 'ltr'}\n                            knownColors={this.knownColors}\n                            disableCache={this.state.initState.disableCache}\n                        />\n                    )}\n                </div>\n            </div>\n        );\n    }\n\n    private renderMainPane() {\n        return (\n            <>\n                {this.renderEditor()}\n                {this.state.showSidePane ? (\n                    <>\n                        <div className={styles.resizer} onMouseDown={this.onMouseDown} />\n                        {this.renderSidePane(false /*fullWidth*/)}\n                        {this.renderSidePaneButton()}\n                    </>\n                ) : (\n                    this.renderSidePaneButton()\n                )}\n            </>\n        );\n    }\n\n    private renderSidePaneButton() {\n        return (\n            <button\n                className={`side-pane-toggle ${this.state.showSidePane ? 'open' : 'close'} ${\n                    styles.showSidePane\n                }`}\n                onClick={this.state.showSidePane ? this.onHideSidePane : this.onShowSidePane}>\n                <div>{this.state.showSidePane ? 'Hide side pane' : 'Show side pane'}</div>\n            </button>\n        );\n    }\n\n    private renderPopout() {\n        return (\n            <>\n                {this.renderSidePane(true /*fullWidth*/)}\n                {ReactDOM.createPortal(\n                    <WindowProvider window={this.state.popoutWindow}>\n                        <ThemeProvider applyTo=\"body\" theme={getTheme(this.state.isDarkMode)}>\n                            <div className={styles.mainPane}>\n                                {this.renderRibbon(true /*isPopout*/)}\n                                <div className={styles.body}>{this.renderEditor()}</div>\n                            </div>\n                        </ThemeProvider>\n                    </WindowProvider>,\n                    this.popoutRoot\n                )}\n            </>\n        );\n    }\n\n    private onMouseDown = (e: React.MouseEvent<EventTarget>) => {\n        document.addEventListener('mousemove', this.onMouseMove, true);\n        document.addEventListener('mouseup', this.onMouseUp, true);\n        document.body.style.userSelect = 'none';\n        this.mouseX = e.pageX;\n    };\n\n    private onMouseMove = (e: MouseEvent) => {\n        this.sidePane.current.changeWidth(this.mouseX - e.pageX);\n        this.mouseX = e.pageX;\n    };\n\n    private onMouseUp = (e: MouseEvent) => {\n        document.removeEventListener('mousemove', this.onMouseMove, true);\n        document.removeEventListener('mouseup', this.onMouseUp, true);\n        document.body.style.userSelect = '';\n    };\n\n    private onUpdate = (model: ContentModelDocument) => {\n        this.model = model;\n    };\n\n    private onShowSidePane = () => {\n        this.setState({\n            showSidePane: true,\n        });\n        this.resetEditor();\n    };\n\n    private onHideSidePane = () => {\n        this.setState({\n            showSidePane: false,\n        });\n        this.resetEditor();\n        window.location.hash = '';\n    };\n\n    private onThemeChange = () => {\n        this.setState({\n            isDarkMode: this.themeMatch?.matches || false,\n        });\n    };\n\n    private getSidePanePlugins(): SidePanePlugin[] {\n        return [\n            this.formatStatePlugin,\n            this.editorOptionPlugin,\n            this.eventViewPlugin,\n            this.apiPlaygroundPlugin,\n            this.snapshotPlugin,\n            this.contentModelPanePlugin,\n        ];\n    }\n\n    private getToggleablePlugins(): EditorPlugin[] {\n        const {\n            pluginList,\n            allowExcelNoBorderTable,\n            listMenu,\n            tableMenu,\n            imageMenu,\n        } = this.state.initState;\n        return [\n            pluginList.autoFormat && new AutoFormatPlugin(),\n            pluginList.edit && new EditPlugin(),\n            pluginList.paste && new PastePlugin(allowExcelNoBorderTable),\n            pluginList.shortcut && new ShortcutPlugin(),\n            pluginList.tableEdit && new TableEditPlugin(),\n            pluginList.emoji && createEmojiPlugin(),\n            pluginList.pasteOption && createPasteOptionPlugin(),\n            pluginList.sampleEntity && new SampleEntityPlugin(),\n            pluginList.contextMenu && createContextMenuPlugin(),\n            pluginList.contextMenu && listMenu && createListEditMenuProvider(),\n            pluginList.contextMenu && tableMenu && createTableEditMenuProvider(),\n            pluginList.contextMenu && imageMenu && createImageEditMenuProvider(),\n        ].filter(x => !!x);\n    }\n}\n\nexport function mount(parent: HTMLElement) {\n    ReactDOM.render(<MainPane />, parent);\n}\n","import { alignCenterButton } from '../roosterjsReact/ribbon/buttons/alignCenterButton';\nimport { alignJustifyButton } from '../roosterjsReact/ribbon/buttons/alignJustifyButton';\nimport { alignLeftButton } from '../roosterjsReact/ribbon/buttons/alignLeftButton';\nimport { alignRightButton } from '../roosterjsReact/ribbon/buttons/alignRightButton';\nimport { backgroundColorButton } from '../roosterjsReact/ribbon/buttons/backgroundColorButton';\nimport { blockQuoteButton } from '../roosterjsReact/ribbon/buttons/blockQuoteButton';\nimport { boldButton } from '../roosterjsReact/ribbon/buttons/boldButton';\nimport { bulletedListButton } from '../roosterjsReact/ribbon/buttons/bulletedListButton';\nimport { changeImageButton } from '../demoButtons/changeImageButton';\nimport { clearFormatButton } from '../roosterjsReact/ribbon/buttons/clearFormatButton';\nimport { codeButton } from '../roosterjsReact/ribbon/buttons/codeButton';\nimport { darkModeButton } from '../demoButtons/darkModeButton';\nimport { decreaseFontSizeButton } from '../roosterjsReact/ribbon/buttons/decreaseFontSizeButton';\nimport { decreaseIndentButton } from '../roosterjsReact/ribbon/buttons/decreaseIndentButton';\nimport { exportContentButton } from '../demoButtons/exportContentButton';\nimport { fontButton } from '../roosterjsReact/ribbon/buttons/fontButton';\nimport { fontSizeButton } from '../roosterjsReact/ribbon/buttons/fontSizeButton';\nimport { formatPainterButton } from '../demoButtons/formatPainterButton';\nimport { formatTableButton } from '../demoButtons/formatTableButton';\nimport { imageBorderColorButton } from '../demoButtons/imageBorderColorButton';\nimport { imageBorderRemoveButton } from '../demoButtons/imageBorderRemoveButton';\nimport { imageBorderStyleButton } from '../demoButtons/imageBorderStyleButton';\nimport { imageBorderWidthButton } from '../demoButtons/imageBorderWidthButton';\nimport { imageBoxShadowButton } from '../demoButtons/imageBoxShadowButton';\nimport { increaseFontSizeButton } from '../roosterjsReact/ribbon/buttons/increaseFontSizeButton';\nimport { increaseIndentButton } from '../roosterjsReact/ribbon/buttons/increaseIndentButton';\nimport { insertImageButton } from '../roosterjsReact/ribbon/buttons/insertImageButton';\nimport { insertLinkButton } from '../roosterjsReact/ribbon/buttons/insertLinkButton';\nimport { insertTableButton } from '../roosterjsReact/ribbon/buttons/insertTableButton';\nimport { italicButton } from '../roosterjsReact/ribbon/buttons/italicButton';\nimport { listStartNumberButton } from '../demoButtons/listStartNumberButton';\nimport { ltrButton } from '../roosterjsReact/ribbon/buttons/ltrButton';\nimport { numberedListButton } from '../roosterjsReact/ribbon/buttons/numberedListButton';\nimport { pasteButton } from '../demoButtons/pasteButton';\nimport { popoutButton } from '../demoButtons/popoutButton';\nimport { redoButton } from '../roosterjsReact/ribbon/buttons/redoButton';\nimport { removeLinkButton } from '../roosterjsReact/ribbon/buttons/removeLinkButton';\nimport { rtlButton } from '../roosterjsReact/ribbon/buttons/rtlButton';\nimport { setBulletedListStyleButton } from '../demoButtons/setBulletedListStyleButton';\nimport { setHeadingLevelButton } from '../roosterjsReact/ribbon/buttons/setHeadingLevelButton';\nimport { setNumberedListStyleButton } from '../demoButtons/setNumberedListStyleButton';\nimport { setTableCellShadeButton } from '../demoButtons/setTableCellShadeButton';\nimport { setTableHeaderButton } from '../demoButtons/setTableHeaderButton';\nimport { spaceAfterButton, spaceBeforeButton } from '../demoButtons/spaceBeforeAfterButtons';\nimport { spacingButton } from '../demoButtons/spacingButton';\nimport { strikethroughButton } from '../roosterjsReact/ribbon/buttons/strikethroughButton';\nimport { subscriptButton } from '../roosterjsReact/ribbon/buttons/subscriptButton';\nimport { superscriptButton } from '../roosterjsReact/ribbon/buttons/superscriptButton';\nimport { tableBorderApplyButton } from '../demoButtons/tableBorderApplyButton';\nimport { tableBorderColorButton } from '../demoButtons/tableBorderColorButton';\nimport { tableBorderStyleButton } from '../demoButtons/tableBorderStyleButton';\nimport { tableBorderWidthButton } from '../demoButtons/tableBorderWidthButton';\nimport { textColorButton } from '../roosterjsReact/ribbon/buttons/textColorButton';\nimport { underlineButton } from '../roosterjsReact/ribbon/buttons/underlineButton';\nimport { undoButton } from '../roosterjsReact/ribbon/buttons/undoButton';\nimport { zoomButton } from '../demoButtons/zoomButton';\nimport {\n    tableAlignCellButton,\n    tableAlignTableButton,\n    tableDeleteButton,\n    tableInsertButton,\n    tableMergeButton,\n    tableSplitButton,\n} from '../demoButtons/tableEditButtons';\nimport type { RibbonButton } from '../roosterjsReact/ribbon';\n\nexport const buttons: RibbonButton<any>[] = [\n    formatPainterButton,\n    boldButton,\n    italicButton,\n    underlineButton,\n    fontButton,\n    fontSizeButton,\n    increaseFontSizeButton,\n    decreaseFontSizeButton,\n    textColorButton,\n    backgroundColorButton,\n    bulletedListButton,\n    numberedListButton,\n    decreaseIndentButton,\n    increaseIndentButton,\n    blockQuoteButton,\n    alignLeftButton,\n    alignCenterButton,\n    alignRightButton,\n    alignJustifyButton,\n    insertLinkButton,\n    removeLinkButton,\n    insertTableButton,\n    insertImageButton,\n    superscriptButton,\n    subscriptButton,\n    strikethroughButton,\n    setHeadingLevelButton,\n    codeButton,\n    ltrButton,\n    rtlButton,\n    undoButton,\n    redoButton,\n    clearFormatButton,\n    setBulletedListStyleButton,\n    setNumberedListStyleButton,\n    listStartNumberButton,\n    formatTableButton,\n    setTableCellShadeButton,\n    setTableHeaderButton,\n    tableInsertButton,\n    tableDeleteButton,\n    tableMergeButton,\n    tableSplitButton,\n    tableAlignCellButton,\n    tableAlignTableButton,\n    tableBorderApplyButton,\n    tableBorderColorButton,\n    tableBorderWidthButton,\n    tableBorderStyleButton,\n    imageBorderColorButton,\n    imageBorderWidthButton,\n    imageBorderStyleButton,\n    imageBorderRemoveButton,\n    changeImageButton,\n    imageBoxShadowButton,\n    spacingButton,\n    spaceBeforeButton,\n    spaceAfterButton,\n    pasteButton,\n    darkModeButton,\n    zoomButton,\n    exportContentButton,\n];\n\nexport const buttonsWithPopout: RibbonButton<any>[] = buttons.concat(popoutButton);\n","import { applySegmentFormat, getFormatState } from 'roosterjs-content-model-api';\nimport { MainPane } from '../mainPane/MainPane';\nimport {\n    ContentModelSegmentFormat,\n    EditorPlugin,\n    IEditor,\n    PluginEvent,\n} from 'roosterjs-content-model-types';\n\nconst FORMATPAINTERCURSOR_SVG = require('./formatpaintercursor.svg');\nconst FORMATPAINTERCURSOR_STYLE = `cursor: url(\"${FORMATPAINTERCURSOR_SVG}\") 8.5 16, auto`;\n\nexport class FormatPainterPlugin implements EditorPlugin {\n    private editor: IEditor | null = null;\n    private styleNode: HTMLStyleElement | null = null;\n    private painterFormat: ContentModelSegmentFormat | null = null;\n    private static instance: FormatPainterPlugin | undefined;\n\n    constructor() {\n        FormatPainterPlugin.instance = this;\n    }\n\n    getName() {\n        return 'FormatPainter';\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n\n        const doc = this.editor.getDocument();\n        this.styleNode = doc.createElement('style');\n\n        doc.head.appendChild(this.styleNode);\n    }\n\n    dispose() {\n        this.editor = null;\n\n        if (this.styleNode) {\n            this.styleNode.parentNode?.removeChild(this.styleNode);\n            this.styleNode = null;\n        }\n    }\n\n    onPluginEvent(event: PluginEvent) {\n        if (this.editor && event.eventType == 'mouseUp') {\n            if (this.painterFormat) {\n                applySegmentFormat(this.editor, this.painterFormat);\n\n                this.setFormatPainterCursor(null);\n            }\n        }\n    }\n\n    private setFormatPainterCursor(format: ContentModelSegmentFormat | null) {\n        const sheet = this.styleNode.sheet;\n\n        if (this.painterFormat) {\n            for (let i = sheet.cssRules.length - 1; i >= 0; i--) {\n                sheet.deleteRule(i);\n            }\n        }\n\n        this.painterFormat = format;\n\n        if (this.painterFormat) {\n            sheet.insertRule(`#${MainPane.editorDivId} {${FORMATPAINTERCURSOR_STYLE}}`);\n        }\n    }\n\n    static startFormatPainter() {\n        const format = getSegmentFormat(this.instance.editor);\n\n        if (format) {\n            this.instance.setFormatPainterCursor(format);\n        }\n    }\n}\n\nfunction getSegmentFormat(editor: IEditor): ContentModelSegmentFormat {\n    const formatState = getFormatState(editor);\n\n    return {\n        backgroundColor: formatState.backgroundColor,\n        fontFamily: formatState.fontName,\n        fontSize: formatState.fontSize,\n        fontWeight: formatState.isBold ? 'bold' : 'normal',\n        italic: formatState.isItalic,\n        letterSpacing: formatState.letterSpacing,\n        strikethrough: formatState.isStrikeThrough,\n        superOrSubScriptSequence: formatState.isSubscript\n            ? 'sub'\n            : formatState.isSuperscript\n            ? 'super'\n            : '',\n        textColor: formatState.textColor,\n        underline: formatState.isUnderline,\n    };\n}\n","import { EntityState } from 'roosterjs-editor-types';\nimport { insertEntity } from 'roosterjs-content-model-api';\nimport type { EditorPlugin, Entity, IEditor, PluginEvent } from 'roosterjs-content-model-types';\n\nconst EntityType = 'SampleEntity';\n\ninterface EntityMetadata {\n    count: number;\n}\n\nexport default class SampleEntityPlugin implements EditorPlugin {\n    private editor: IEditor;\n    private hydratedEntities: Record<string, HydratedEntity> = {};\n\n    getName() {\n        return 'SampleEntity';\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.editor = null;\n    }\n\n    onPluginEvent(event: PluginEvent) {\n        if (event.eventType == 'keyDown' && event.rawEvent.key == 'm' && event.rawEvent.ctrlKey) {\n            insertEntity(this.editor, EntityType, true /*isBlock*/, 'focus', {\n                contentNode: this.createEntityNode(),\n                initialEntityState: '{}',\n            });\n\n            event.rawEvent.preventDefault();\n        } else if (event.eventType == 'entityOperation' && event.entity.type == EntityType) {\n            const entity = event.entity;\n            const hydratedEntity = this.hydratedEntities[entity.id];\n\n            switch (event.operation) {\n                case 'newEntity':\n                    hydratedEntity?.dehydrate();\n                    this.hydratedEntities[entity.id] = new HydratedEntity(entity, this.onClick);\n\n                    break;\n\n                case 'removeFromEnd':\n                case 'removeFromStart':\n                case 'overwrite':\n                case 'replaceTemporaryContent':\n                    hydratedEntity?.dehydrate();\n\n                    break;\n\n                case 'updateEntityState':\n                    if (event.state) {\n                        setMetadata(event.entity.wrapper, JSON.parse(event.state));\n                        hydratedEntity?.update();\n                    }\n\n                    break;\n            }\n        }\n    }\n\n    private onClick = (state: EntityState) => {\n        this.editor.takeSnapshot(state);\n    };\n\n    private createEntityNode() {\n        const div = document.createElement('div');\n\n        return div;\n    }\n}\n\nclass HydratedEntity {\n    constructor(private entity: Entity, private onClick: (entityState: EntityState) => void) {\n        const containerDiv = entity.wrapper.querySelector('div');\n        const span = document.createElement('span');\n        const button = document.createElement('button');\n\n        containerDiv.appendChild(span);\n        containerDiv.appendChild(button);\n\n        button.textContent = 'Test entity';\n        button.addEventListener('click', this.onClickEntity);\n\n        this.update();\n    }\n\n    update(increase: number = 0) {\n        const metadata = getMetadata<EntityMetadata>(this.entity.wrapper);\n        const count = (metadata?.count || 0) + increase;\n\n        setMetadata(this.entity.wrapper, {\n            count,\n        });\n\n        this.entity.wrapper.querySelector('span').textContent = 'Count: ' + count;\n    }\n\n    dehydrate() {\n        const containerDiv = this.entity.wrapper.querySelector('div');\n        const button = containerDiv.querySelector('button');\n\n        if (button) {\n            button.removeEventListener('click', this.onClickEntity);\n            containerDiv.removeChild(button);\n        }\n    }\n\n    private onClickEntity = (e: MouseEvent) => {\n        this.update(1);\n        this.onClick({\n            id: this.entity.id,\n            type: this.entity.type,\n            state: this.entity.wrapper.dataset.editingInfo,\n        });\n    };\n}\n\nconst MetadataDataSetName = 'editingInfo';\n\nfunction getMetadata<T>(element: HTMLElement): T | null {\n    const str = element.dataset[MetadataDataSetName];\n    let obj: any;\n\n    try {\n        obj = str ? JSON.parse(str) : null;\n    } catch {}\n\n    if (typeof obj !== 'undefined') {\n        return obj as T;\n    } else {\n        return null;\n    }\n}\n\nfunction setMetadata<T>(element: HTMLElement, metadata: T) {\n    element.dataset[MetadataDataSetName] = JSON.stringify(metadata);\n}\n","import type {\n    ContentModelDocument,\n    EditorPlugin,\n    IEditor,\n    PluginEvent,\n} from 'roosterjs-content-model-types';\n\n/**\n * A plugin to help get HTML content from editor\n */\nexport class UpdateContentPlugin implements EditorPlugin {\n    private editor: IEditor | null = null;\n\n    /**\n     * Create a new instance of UpdateContentPlugin class\n     * @param onUpdate A callback to be invoked when update happens\n     */\n    constructor(private onUpdate: (model: ContentModelDocument) => void) {}\n\n    /**\n     * Get a friendly name of this plugin\n     */\n    getName() {\n        return 'UpdateContent';\n    }\n\n    /**\n     * Initialize this plugin\n     * @param editor The editor instance\n     */\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        this.editor = null;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    onPluginEvent(event: PluginEvent) {\n        switch (event.eventType) {\n            case 'beforeDispose':\n                this.update();\n                break;\n        }\n    }\n\n    update() {\n        if (this.editor) {\n            const model = this.editor.getContentModelCopy('disconnected');\n            this.onUpdate(model);\n        }\n    }\n}\n","import { EditorPlugin as LegacyEditorPlugin, KnownAnnounceStrings } from 'roosterjs-editor-types';\nimport {\n    Announce,\n    ContentEdit,\n    CustomReplace,\n    HyperLink,\n    ImageEdit,\n    TableCellSelection,\n    Watermark,\n} from 'roosterjs-editor-plugins';\nimport {\n    LegacyPluginList,\n    OptionState,\n    UrlPlaceholder,\n} from '../sidePane/editorOptions/OptionState';\n\nexport function createLegacyPlugins(initState: OptionState): LegacyEditorPlugin[] {\n    const { pluginList, linkTitle } = initState;\n\n    const plugins: Record<keyof LegacyPluginList, LegacyEditorPlugin | null> = {\n        contentEdit: pluginList.contentEdit ? new ContentEdit(initState.contentEditFeatures) : null,\n        hyperlink: pluginList.hyperlink\n            ? new HyperLink(\n                  linkTitle?.indexOf(UrlPlaceholder) >= 0\n                      ? url => linkTitle.replace(UrlPlaceholder, url)\n                      : linkTitle\n                      ? () => linkTitle\n                      : null\n              )\n            : null,\n        watermark: pluginList.watermark ? new Watermark(initState.watermarkText) : null,\n        imageEdit: pluginList.imageEdit\n            ? new ImageEdit({\n                  preserveRatio: initState.forcePreserveRatio,\n                  applyChangesOnMouseUp: initState.applyChangesOnMouseUp,\n              })\n            : null,\n        tableCellSelection: pluginList.tableCellSelection ? new TableCellSelection() : null,\n        customReplace: pluginList.customReplace ? new CustomReplace() : null,\n        announce: pluginList.announce ? new Announce(getDefaultStringsMap()) : null,\n    };\n\n    return Object.values(plugins).filter(x => !!x);\n}\n\nfunction getDefaultStringsMap(): Map<KnownAnnounceStrings, string> {\n    return new Map<KnownAnnounceStrings, string>([\n        [KnownAnnounceStrings.AnnounceListItemBullet, 'Autocorrected Bullet'],\n        [KnownAnnounceStrings.AnnounceListItemNumbering, 'Autocorrected {0}'],\n        [\n            KnownAnnounceStrings.AnnounceOnFocusLastCell,\n            'Warning, pressing tab here adds an extra row.',\n        ],\n    ]);\n}\n","import * as React from 'react';\nimport { mergeStyleSets } from '@fluentui/react/lib/Styling';\nimport type { IContextualMenuItem } from '@fluentui/react/lib/ContextualMenu';\nimport type { Colors } from 'roosterjs-content-model-types';\n\nconst classNames = mergeStyleSets({\n    colorSquare: {\n        width: '20px',\n        height: '20px',\n        margin: '4px',\n        borderStyle: 'solid',\n        borderWidth: '2px',\n        '&:hover': {\n            borderColor: 'red',\n        },\n    },\n    colorSquareBorder: {\n        borderColor: 'transparent',\n    },\n    colorSquareBorderWhite: {\n        borderColor: '#bebebe',\n    },\n});\n\n/**\n * @internal\n */\nexport function renderColorPicker<Strings extends string>(\n    item: IContextualMenuItem,\n    colorDef: Record<Strings, Colors>,\n    onClick: (\n        e: React.MouseEvent<Element, MouseEvent> | React.KeyboardEvent<Element>,\n        item: IContextualMenuItem\n    ) => void\n) {\n    const key = item.key as Strings;\n    const buttonColor = colorDef[key].lightModeColor;\n\n    return (\n        <button onClick={e => onClick(e, item)} title={item.text}>\n            <div\n                className={\n                    classNames.colorSquare +\n                    ' ' +\n                    (key == 'textColorWhite' || key == 'backgroundColorWhite'\n                        ? classNames.colorSquareBorderWhite\n                        : classNames.colorSquareBorder)\n                }\n                style={{\n                    backgroundColor: buttonColor,\n                }}></div>\n        </button>\n    );\n}\n","import type { Colors } from 'roosterjs-content-model-types';\nimport type { BackgroundColorKeys } from '../types/stringKeys';\n\n/**\n * @internal\n */\nconst BackgroundColors: Record<BackgroundColorKeys, Colors> = {\n    backgroundColorCyan: { lightModeColor: '#00ffff', darkModeColor: '#005357' },\n    backgroundColorGreen: { lightModeColor: '#00ff00', darkModeColor: '#005e00' },\n    backgroundColorYellow: { lightModeColor: '#ffff00', darkModeColor: '#383e00' },\n    backgroundColorOrange: { lightModeColor: '#ff8000', darkModeColor: '#bf4c00' },\n    backgroundColorRed: { lightModeColor: '#ff0000', darkModeColor: '#ff2711' },\n    backgroundColorMagenta: { lightModeColor: '#ff00ff', darkModeColor: '#e700e8' },\n    backgroundColorLightCyan: { lightModeColor: '#80ffff', darkModeColor: '#004c4f' },\n    backgroundColorLightGreen: { lightModeColor: '#80ff80', darkModeColor: '#005400' },\n    backgroundColorLightYellow: { lightModeColor: '#ffff80', darkModeColor: '#343c00' },\n    backgroundColorLightOrange: { lightModeColor: '#ffc080', darkModeColor: '#77480b' },\n    backgroundColorLightRed: { lightModeColor: '#ff8080', darkModeColor: '#bc454a' },\n    backgroundColorLightMagenta: { lightModeColor: '#ff80ff', darkModeColor: '#aa2bad' },\n    backgroundColorWhite: { lightModeColor: '#ffffff', darkModeColor: '#333333' },\n    backgroundColorLightGray: { lightModeColor: '#cccccc', darkModeColor: '#535353' },\n    backgroundColorGray: { lightModeColor: '#999999', darkModeColor: '#777777' },\n    backgroundColorDarkGray: { lightModeColor: '#666666', darkModeColor: '#a0a0a0' },\n    backgroundColorDarkerGray: { lightModeColor: '#333333', darkModeColor: '#cfcfcf' },\n    backgroundColorBlack: { lightModeColor: '#000000', darkModeColor: '#ffffff' },\n};\n\n/**\n * @internal\n * List of colors in drop down list\n */\nconst BackgroundColorDropDownItems: Record<BackgroundColorKeys, string> = {\n    backgroundColorCyan: 'Cyan',\n    backgroundColorGreen: 'Green',\n    backgroundColorYellow: 'Yellow',\n    backgroundColorOrange: 'Orange',\n    backgroundColorRed: 'Red',\n    backgroundColorMagenta: 'Magenta',\n    backgroundColorLightCyan: 'Light cyan',\n    backgroundColorLightGreen: 'Light green',\n    backgroundColorLightYellow: 'Light yellow',\n    backgroundColorLightOrange: 'Light orange',\n    backgroundColorLightRed: 'Light red',\n    backgroundColorLightMagenta: 'Light magenta',\n    backgroundColorWhite: 'White',\n    backgroundColorLightGray: 'Light gray',\n    backgroundColorGray: 'Gray',\n    backgroundColorDarkGray: 'Dark gray',\n    backgroundColorDarkerGray: 'Darker gray',\n    backgroundColorBlack: 'Black',\n};\n\n/**\n * Get mode independent color value of background color from the given color key\n * @param key The key to get color from\n * @returns A model independent color value of the given key\n */\nfunction getBackgroundColorValue(key: BackgroundColorKeys): Colors {\n    return BackgroundColors[key];\n}\n\nexport { BackgroundColors, BackgroundColorDropDownItems, getBackgroundColorValue };\n","import { mergeStyleSets } from '@fluentui/react/lib/Styling';\n\nconst classNames = mergeStyleSets({\n    colorPickerContainer: {\n        width: '192px',\n        padding: '8px',\n        overflow: 'hidden',\n        '& ul': {\n            width: '192px',\n            overflow: 'hidden',\n        },\n    },\n    colorMenuItem: {\n        display: 'inline-block',\n        width: '32px',\n        height: '32px',\n        '& button': {\n            padding: '0px',\n            minWidth: '0px',\n            background: 'transparent',\n            border: 'none',\n        },\n    },\n});\n\n/**\n * @internal\n */\nexport function getColorPickerContainerClassName() {\n    return classNames.colorPickerContainer;\n}\n\n/**\n * @internal\n */\nexport function getColorPickerItemClassName() {\n    return classNames.colorMenuItem;\n}\n","import type { Colors } from 'roosterjs-content-model-types';\nimport type { TextColorKeys } from '../types/stringKeys';\n\n/**\n * @internal\n */\nconst TextColors: Record<TextColorKeys, Colors> = {\n    textColorLightBlue: { lightModeColor: '#51a7f9', darkModeColor: '#0075c2' },\n    textColorLightGreen: { lightModeColor: '#6fc040', darkModeColor: '#207a00' },\n    textColorLightYellow: { lightModeColor: '#f5d427', darkModeColor: '#5d4d00' },\n    textColorLightOrange: { lightModeColor: '#f3901d', darkModeColor: '#ab5500' },\n    textColorLightRed: { lightModeColor: '#ed5c57', darkModeColor: '#df504d' },\n    textColorLightPurple: { lightModeColor: '#b36ae2', darkModeColor: '#ab63da' },\n    textColorBlue: { lightModeColor: '#0c64c0', darkModeColor: '#6da0ff' },\n    textColorGreen: { lightModeColor: '#0c882a', darkModeColor: '#3da848' },\n    textColorYellow: { lightModeColor: '#dcbe22', darkModeColor: '#6d5c00' },\n    textColorOrange: { lightModeColor: '#de6a19', darkModeColor: '#d3610c' },\n    textColorRed: { lightModeColor: '#c82613', darkModeColor: '#ff6847' },\n    textColorPurple: { lightModeColor: '#763e9b', darkModeColor: '#d394f9' },\n    textColorDarkBlue: { lightModeColor: '#174e86', darkModeColor: '#93b8f9' },\n    textColorDarkGreen: { lightModeColor: '#0f5c1a', darkModeColor: '#7fc57b' },\n    textColorDarkYellow: { lightModeColor: '#c3971d', darkModeColor: '#946f00' },\n    textColorDarkOrange: { lightModeColor: '#be5b17', darkModeColor: '#de7633' },\n    textColorDarkRed: { lightModeColor: '#861106', darkModeColor: '#ff9b7c' },\n    textColorDarkPurple: { lightModeColor: '#5e327c', darkModeColor: '#dea9fd' },\n    textColorDarkerBlue: { lightModeColor: '#002451', darkModeColor: '#cedbff' },\n    textColorDarkerGreen: { lightModeColor: '#06400c', darkModeColor: '#a3da9b' },\n    textColorDarkerYellow: { lightModeColor: '#a37519', darkModeColor: '#b5852a' },\n    textColorDarkerOrange: { lightModeColor: '#934511', darkModeColor: '#ef935c' },\n    textColorDarkerRed: { lightModeColor: '#570606', darkModeColor: '#ffc0b1' },\n    textColorDarkerPurple: { lightModeColor: '#3b204d', darkModeColor: '#eecaff' },\n    textColorWhite: { lightModeColor: '#ffffff', darkModeColor: '#333333' },\n    textColorLightGray: { lightModeColor: '#cccccc', darkModeColor: '#535353' },\n    textColorGray: { lightModeColor: '#999999', darkModeColor: '#777777' },\n    textColorDarkGray: { lightModeColor: '#666666', darkModeColor: '#a0a0a0' },\n    textColorDarkerGray: { lightModeColor: '#333333', darkModeColor: '#cfcfcf' },\n    textColorBlack: { lightModeColor: '#000000', darkModeColor: '#ffffff' },\n};\n\n/**\n * @internal\n */\nconst TextColorDropDownItems: Record<TextColorKeys, string> = {\n    textColorLightBlue: 'Light blue',\n    textColorLightGreen: 'Light green',\n    textColorLightYellow: 'Light yellow',\n    textColorLightOrange: 'Light orange',\n    textColorLightRed: 'Light red',\n    textColorLightPurple: 'Light purple',\n    textColorBlue: 'Blue',\n    textColorGreen: 'Green',\n    textColorYellow: 'Yellow',\n    textColorOrange: 'Orange',\n    textColorRed: 'Red',\n    textColorPurple: 'Purple',\n    textColorDarkBlue: 'Dark blue',\n    textColorDarkGreen: 'Dark green',\n    textColorDarkYellow: 'Dark yellow',\n    textColorDarkOrange: 'Dark orange',\n    textColorDarkRed: 'Dark red',\n    textColorDarkPurple: 'Dark purple',\n    textColorDarkerBlue: 'Darker blue',\n    textColorDarkerGreen: 'Darker green',\n    textColorDarkerYellow: 'Darker yellow',\n    textColorDarkerOrange: 'Darker orange',\n    textColorDarkerRed: 'Darker red',\n    textColorDarkerPurple: 'Darker purple',\n    textColorWhite: 'White',\n    textColorLightGray: 'Light gray',\n    textColorGray: 'Gray',\n    textColorDarkGray: 'Dark gray',\n    textColorDarkerGray: 'Darker gray',\n    textColorBlack: 'Black',\n};\n\n/**\n * Get mode independent color value of text color from the given color key\n * @param key The key to get color from\n * @returns A model independent color value of the given key\n */\nfunction getTextColorValue(key: TextColorKeys): Colors {\n    return TextColors[key];\n}\n\nexport { TextColors, TextColorDropDownItems, getTextColorValue };\n","export {\n    LocalizedStrings,\n    OkButtonStringKey,\n    CancelButtonStringKey,\n    MenuItemSplitterKey0,\n} from './type/LocalizedStrings';\nexport { UIUtilities } from './type/UIUtilities';\nexport { ReactEditorPlugin } from './type/ReactEditorPlugin';\nexport { createUIUtilities } from './utils/createUIUtilities';\nexport { getLocalizedString } from './utils/getLocalizedString';\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { ThemeProvider } from '@fluentui/react/lib/Theme';\nimport { WindowProvider } from '@fluentui/react/lib/WindowProvider';\nimport type { UIUtilities } from '../type/UIUtilities';\nimport type { PartialTheme } from '@fluentui/react/lib/Theme';\n\n/**\n * Create the UI Utilities object for plugins to render additional react components\n * @param container Container DIV of editor\n * @param theme Current theme used by editor\n * @returns A UIUtilities object\n */\nexport function createUIUtilities(container: HTMLDivElement, theme: PartialTheme): UIUtilities {\n    return {\n        renderComponent: element => {\n            const doc = container.ownerDocument;\n            const div = doc.createElement('div');\n            doc.body.appendChild(div);\n\n            ReactDOM.render(\n                <WindowProvider window={doc.defaultView!}>\n                    <ThemeProvider theme={theme}>{element}</ThemeProvider>\n                </WindowProvider>,\n                div\n            );\n\n            return () => {\n                ReactDOM.unmountComponentAtNode(div);\n                doc.body.removeChild(div);\n            };\n        },\n        isRightToLeft: () => {\n            const dir =\n                container &&\n                container.ownerDocument.defaultView?.getComputedStyle(container).direction;\n\n            return dir == 'rtl';\n        },\n    };\n}\n","import type { LocalizedStrings } from '../type/LocalizedStrings';\n\n/**\n * Get a localized string\n * @param strings The LocalizedStrings map\n * @param key Key of the string\n * @param defaultString Default unlocalized string, will be used if strings is not specified or the give key doesn't exist in strings\n * @returns A localized string from the string map, or defaultString\n */\nexport function getLocalizedString<T extends string, R extends string | null | undefined>(\n    strings: LocalizedStrings<T> | undefined,\n    key: T,\n    defaultString: R\n) {\n    const str = strings?.[key];\n\n    if (typeof str == 'function') {\n        return str();\n    } else if (typeof str == 'string') {\n        return str;\n    } else {\n        return defaultString;\n    }\n}\n","import type { UIUtilities } from '../type/UIUtilities';\n\n/**\n * @internal\n */\nexport function renderReactComponent(uiUtilities: UIUtilities | null, reactElement: JSX.Element) {\n    if (uiUtilities) {\n        return uiUtilities.renderComponent(reactElement);\n    } else {\n        throw new Error(\n            'UIUtilities is required but not provided. Please call ReactEditorPlugin.setUIUtilities() to set a valid uiUtilities object'\n        );\n    }\n}\n","export { createContextMenuPlugin } from './plugin/createContextMenuPlugin';\nexport { createContextMenuProvider } from './utils/createContextMenuProvider';\nexport { createListEditMenuProvider } from './menus/createListEditMenuProvider';\nexport { createImageEditMenuProvider } from './menus/createImageEditMenuProvider';\nexport { createTableEditMenuProvider } from './menus/createTableEditMenuProvider';\nexport { ContextMenuItem } from './types/ContextMenuItem';\nexport {\n    ListNumberMenuItemStringKey,\n    ImageEditMenuItemStringKey,\n    TableEditInsertMenuItemStringKey,\n    TableEditDeleteMenuItemStringKey,\n    TableEditMergeMenuItemStringKey,\n    TableEditSplitMenuItemStringKey,\n    TableEditAlignMenuItemStringKey,\n    TableEditShadeMenuItemStringKey,\n    TableEditMenuItemStringKey,\n    TableEditAlignTableMenuItemStringKey,\n} from './types/ContextMenuItemStringKeys';\n","import { createContextMenuProvider } from '../utils/createContextMenuProvider';\nimport { EditorPlugin, IEditor, ImageEditor } from 'roosterjs-content-model-types';\nimport { formatImageWithContentModel } from 'roosterjs-content-model-api';\nimport { iterateSelections, updateImageMetadata } from 'roosterjs-content-model-core';\nimport { setImageAltText } from 'roosterjs-content-model-api';\nimport { showInputDialog } from '../../inputDialog/utils/showInputDialog';\nimport type { ContextMenuItem } from '../types/ContextMenuItem';\nimport type { ImageEditMenuItemStringKey } from '../types/ContextMenuItemStringKeys';\nimport type { LocalizedStrings } from '../../common/type/LocalizedStrings';\n\nconst MIN_WIDTH = 10;\nconst MIN_HEIGHT = 10;\n\nconst ImageAltTextMenuItem: ContextMenuItem<ImageEditMenuItemStringKey> = {\n    key: 'menuNameImageAltText',\n    unlocalizedText: 'Add alternate text',\n    onClick: (_, editor, node, strings, uiUtilities) => {\n        const image = node as HTMLImageElement;\n        const initValue = image.alt;\n\n        showInputDialog(\n            uiUtilities,\n            'menuNameImageAltText',\n            'Add alternate text',\n            {\n                altText: {\n                    labelKey: null,\n                    unlocalizedLabel: null,\n                    initValue: initValue,\n                },\n            },\n            strings\n        ).then(values => {\n            editor.focus();\n            editor.setDOMSelection({\n                type: 'image',\n                image: image,\n            });\n\n            if (values) {\n                setImageAltText(editor, values.altText);\n            }\n        });\n    },\n};\n\nconst sizeMap: { [key in ImageEditMenuItemStringKey]?: number } = {\n    menuNameImageSizeBestFit: 0,\n    menuNameImageSizeSmall: 0.25,\n    menuNameImageSizeMedium: 0.5,\n    menuNameImageSizeOriginal: 1,\n};\n\nconst ImageResizeMenuItem: ContextMenuItem<ImageEditMenuItemStringKey> = {\n    key: 'menuNameImageResize',\n    unlocalizedText: 'Size',\n    subItems: {\n        menuNameImageSizeBestFit: 'Best fit',\n        menuNameImageSizeSmall: 'Small',\n        menuNameImageSizeMedium: 'Medium',\n        menuNameImageSizeOriginal: 'Original',\n    },\n    onClick: (key, editor, _) => {\n        const selection = editor.getDOMSelection();\n        if (selection.type !== 'image') {\n            return;\n        }\n\n        const percentage = sizeMap[key];\n\n        if (percentage > 0) {\n            const { naturalWidth, naturalHeight } = selection.image;\n\n            resizeByPercentage(editor, percentage, naturalWidth, naturalHeight);\n        } else {\n            resetImage(editor);\n        }\n    },\n};\n\nconst ImageRotateMenuItem: ContextMenuItem<ImageEditMenuItemStringKey, ImageEditor> = {\n    key: 'menuNameImageRotate',\n    unlocalizedText: 'Rotate image',\n    subItems: {\n        menuNameImageRotateLeft: 'Left',\n        menuNameImageRotateRight: 'Right',\n    },\n    shouldShow: (_, node, imageEditor) => {\n        return (\n            !!imageEditor?.isOperationAllowed('rotate') &&\n            imageEditor.canRegenerateImage(node as HTMLImageElement)\n        );\n    },\n    onClick: (key, editor, node, strings, uiUtilities, imageEdit) => {\n        switch (key) {\n            case 'menuNameImageRotateLeft':\n                imageEdit?.rotateImage(-Math.PI / 2);\n                break;\n            case 'menuNameImageRotateRight':\n                imageEdit?.rotateImage(Math.PI / 2);\n                break;\n        }\n    },\n};\n\nconst ImageFlipMenuItem: ContextMenuItem<ImageEditMenuItemStringKey, ImageEditor> = {\n    key: 'menuNameImageFlip',\n    unlocalizedText: 'Flip image',\n    subItems: {\n        menuNameImageRotateFlipHorizontally: 'Flip Horizontally',\n        menuNameImageRotateFlipVertically: 'Flip Vertically',\n    },\n    shouldShow: (_, node, imageEditor) => {\n        return (\n            !!imageEditor?.isOperationAllowed('rotate') &&\n            imageEditor.canRegenerateImage(node as HTMLImageElement)\n        );\n    },\n    onClick: (key, editor, node, strings, uiUtilities, imageEdit) => {\n        switch (key) {\n            case 'menuNameImageRotateFlipHorizontally':\n                imageEdit?.flipImage('horizontal');\n                break;\n            case 'menuNameImageRotateFlipVertically':\n                imageEdit?.flipImage('vertical');\n                break;\n        }\n    },\n};\n\nconst ImageCropMenuItem: ContextMenuItem<ImageEditMenuItemStringKey, ImageEditor> = {\n    key: 'menuNameImageCrop',\n    unlocalizedText: 'Crop image',\n    shouldShow: (_, node, imageEditor) => {\n        return (\n            !!imageEditor?.isOperationAllowed('crop') &&\n            imageEditor.canRegenerateImage(node as HTMLImageElement)\n        );\n    },\n    onClick: (_, editor, node, strings, uiUtilities, imageEdit) => {\n        imageEdit?.cropImage();\n    },\n};\n\nconst ImageRemoveMenuItem: ContextMenuItem<ImageEditMenuItemStringKey> = {\n    key: 'menuNameImageRemove',\n    unlocalizedText: 'Remove image',\n    onClick: (_, editor, node) => {\n        removeImage(editor);\n    },\n};\n\nconst ImageCopyMenuItem: ContextMenuItem<ImageEditMenuItemStringKey> = {\n    key: 'menuNameImageCopy',\n    unlocalizedText: 'Copy image',\n    onClick: (_, editor) => {\n        editor.getDocument()?.execCommand('copy');\n    },\n};\n\nconst ImageCutMenuItem: ContextMenuItem<ImageEditMenuItemStringKey> = {\n    key: 'menuNameImageCut',\n    unlocalizedText: 'Cut image',\n    onClick: (_, editor) => {\n        editor.getDocument()?.execCommand('cut');\n    },\n};\n\nfunction shouldShowImageEditItems(editor: IEditor, _: Node) {\n    const selection = editor.getDOMSelection();\n    return selection.type === 'image' && !!selection.image;\n}\n\n/**\n * Create a new instance of ContextMenuProvider to support image editing functionalities in context menu\n * @returns A new ContextMenuProvider\n */\nexport function createImageEditMenuProvider(\n    imageEditor?: ImageEditor,\n    strings?: LocalizedStrings<ImageEditMenuItemStringKey>\n): EditorPlugin {\n    return createContextMenuProvider<ImageEditMenuItemStringKey, ImageEditor>(\n        'imageEdit',\n        [\n            ImageAltTextMenuItem,\n            ImageResizeMenuItem,\n            ImageCropMenuItem,\n            ImageRemoveMenuItem,\n            ImageRotateMenuItem,\n            ImageFlipMenuItem,\n            ImageCopyMenuItem,\n            ImageCutMenuItem,\n        ],\n        strings,\n        shouldShowImageEditItems,\n        imageEditor\n    );\n}\n\nfunction removeImage(editor: IEditor) {\n    editor.formatContentModel(\n        model => {\n            let changed = false;\n\n            iterateSelections(model, (_, __, block, segments) => {\n                segments?.forEach(segment => {\n                    if (segment.segmentType == 'Image' && block?.blockType == 'Paragraph') {\n                        const index = block.segments.indexOf(segment);\n\n                        if (index >= 0) {\n                            block.segments.splice(index, 1);\n                            changed = true;\n                        }\n                    }\n                });\n            });\n\n            return changed;\n        },\n        {\n            apiName: 'DeleteImage',\n        }\n    );\n}\n\nfunction resizeByPercentage(\n    editor: IEditor,\n    percentage: number,\n    naturalWidth: number,\n    naturalHeight: number\n) {\n    formatImageWithContentModel(editor, 'resizeImage', segment => {\n        updateImageMetadata(segment, format => {\n            format = format || {\n                naturalWidth,\n                naturalHeight,\n                leftPercent: 0,\n                rightPercent: 0,\n                topPercent: 0,\n                bottomPercent: 0,\n                angleRad: 0,\n            };\n\n            const newWidth = Math.max(\n                MIN_WIDTH,\n                format.naturalWidth * (1 - format.leftPercent - format.rightPercent) * percentage\n            );\n            const newHeight = Math.max(\n                MIN_HEIGHT,\n                format.naturalHeight * (1 - format.topPercent - format.bottomPercent) * percentage\n            );\n            format.widthPx = newWidth;\n            format.heightPx = newHeight;\n            segment.format.width = newWidth + 'px';\n            segment.format.height = newHeight + 'px';\n\n            return format;\n        });\n    });\n}\n\nfunction resetImage(editor: IEditor) {\n    formatImageWithContentModel(editor, 'resizeImage', segment => {\n        updateImageMetadata(segment, () => null);\n\n        delete segment.format.width;\n        delete segment.format.height;\n\n        segment.format.maxWidth = '100%';\n    });\n}\n","import { createContextMenuProvider } from '../utils/createContextMenuProvider';\nimport { EditorPlugin, IEditor } from 'roosterjs-content-model-types';\nimport { isElementOfType, isNodeOfType } from 'roosterjs-content-model-dom';\nimport { setListStartNumber } from 'roosterjs-content-model-api';\nimport { showInputDialog } from '../../inputDialog/utils/showInputDialog';\nimport type { ContextMenuItem } from '../types/ContextMenuItem';\nimport type { ListNumberMenuItemStringKey } from '../types/ContextMenuItemStringKeys';\nimport type { LocalizedStrings } from '../../common/type/LocalizedStrings';\n\nconst ListNumberResetMenuItem: ContextMenuItem<ListNumberMenuItemStringKey> = {\n    key: 'menuNameListNumberReset',\n    unlocalizedText: 'Restart at 1',\n    onClick: (_, editor, node) => {\n        setListStartNumber(editor, 1);\n    },\n};\n\nconst ListNumberEditMenuItem: ContextMenuItem<ListNumberMenuItemStringKey> = {\n    key: 'menuNameListNumberEdit',\n    unlocalizedText: 'Set numbering value',\n    onClick: (_, editor, node, strings, uiUtilities) => {\n        const listAndLi = getEditingList(editor, node);\n\n        if (listAndLi) {\n            const { list, li } = listAndLi;\n            let startNumber = list.start;\n\n            for (let child = list.firstChild; child; child = child.nextSibling) {\n                if (child === li) {\n                    break;\n                } else if (isNodeOfType(child, 'ELEMENT_NODE') && isElementOfType(child, 'li')) {\n                    startNumber += 1;\n                }\n            }\n\n            showInputDialog(\n                uiUtilities,\n                'menuNameListNumberEdit',\n                'Set numbering value',\n                {\n                    value: {\n                        labelKey: 'dialogTextSetListNumber',\n                        unlocalizedLabel: 'Set value to',\n                        initValue: startNumber.toString(),\n                    },\n                },\n                strings\n            ).then(values => {\n                editor.focus();\n\n                if (values) {\n                    const result = parseInt(values.value);\n\n                    if (result > 0 && result != startNumber) {\n                        setListStartNumber(editor, Math.floor(result));\n                    }\n                }\n            });\n        }\n    },\n};\n\nfunction getEditingList(editor: IEditor, node: Node) {\n    const domHelper = editor.getDOMHelper();\n    const li = domHelper.findClosestElementAncestor(node, 'LI');\n    const list = li && (domHelper.findClosestElementAncestor(li, 'ol') as HTMLOListElement | null);\n\n    return list?.isContentEditable ? { list, li } : null;\n}\n\n/**\n * Create a new instance of ContextMenuProvider to support list number editing functionalities in context menu\n * @returns A new ContextMenuProvider\n */\nexport function createListEditMenuProvider(\n    strings?: LocalizedStrings<ListNumberMenuItemStringKey>\n): EditorPlugin {\n    return createContextMenuProvider(\n        'listEdit',\n        [ListNumberResetMenuItem, ListNumberEditMenuItem],\n        strings,\n        (editor, node) => !!getEditingList(editor, node)\n    );\n}\n","import { Colors, EditorPlugin, IEditor, TableOperation } from 'roosterjs-content-model-types';\nimport { createContextMenuProvider } from '../utils/createContextMenuProvider';\nimport { editTable, setTableCellShade } from 'roosterjs-content-model-api';\nimport { renderColorPicker } from '../../colorPicker/component/renderColorPicker';\nimport type { ContextMenuItem } from '../types/ContextMenuItem';\nimport type { LocalizedStrings } from '../../common/type/LocalizedStrings';\nimport {\n    getColorPickerContainerClassName,\n    getColorPickerItemClassName,\n} from '../../colorPicker/utils/getClassNamesForColorPicker';\nimport type {\n    TableEditMenuItemStringKey,\n    TableEditInsertMenuItemStringKey,\n    TableEditDeleteMenuItemStringKey,\n    TableEditMergeMenuItemStringKey,\n    TableEditSplitMenuItemStringKey,\n    TableEditAlignMenuItemStringKey,\n    TableEditShadeMenuItemStringKey,\n    TableEditAlignTableMenuItemStringKey,\n} from '../types/ContextMenuItemStringKeys';\nimport {\n    BackgroundColorDropDownItems,\n    BackgroundColors,\n} from '../../colorPicker/utils/backgroundColors';\n\nconst TableEditOperationMap: Partial<Record<TableEditMenuItemStringKey, TableOperation>> = {\n    menuNameTableInsertAbove: 'insertAbove',\n    menuNameTableInsertBelow: 'insertBelow',\n    menuNameTableInsertLeft: 'insertLeft',\n    menuNameTableInsertRight: 'insertRight',\n    menuNameTableDeleteTable: 'deleteTable',\n    menuNameTableDeleteColumn: 'deleteColumn',\n    menuNameTableDeleteRow: 'deleteRow',\n    menuNameTableMergeAbove: 'mergeAbove',\n    menuNameTableMergeBelow: 'mergeBelow',\n    menuNameTableMergeLeft: 'mergeLeft',\n    menuNameTableMergeRight: 'mergeRight',\n    menuNameTableMergeCells: 'mergeCells',\n    menuNameTableSplitHorizontally: 'splitHorizontally',\n    menuNameTableSplitVertically: 'splitVertically',\n    menuNameTableAlignLeft: 'alignCellLeft',\n    menuNameTableAlignCenter: 'alignCellCenter',\n    menuNameTableAlignRight: 'alignCellRight',\n    menuNameTableAlignTop: 'alignCellTop',\n    menuNameTableAlignMiddle: 'alignCellMiddle',\n    menuNameTableAlignBottom: 'alignCellBottom',\n    menuNameTableAlignTableLeft: 'alignLeft',\n    menuNameTableAlignTableCenter: 'alignCenter',\n    menuNameTableAlignTableRight: 'alignRight',\n};\n\nconst ColorValues = {\n    ...BackgroundColors,\n    // Add this value to satisfy compiler\n    menuNameTableCellShade: <Colors>(<unknown>null),\n};\n\nfunction onClick(key: TableEditMenuItemStringKey, editor: IEditor) {\n    editTable(editor, TableEditOperationMap[key]);\n}\n\nconst TableEditInsertMenuItem: ContextMenuItem<TableEditInsertMenuItemStringKey> = {\n    key: 'menuNameTableInsert',\n    unlocalizedText: 'Insert',\n    subItems: {\n        menuNameTableInsertAbove: 'Insert above',\n        menuNameTableInsertBelow: 'Insert below',\n        menuNameTableInsertLeft: 'Insert left',\n        menuNameTableInsertRight: 'Insert right',\n    },\n    onClick,\n};\n\nconst TableEditDeleteMenuItem: ContextMenuItem<TableEditDeleteMenuItemStringKey> = {\n    key: 'menuNameTableDelete',\n    unlocalizedText: 'Delete',\n    subItems: {\n        menuNameTableDeleteColumn: 'Delete column',\n        menuNameTableDeleteRow: 'Delete row',\n        menuNameTableDeleteTable: 'Delete table',\n    },\n    onClick,\n};\n\nconst TableEditMergeMenuItem: ContextMenuItem<TableEditMergeMenuItemStringKey> = {\n    key: 'menuNameTableMerge',\n    unlocalizedText: 'Merge',\n    subItems: {\n        menuNameTableMergeAbove: 'Merge above',\n        menuNameTableMergeBelow: 'Merge below',\n        menuNameTableMergeLeft: 'Merge left',\n        menuNameTableMergeRight: 'Merge right',\n        '-': '-',\n        menuNameTableMergeCells: 'Merge selected cells',\n    },\n    onClick,\n};\n\nconst TableEditSplitMenuItem: ContextMenuItem<TableEditSplitMenuItemStringKey> = {\n    key: 'menuNameTableSplit',\n    unlocalizedText: 'Split',\n    subItems: {\n        menuNameTableSplitHorizontally: 'Split horizontally',\n        menuNameTableSplitVertically: 'Split vertically',\n    },\n    onClick,\n};\n\nconst TableEditAlignMenuItem: ContextMenuItem<TableEditAlignMenuItemStringKey> = {\n    key: 'menuNameTableAlign',\n    unlocalizedText: 'Align cell',\n    subItems: {\n        menuNameTableAlignLeft: 'Align left',\n        menuNameTableAlignCenter: 'Align center',\n        menuNameTableAlignRight: 'Align right',\n        '-': '-',\n        menuNameTableAlignTop: 'Align top',\n        menuNameTableAlignMiddle: 'Align middle',\n        menuNameTableAlignBottom: 'Align bottom',\n    },\n    onClick,\n};\n\nconst TableEditAlignTableMenuItem: ContextMenuItem<TableEditAlignTableMenuItemStringKey> = {\n    key: 'menuNameTableAlignTable',\n    unlocalizedText: 'Align table',\n    subItems: {\n        menuNameTableAlignTableLeft: 'Align left',\n        menuNameTableAlignTableCenter: 'Align center',\n        menuNameTableAlignTableRight: 'Align right',\n    },\n    onClick,\n};\n\nconst TableEditCellShadeMenuItem: ContextMenuItem<TableEditShadeMenuItemStringKey> = {\n    key: 'menuNameTableCellShade',\n    unlocalizedText: 'Shading',\n    subItems: BackgroundColorDropDownItems,\n    onClick: (key, editor) => {\n        setTableCellShade(editor, ColorValues[key].lightModeColor);\n    },\n    itemRender: (item, click) => renderColorPicker(item, ColorValues, click),\n    itemClassName: getColorPickerItemClassName(),\n    commandBarSubMenuProperties: {\n        className: getColorPickerContainerClassName(),\n    },\n};\n\nfunction getEditingTable(editor: IEditor, node: Node) {\n    const domHelper = editor.getDOMHelper();\n    const td = domHelper.findClosestElementAncestor(node, 'TD,TH');\n    const table = td && domHelper.findClosestElementAncestor(td, 'table');\n\n    return table?.isContentEditable ? { table, td } : null;\n}\n\n/**\n * Create a new instance of ContextMenuProvider to support table editing functionalities in context menu\n * @returns A new ContextMenuProvider\n */\nexport function createTableEditMenuProvider(\n    strings?: LocalizedStrings<TableEditMenuItemStringKey>\n): EditorPlugin {\n    return createContextMenuProvider(\n        'tableEdit',\n        <ContextMenuItem<TableEditMenuItemStringKey>[]>[\n            TableEditInsertMenuItem,\n            TableEditDeleteMenuItem,\n            TableEditMergeMenuItem,\n            TableEditSplitMenuItem,\n            TableEditAlignMenuItem,\n            TableEditAlignTableMenuItem,\n            TableEditCellShadeMenuItem,\n        ],\n        strings,\n        (editor, node) => !!getEditingTable(editor, node)\n    );\n}\n","import * as React from 'react';\nimport { ContextMenuPluginBase } from 'roosterjs-content-model-plugins';\nimport { ContextualMenu } from '@fluentui/react/lib/ContextualMenu';\nimport { renderReactComponent } from '../../common/utils/renderReactComponent';\nimport type { IContextualMenuItem } from '@fluentui/react/lib/ContextualMenu';\nimport type { ReactEditorPlugin, UIUtilities } from '../../common/index';\n\nfunction normalizeItems(items: (IContextualMenuItem | null)[]) {\n    let dividerKey = 0;\n    return items.map(\n        item =>\n            item || {\n                name: '-',\n                key: 'divider_' + (dividerKey++).toString(),\n            }\n    );\n}\n\nclass ContextMenuPlugin extends ContextMenuPluginBase<IContextualMenuItem>\n    implements ReactEditorPlugin {\n    private uiUtilities: UIUtilities | null = null;\n    private disposer: (() => void) | null = null;\n\n    constructor() {\n        super({\n            render: (container, items, onDismiss) => {\n                const normalizedItems = normalizeItems(items);\n\n                if (normalizedItems.length > 0) {\n                    this.disposer = renderReactComponent(\n                        this.uiUtilities,\n                        <ContextualMenu\n                            target={container}\n                            onDismiss={onDismiss}\n                            items={normalizedItems}\n                        />\n                    );\n                }\n            },\n            dismiss: _ => {\n                this.disposer?.();\n                this.disposer = null;\n            },\n        });\n    }\n\n    setUIUtilities(uiUtilities: UIUtilities) {\n        this.uiUtilities = uiUtilities;\n    }\n}\n\n/**\n * Create a new instance of ContextMenu plugin with context menu implementation based on FluentUI.\n */\nexport function createContextMenuPlugin(): ContextMenuPluginBase<IContextualMenuItem> {\n    return new ContextMenuPlugin();\n}\n","import { getLocalizedString } from '../../common/utils/getLocalizedString';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\nimport type { ContextMenuItem } from '../types/ContextMenuItem';\nimport type { IContextualMenuItem } from '@fluentui/react/lib/ContextualMenu';\nimport type { LocalizedStrings, ReactEditorPlugin, UIUtilities } from '../../common/index';\nimport type { ContextMenuProvider, EditorPlugin, IEditor } from 'roosterjs-content-model-types';\n\n/**\n * A plugin of editor to provide context menu items\n */\nclass ContextMenuProviderImpl<TString extends string, TContext>\n    implements ContextMenuProvider<IContextualMenuItem>, ReactEditorPlugin {\n    private editor: IEditor | null = null;\n    private targetNode: Node | null = null;\n    private uiUtilities: UIUtilities | null = null;\n\n    /**\n     * Create a new instance of ContextMenuProviderImpl class\n     * @param menuName Name of this group of menus\n     * @param items Menu items that will be show\n     * @param strings Localized strings of these menu items\n     * @param shouldAddMenuItems A general checker to decide if we should add this group of menu items\n     */\n    constructor(\n        private menuName: string,\n        private items: ContextMenuItem<TString, TContext>[],\n        private strings?: LocalizedStrings<TString>,\n        private shouldAddMenuItems?: (editor: IEditor, node: Node) => boolean,\n        private context?: TContext\n    ) {}\n\n    /**\n     * Get a friendly name of  this plugin\n     */\n    getName() {\n        return this.menuName;\n    }\n\n    /**\n     * Initialize this plugin. This should only be called from Editor\n     * @param editor Editor instance\n     */\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        this.editor = null;\n    }\n\n    getContextMenuItems(node: Node) {\n        const editor = this.editor;\n\n        this.targetNode = node;\n\n        return editor && this.shouldAddMenuItems?.(this.editor, node)\n            ? this.items\n                  .filter(item => !item.shouldShow || item.shouldShow(editor, node, this.context))\n                  .map(item => this.convertMenuItems(item, node))\n            : [];\n    }\n\n    setUIUtilities(uiUtilities: UIUtilities) {\n        this.uiUtilities = uiUtilities;\n    }\n\n    private convertMenuItems(\n        item: ContextMenuItem<TString, TContext>,\n        node: Node\n    ): IContextualMenuItem {\n        const selectedId = this.editor && item.getSelectedId?.(this.editor, node);\n\n        return {\n            key: item.key,\n            data: item,\n            text: getLocalizedString(this.strings, item.key, item.unlocalizedText),\n            ariaLabel: getLocalizedString(this.strings, item.key, item.unlocalizedText),\n            onClick: () => this.onClick(item, item.key),\n            subMenuProps: item.subItems\n                ? {\n                      onItemClick: (_, menuItem) => menuItem && this.onClick(item, menuItem.data),\n                      items: getObjectKeys(item.subItems).map(key => ({\n                          key: key,\n                          data: key,\n                          text: getLocalizedString(this.strings, key, item.subItems?.[key]),\n                          className: item.itemClassName,\n                          onRender: item.itemRender\n                              ? subItem => item.itemRender?.(subItem, () => this.onClick(item, key))\n                              : undefined,\n                          iconProps:\n                              key == selectedId\n                                  ? {\n                                        iconName: 'Checkmark',\n                                    }\n                                  : undefined,\n                      })),\n                      ...(item.commandBarSubMenuProperties || {}),\n                  }\n                : undefined,\n        };\n    }\n\n    private onClick(item: ContextMenuItem<TString, TContext>, key: TString) {\n        if (this.editor && this.targetNode && this.uiUtilities) {\n            item.onClick(\n                key,\n                this.editor,\n                this.targetNode,\n                this.strings,\n                this.uiUtilities,\n                this.context\n            );\n        }\n    }\n}\n\n/**\n * Create a new instance of ContextMenuProviderImpl class\n * @param menuName Name of this group of menus\n * @param items Menu items that will be show\n * @param strings Localized strings of these menu items\n * @param shouldAddMenuItems A general checker to decide if we should add this group of menu items\n */\nexport function createContextMenuProvider<TString extends string, TContext>(\n    menuName: string,\n    items: ContextMenuItem<TString, TContext>[],\n    strings?: LocalizedStrings<TString>,\n    shouldAddMenuItems?: (editor: IEditor, node: Node) => boolean,\n    context?: TContext\n): EditorPlugin {\n    return new ContextMenuProviderImpl<TString, TContext>(\n        menuName,\n        items,\n        strings,\n        shouldAddMenuItems,\n        context\n    );\n}\n","import * as React from 'react';\nimport { css } from '@fluentui/react/lib/Utilities';\nimport type { Emoji } from '../type/Emoji';\nimport type { EmojiPaneStyle } from '../type/EmojiPaneStyles';\nimport type { IProcessedStyleSet, IStyleSet } from '@fluentui/react/lib/Styling';\n/**\n * @internal\n * Emoji icon data\n */\nexport interface EmojiIconProps {\n    id: string;\n    emoji: Emoji;\n    strings: Record<string, string>;\n    classNames: IProcessedStyleSet<IStyleSet<EmojiPaneStyle>>;\n    onClick?: (e: React.MouseEvent<EventTarget>) => void;\n    onMouseOver?: (e: React.MouseEvent<EventTarget>) => void;\n    onFocus?: React.FocusEventHandler<HTMLButtonElement>;\n    isSelected?: boolean;\n}\n\n/**\n * @internal\n * Emoji icon component\n */\nexport function EmojiIcon(props: EmojiIconProps) {\n    const { emoji, onClick, isSelected, onMouseOver, onFocus, strings, id, classNames } = props;\n    const content = emoji.description && strings[emoji.description];\n\n    return (\n        <button\n            id={id}\n            role=\"option\"\n            className={css(classNames.emoji, {\n                [classNames.emojiSelected]: isSelected,\n            })}\n            onClick={onClick}\n            onMouseOver={onMouseOver}\n            onFocus={onFocus}\n            data-is-focusable={true}\n            aria-label={content}\n            aria-selected={isSelected}\n            {...getDataAndAriaProps(props)}>\n            {emoji.codePoint || ''}\n        </button>\n    );\n}\n\nfunction reduceObject<T>(object: any, callback: (key: string) => boolean): T {\n    if (!object) {\n        return object;\n    }\n\n    return Object.keys(object).reduce((result: any, key: string) => {\n        if (callback(key)) {\n            result[key] = object[key];\n        }\n        return result;\n    }, {} as T);\n}\n\nfunction getDataAndAriaProps<T>(props: EmojiIconProps): T {\n    return reduceObject(\n        props || {},\n        propName => propName.indexOf('data-') === 0 || propName.indexOf('aria-') === 0\n    );\n}\n","import * as React from 'react';\nimport { css } from '@fluentui/react/lib/Utilities';\nimport { EmojiFabricIconCharacterMap, EmojiList } from '../utils/emojiList';\nimport { FocusZone, FocusZoneDirection } from '@fluentui/react/lib/FocusZone';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\nimport { Icon } from '@fluentui/react/lib/Icon';\nimport { TooltipHost } from '@fluentui/react/lib/Tooltip';\nimport type { EmojiFamilyKeys } from '../utils/emojiList';\nimport type { EmojiPaneStyle } from '../type/EmojiPaneStyles';\nimport type { IProcessedStyleSet, IStyleSet } from '@fluentui/react/lib/Styling';\n\n/**\n * @internal\n * Emoji Nav Bar data\n */\nexport interface EmojiNavBarProps {\n    onClick?: (selected: string) => void;\n    currentSelected?: string;\n    getTabId?: (selected: EmojiFamilyKeys) => string;\n    strings: Record<string, string>;\n    classNames: IProcessedStyleSet<IStyleSet<EmojiPaneStyle>>;\n}\n\n/**\n * @internal\n */\nexport function EmojiNavBar(props: EmojiNavBarProps) {\n    const { currentSelected, getTabId, strings = {}, classNames } = props;\n    const keys = getObjectKeys(EmojiList);\n    const onFamilyClick = (key: string) => {\n        if (props.onClick) {\n            props.onClick(key);\n        }\n    };\n\n    return (\n        // for each emoji family key, create a button to use as nav bar\n        <div className={classNames.navBar} role=\"tablist\">\n            <FocusZone direction={FocusZoneDirection.horizontal}>\n                {keys.map((key, index) => {\n                    const selected = key === currentSelected;\n                    const friendlyName = strings[key];\n\n                    return (\n                        <TooltipHost\n                            hostClassName={classNames.navBarTooltip}\n                            content={friendlyName}\n                            key={key}>\n                            <button\n                                className={css(classNames.navBarButton, {\n                                    [classNames.selected]: selected,\n                                })}\n                                key={key}\n                                onClick={onFamilyClick.bind(onclick, key)}\n                                id={getTabId?.(key)}\n                                role=\"tab\"\n                                aria-selected={selected}\n                                aria-label={friendlyName}\n                                data-is-focusable=\"true\"\n                                aria-posinset={index + 1}\n                                tabIndex={0}\n                                aria-setsize={keys.length}>\n                                <Icon iconName={EmojiFabricIconCharacterMap[key]} />\n                            </button>\n                        </TooltipHost>\n                    );\n                })}\n            </FocusZone>\n        </div>\n    );\n}\n","import * as React from 'react';\nimport { Callout, DirectionalHint } from '@fluentui/react/lib/Callout';\nimport { CommonEmojis, EmojiFamilyKeys, EmojiList, MoreEmoji } from '../utils/emojiList';\nimport { css, KeyCodes, memoizeFunction } from '@fluentui/react/lib/Utilities';\nimport { EmojiIcon } from './EmojiIcon';\nimport { EmojiNavBar } from './EmojiNavBar';\nimport { EmojiStatusBar } from './EmojiStatusBar';\nimport { FocusZone } from '@fluentui/react/lib/FocusZone';\nimport { getLocalizedString } from '../../common/index';\nimport { mergeStyleSets } from '@fluentui/react/lib/Styling';\nimport { searchEmojis } from '../utils/searchEmojis';\nimport { TextField } from '@fluentui/react/lib/TextField';\nimport { useTheme } from '@fluentui/react/lib/Theme';\nimport type { EmojiIconProps } from './EmojiIcon';\nimport type { EmojiNavBarProps } from './EmojiNavBar';\nimport type { EmojiStatusBarProps } from './EmojiStatusBar';\nimport type { ICalloutProps } from '@fluentui/react/lib/Callout';\nimport type { Emoji } from '../type/Emoji';\nimport type { EmojiStringKeys } from '../type/EmojiStringKeys';\nimport type { LocalizedStrings } from '../../common/index';\nimport type { ITextField } from '@fluentui/react/lib/TextField';\nimport type { Theme } from '@fluentui/react/lib/Theme';\n\n// \"When a div contains an element that is bigger (either taller or wider) than the parent and has the property\n// overflow-x or overflow-y set to any value, then it can receive the focus.\"\n// https://bugzilla.mozilla.org/show_bug.cgi?id=1069739\nconst TabIndexForFirefoxBug = -1;\nconst EmojisPerRow = 7;\nconst EmojiVisibleRowCount = 5;\nconst EmojiVisibleWithoutNavBarRowCount = 6;\nconst EmojiHeightPx = 40;\nconst VerticalDirectionKeys: number[] = [KeyCodes.up, KeyCodes.down];\nconst DirectionKeys: number[] = [\n    KeyCodes.left,\n    KeyCodes.right,\n    KeyCodes.up,\n    KeyCodes.down,\n    KeyCodes.home,\n    KeyCodes.end,\n];\n\nconst TooltipCalloutProps: ICalloutProps = {\n    isBeakVisible: true,\n    beakWidth: 16,\n    gapSpace: 0,\n    setInitialFocus: true,\n    doNotLayer: false,\n    directionalHint: DirectionalHint.bottomCenter,\n};\n\n/**\n * @internal\n * Types of emoji pane size\n */\nexport type EmojiPaneMode = 'Quick' | 'Partial' | 'Full';\n\n/**\n * @internal\n * Types of emoji Navigation direction\n */\nexport type EmojiPaneNavigateDirection = 'Horizontal' | 'Vertical';\n\n/**\n * @internal\n * Emoji Pane data\n */\nexport interface EmojiPaneState {\n    index: number;\n    mode: EmojiPaneMode;\n    currentEmojiList: Emoji[];\n    currentFamily: EmojiFamilyKeys;\n    search: string;\n    searchInBox: string;\n}\n\n/**\n * @internal\n * Emoji Pane customizable data\n */\nexport interface EmojiPaneProps {\n    searchDisabled?: boolean;\n    hideStatusBar?: boolean;\n    navBarProps?: Partial<EmojiNavBarProps>;\n    statusBarProps?: Partial<EmojiStatusBarProps>;\n    emojiIconProps?: Partial<EmojiIconProps>;\n    searchBoxString?: LocalizedStrings<EmojiStringKeys>;\n    onSelect: (emoji: Emoji, wordBeforeCursor: string) => void;\n    baseId: number;\n    strings: Record<string, string>;\n}\n\nconst AriaAttributes = {\n    ActiveDescendant: 'aria-activedescendant',\n    AutoComplete: 'aria-autocomplete',\n    Controls: 'aria-controls',\n    Expanded: 'aria-expanded',\n    HasPopup: 'aria-haspopup',\n    Owns: 'aria-owns',\n    Pressed: 'aria-pressed',\n};\n\n/**\n * @internal\n * Emoji pane component functions\n */\nexport interface EmojiPane {\n    navigate: (change: number, direction?: EmojiPaneNavigateDirection) => number;\n    getEmojiElementIdByIndex: (index: number) => string | null;\n    getSelectedEmoji: () => Emoji;\n    showFullPicker: (fullSearchText: string) => void;\n    setSearch: (value: string) => void;\n    normalizeSearchText: (text: string, colonIncluded: boolean) => string;\n    getSearchResult: (searchValue: string, mode: EmojiPaneMode) => Emoji[];\n    getEmojiIconId: (emoji: Emoji) => string;\n}\n\nconst EmojiPane = React.forwardRef(function EmojiPaneFunc(\n    props: EmojiPaneProps,\n    ref: React.Ref<EmojiPane>\n) {\n    let searchBox: ITextField;\n    let emojiBody: HTMLElement;\n    let input: HTMLInputElement;\n\n    const [index, setIndex] = React.useState<number>(0);\n    const [mode, setMode] = React.useState<EmojiPaneMode>('Quick');\n    const [currentEmojiList, setCurrentEmojiList] = React.useState<Emoji[]>(CommonEmojis);\n    const [currentFamily, setCurrentFamily] = React.useState<EmojiFamilyKeys>('People');\n    const [search, setSearchString] = React.useState<string>(':');\n    const [searchInBox, setSearchInBox] = React.useState<string>('');\n\n    const theme = useTheme();\n    const classNames = getEmojiPaneClassName(theme);\n    const listId = `EmojiPane${props.baseId}`;\n\n    const navigate = React.useCallback(\n        (change: number, direction?: EmojiPaneNavigateDirection): number => {\n            if (!direction) {\n                direction = 'Horizontal';\n            }\n\n            if (direction === 'Vertical' && index !== -1) {\n                change *= EmojisPerRow;\n            }\n\n            const newIndex = index + change;\n            const length = currentEmojiList.length;\n            if (newIndex >= 0 && newIndex < length) {\n                setIndex(newIndex);\n                return newIndex;\n            }\n\n            return -1;\n        },\n        [index]\n    );\n\n    const normalizeSearchText = React.useCallback(\n        (text: string, colonIncluded: boolean): string => {\n            if (text == null) {\n                return '';\n            }\n\n            if (colonIncluded) {\n                text = text.substr(1);\n            }\n            return text.trim();\n        },\n        []\n    );\n\n    const getEmojiElementIdByIndex = React.useCallback(\n        (index: number): string | null => {\n            const emoji = currentEmojiList[index];\n            if (emoji) {\n                return getEmojiIconId(emoji);\n            }\n\n            return null;\n        },\n        [currentEmojiList]\n    );\n\n    const getSelectedEmoji = React.useCallback((): Emoji => {\n        return currentEmojiList[index];\n    }, [currentEmojiList, index]);\n\n    const showFullPicker = React.useCallback(\n        (fullSearchText: string): void => {\n            const normalizedSearchValue = normalizeSearchText(fullSearchText, true);\n            const newMode: EmojiPaneMode = normalizedSearchValue.length === 0 ? 'Full' : 'Partial';\n            setIndex(newMode === 'Full' ? -1 : 0);\n            setMode(newMode);\n            setCurrentEmojiList(getSearchResult(normalizedSearchValue, newMode));\n            setSearchString(fullSearchText);\n            setSearchInBox(normalizedSearchValue);\n        },\n        [mode]\n    );\n\n    const setSearch = React.useCallback(\n        (value: string): void => {\n            const normalizedSearchValue = normalizeSearchText(value, false);\n            setIndex(0);\n            setCurrentEmojiList(getSearchResult(normalizedSearchValue, mode));\n            setSearchString(value);\n        },\n        [index, search, currentEmojiList]\n    );\n\n    const getSearchResult = React.useCallback(\n        (searchValue: string, mode: EmojiPaneMode): Emoji[] => {\n            const isQuickMode = mode === 'Quick';\n            if (!searchValue) {\n                return isQuickMode ? currentEmojiList : EmojiList[currentFamily];\n            }\n\n            const emojiList = searchEmojis(searchValue, props.strings);\n            return isQuickMode ? emojiList.slice(0, 5).concat([MoreEmoji]) : emojiList;\n        },\n        [mode, currentFamily, currentEmojiList]\n    );\n\n    const getEmojiIconId = React.useCallback(\n        (emoji: Emoji) => (emoji ? `${listId}-${emoji.key}` : ''),\n        [listId]\n    );\n\n    React.useImperativeHandle(\n        ref,\n        () => ({\n            navigate,\n            getEmojiElementIdByIndex,\n            showFullPicker,\n            getSearchResult,\n            setSearch,\n            getSelectedEmoji,\n            normalizeSearchText,\n            getEmojiIconId,\n        }),\n        [\n            navigate,\n            getEmojiElementIdByIndex,\n            showFullPicker,\n            getSearchResult,\n            setSearch,\n            getEmojiIconId,\n            getSelectedEmoji,\n            normalizeSearchText,\n        ]\n    );\n\n    const renderQuickPicker = (\n        props: EmojiPaneProps,\n        index: number,\n        currentEmojiList: Emoji[]\n    ): JSX.Element => {\n        const { strings } = props;\n        const selectedEmoji = getSelectedEmoji();\n        const target = selectedEmoji ? `#${getEmojiIconId(selectedEmoji)}` : undefined;\n        const content = selectedEmoji?.description ? strings[selectedEmoji.description] : undefined;\n        const emojiList = renderCurrentEmojiIcons(index, currentEmojiList);\n        // note: we're using a callout since TooltipHost does not support manual trigger, and we need to show the tooltip since quick picker is shown\n        // as an autocomplete menu (false focus based on transferring navigation keyboard event)\n        return (\n            <div id={listId} role=\"listbox\">\n                {emojiList}\n                <div\n                    id={listId}\n                    role=\"listbox\"\n                    className={css(classNames.quickPicker, classNames.roosterEmojiPane)}>\n                    <Callout\n                        {...TooltipCalloutProps}\n                        role=\"tooltip\"\n                        target={target}\n                        hidden={!content || !emojiList}\n                        className={classNames.tooltip}>\n                        {content}\n                    </Callout>\n                </div>\n            </div>\n        );\n    };\n\n    const renderFullPicker = (\n        props: EmojiPaneProps,\n        index: number,\n        searchInBox: string,\n        currentFamily: EmojiFamilyKeys,\n        currentEmojiList: Emoji[]\n    ): JSX.Element => {\n        const { searchDisabled, searchBoxString } = props;\n        const emojiId = getEmojiIconId(getSelectedEmoji());\n        const autoCompleteAttributes = {\n            [AriaAttributes.AutoComplete]: 'list',\n            [AriaAttributes.Expanded]: 'true',\n            [AriaAttributes.HasPopup]: 'listbox',\n            [AriaAttributes.Owns]: listId,\n        };\n        if (emojiId) {\n            autoCompleteAttributes[AriaAttributes.ActiveDescendant] = emojiId;\n        }\n\n        return (\n            <div className={classNames.roosterEmojiPane}>\n                {!searchDisabled && (\n                    <TextField\n                        role=\"combobox\"\n                        componentRef={ref => searchRefCallback(ref)}\n                        value={searchInBox}\n                        onChange={onSearchChange}\n                        inputClassName={classNames.emojiTextInput}\n                        onKeyPress={onSearchKeyPress}\n                        onKeyDown={onSearchKeyDown}\n                        onFocus={onSearchFocus}\n                        placeholder={getLocalizedString(\n                            searchBoxString,\n                            'emojiSearchPlaceholder',\n                            'Search...'\n                        )}\n                        ariaLabel={getLocalizedString(\n                            searchBoxString,\n                            'emojiSearchInputAriaLabel',\n                            'Search...'\n                        )}\n                        {...autoCompleteAttributes}\n                    />\n                )}\n                {mode === 'Full'\n                    ? renderFullList(props, index, currentFamily, currentEmojiList)\n                    : renderPartialList(props, index, currentEmojiList)}\n            </div>\n        );\n    };\n\n    const onSearchFocus = (e: React.FocusEvent<HTMLInputElement>): void => {\n        input = e.target as HTMLInputElement;\n    };\n\n    const onSearchKeyPress = (e: React.KeyboardEvent<HTMLInputElement>): void => {\n        if (!e || e.which !== KeyCodes.enter) {\n            return;\n        }\n\n        if (index >= 0 && currentEmojiList && currentEmojiList.length > 0) {\n            onSelect(e, currentEmojiList[index]);\n        }\n    };\n\n    const onSearchKeyDown = (e: React.KeyboardEvent<HTMLInputElement>): void => {\n        if (!e || DirectionKeys.indexOf(e.which) < 0) {\n            return;\n        }\n        e.preventDefault();\n        e.stopPropagation();\n        if (e.which === KeyCodes.home) {\n            setIndex(0);\n            emojiBody.scrollTop = 0;\n            return;\n        }\n        if (e.which === KeyCodes.end) {\n            setIndex(currentEmojiList.length - 1);\n            emojiBody.scrollTop = emojiBody.scrollHeight; // scrollHeight will be larger than max\n            return;\n        }\n\n        const direction: EmojiPaneNavigateDirection =\n            VerticalDirectionKeys.indexOf(e.which) < 0 ? 'Horizontal' : 'Vertical';\n        const newIndex = navigate(\n            e.which === KeyCodes.left || e.which === KeyCodes.up ? -1 : 1,\n            direction\n        );\n        if (newIndex > -1) {\n            const visibleRowCount =\n                mode === 'Full' ? EmojiVisibleRowCount : EmojiVisibleWithoutNavBarRowCount;\n            const currentRow = Math.floor(newIndex / EmojisPerRow);\n            const visibleTop = emojiBody.scrollTop;\n            const visibleBottom = visibleTop + visibleRowCount * EmojiHeightPx;\n            const currentRowTop = currentRow * EmojiHeightPx;\n            const currentRowBottom = currentRowTop + EmojiHeightPx;\n            if (visibleTop <= currentRowTop && visibleBottom >= currentRowBottom) {\n                return; // row is visible, so exit\n            }\n\n            emojiBody.scrollTop = currentRow * EmojiHeightPx;\n        }\n    };\n\n    const renderCurrentEmojiIcons = (index: number, currentEmojiList: Emoji[]): JSX.Element[] => {\n        const { strings } = props;\n        return currentEmojiList.map((emoji, emojiIndex) => (\n            <EmojiIcon\n                strings={strings}\n                id={getEmojiIconId(emoji)}\n                key={emoji.key}\n                onMouseOver={() => setIndex(emojiIndex)}\n                onFocus={() => setIndex(emojiIndex)}\n                emoji={emoji}\n                classNames={classNames}\n                isSelected={index === emojiIndex}\n                onClick={e => onSelect(e, emoji)}\n                aria-posinset={index + 1}\n                aria-setsize={currentEmojiList.length}\n            />\n        ));\n    };\n\n    const renderPartialList = (\n        props: EmojiPaneProps,\n        index: number,\n        currentEmojiList: Emoji[]\n    ): JSX.Element => {\n        const { strings, hideStatusBar, statusBarProps } = props;\n        const hasResult = currentEmojiList && currentEmojiList.length > 0;\n\n        return (\n            <div>\n                <div\n                    className={classNames.partialList}\n                    data-is-scrollable={true}\n                    tabIndex={TabIndexForFirefoxBug}\n                    ref={onEmojiBodyRef}>\n                    <FocusZone\n                        id={listId}\n                        role=\"listbox\"\n                        className={classNames.fullListContent}\n                        ref={focusZoneRefCallback}>\n                        {renderCurrentEmojiIcons(index, currentEmojiList)}\n                    </FocusZone>\n                </div>\n                {!hideStatusBar && (\n                    <EmojiStatusBar\n                        classNames={classNames}\n                        strings={strings}\n                        {...statusBarProps}\n                        hasResult={hasResult}\n                        emoji={getSelectedEmoji()}\n                    />\n                )}\n            </div>\n        );\n    };\n\n    const renderFullList = (\n        props: EmojiPaneProps,\n        index: number,\n        currentFamily: EmojiFamilyKeys,\n        currentEmojiList: Emoji[]\n    ): JSX.Element => {\n        const { strings, hideStatusBar, navBarProps, statusBarProps } = props;\n\n        const hasResult = currentEmojiList && currentEmojiList.length > 0;\n\n        return (\n            <div className={classNames.fullList}>\n                <div\n                    className={classNames.fullListBody}\n                    data-is-scrollable={true}\n                    tabIndex={TabIndexForFirefoxBug}\n                    ref={onEmojiBodyRef}>\n                    <EmojiNavBar\n                        strings={strings}\n                        {...navBarProps}\n                        onClick={pivotClick}\n                        currentSelected={currentFamily}\n                        getTabId={getTabId}\n                        classNames={classNames}\n                    />\n                    <div role=\"tabpanel\" aria-labelledby={getTabId(currentFamily)}>\n                        <div>\n                            <FocusZone\n                                id={listId}\n                                role=\"listbox\"\n                                className={classNames.fullListContent}\n                                ref={focusZoneRefCallback}>\n                                {renderCurrentEmojiIcons(index, currentEmojiList)}\n                            </FocusZone>\n                        </div>\n                    </div>\n                </div>\n\n                {!hideStatusBar && (\n                    <EmojiStatusBar\n                        classNames={classNames}\n                        strings={strings}\n                        {...statusBarProps}\n                        hasResult={hasResult}\n                        emoji={getSelectedEmoji()}\n                    />\n                )}\n            </div>\n        );\n    };\n\n    const onEmojiBodyRef = (ref: HTMLDivElement) => {\n        emojiBody = ref;\n    };\n\n    const pivotClick = (selected: string): void => {\n        const currentFamily = selected as EmojiFamilyKeys;\n        setCurrentEmojiList(EmojiList[currentFamily]);\n        setCurrentFamily(currentFamily);\n    };\n\n    const getTabId = (itemKey: EmojiFamilyKeys): string => {\n        return `family_${itemKey}_${props.baseId}`;\n    };\n\n    const searchRefCallback = (ref: ITextField | null): void => {\n        if (ref) {\n            searchBox = ref;\n            if (searchBox?.value) {\n                searchBox.focus();\n                searchBox.setSelectionStart(searchBox.value.length);\n            }\n        }\n    };\n\n    const focusZoneRefCallback = (ref: FocusZone): void => {\n        if (props.searchDisabled && ref) {\n            ref.focus();\n        }\n\n        if (input) {\n            // make sure to announce the active descending after the focus zone containing the emojis is ready\n            input.removeAttribute(AriaAttributes.ActiveDescendant);\n            const emojiId = getEmojiIconId(getSelectedEmoji());\n            // we need to delay so NVDA will announce the first selection\n            if (emojiId) {\n                setTimeout(() => input.setAttribute(AriaAttributes.ActiveDescendant, emojiId), 0);\n            }\n        }\n    };\n\n    const onSearchChange = (_: any, newValue?: string): void => {\n        if (typeof newValue === 'string') {\n            const normalizedSearchValue = normalizeSearchText(newValue, false);\n            const newMode: EmojiPaneMode = normalizedSearchValue.length === 0 ? 'Full' : 'Partial';\n            setIndex(newMode === 'Full' ? -1 : 0);\n            setCurrentEmojiList(getSearchResult(normalizedSearchValue, mode));\n            setSearchInBox(newValue);\n            setMode(newMode);\n        }\n    };\n\n    const onSelect = (\n        e: React.MouseEvent<EventTarget> | React.KeyboardEvent<HTMLInputElement>,\n        emoji: Emoji\n    ): void => {\n        e.stopPropagation();\n        e.preventDefault();\n        if (props.onSelect) {\n            props.onSelect(emoji, search);\n        }\n    };\n\n    const renderPane = (\n        props: EmojiPaneProps,\n        index: number,\n        searchInBox: string,\n        currentFamily: EmojiFamilyKeys,\n        currentEmojiList: Emoji[]\n    ) => {\n        return mode === 'Quick'\n            ? renderQuickPicker(props, index, currentEmojiList)\n            : renderFullPicker(props, index, searchInBox, currentFamily, currentEmojiList);\n    };\n\n    return <>{renderPane(props, index, searchInBox, currentFamily, currentEmojiList)}</>;\n});\n\n/**\n * @internal\n * Emoji pane component\n */\nexport function showEmojiPane(\n    onSelect: (emoji: Emoji, wordBeforeCursor: string) => void,\n    strings: Record<string, string>,\n    paneRef: React.RefObject<EmojiPane>,\n    baseId: number,\n    searchBoxString?: LocalizedStrings<EmojiStringKeys>\n) {\n    return (\n        <EmojiPane\n            ref={paneRef}\n            baseId={baseId}\n            searchBoxString={searchBoxString}\n            strings={strings}\n            onSelect={onSelect}></EmojiPane>\n    );\n}\n\nconst calcMaxHeight = () => {\n    const buttonHeight = 40;\n    const rowsOfIcons = 6; // including family bar if shown\n    const bottomPaddingForContent = 5;\n    const maxHeightForContent = rowsOfIcons * buttonHeight + bottomPaddingForContent;\n    return maxHeightForContent.toString() + 'px';\n};\n\nconst calcPaneWidth = () => {\n    const buttonWidth = 40;\n    const pivotItemCount = 7;\n    const paneHorizontalPadding = 1;\n    const paneWidth = buttonWidth * pivotItemCount + 2 * paneHorizontalPadding;\n    return paneWidth.toString() + 'px';\n};\n\nconst getEmojiPaneClassName = memoizeFunction((theme: Theme) => {\n    const palette = theme.palette;\n    return mergeStyleSets({\n        quickPicker: {\n            overflowY: 'hidden',\n            ':after': {\n                content: '',\n                position: 'absolute',\n                left: '0px',\n                top: '0px',\n                bottom: '0px',\n                right: '0px',\n                zIndex: 1,\n                borderWidth: '1px',\n                borderStyle: 'solid',\n                borderColor: 'rgb(255, 255, 255)',\n                borderImage: 'initial',\n                outline: 'rgb(102, 102, 102) solid 1px',\n            },\n        },\n\n        tooltip: {\n            padding: '8px',\n        },\n\n        emojiTextInput: {\n            padding: '6px',\n        },\n\n        partialList: {\n            maxHeight: calcMaxHeight(),\n            overflow: 'hidden',\n            overflowY: 'scroll',\n        },\n\n        fullListContent: {\n            width: calcPaneWidth(),\n        },\n\n        fullListBody: {\n            maxHeight: calcMaxHeight(),\n            overflow: 'hidden',\n            overflowY: 'scroll',\n            height: calcMaxHeight(),\n        },\n\n        fullList: {\n            position: 'relative',\n        },\n\n        roosterEmojiPane: {\n            padding: '1px',\n            background: palette.white,\n        },\n\n        emoji: {\n            fontSize: '18px',\n            width: '40px',\n            height: '40px',\n            border: '0',\n            position: 'relative',\n            background: palette.white,\n            transition: 'backgorund 0.5s ease-in-out',\n        },\n\n        emojiSelected: {\n            background: palette.neutralLight,\n        },\n\n        navBar: {\n            top: '-1px',\n            zIndex: 10,\n            position: 'sticky',\n        },\n\n        navBarTooltip: {\n            display: 'inline-block',\n        },\n\n        navBarButton: {\n            height: '40px',\n            width: '40px',\n            border: '0',\n            borderBottom: 'solid 1px',\n            padding: 0,\n            marginBottom: 0,\n            display: 'inline-block',\n            color: palette.themeDark,\n            background: palette.white,\n            '&:hover': {\n                cursor: 'default',\n            },\n        },\n\n        selected: {\n            borderBottom: '2px solid',\n            borderBottomColor: palette.themeDark,\n        },\n\n        statusBar: {\n            borderTop: 'solid 1px',\n            height: '50px',\n            overflow: 'hidden',\n            position: 'relative',\n            background: palette.white,\n        },\n\n        statusBarIcon: {\n            padding: '4px',\n            fontSize: '25px',\n            display: 'inline-block',\n            fontStyle: 'normal',\n            fontWeight: 'normal',\n            lineHeight: '40px',\n        },\n\n        statusBarDetailsContainer: {\n            padding: '0 4px',\n            lineHeight: '50px',\n            position: 'absolute',\n            display: 'inline-block',\n            left: '40px',\n            right: '0',\n            top: '0',\n        },\n\n        statusBarDetails: {\n            fontWeight: 'bold',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n        },\n\n        statusBarNoResultDetailsContainer: {\n            lineHeight: '50px',\n            position: 'absolute',\n            display: 'inline-block',\n            top: '0',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            left: '0',\n            padding: '0 8px',\n        },\n    });\n});\n","import * as React from 'react';\nimport { TooltipHost, TooltipOverflowMode } from '@fluentui/react/lib/Tooltip';\nimport type { Emoji } from '../type/Emoji';\nimport type { EmojiPaneStyle } from '../type/EmojiPaneStyles';\nimport type { IProcessedStyleSet, IStyleSet } from '@fluentui/react/lib/Styling';\n/**\n * @internal\n * Emoji Status Bar data\n */\nexport interface EmojiStatusBarProps {\n    emoji: Emoji;\n    strings: Record<string, string>;\n    hasResult: boolean;\n    classNames: IProcessedStyleSet<IStyleSet<EmojiPaneStyle>>;\n}\n\nconst NO_SUGGESTIONS = 'emjDNoSuggetions';\n\n/**\n * @internal\n * Emoji status bar component\n */\nexport function EmojiStatusBar(props: EmojiStatusBarProps) {\n    const { emoji, strings, hasResult, classNames } = props;\n\n    if (!hasResult) {\n        const noResultDescription = strings[NO_SUGGESTIONS];\n        return (\n            <div className={classNames.statusBar}>\n                <div style={{ display: 'none' }} aria-live=\"polite\">\n                    {noResultDescription}\n                </div>\n                <div className={classNames.statusBarNoResultDetailsContainer}>\n                    <TooltipHost\n                        content={noResultDescription}\n                        overflowMode={TooltipOverflowMode.Parent}>\n                        <span role=\"alert\">{noResultDescription}</span>\n                    </TooltipHost>\n                </div>\n            </div>\n        );\n    }\n\n    const icon = emoji ? emoji.codePoint : '';\n    const description = emoji?.description ? strings[emoji.description] : '';\n\n    return (\n        <div className={classNames.statusBar}>\n            <i className={classNames.statusBarIcon} role=\"presentation\" aria-hidden=\"true\">\n                {icon}\n            </i>\n\n            <div className={classNames.statusBarDetailsContainer}>\n                <div className={classNames.statusBarDetails}>\n                    <TooltipHost content={description} overflowMode={TooltipOverflowMode.Parent}>\n                        {description}\n                    </TooltipHost>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import * as React from 'react';\nimport { Callout, DirectionalHint } from '@fluentui/react/lib/Callout';\nimport { renderReactComponent } from '../../common/utils/renderReactComponent';\nimport { showEmojiPane } from './EmojiPane';\nimport type { Emoji } from '../type/Emoji';\nimport type { EmojiPane } from './EmojiPane';\nimport type { EmojiStringKeys } from '../type/EmojiStringKeys';\nimport type { LocalizedStrings, UIUtilities } from '../../common/index';\n\n/**\n * @internal\n * Emoji callout data\n */\ninterface EmojiICallOutProps {\n    cursorRect: DOMRect;\n    strings: Record<string, string>;\n    onSelectFromPane: (emoji: Emoji, wordBeforeCursor: string) => void;\n    paneRef: React.RefObject<EmojiPane>;\n    onHideCallout: () => void;\n    searchBoxString?: LocalizedStrings<EmojiStringKeys>;\n    dismiss: () => void;\n    baseId: number;\n}\n\nconst EmojiICallout = React.forwardRef(function EmojiCalloutFunc(\n    props: EmojiICallOutProps,\n    ref: React.Ref<EmojiICallout>\n) {\n    const {\n        cursorRect,\n        strings,\n        onSelectFromPane,\n        onHideCallout,\n        searchBoxString,\n        dismiss,\n        paneRef,\n        baseId,\n    } = props;\n    const [isCalloutVisible, toggleIsCalloutVisible] = React.useState(true);\n\n    React.useImperativeHandle(\n        ref,\n        () => ({\n            dismiss,\n        }),\n        [dismiss]\n    );\n\n    const point = {\n        x: cursorRect.left,\n        y: (cursorRect.top + cursorRect.bottom) / 2,\n    };\n    const gap = (cursorRect.bottom - cursorRect.top) / 2 + 5;\n    if (!isCalloutVisible) {\n        onHideCallout();\n    }\n    const toogleCallout = React.useCallback(() => {\n        toggleIsCalloutVisible(false);\n        dismiss();\n    }, [dismiss]);\n\n    return (\n        <>\n            {isCalloutVisible && (\n                <Callout\n                    target={point}\n                    directionalHint={DirectionalHint.bottomAutoEdge}\n                    isBeakVisible={false}\n                    gapSpace={gap}\n                    onDismiss={toogleCallout}>\n                    {showEmojiPane(onSelectFromPane, strings, paneRef, baseId, searchBoxString)}\n                </Callout>\n            )}\n        </>\n    );\n});\n\n/**\n * @internal\n */\nexport interface EmojiICallout {\n    dismiss: () => void;\n}\n\n/**\n * @internal\n * Enable emoji callout\n */\nexport function showEmojiCallout(\n    uiUtilities: UIUtilities,\n    cursorRect: DOMRect,\n    strings: Record<string, string>,\n    onSelectFromPane: (emoji: Emoji, wordBeforeCursor: string) => void,\n    paneRef: React.RefObject<EmojiPane>,\n    emojiCalloutRef: React.RefObject<EmojiICallout>,\n    onHideCallout: () => void,\n    baseId: number,\n    searchBoxString?: LocalizedStrings<EmojiStringKeys>\n) {\n    let disposer: (() => void) | null = null;\n    const onDismiss = () => {\n        disposer?.();\n        disposer = null;\n    };\n\n    disposer = renderReactComponent(\n        uiUtilities,\n        <EmojiICallout\n            ref={emojiCalloutRef}\n            cursorRect={cursorRect}\n            strings={strings}\n            onSelectFromPane={onSelectFromPane}\n            paneRef={paneRef}\n            onHideCallout={onHideCallout}\n            searchBoxString={searchBoxString}\n            baseId={baseId}\n            dismiss={onDismiss}\n        />\n    );\n}\n","export { createEmojiPlugin } from './plugin/createEmojiPlugin';\nexport { EmojiStringKeys } from './type/EmojiStringKeys';\n","import * as React from 'react';\nimport { isModifierKey, iterateSelections, undo } from 'roosterjs-content-model-core';\nimport { isNodeOfType } from 'roosterjs-content-model-dom';\nimport { KeyCodes } from '@fluentui/react/lib/Utilities';\nimport { MoreEmoji } from '../utils/emojiList';\nimport { showEmojiCallout } from '../components/showEmojiCallout';\nimport type { EmojiICallout } from '../components/showEmojiCallout';\nimport type { Emoji } from '../type/Emoji';\nimport type { EmojiPane } from '../components/EmojiPane';\nimport type { EmojiStringKeys } from '../type/EmojiStringKeys';\nimport type { LocalizedStrings, ReactEditorPlugin, UIUtilities } from '../../common/index';\nimport {\n    EmojiDescriptionStrings,\n    EmojiFamilyStrings,\n    EmojiKeywordStrings,\n} from '../type/EmojiStrings';\nimport type { IEditor, KeyDownEvent, KeyUpEvent, PluginEvent } from 'roosterjs-content-model-types';\n\nconst KEYCODE_COLON = 186;\nconst KEYCODE_COLON_FIREFOX = 59;\n\n// Regex looks for an emoji right before the : to allow contextual search immediately following an emoji\n// MATCHES: 0: :r\n//          1: \n//          2: :r\nconst EMOJI_BEFORE_COLON_REGEX = /([\\u0023-\\u0039][\\u20e3]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u00a9-\\u00ae]|[\\u2122-\\u3299])*([:;][^:]*)/;\n\n// White space matching regex. It matches following chars:\n// \\s: white space\n// \\u00A0: no-breaking white space\n// \\u200B: zero width space\n// \\u3000: full width space (which can come from JPN IME)\nconst WHITESPACE_REGEX = /[\\s\\u00A0\\u200B\\u3000]+([^\\s\\u00A0\\u200B\\u3000]*)$/i;\n\nclass EmojiPlugin implements ReactEditorPlugin {\n    private editor: IEditor | null = null;\n    private eventHandledOnKeyDown: boolean = false;\n    private canUndoEmoji: boolean = false;\n    private isSuggesting: boolean = false;\n    private paneRef = React.createRef<EmojiPane>();\n    private timer: number | null = null;\n    private uiUtilities: UIUtilities | null = null;\n    private strings: Record<string, string>;\n    private emojiCalloutRef = React.createRef<EmojiICallout>();\n    private baseId = 0;\n\n    constructor(private searchBoxStrings?: LocalizedStrings<EmojiStringKeys>) {\n        this.strings = {\n            ...EmojiDescriptionStrings,\n            ...EmojiKeywordStrings,\n            ...EmojiFamilyStrings,\n        };\n    }\n\n    setUIUtilities(uiUtilities: UIUtilities) {\n        this.uiUtilities = uiUtilities;\n    }\n\n    public getName() {\n        return 'Emoji';\n    }\n\n    public dispose() {\n        this.setIsSuggesting(false);\n        this.emojiCalloutRef.current?.dismiss();\n        this.editor = null;\n        this.baseId = 0;\n    }\n\n    public initialize(editor: IEditor): void {\n        this.editor = editor;\n    }\n\n    public onPluginEvent(event: PluginEvent): void {\n        if (event.eventType === 'keyDown') {\n            this.eventHandledOnKeyDown = false;\n            if (this.isSuggesting) {\n                this.onKeyDownSuggestingDomEvent(event);\n            } else if (event.rawEvent.key === 'Backspace' && this.canUndoEmoji) {\n                //TODO: 1051\n                // If KeyDown is backspace and canUndoEmoji, call editor undo\n                undo(this.editor);\n\n                this.handleEventOnKeyDown(event);\n                this.canUndoEmoji = false;\n            }\n        } else if (event.eventType === 'keyUp' && !isModifierKey(event.rawEvent)) {\n            if (this.isSuggesting) {\n                this.onKeyUpSuggestingDomEvent(event);\n            } else {\n                this.onKeyUpDomEvent(event);\n            }\n        } else if (event.eventType === 'mouseUp') {\n            //TODO: 1052\n            // If MouseUp, the emoji cannot be undone\n            this.canUndoEmoji = false;\n            this.setIsSuggesting(false);\n        }\n    }\n\n    /**\n     * On KeyDown suggesting DOM event\n     * Try to insert emoji is possible\n     * Intercept arrow keys to move selection if popup is shown\n     */\n    private onKeyDownSuggestingDomEvent(event: KeyDownEvent): void {\n        // If key is enter, try insert emoji at selection\n        // If key is space and selection is shortcut, try insert emoji\n\n        const wordBeforeCursor = this.getWordBeforeCursor(event);\n        switch (event.rawEvent.key) {\n            case 'Enter':\n                const selectedEmoji = this.paneRef.current?.getSelectedEmoji();\n                // check if selection is on the \"...\" and show full picker if so, otherwise try to apply emoji\n                if (\n                    !selectedEmoji ||\n                    !wordBeforeCursor ||\n                    this.tryShowFullPicker(event, selectedEmoji, wordBeforeCursor)\n                ) {\n                    break;\n                } else {\n                    this.insertEmoji(selectedEmoji, wordBeforeCursor);\n                    this.handleEventOnKeyDown(event);\n                }\n\n                break;\n            case 'ArrowLeft':\n            case 'ArrowRight':\n                this.paneRef.current?.navigate(event.rawEvent.key === 'ArrowLeft' ? -1 : 1);\n                this.handleEventOnKeyDown(event);\n                break;\n            case 'Escape':\n                this.setIsSuggesting(false);\n                this.handleEventOnKeyDown(event);\n        }\n    }\n\n    private tryShowFullPicker(\n        event: KeyDownEvent,\n        selectedEmoji: Emoji,\n        wordBeforeCursor: string\n    ): boolean {\n        if (selectedEmoji !== MoreEmoji) {\n            return false;\n        }\n\n        this.handleEventOnKeyDown(event);\n        this.paneRef.current?.showFullPicker(wordBeforeCursor);\n        return true;\n    }\n\n    /**\n     * On KeyUp suggesting DOM event\n     * If key is character, update search term\n     * Otherwise set isSuggesting to false\n     */\n    private onKeyUpSuggestingDomEvent(event: KeyUpEvent): void {\n        if (this.eventHandledOnKeyDown) {\n            return;\n        }\n        // If this is a character key or backspace\n        // Clear the timer as we will either queue a new timer or stop suggesting\n        if (\n            this.timer &&\n            ((event.rawEvent.key.length === 1 && event.rawEvent.which !== KeyCodes.space) ||\n                event.rawEvent.which === KeyCodes.backspace)\n        ) {\n            this.editor?.getDocument().defaultView?.clearTimeout(this.timer);\n            this.timer = null;\n            this.emojiCalloutRef.current?.dismiss();\n        }\n\n        const wordBeforeCursor = this.getWordBeforeCursor(event);\n        if (wordBeforeCursor) {\n            if (this.paneRef) {\n                this.paneRef.current?.setSearch(wordBeforeCursor);\n            } else {\n                this.setIsSuggesting(false);\n            }\n        } else {\n            this.setIsSuggesting(false);\n        }\n    }\n\n    private onKeyUpDomEvent(event: KeyUpEvent): void {\n        if (this.eventHandledOnKeyDown) {\n            return;\n        }\n\n        if (\n            (event.rawEvent.which === KEYCODE_COLON ||\n                event.rawEvent.which === KEYCODE_COLON_FIREFOX) &&\n            this.getWordBeforeCursor(event) === ':'\n        ) {\n            this.setIsSuggesting(true);\n        }\n    }\n\n    private getCallout() {\n        const selection = this.editor?.getDOMSelection();\n        const rangeNode = selection?.type == 'range' ? selection.range.startContainer : null;\n        const rangeElement = isNodeOfType(rangeNode, 'ELEMENT_NODE')\n            ? rangeNode\n            : rangeNode.parentElement;\n        const rect = rangeElement?.getBoundingClientRect();\n\n        if (this.uiUtilities && rect) {\n            this.baseId++;\n\n            showEmojiCallout(\n                this.uiUtilities,\n                rect,\n                this.strings,\n                this.onSelectFromPane,\n                this.paneRef,\n                this.emojiCalloutRef,\n                this.onHideCallout,\n                this.baseId,\n                this.searchBoxStrings\n            );\n        }\n    }\n\n    private onHideCallout = () => this.setIsSuggesting(false);\n\n    private onSelectFromPane = (emoji: Emoji, wordBeforeCursor: string): void => {\n        if (emoji === MoreEmoji) {\n            this.paneRef.current?.showFullPicker(wordBeforeCursor);\n            return;\n        }\n\n        this.insertEmoji(emoji, wordBeforeCursor);\n    };\n\n    private setIsSuggesting(isSuggesting: boolean): void {\n        if (this.isSuggesting === isSuggesting) {\n            return;\n        }\n\n        this.isSuggesting = isSuggesting;\n        if (this.isSuggesting) {\n            this.getCallout();\n        } else if (this.emojiCalloutRef) {\n            this.emojiCalloutRef.current?.dismiss();\n        }\n    }\n\n    private insertEmoji(emoji: Emoji, wordBeforeCursor: string) {\n        if (!wordBeforeCursor || !this.editor || !emoji.codePoint) {\n            return;\n        }\n\n        this.editor.formatContentModel(model => {\n            iterateSelections(model, (_, __, block, segments) => {\n                if (\n                    block?.blockType == 'Paragraph' &&\n                    segments?.length == 1 &&\n                    segments[0].segmentType == 'SelectionMarker'\n                ) {\n                    const index = block.segments.indexOf(segments[0]);\n                    const previousSegment = block.segments[index - 1];\n\n                    if (\n                        previousSegment?.segmentType == 'Text' &&\n                        previousSegment.text.endsWith(wordBeforeCursor)\n                    ) {\n                        previousSegment.text =\n                            previousSegment.text.substring(\n                                0,\n                                previousSegment.text.length - wordBeforeCursor.length\n                            ) + emoji.codePoint;\n                    }\n                }\n\n                return true;\n            });\n\n            return true;\n        });\n\n        this.emojiCalloutRef.current?.dismiss();\n    }\n\n    private getWordBeforeCursor(event: PluginEvent): string | null {\n        let wordBeforeCursor: string | null = null;\n\n        this.editor.formatContentModel(model => {\n            iterateSelections(model, (_, __, block, segments) => {\n                if (\n                    block?.blockType == 'Paragraph' &&\n                    segments?.length == 1 &&\n                    segments[0].segmentType == 'SelectionMarker'\n                ) {\n                    const index = block.segments.indexOf(segments[0]);\n                    const prevSegment = block.segments[index - 1];\n\n                    if (prevSegment?.segmentType == 'Text') {\n                        // Match on the white space, the portion after space is on the index of 1 of the matched result\n                        // (index at 0 is whole match result, index at 1 is the word)\n                        const matches = WHITESPACE_REGEX.exec(prevSegment.text);\n                        wordBeforeCursor = matches?.length == 2 ? matches[1] : prevSegment.text;\n                    }\n                }\n\n                return true;\n            });\n            return false;\n        });\n\n        const matches = wordBeforeCursor ? EMOJI_BEFORE_COLON_REGEX.exec(wordBeforeCursor) : null;\n        return matches && matches.length > 2 && matches[0] === wordBeforeCursor ? matches[2] : null;\n    }\n\n    private handleEventOnKeyDown(event: KeyDownEvent): void {\n        this.eventHandledOnKeyDown = true;\n        event.rawEvent.preventDefault();\n        event.rawEvent.stopImmediatePropagation();\n    }\n}\n\n/**\n * Create a new instance of Emoji plugin with FluentUI components.\n */\nexport function createEmojiPlugin(\n    searchBoxStrings?: LocalizedStrings<EmojiStringKeys>\n): ReactEditorPlugin {\n    return new EmojiPlugin(searchBoxStrings);\n}\n","/**\n * @internal\n * Emoji Description\n */\nexport const EmojiDescriptionStrings = {\n    emjDMore: 'More',\n    emjDNoSuggestions: 'No suggestions found',\n    emjD0270a: 'Raised fist',\n    emjD0270b: 'Raised hand',\n    emjD0270c: 'Victory hand',\n    emjD02764: 'Red heart',\n    emjD1f440: 'Eyes',\n    emjD1f442: 'Ear',\n    emjD1f443: 'Nose',\n    emjD1f444: 'Mouth',\n    emjD1f445: 'Tongue',\n    emjD1f446: 'Up-pointing backhand index finger',\n    emjD1f447: 'Down-pointing backhand index finger',\n    emjD1f448: 'Left-pointing backhand index finger',\n    emjD1f449: 'Right-pointing backhand index finger',\n    emjD1f44a: 'Fist bump',\n    emjD1f44b: 'Waving hand',\n    emjD1f44c: 'OK hand',\n    emjD1f44d: 'Thumbs up',\n    emjD1f44e: 'Thumbs down',\n    emjD1f44f: 'Clapping hands',\n    emjD1f450: 'Open hands',\n    emjD1f590: 'Raised hand with fingers splayed',\n    emjD1f595: 'Middle finger',\n    emjD1f596: 'Raised hand with part between middle and ring fingers',\n    emjD1f464: 'Bust in silhouette',\n    emjD1f466: 'Boy',\n    emjD1f467: 'Girl',\n    emjD1f468: 'Man',\n    emjD1f469: 'Woman',\n    emjD1f46a: 'Family',\n    emjD1f46b: 'Man and woman holding hands',\n    emjD1f46e: 'Police officer',\n    emjD1f46f: 'Woman with bunny ears',\n    emjD1f470: 'Bride with veil',\n    emjD1f471: 'Person with blond hair',\n    emjD1f472: 'Man with gua pi mao',\n    emjD1f473: 'Man with turban',\n    emjD1f474: 'Older man',\n    emjD1f475: 'Older woman',\n    emjD1f476: 'Baby',\n    emjD1f477: 'Construction worker',\n    emjD1f481: 'Information desk person',\n    emjD1f482: 'Guardsman',\n    emjD1f48b: 'Kiss mark',\n    emjD1f493: 'Beating heart',\n    emjD1f494: 'Broken heart',\n    emjD1f495: 'Two hearts',\n    emjD1f496: 'Sparkling heart',\n    emjD1f497: 'Growing heart',\n    emjD1f498: 'Heart with arrow',\n    emjD1f499: 'Blue heart',\n    emjD1f49a: 'Green heart',\n    emjD1f49b: 'Yellow heart',\n    emjD1f49c: 'Purple heart',\n    emjD1f49d: 'Heart with ribbon',\n    emjD1f49e: 'Revolving hearts',\n    emjD1f49f: 'Heart decoration',\n    emjD1f601: 'Grinning face with smiling eyes',\n    emjD1f602: 'Face with tears of joy',\n    emjD1f603: 'Smiling face with open mouth',\n    emjD1f604: 'Smiling face with open mouth and smiling eyes',\n    emjD1f605: 'Smiling face with open mouth and cold sweat',\n    emjD1f606: 'Smiling face with open mouth and tightly closed eyes',\n    emjD1f607: 'Smiling face with halo',\n    emjD1f608: 'Smiling face with horns',\n    emjD1f609: 'Winking face',\n    emjD1f60a: 'Smiling face with smiling eyes',\n    emjD1f60b: 'Face savoring delicious food',\n    emjD1f60c: 'Relieved face',\n    emjD1f60d: 'Smiling face with heart-shaped eyes',\n    emjD1f60e: 'Smiling face with sunglasses',\n    emjD1f60f: 'Smirking face',\n    emjD1f610: 'Neutral face',\n    emjD1f612: 'Unamused face',\n    emjD1f613: 'Face with cold sweat',\n    emjD1f614: 'Pensive face',\n    emjD1f616: 'Confounded face',\n    emjD1f618: 'Face throwing a kiss',\n    emjD1f61a: 'Kissing face with closed eyes',\n    emjD1f61c: 'Face with stuck-out tongue and winking eye',\n    emjD1f61d: 'Face with stuck-out tongue and tightly closed eyes',\n    emjD1f61e: 'Disappointed face',\n    emjD1f620: 'Angry face',\n    emjD1f621: 'Pouting face',\n    emjD1f622: 'Crying face',\n    emjD1f623: 'Persevering face',\n    emjD1f624: 'Face with look of triumph',\n    emjD1f625: 'Disappointed but relieved face',\n    emjD1f628: 'Fearful face',\n    emjD1f629: 'Weary face',\n    emjD1f62a: 'Sleepy face',\n    emjD1f62b: 'Tired face',\n    emjD1f62d: 'Loudly crying face',\n    emjD1f630: 'Face with open mouth and cold sweat',\n    emjD1f631: 'Face screaming in fear',\n    emjD1f632: 'Astonished face',\n    emjD1f633: 'Flushed face',\n    emjD1f635: 'Dizzy face',\n    emjD1f636: 'Face without mouth',\n    emjD1f637: 'Face with medical mask',\n    emjD1f645: 'Face with No Good gesture',\n    emjD1f646: 'Face with OK gesture',\n    emjD1f647: 'Person bowing deeply',\n    emjD1f648: 'See-no-evil monkey',\n    emjD1f649: 'Hear-no-evil monkey',\n    emjD1f641: 'Slightly frowning face',\n    emjD1f642: 'Slightly smiling face',\n    emjD1f64a: 'Speak-no-evil monkey',\n    emjD1f64b: 'Happy person raising one hand',\n    emjD1f64c: 'Person raising both hands in celebration',\n    emjD1f64d: 'Person frowning',\n    emjD1f64e: 'Person with pouting face',\n    emjD1f64f: 'Person with folded hands',\n    emjD02600: 'Sun with rays',\n    emjD02601: 'Cloud',\n    emjD02614: 'Umbrella with rain drops',\n    emjD0267b: 'Recycling symbol',\n    emjD026c4: 'Snowman without snow',\n    emjD026c5: 'Sun behind cloud',\n    emjD02728: 'Sparkles',\n    emjD02733: 'Eight-spoked asterisk',\n    emjD02734: 'Eight-pointed star',\n    emjD02744: 'Snowflake',\n    emjD02747: 'Sparkle',\n    emjD02b50: 'White medium star',\n    emjD1f300: 'Cyclone',\n    emjD1f301: 'Foggy',\n    emjD1f302: 'Closed umbrella',\n    emjD1f303: 'Night with stars',\n    emjD1f304: 'Sunrise over mountains',\n    emjD1f305: 'Sunrise',\n    emjD1f306: 'Cityscape at dusk',\n    emjD1f307: 'Sunset over buildings',\n    emjD1f308: 'Rainbow',\n    emjD1f309: 'Bridge at night',\n    emjD1f30a: 'Water wave',\n    emjD1f30b: 'Volcano',\n    emjD1f30c: 'Milky Way',\n    emjD1f311: 'New moon',\n    emjD1f313: 'First quarter moon',\n    emjD1f314: 'Waxing gibbous moon',\n    emjD1f315: 'Full moon',\n    emjD1f319: 'Crescent moon',\n    emjD1f31b: 'First quarter moon with face',\n    emjD1f31f: 'Glowing star',\n    emjD1f320: 'Shooting star',\n    emjD1f330: 'Chestnut',\n    emjD1f331: 'Seedling',\n    emjD1f334: 'Palm tree',\n    emjD1f335: 'Cactus',\n    emjD1f337: 'Tulip',\n    emjD1f338: 'Cherry blossom',\n    emjD1f339: 'Rose',\n    emjD1f33a: 'Hibiscus',\n    emjD1f33b: 'Sunflower',\n    emjD1f33c: 'Blossom',\n    emjD1f33d: 'Ear of corn',\n    emjD1f33e: 'Ear of rice',\n    emjD1f33f: 'Herb',\n    emjD1f340: 'Four leaf clover',\n    emjD1f341: 'Maple leaf',\n    emjD1f342: 'Fallen leaf',\n    emjD1f343: 'Leaf fluttering in wind',\n    emjD1f344: 'Mushroom',\n    emjD1f40c: 'Snail',\n    emjD1f40d: 'Snake',\n    emjD1f40e: 'Horse',\n    emjD1f411: 'Sheep',\n    emjD1f412: 'Monkey',\n    emjD1f414: 'Chicken',\n    emjD1f417: 'Boar',\n    emjD1f418: 'Elephant',\n    emjD1f419: 'Octopus',\n    emjD1f41a: 'Spiral shell',\n    emjD1f41b: 'Bug',\n    emjD1f41c: 'Ant',\n    emjD1f41d: 'Honeybee',\n    emjD1f41e: 'Ladybug',\n    emjD1f41f: 'Fish',\n    emjD1f420: 'Tropical fish',\n    emjD1f421: 'Blowfish',\n    emjD1f422: 'Turtle',\n    emjD1f423: 'Hatching chick',\n    emjD1f424: 'Baby chick',\n    emjD1f425: 'Front-facing baby chick',\n    emjD1f426: 'Bird',\n    emjD1f427: 'Penguin',\n    emjD1f428: 'Koala',\n    emjD1f429: 'Poodle',\n    emjD1f42b: 'Bactrian camel',\n    emjD1f42c: 'Dolphin',\n    emjD1f42d: 'Mouse face',\n    emjD1f42e: 'Cow face',\n    emjD1f42f: 'Tiger face',\n    emjD1f430: 'Rabbit face',\n    emjD1f431: 'Cat face',\n    emjD1f432: 'Dragon face',\n    emjD1f433: 'Spouting whale',\n    emjD1f434: 'Horse face',\n    emjD1f435: 'Monkey face',\n    emjD1f436: 'Dog face',\n    emjD1f437: 'Pig face',\n    emjD1f438: 'Frog face',\n    emjD1f439: 'Hamster face',\n    emjD1f43a: 'Wolf face',\n    emjD1f43b: 'Bear face',\n    emjD1f43c: 'Panda face',\n    emjD1f43d: 'Pig nose',\n    emjD1f43e: 'Paw prints',\n    emjD1f638: 'Grinning cat face with smiling eyes',\n    emjD1f639: 'Cat face with tears of joy',\n    emjD1f63a: 'Smiling cat face with open mouth',\n    emjD1f63b: 'Smiling cat face with heart-shaped eyes',\n    emjD1f63c: 'Cat face with wry smile',\n    emjD1f63d: 'Kissing cat face with closed eyes',\n    emjD1f63e: 'Pouting cat face',\n    emjD1f63f: 'Crying cat face',\n    emjD1f640: 'Weary cat face',\n    emjD0260e: 'Telephone',\n    emjD026bd: 'Soccer ball',\n    emjD026be: 'Baseball',\n    emjD1f004: 'Mahjong tile red dragon',\n    emjD1f380: 'Ribbon',\n    emjD1f381: 'Wrapped present',\n    emjD1f382: 'Birthday cake',\n    emjD1f383: 'Jack-o-lantern',\n    emjD1f384: 'Christmas tree',\n    emjD1f385: 'Father Christmas',\n    emjD1f386: 'Fireworks',\n    emjD1f387: 'Firework sparkler',\n    emjD1f388: 'Balloon',\n    emjD1f389: 'Party popper',\n    emjD1f38a: 'Confetti ball',\n    emjD1f38b: 'Tanabata tree',\n    emjD1f38c: 'Crossed flags',\n    emjD1f38d: 'Pine decoration',\n    emjD1f38e: 'Japanese dolls',\n    emjD1f38f: 'Carp streamer',\n    emjD1f390: 'Wind chime',\n    emjD1f391: 'Moon-viewing ceremony',\n    emjD1f392: 'School backpack',\n    emjD1f393: 'Graduation cap',\n    emjD1f3a0: 'Carousel horse',\n    emjD1f3a1: 'Ferris wheel',\n    emjD1f3a2: 'Roller coaster',\n    emjD1f3a3: 'Fishing pole and fish',\n    emjD1f3a4: 'Microphone',\n    emjD1f3a5: 'Movie camera',\n    emjD1f3a6: 'Cinema',\n    emjD1f3a7: 'Headphones',\n    emjD1f3a8: 'Artist palette',\n    emjD1f3a9: 'Top hat',\n    emjD1f3aa: 'Circus tent',\n    emjD1f3ab: 'Ticket',\n    emjD1f3ac: 'Clapper board',\n    emjD1f3ad: 'Performing arts',\n    emjD1f3ae: 'Video game',\n    emjD1f3af: 'Direct hit',\n    emjD1f3b0: 'Slot machine',\n    emjD1f3b1: 'Billiards',\n    emjD1f3b2: 'Game die',\n    emjD1f3b3: 'Bowling',\n    emjD1f3b4: 'Flower playing cards',\n    emjD1f3b5: 'Musical note',\n    emjD1f3b6: 'Multiple musical notes',\n    emjD1f3b7: 'Saxophone',\n    emjD1f3b8: 'Guitar',\n    emjD1f3b9: 'Musical keyboard',\n    emjD1f3ba: 'Trumpet',\n    emjD1f3bb: 'Violin',\n    emjD1f3bc: 'Musical score',\n    emjD1f3bd: 'Running shirt with sash',\n    emjD1f3be: 'Tennis racquet and ball',\n    emjD1f3bf: 'Ski and ski boot',\n    emjD1f3c0: 'Basketball and hoop',\n    emjD1f3c1: 'Checkered flag',\n    emjD1f3c2: 'Snowboarder',\n    emjD1f3c3: 'Runner',\n    emjD1f3c4: 'Surfer',\n    emjD1f3c6: 'Trophy',\n    emjD1f3c8: 'American football',\n    emjD1f3ca: 'Swimmer',\n    emjD1f478: 'Princess',\n    emjD1f479: 'Japanese ogre',\n    emjD1f47a: 'Japanese goblin',\n    emjD1f47b: 'Ghost',\n    emjD1f47c: 'Baby angel',\n    emjD1f47d: 'Extraterrestrial alien',\n    emjD1f47e: 'Alien monster',\n    emjD1f47f: 'Imp',\n    emjD1f480: 'Skull',\n    emjD1f483: 'Dancer',\n    emjD1f484: 'Lipstick',\n    emjD1f485: 'Nail polish',\n    emjD1f486: 'Face massage',\n    emjD1f487: 'Haircut',\n    emjD1f488: 'Barber pole',\n    emjD1f489: 'Syringe',\n    emjD1f48a: 'Pill',\n    emjD1f48c: 'Love letter',\n    emjD1f48d: 'Ring',\n    emjD1f48e: 'Gemstone',\n    emjD1f48f: 'Kiss',\n    emjD1f490: 'Bouquet',\n    emjD1f491: 'Couple with heart',\n    emjD1f492: 'Wedding',\n    emjD1f4f7: 'Camera',\n    emjD1f4f9: 'Video camera',\n    emjD1f4fa: 'Television',\n    emjD1f4fb: 'Radio',\n    emjD1f4fc: 'Videocassette',\n    emjD02615: 'Hot beverage',\n    emjD02702: 'Scissors',\n    emjD02709: 'Envelope',\n    emjD0270f: 'Pencil',\n    emjD02712: 'Nib',\n    emjD1f345: 'Tomato',\n    emjD1f346: 'Eggplant',\n    emjD1f347: 'Grapes',\n    emjD1f348: 'Melon',\n    emjD1f349: 'Watermelon',\n    emjD1f34a: 'Tangerine',\n    emjD1f34c: 'Banana',\n    emjD1f34d: 'Pineapple',\n    emjD1f34e: 'Red apple',\n    emjD1f34f: 'Green apple',\n    emjD1f351: 'Peach',\n    emjD1f352: 'Cherries',\n    emjD1f353: 'Strawberry',\n    emjD1f354: 'Hamburger',\n    emjD1f355: 'Slice of pizza',\n    emjD1f356: 'Meat on bone',\n    emjD1f357: 'Poultry leg',\n    emjD1f358: 'Rice cracker',\n    emjD1f359: 'Rice ball',\n    emjD1f35a: 'Cooked rice',\n    emjD1f35b: 'Curry and rice',\n    emjD1f35c: 'Steaming bowl',\n    emjD1f35d: 'Spaghetti',\n    emjD1f35e: 'Bread',\n    emjD1f35f: 'French fries',\n    emjD1f360: 'Roasted sweet potato',\n    emjD1f361: 'Dango',\n    emjD1f362: 'Oden',\n    emjD1f363: 'Sushi',\n    emjD1f364: 'Fried shrimp',\n    emjD1f365: 'Fish cake with swirl design',\n    emjD1f366: 'Soft ice cream',\n    emjD1f367: 'Shaved ice',\n    emjD1f368: 'Ice cream',\n    emjD1f369: 'Doughnut',\n    emjD1f36a: 'Cookie',\n    emjD1f36b: 'Chocolate bar',\n    emjD1f36c: 'Candy',\n    emjD1f36d: 'Lollipop',\n    emjD1f36e: 'Custard',\n    emjD1f36f: 'Honey pot',\n    emjD1f370: 'Shortcake',\n    emjD1f371: 'Bento box',\n    emjD1f372: 'Pot of food',\n    emjD1f373: 'Cooking',\n    emjD1f374: 'Fork and knife',\n    emjD1f375: 'Teacup without handle',\n    emjD1f376: 'Sake bottle and cup',\n    emjD1f377: 'Wine glass',\n    emjD1f378: 'Cocktail glass',\n    emjD1f379: 'Tropical drink',\n    emjD1f37a: 'Beer mug',\n    emjD1f37b: 'Clinking beer mugs',\n    emjD1f451: 'Crown',\n    emjD1f452: \"Woman's hat\",\n    emjD1f453: 'Eyeglasses',\n    emjD1f454: 'Necktie',\n    emjD1f455: 'T-shirt',\n    emjD1f456: 'Jeans',\n    emjD1f457: 'Dress',\n    emjD1f458: 'Kimono',\n    emjD1f459: 'Bikini',\n    emjD1f45a: \"Woman's clothes\",\n    emjD1f45b: 'Purse',\n    emjD1f45c: 'Handbag',\n    emjD1f45d: 'Pouch',\n    emjD1f45e: \"Man's shoe\",\n    emjD1f45f: 'Athletic shoe',\n    emjD1f460: 'High-heeled shoe',\n    emjD1f461: \"Woman's sandal\",\n    emjD1f462: \"Woman's boots\",\n    emjD1f463: 'Footprints',\n    emjD1f4ba: 'Seat',\n    emjD1f4bb: 'Personal computer',\n    emjD1f4bc: 'Briefcase',\n    emjD1f4bd: 'Minidisc',\n    emjD1f4be: 'Floppy disk',\n    emjD1f4bf: 'Optical disc',\n    emjD1f4c0: 'DVD',\n    emjD1f4c1: 'File folder',\n    emjD1f4c2: 'Open file folder',\n    emjD1f4c3: 'Page with curl',\n    emjD1f4c4: 'Page facing up',\n    emjD1f4c5: 'Calendar',\n    emjD1f4c6: 'Tear-off calendar',\n    emjD1f4c7: 'Card index',\n    emjD1f4c8: 'Chart with upward trend',\n    emjD1f4c9: 'Chart with downward trend',\n    emjD1f4ca: 'Bar chart',\n    emjD1f4cb: 'Clipboard',\n    emjD1f4cc: 'Pushpin',\n    emjD1f4cd: 'Round pushpin',\n    emjD1f4ce: 'Paper clip',\n    emjD1f4cf: 'Straight ruler',\n    emjD1f4d0: 'Triangular ruler',\n    emjD1f4d1: 'Bookmark tabs',\n    emjD1f4d2: 'Ledger',\n    emjD1f4d3: 'Notebook',\n    emjD1f4d4: 'Notebook with decorative cover',\n    emjD1f4d5: 'Closed book',\n    emjD1f4d6: 'Open book',\n    emjD1f4d7: 'Green book',\n    emjD1f4d8: 'Blue book',\n    emjD1f4d9: 'Orange book',\n    emjD1f4da: 'Books',\n    emjD1f4db: 'Name badge',\n    emjD1f4dc: 'Scroll',\n    emjD1f4dd: 'Memo',\n    emjD1f4de: 'Telephone receiver',\n    emjD1f4df: 'Pager',\n    emjD1f4e0: 'Fax machine',\n    emjD1f4e1: 'Satellite antenna',\n    emjD1f4e2: 'Public address loudspeaker',\n    emjD1f4e3: 'Cheering megaphone',\n    emjD1f4e4: 'Outbox tray',\n    emjD1f4e5: 'Inbox tray',\n    emjD1f4e6: 'Package',\n    emjD1f4e7: 'Email',\n    emjD1f4e8: 'Incoming envelope',\n    emjD1f4e9: 'Envelope with downward-facing arrow above',\n    emjD1f4ea: 'Closed mailbox with lowered flag',\n    emjD1f4eb: 'Closed mailbox with raised flag',\n    emjD1f4ee: 'Postbox',\n    emjD1f4f0: 'Newspaper',\n    emjD1f4f1: 'Mobile phone',\n    emjD1f4f2: 'Mobile phone with right-facing arrow at left',\n    emjD1f4f3: 'Vibration mode',\n    emjD1f4f4: 'Mobile phone off',\n    emjD1f4f6: 'Antenna with bars',\n    emjD1f525: 'Fire',\n    emjD1f526: 'Flashlight',\n    emjD1f527: 'Wrench',\n    emjD1f528: 'Hammer',\n    emjD1f529: 'Nut and bolt',\n    emjD1f52a: 'Hocho',\n    emjD1f52b: 'Pistol',\n    emjD1f52e: 'Crystal ball',\n    emjD1f52f: 'Six-pointed star with middle dot',\n    emjD1f531: 'Trident emblem',\n    emjD1f550: \"Clock face one o'clock\",\n    emjD1f551: \"Clock face two o'clock\",\n    emjD1f552: \"Clock face three o'clock\",\n    emjD1f553: \"Clock face four o'clock\",\n    emjD1f554: \"Clock face five o'clock\",\n    emjD1f555: \"Clock face six o'clock\",\n    emjD1f556: \"Clock face seven o'clock\",\n    emjD1f557: \"Clock face eight o'clock\",\n    emjD1f558: \"Clock face nine o'clock\",\n    emjD1f559: \"Clock face ten o'clock\",\n    emjD1f55a: \"Clock face eleven o'clock\",\n    emjD1f55b: \"Clock face twelve o'clock\",\n    emjD02668: 'Hot springs',\n    emjD0267f: 'Wheelchair',\n    emjD02693: 'Anchor',\n    emjD026a0: 'Warning',\n    emjD026a1: 'High Voltage',\n    emjD026d4: 'No Entry',\n    emjD026ea: 'Church',\n    emjD026f2: 'Fountain',\n    emjD026f3: 'Flag in hole',\n    emjD026f5: 'Sailboat',\n    emjD026fa: 'Tent',\n    emjD026fd: 'Fuel pump',\n    emjD02708: 'Airplane',\n    emjD1f17f: 'Squared Latin capital letter P',\n    emjD1f3e0: 'House building',\n    emjD1f3e1: 'House with garden',\n    emjD1f3e2: 'Office building',\n    emjD1f3e3: 'Japanese post office',\n    emjD1f3e5: 'Hospital',\n    emjD1f3e6: 'Bank',\n    emjD1f3e7: 'Automated teller machine',\n    emjD1f3e8: 'Hotel',\n    emjD1f3e9: 'Love hotel',\n    emjD1f3ea: 'Convenience store',\n    emjD1f3eb: 'School',\n    emjD1f3ec: 'Department store',\n    emjD1f3ed: 'Factory',\n    emjD1f3ee: 'Izakaya lantern',\n    emjD1f3ef: 'Japanese castle',\n    emjD1f3f0: 'European castle',\n    emjD1f530: 'Japanese symbol for beginner',\n    emjD1f680: 'Rocket',\n    emjD1f683: 'Railway car',\n    emjD1f684: 'High-speed train',\n    emjD1f685: 'High-speed train with bullet nose',\n    emjD1f687: 'Metro',\n    emjD1f689: 'Station',\n    emjD1f68c: 'Bus',\n    emjD1f68f: 'Bus stop',\n    emjD1f691: 'Ambulance',\n    emjD1f692: 'Fire engine',\n    emjD1f693: 'Police car',\n    emjD1f695: 'Taxi',\n    emjD1f697: 'Automobile',\n    emjD1f699: 'Recreational vehicle',\n    emjD1f69a: 'Delivery truck',\n    emjD1f6a2: 'Ship',\n    emjD1f6a4: 'Speedboat',\n    emjD1f6a5: 'Horizontal traffic light',\n    emjD1f6a7: 'Construction',\n    emjD1f6a8: \"Police car's revolving light\",\n    emjD1f6a9: 'Triangular flag on post',\n    emjD1f6aa: 'Door',\n    emjD1f6ab: 'No entry',\n    emjD1f6ac: 'Smoking symbol',\n    emjD1f6ad: 'No smoking symbol',\n    emjD1f6b2: 'Bicycle',\n    emjD1f6b6: 'Pedestrian',\n    emjD1f6b9: \"Men's symbol\",\n    emjD1f6ba: \"Women's symbol\",\n    emjD1f6bb: 'Restroom',\n    emjD1f6bc: 'Baby symbol',\n    emjD1f6bd: 'Toilet',\n    emjD1f6be: 'Water closet',\n    emjD1f6c0: 'Bath',\n    emjD02049: 'Exclamation question mark',\n    emjD02139: 'Information source',\n    emjD021a9: 'Left-facing arrow with hook',\n    emjD021aa: 'Right-facing arrow with hook',\n    emjD0231a: 'Watch',\n    emjD0231b: 'Hourglass',\n    emjD023e9: 'Right-pointing double triangle',\n    emjD023ea: 'Left-pointing double triangle',\n    emjD023eb: 'Up-pointing double triangle',\n    emjD023ec: 'Down-pointing double triangle',\n    emjD023f0: 'Alarm clock',\n    emjD023f3: 'Hourglass with flowing sand',\n    emjD024c2: 'Circled Latin capital letter M',\n    emjD025b6: 'Black right-pointing triangle',\n    emjD025c0: 'Black left-pointing triangle',\n    emjD025fb: 'White medium square',\n    emjD025fc: 'Black medium square',\n    emjD026ce: 'Ophiuchus',\n    emjD02611: 'Ballot box with check',\n    emjD0261d: 'White up-pointing index',\n    emjD02648: 'Aries',\n    emjD02649: 'Taurus',\n    emjD0264a: 'Gemini',\n    emjD0264b: 'Cancer',\n    emjD0264c: 'Leo',\n    emjD0264d: 'Virgo',\n    emjD0264e: 'Libra',\n    emjD0264f: 'Scorpio',\n    emjD02650: 'Sagittarius',\n    emjD02651: 'Capricorn',\n    emjD02652: 'Aquarius',\n    emjD02653: 'Pisces',\n    emjD026aa: 'Medium white circle',\n    emjD026ab: 'Medium black circle',\n    emjD02705: 'White heavy check mark',\n    emjD02714: 'Heavy check mark',\n    emjD02716: 'Heavy multiplication x',\n    emjD0274c: 'Cross mark',\n    emjD0274e: 'Squared cross mark',\n    emjD02753: 'question mark ornament',\n    emjD02754: 'White question mark ornament',\n    emjD02755: 'White exclamation mark ornament',\n    emjD02757: 'Heavy exclamation mark',\n    emjD02795: 'Heavy plus sign',\n    emjD02796: 'Heavy minus sign',\n    emjD02797: 'Heavy division sign',\n    emjD027a1: 'Black right-facing arrow',\n    emjD027b0: 'Curly loop',\n    emjD027bf: 'Double curly loop',\n    emjD02934: 'Arrow pointing right then curving upward',\n    emjD02935: 'Arrow pointing right then curving downward',\n    emjD02b05: 'Black arrow pointing left',\n    emjD02b06: 'Black arrow pointing right',\n    emjD02b07: 'Downwards black arrow',\n    emjD02b1b: 'Black large square',\n    emjD02b1c: 'White large square',\n    emjD02b55: 'Heavy large circle',\n    emjD03030: 'Wavy dash',\n    emjD0303d: 'Part alternation mark',\n    emjD03297: 'Circled Ideograph congratulation',\n    emjD03299: 'Circled Ideograph secret',\n    emjD1f0cf: 'Playing card Joker',\n    emjD1f170: 'Squared Latin capital letter A',\n    emjD1f171: 'Squared Latin capital letter B',\n    emjD1f17e: 'Squared Latin capital letter O',\n    emjD1f18e: 'Squared AB',\n    emjD1f191: 'Squared CL',\n    emjD1f192: 'Squared COOL',\n    emjD1f193: 'Squared FREE',\n    emjD1f194: 'Squared ID',\n    emjD1f195: 'Squared NEW',\n    emjD1f196: 'Squared NG',\n    emjD1f197: 'Squared OK',\n    emjD1f198: 'Squared SOS',\n    emjD1f199: 'Squared UP!',\n    emjD1f19a: 'Squared VS',\n    emjD1f201: 'Squared Katakana Koko',\n    emjD1f202: 'Squared Katakana Sa',\n    emjD1f21a: 'Squared CJK Unified Ideograph-7121',\n    emjD1f22f: 'Squared CJK Unified Ideograph-6307',\n    emjD1f232: 'Squared CJK Unified Ideograph-7981',\n    emjD1f233: 'Squared CJK Unified Ideograph-7a7a',\n    emjD1f234: 'Squared CJK Unified Ideograph-5408',\n    emjD1f235: 'Squared CJK Unified Ideograph-6e80',\n    emjD1f236: 'Squared CJK Unified Ideograph-6709',\n    emjD1f237: 'Squared CJK Unified Ideograph-6708',\n    emjD1f238: 'Squared CJK Unified Ideograph-7533',\n    emjD1f239: 'Squared CJK Unified Ideograph-5272',\n    emjD1f23a: 'Squared CJK Unified Ideograph-55b6',\n    emjD1f250: 'Circled Ideograph advantage',\n    emjD1f251: 'Circled Ideograph accept',\n    emjD1f30f: 'Earth globe Asia-Australia',\n    emjD1f4a0: 'Diamond shape with a dot inside',\n    emjD1f4a1: 'Electric light bulb',\n    emjD1f4a2: 'Anger',\n    emjD1f4a3: 'Bomb',\n    emjD1f4a4: 'Sleeping',\n    emjD1f4a5: 'Collision',\n    emjD1f4a6: 'Splashing sweat',\n    emjD1f4a7: 'Droplet',\n    emjD1f4a8: 'Dash',\n    emjD1f4a9: 'Pile of poo',\n    emjD1f4aa: 'Flexed biceps',\n    emjD1f4ab: 'Dizzy',\n    emjD1f4ac: 'Speech balloon',\n    emjD1f4ae: 'White flower',\n    emjD1f4af: 'Hundred points',\n    emjD1f4b0: 'Money bag',\n    emjD1f4b1: 'Currency exchange',\n    emjD1f4b2: 'Heavy dollar sign',\n    emjD1f4b3: 'Credit card',\n    emjD1f4b4: 'Banknote with yen sign',\n    emjD1f4b5: 'Banknote with dollar sign',\n    emjD1f4b8: 'Money with wings',\n    emjD1f4b9: 'Chart with upwards trend and yen sign',\n    emjD1f503: 'Clockwise downward and upward open circle arrows',\n    emjD1f50a: 'Speaker with three sound waves',\n    emjD1f50b: 'Battery',\n    emjD1f50c: 'Electric plug',\n    emjD1f50d: 'Left-leaning magnifying glass',\n    emjD1f50e: 'Right-leaning magnifying glass',\n    emjD1f50f: 'Lock with ink pen',\n    emjD1f510: 'Closed lock with key',\n    emjD1f511: 'Key',\n    emjD1f512: 'Lock',\n    emjD1f513: 'Open lock',\n    emjD1f514: 'Bell',\n    emjD1f516: 'Bookmark',\n    emjD1f517: 'Link',\n    emjD1f518: 'Radio button',\n    emjD1f519: 'Back with left-facing arrow above',\n    emjD1f51a: 'End with left-facing arrow above',\n    emjD1f51b: 'On with exclamation mark with left right arrow above',\n    emjD1f51c: 'Soon with right-facing arrow above',\n    emjD1f51d: 'Top with upward arrow above',\n    emjD1f51e: 'No one under eighteen',\n    emjD1f51f: 'Keycap ten',\n    emjD1f520: 'Input Latin uppercase',\n    emjD1f521: 'Input Latin lowercase',\n    emjD1f522: 'Input numbers',\n    emjD1f523: 'Input symbols',\n    emjD1f524: 'Input Latin letters',\n    emjD1f532: 'Black square button',\n    emjD1f533: 'White square button',\n    emjD1f534: 'Large red circle',\n    emjD1f535: 'Large blue circle',\n    emjD1f536: 'Large orange diamond',\n    emjD1f537: 'Large blue diamond',\n    emjD1f538: 'Small orange diamond',\n    emjD1f539: 'Small blue diamond',\n    emjD1f53a: 'Up-pointing red triangle',\n    emjD1f53b: 'Down-pointing red triangle',\n    emjD1f53c: 'Up-pointing small red triangle',\n    emjD1f53d: 'Down-pointing small red triangle',\n    emjD1f5fb: 'Mount Fuji',\n    emjD1f5fc: 'Tokyo Tower',\n    emjD1f5fd: 'Statue of Liberty',\n    emjD1f5fe: 'Silhouette of Japan',\n    emjD1f5ff: 'Moyai',\n};\n\n/**\n * @internal\n * Emoji Keywords\n */\nexport const EmojiKeywordStrings = {\n    emjK1f607: 'saint angel innocent',\n    emjK1f47c: 'cherub angel',\n    emjK1f34e: 'apple',\n    emjK1f34f: 'apple',\n    emjK1f477: 'construction',\n    emjK1f6a7: 'construction detour',\n    emjK1f491: 'couple engaged married marry marriage',\n    emjK1f46b: 'couple engaged',\n    emjK1f622: 'crying sad',\n    emjK1f62d: 'crying sad',\n    emjK1f525: 'fire',\n    emjK1f692: 'fire truck fire engine',\n    emjK1f386: 'fireworks sparkler july 4th',\n    emjK1f387: 'fireworks sparkler july 4th',\n    emjK1f44a: 'punch fist pump chuck norris bam',\n    emjK0270a: 'fist pump punch',\n    emjK1f498: 'heart love cupid',\n    emjK1f496: 'heart love',\n    emjK1f497: 'love heart',\n    emjK1f493: 'heart love heartbeat',\n    emjK1f368: 'ice cream dessert treat sundae sweets',\n    emjK1f366: 'ice cream dessert treat sweets',\n    emjK1f48b: 'kiss xoxo love kisses kissing mwah',\n    emjK1f444: 'kiss mouth',\n    emjK1f618: 'kiss love kisses kissing',\n    emjK1f61a: 'kiss love kisses kissing smooch',\n    emjK1f48f: 'kiss love',\n    emjK1f435: 'monkey',\n    emjK1f64a: 'monkey speak no evil',\n    emjK1f649: 'monkey hear no evil',\n    emjK1f648: 'monkey see no evil',\n    emjK1f3b6: 'music melody song singing tune jingle',\n    emjK1f3b5: 'music musical note melody musical',\n    emjK1f44c: 'ok okay perfect',\n    emjK1f646: 'ok awesome',\n    emjK1f621: 'pouting sad pout',\n    emjK1f64e: 'pouting sad depressed',\n    emjK1f60c: 'relieved phew whew relief',\n    emjK1f630: 'relieved phew whew',\n    emjK1f605: 'relieved phew whew sheesh',\n    emjK1f380: 'ribbon',\n    emjK1f381: 'gift present presents ribbon',\n    emjK1f613: 'scared yikes scary uh oh',\n    emjK1f631: 'scared yikes fear whoa',\n    emjK1f629: 'scared anxious uncertain unsure',\n    emjK1f628: 'scared fearful',\n    emjK1f45e: 'shoe shoes',\n    emjK1f45f: 'shoe shoes',\n    emjK1f60a: 'smile happy smiling yay',\n    emjK1f642: 'smile happy smiling',\n    emjK1f603: 'smiling happy excited woo woohoo woot',\n    emjK1f604: 'smiling happy grin excited',\n    emjK1f6bd: 'toilet bathroom potty restroom washroom',\n    emjK1f6ba: 'toilet bathroom',\n    emjK1f6b9: 'toilet bathroom',\n    emjK1f684: 'train light rail monorail',\n    emjK1f683: 'train caboose',\n    emjK1f446: 'up click',\n    emjK0261d: 'up',\n    emjK1f64b: 'wave hi bye hey aloha',\n    emjK1f44b: 'wave hi bye waving high five',\n    emjK1f601: 'happy grin lol funny grinning hehe',\n    emjK1f602: 'happy lol funny joy lmao rofl',\n    emjK1f606: 'lol haha laughing lmao',\n    emjK1f609: 'haha winking wink winky',\n    emjK1f60f: 'haha winking wink smirking smirk heh',\n    emjK1f645: 'bad',\n    emjK1f44e: 'bad thumbs down wrong boo',\n    emjK1f60d: 'love love you loving love u',\n    emjK1f495: 'love hearts',\n    emjK1f44d: 'ok thumbs up',\n    emjK1f610: 'ok umm',\n    emjK1f620: 'mad angry grrr',\n    emjK1f612: 'mad angry unamused not funny amused bleh blah',\n    emjK1f47b: 'scared halloween ghost boo',\n    emjK1f480: 'scared skull danger die death poison',\n    emjK1f47e: 'scared monster',\n    emjK1f365: 'rice ball fish cake',\n    emjK1f61e: 'disappointed sad',\n    emjK1f64d: 'disappointed sad frown',\n    emjK1f494: 'heartbroken sorrow sad broken heart brokenhearted',\n    emjK1f625: 'relieved phew',\n    emjK1f62b: 'sleepy tired yawn',\n    emjK1f4a4: 'sleepy tired sleep zzz',\n    emjK1f62a: 'sleepy tired',\n    emjK1f632: 'wow astonished',\n    emjK1f633: 'wow flushed',\n    emjK1f3c4: 'wave surf surfer surfers surfs surfing',\n    emjK1f44f: 'yay clapping applause clap',\n    emjK1f64c: 'yay celebrate',\n    emjK1f48d: 'ring marry fiance engaged engage engagement ring engagement diamond ring bling',\n    emjK1f483: 'party dancer dance dancing',\n    emjK1f389: 'party fun congratulations celebrate congrats',\n    emjK1f388: 'party fun balloon',\n    emjK1f38a: 'party confetti surprise',\n    emjK1f383: 'happy halloween trick treat halloween pumpkin',\n    emjK1f385: 'merry christmas santa claus father xmas',\n    emjK1f384: 'merry christmas tree happy holidays',\n    emjK1f3eb: 'school college study teacher learn studying',\n    emjK1f392: 'backpack school bag back pack',\n    emjK1f41f: 'fish goldfish',\n    emjK1f3a3: 'fish fishing fishing pole',\n    emjK1f3a5: 'video camera film movie movie camera',\n    emjK1f4f9: 'video camera',\n    emjK1f3a6: 'theatre theater cinema',\n    emjK1f3ad: 'performing arts drama shakespeare theatre theater play actor actress',\n    emjK1f3bc: 'treble clef sheet music music musical score',\n    emjK1f3b9: 'music piano',\n    emjK1f3a7: 'music headphones headphone',\n    emjK1f3b7: 'music saxophone sax',\n    emjK1f3ba: 'music trumpet',\n    emjK1f3b8: 'music guitar',\n    emjK1f3bb: 'music violin',\n    emjK1f3ac: 'film action movie',\n    emjK1f48e: 'diamond stone gem',\n    emjK1f3be: 'wimbledon tennis raquet tennis sports racquet',\n    emjK1f3c8: 'football superbowl sports nfl',\n    emjK1f3bf: 'sports winter ski skiing skis',\n    emjK1f3c2: 'sports winter snowboard snowboarder snowboarding snowboards',\n    emjK026c4: 'winter snow snowman',\n    emjK02744: 'winter snow snowflake snowing snowed christmas xmas blizzard',\n    emjK1f3c1: 'race finish nascar',\n    emjK1f3c3: 'race run marathon runner sprinting running late',\n    emjK1f375: 'tea coffee',\n    emjK02615: 'coffee tea',\n    emjK1f377: 'alcohol wine',\n    emjK1f378: 'alcohol cocktail drinks martini happy hour',\n    emjK1f379: 'alcohol tropical drink',\n    emjK1f68c: 'bus transit',\n    emjK1f687: 'bus transit metro',\n    emjK1f43b: 'bear teddy',\n    emjK1f43c: 'bear panda',\n    emjK1f340: \"luck lucky st. patrick's day shamrock\",\n    emjK1f320: 'luck shooting star wish comet asteroid meteor meteroid',\n    emjK1f303: 'skyline starry stars night',\n    emjK1f307: 'skyline sunset',\n    emjK1f31f: 'star twinkle',\n    emjK02747: 'star sparkle glitter',\n    emjK1f4b0: 'cash loot',\n    emjK1f4b5: 'cash money dollar',\n    emjK1f4b4: 'yen money',\n    emjK1f4b3: 'money credit debt debit credit card',\n    emjK1f60b: 'dinner hungry lunch food yummy yum delicious tasty mmmmm',\n    emjK1f60e: 'cool',\n    emjK1f614: 'alas thinking sigh',\n    emjK1f616: 'confused confounded huh',\n    emjK1f61c: 'goofy wassup nyah kidding',\n    emjK1f61d: 'gross yuck eww blech',\n    emjK1f623: 'persevering',\n    emjK1f624: 'triumph congratulations grats congrats yahoo ftw woot wahoo',\n    emjK1f635: 'dizzy drunk confused',\n    emjK1f636: 'unsure',\n    emjK1f637: 'sick flu',\n    emjK1f440: 'eyes snoop',\n    emjK1f442: 'ear listen',\n    emjK1f443: 'nose smell',\n    emjK1f445: 'tongue lick taste drool',\n    emjK1f447: 'down',\n    emjK1f448: 'left',\n    emjK1f449: 'right',\n    emjK1f64f: 'pray praying prayer',\n    emjK0270b: 'hand',\n    emjK0270c: 'peace victory',\n    emjK1f466: 'boy',\n    emjK1f467: 'girl',\n    emjK1f468: 'man',\n    emjK1f469: 'woman',\n    emjK1f46a: 'family',\n    emjK1f46e: 'police officer cop',\n    emjK1f46f: 'bunny ears costume',\n    emjK1f470: 'bride marriage bridezilla',\n    emjK1f471: 'blond',\n    emjK1f474: 'grandpa old man gramps grandfather',\n    emjK1f475: 'grandma old lady old woman grandmother',\n    emjK1f476: 'baby kid toddler newborn infant',\n    emjK1f382: 'birthday cake happy cake',\n    emjK1f390: 'chime',\n    emjK1f393: 'graduation college high school graduated graduating graduate grad',\n    emjK1f0cf: 'cards card joker blackjack poker',\n    emjK1f3a0: 'carousel carnival',\n    emjK1f3a1: 'ferris wheel amusement park',\n    emjK1f3a2: 'roller coaster',\n    emjK1f3a4: 'microphone sing karaoke singing',\n    emjK1f3a8: 'paint artist palette artist',\n    emjK1f3a9: 'top hat black tie',\n    emjK1f3aa: 'circus',\n    emjK1f3ab: 'ticket stub ticket stub admission',\n    emjK1f3ae: 'xbox video game video games controller',\n    emjK1f3af: 'bullseye archery darts arrow',\n    emjK1f3b0: 'slot slots machine casino gamble gambling',\n    emjK1f3b1: 'pool billiards',\n    emjK1f3b2: 'die dice game craps gambling casino gamble',\n    emjK1f3b3: 'bowling bowl',\n    emjK1f4f7: 'camera picture photo',\n    emjK1f4fa: 'tv television',\n    emjK1f4fb: 'radio',\n    emjK1f4fc: 'videotape videocassette cassette vcr',\n    emjK1f478: 'princess',\n    emjK1f47d: 'alien ufo',\n    emjK1f47f: 'imp pixie loki leprechaun',\n    emjK1f484: 'lipstick makeup',\n    emjK1f485: 'nail polish manicure',\n    emjK1f486: 'massage',\n    emjK1f487: 'haircut',\n    emjK1f488: 'barber barbershop',\n    emjK1f489: 'syringe shot needle',\n    emjK1f48a: 'pill pills drug drugs',\n    emjK1f48c: 'love letter',\n    emjK1f490: 'flowers bouquet love',\n    emjK1f492: 'wedding marry church',\n    emjK1f3c0: 'basketball bball hoops',\n    emjK1f3c6: 'win trophy champions champion',\n    emjK1f3ca: 'swim swimmer swimming swims',\n    emjK026bd: 'soccer ball',\n    emjK026be: 'baseball',\n    emjK1f451: 'crown king queen',\n    emjK1f453: 'glasses hipster',\n    emjK1f454: 'tie',\n    emjK1f455: 'tshirt tshirts',\n    emjK1f456: 'jeans pants',\n    emjK1f457: 'dress',\n    emjK1f459: 'bikini bathing suit swimsuit swim',\n    emjK1f45b: 'purse',\n    emjK1f45c: 'handbag purse',\n    emjK1f45d: 'pouch clutch',\n    emjK1f461: 'sandal heels heel shoe shoes sandals pumps',\n    emjK1f462: 'boots boot',\n    emjK1f463: 'footprints barefoot',\n    emjK1f4dd: 'memo note',\n    emjK1f4de: 'telephone call phone',\n    emjK1f4df: 'pager',\n    emjK1f4e0: 'fax machine',\n    emjK1f4e1: 'satellite antenna',\n    emjK1f4e3: 'megaphone cheering',\n    emjK1f4e6: 'present package parcel',\n    emjK1f4e7: 'email mail',\n    emjK1f4ee: 'mail post',\n    emjK1f4f0: 'newspaper news',\n    emjK1f4f1: 'phone cell call',\n    emjK1f4f6: 'wifi signal',\n    emjK1f526: 'flashlight',\n    emjK1f527: 'wrench',\n    emjK1f528: 'hammer hammers',\n    emjK1f529: 'nuts bolts',\n    emjK1f52a: 'knife',\n    emjK1f52e: 'crystal ball clairvoyance clairvoyant psychic mystic',\n    emjK1f531: 'trident',\n    emjK1f354: 'hamburger fast burger hamburgers burgers food hungry',\n    emjK1f355: 'pizza fast food hungry dinner lunch',\n    emjK1f356: 'meat dinner lunch hungry food',\n    emjK1f357: 'chicken leg turkey leg meat chicken turkey hungry dinner lunch food drumstick',\n    emjK1f35a: 'rice dinner hungry lunch food',\n    emjK1f35c: 'noodles ramen food dinner lunch',\n    emjK1f35d: 'spaghetti dinner noodles food hungry',\n    emjK1f35e: 'bread food',\n    emjK1f35f: 'fries fast food french fries food',\n    emjK1f360: 'potato potatoes vegetable food',\n    emjK1f363: 'sushi food maki',\n    emjK1f364: 'fried shrimp shrimp seafood food tempura',\n    emjK1f369: 'doughnut doughnuts donut donuts food sweets',\n    emjK1f36a: 'cookie cookies food sweets',\n    emjK1f36b: 'chocolate chocolates candy bar chocolate bar sweets',\n    emjK1f36c: 'candy sweet sweets treat',\n    emjK1f36d: 'lollipop candy treat sucker',\n    emjK1f36e: 'custard',\n    emjK1f36f: 'honey pot',\n    emjK1f370: 'pie food hungry cake dessert cheesecake shortcake sweets',\n    emjK1f371: 'bento box',\n    emjK1f372: 'soup pot of food stew',\n    emjK1f374: 'food dinner fork knife eat hungry meal restaurant',\n    emjK1f376: 'sake alcohol',\n    emjK1f37a: 'beer alcohol',\n    emjK1f37b: 'cheers beers alcohol',\n    emjK1f345: 'food vegetable fruit tomato',\n    emjK1f346: 'eggplant food vegetable',\n    emjK1f347: 'grapes fruit food',\n    emjK1f348: 'melon honeydew food fruit',\n    emjK1f349: 'watermelon melon food fruit',\n    emjK1f34a: 'tangerine fruit food orange mandarin clementine slice slices',\n    emjK1f34c: 'banana fruit food',\n    emjK1f34d: 'pineapple fruit food',\n    emjK1f351: 'peach peaches fruit food',\n    emjK1f352: 'cherry cherries fruit food',\n    emjK1f353: 'strawberries stawberry fruit food berry berries',\n    emjK1f4ba: 'seat',\n    emjK1f4bb: 'pc computer laptop tablet',\n    emjK1f4bc: 'briefcase brief case',\n    emjK1f4be: 'floppy disk diskette',\n    emjK1f4bf: 'cd compact disc',\n    emjK1f4c0: 'dvd',\n    emjK1f4c1: 'file folder',\n    emjK1f4c5: 'calendar',\n    emjK1f4cb: 'clipboard',\n    emjK1f4cc: 'pushpin',\n    emjK1f4cd: 'drawing pin',\n    emjK1f4ce: 'paperclip clippy',\n    emjK1f4cf: 'ruler measure',\n    emjK1f4d2: 'ledger',\n    emjK1f4d3: 'notebook',\n    emjK1f4da: 'book books',\n    emjK1f4db: 'name badge',\n    emjK02702: 'scissors cut',\n    emjK02709: 'envelope mail',\n    emjK0270f: 'pencil',\n    emjK1f3e0: 'house home',\n    emjK1f3e1: 'garden greenhouse',\n    emjK1f3e2: 'office work',\n    emjK1f3e6: 'bank',\n    emjK1f3e7: 'atm',\n    emjK1f3e8: 'hotel motel bed sleep',\n    emjK1f3ea: 'convenience store',\n    emjK1f3ec: 'department store shopping',\n    emjK1f3ed: 'factory',\n    emjK1f3f0: 'castle',\n    emjK02668: 'hot springs',\n    emjK02693: 'anchor',\n    emjK026ea: 'church temple',\n    emjK026f2: 'fountain',\n    emjK026f3: 'golf',\n    emjK026f5: 'sailboat sailing sail',\n    emjK026fd: 'gas fuel gasoline pump',\n    emjK1f6aa: 'door',\n    emjK1f6ac: 'smoke smoking',\n    emjK1f6ad: 'no smoking',\n    emjK1f6b2: 'bike bicycle biking',\n    emjK1f6b6: 'walking pedestrian',\n    emjK1f6c0: 'bath bathing bathtub tub',\n    emjK0267f: 'accessible accessibility wheelchair',\n    emjK026a0: 'warning attention caution hazzard',\n    emjK026a1: 'high voltage zap lightning',\n    emjK1f680: 'rocket spaceship space',\n    emjK1f68f: 'bus stop',\n    emjK1f693: 'cop police',\n    emjK1f695: 'taxi cab',\n    emjK1f697: 'car vehicle automobile',\n    emjK1f6a2: 'ship cruise ferry yacht cruise travel vacation',\n    emjK02708: 'airplane flight airline plane travel vacation',\n    emjK1f42d: 'mouse eek mice squeak',\n    emjK1f42e: 'cow moo',\n    emjK1f42f: 'tiger roar rawr',\n    emjK1f430: 'rabbit bunny easter',\n    emjK1f431: 'cat kitty kitten meow',\n    emjK1f432: 'dragon roar smaug',\n    emjK1f433: 'whale moby dick',\n    emjK1f434: 'horse',\n    emjK1f436: 'dog woof puppy bark doggy',\n    emjK1f437: 'pig oink piggy piglet',\n    emjK1f438: 'frog croak ribbit',\n    emjK1f439: 'hamster guinea pig',\n    emjK1f43a: 'wolf howl',\n    emjK1f341: 'maple leaf',\n    emjK1f344: 'mushroom shroom',\n    emjK1f308: 'rainbow love',\n    emjK02601: 'cloud gloomy cloudy',\n    emjK02614: 'drops raining rain rainy raindrops umbrella',\n    emjK02728: 'sparkles twinkle twinkling glitter shiny sparkly glittery',\n    emjK1f4a9: 'poop turd shit',\n    emjK1f4aa: 'strong work out muscles biceps',\n    emjK02648: 'aries zodiac',\n    emjK02649: 'taurus zodiac',\n    emjK0264a: 'gemini zodiac',\n    emjK0264b: 'cancer zodiac',\n    emjK0264c: 'leo zodiac',\n    emjK0264d: 'virgo zodiac',\n    emjK0264e: 'libra zodiac',\n    emjK0264f: 'scorpio zodiac',\n    emjK02650: 'sagittarius zodiac',\n    emjK02651: 'capricorn zodiac',\n    emjK02652: 'aquarius zodiac',\n    emjK02653: 'pisces zodiac',\n    emjK1f411: 'bah sheep',\n    emjK1f300: 'cyclone typhoon hurricane',\n    emjK1f301: 'foggy',\n    emjK1f302: 'umbrella',\n    emjK1f304: 'sunrise',\n    emjK1f305: 'sunrise',\n    emjK1f306: 'dusk',\n    emjK1f309: 'bridge night',\n    emjK1f30a: 'wave tsunami',\n    emjK1f30c: 'milky way night sky galaxy universe',\n    emjK1f311: 'moon',\n    emjK1f313: 'moon',\n    emjK1f314: 'moon',\n    emjK1f315: 'moon full',\n    emjK1f319: 'moon crescent',\n    emjK1f31b: 'moon',\n    emjK1f330: 'chestnut',\n    emjK1f331: 'seed seedling planting',\n    emjK1f334: 'palm tree vacation',\n    emjK1f335: 'cactus hot desert',\n    emjK1f337: 'tulip flower',\n    emjK1f338: 'cherry blossom sakura flower',\n    emjK1f339: 'rose love romance flower',\n    emjK1f33a: 'hibiscus flower',\n    emjK1f33b: 'sunflower',\n    emjK1f33c: 'blossom daisy flower',\n    emjK1f33d: 'maize corn',\n    emjK1f33e: 'rice',\n    emjK1f33f: 'herb herbs',\n    emjK1f342: 'leaf autumn',\n    emjK1f343: 'leaf windy',\n    emjK1f358: 'onigiri',\n    emjK1f359: 'onigiri',\n    emjK1f35b: 'curry katsu',\n    emjK1f361: 'dango',\n    emjK1f362: 'oden',\n    emjK1f373: 'frying cooking',\n    emjK1f3bd: 'exercise exercising',\n    emjK1f417: 'boar',\n    emjK1f418: 'elephant',\n    emjK1f419: 'octopus',\n    emjK1f41a: 'seashell shell',\n    emjK1f41b: 'bug insect centipede millipede',\n    emjK1f41c: 'ant ants insect bug',\n    emjK1f41d: 'bee bees honeybee honeybees',\n    emjK1f41e: 'ladybug ladybugs',\n    emjK1f420: 'fish',\n    emjK1f421: 'blowfish fish',\n    emjK1f422: 'turtle',\n    emjK1f423: 'chick easter',\n    emjK1f425: 'chick easter',\n    emjK1f40c: 'snail slow',\n    emjK1f40d: 'snake',\n    emjK1f40e: 'horse horsey pony',\n    emjK1f412: 'monkey',\n    emjK1f414: 'chicken bawk rooster',\n    emjK1f429: 'poodle dog',\n    emjK1f42b: 'camel desert',\n    emjK1f426: 'bird',\n    emjK1f427: 'penguin',\n    emjK1f42c: 'dolphin',\n    emjK1f43d: 'pig pig noise smelly',\n    emjK1f43e: 'paw prints paws',\n    emjK1f452: 'hat sunday best',\n    emjK1f458: 'kimono',\n    emjK1f45a: 'clothes',\n    emjK1f481: 'information desk support desk',\n    emjK1f482: 'guardsman',\n    emjK1f499: 'heart',\n    emjK1f49a: 'heart',\n    emjK1f49b: 'heart',\n    emjK1f49c: 'heart',\n    emjK1f49d: 'heart love',\n    emjK1f49e: 'heart',\n    emjK1f49f: 'heart',\n    emjK1f4a5: 'collision bang traffic accident crash',\n    emjK1f4a3: 'bomb',\n    emjK1f4a1: 'light bulb idea',\n    emjK1f4a8: 'dash gotta go gotta run',\n    emjK1f503: 'reload refresh loading',\n    emjK1f50c: 'plug plugged in',\n    emjK1f50b: 'battery charged',\n    emjK1f50d: 'search searching',\n    emjK1f510: 'secure secret',\n    emjK1f50f: 'privacy',\n    emjK1f511: 'key',\n    emjK1f512: 'lock locked',\n    emjK1f513: 'unlock unlocked',\n    emjK1f516: 'bookmark',\n    emjK1f514: 'bell alarm',\n    emjK1f550: '1pm 1am early afternoon',\n    emjK1f551: '2pm 2am afternoon',\n    emjK1f552: '3pm 3am',\n    emjK1f553: '4pm 4am',\n    emjK1f554: '5pm 5am late afternoon',\n    emjK1f555: '6pm 6am',\n    emjK1f556: '7pm 7am dinnertime',\n    emjK1f557: '8pm 8am morning',\n    emjK1f558: '9pm 9am',\n    emjK1f559: '10pm 10am bedtime',\n    emjK1f55a: '11pm 11am nighttime',\n    emjK1f55b: '12pm 12am midnight noon lunchtime',\n    emjK1f5fd: 'statue liberty nyc new york city',\n    emjK1f638: 'cat grin happy',\n    emjK1f639: 'cat rofl lol tears laughter tears joy funny',\n    emjK1f63a: 'cat smile',\n    emjK1f63b: 'cat love',\n    emjK1f63c: 'cat heh',\n    emjK1f63d: 'cat kiss kisses',\n    emjK1f63e: 'cat pout pouting sad',\n    emjK1f63f: 'cat cry cries sad',\n    emjK1f4e8: 'incoming message mail email letter',\n    emjK1f4e9: 'mail email letter sending send',\n    emjK1f4eb: 'mail',\n    emjK1f4ea: 'empty mailbox',\n    emjK1f6bb: 'restroom toilet washroom bathroom',\n    emjK1f6a5: 'traffic traffic light',\n    emjK1f6ab: 'no entry no admittance',\n    emjK1f689: 'station',\n    emjK1f69a: 'delivery truck',\n    emjK026fa: 'tent camp camping',\n    emjK1f6a8: 'police siren emergency',\n    emjK1f17f: 'parking parking spot',\n    emjK02733: 'star asterisk',\n    emjK02734: 'star',\n    emjK02b50: 'star',\n    emjK1f4c8: 'chart graph record profits trending up upwards skyrocketed',\n    emjK1f4c9: 'chart graph record losses trending down downwards',\n    emjK1f4ca: 'chart graph',\n    emjK02764: 'love heart',\n};\n\n/**\n * @internal\n * Emoji Family\n */\nexport const EmojiFamilyStrings = {\n    People: 'People',\n    Nature: 'Nature',\n    Activities: 'Activities',\n    Food: 'Food',\n    Travel: 'Travel',\n    Symbols: 'Symbols',\n    Objects: 'Objects',\n};\n\n/**\n * @internal\n * Emoji Description Key\n */\nexport type EmojiDescriptionStringKey = keyof typeof EmojiDescriptionStrings;\n\n/**\n * @internal\n * Emoji Keyword Key\n */\nexport type EmojiKeywordStringKey = keyof typeof EmojiKeywordStrings;\n","import { getObjectKeys } from 'roosterjs-content-model-dom';\nimport type { Emoji } from '../type/Emoji';\n\nconst Common1 = createEmoji('1f60a', ':) :-)');\nconst common2 = createEmoji('1f609', ';) ;-)');\nconst common3 = createEmoji('02764', '<3');\nconst common4 = createEmoji('1f61e', ':( :-(');\nconst common5 = createEmoji('1f603', ':D :-D');\n\n/**\n * @internal\n */\nexport const MoreEmoji: Emoji = {\n    key: 'more',\n    description: 'emjDMore',\n    codePoint: '',\n};\n\n/**\n * @internal\n */\nexport const CommonEmojis = [Common1, common2, common3, common4, common5, MoreEmoji];\n\n/**\n * @internal\n */\nexport type EmojiFamilyKeys =\n    | 'People'\n    | 'Nature'\n    | 'Activities'\n    | 'Food'\n    | 'Travel'\n    | 'Symbols'\n    | 'Objects';\n\n/**\n * @internal\n * NOTE: name for an emoji should be in lower case\n */\nexport const EmojiList: Record<EmojiFamilyKeys, Emoji[]> = {\n    People: [\n        createEmoji('1f601'),\n        createEmoji('1f602'),\n        common5,\n        createEmoji('1f604'),\n        createEmoji('1f605'),\n        createEmoji('1f606'),\n        createEmoji('1f607'),\n        common2,\n        Common1,\n        createEmoji('1f642'),\n        createEmoji('1f60b'),\n        createEmoji('1f60c'),\n        createEmoji('1f60d'),\n        createEmoji('1f618'),\n        createEmoji('1f61a'),\n        createEmoji('1f61c'),\n        createEmoji('1f61d', ':p :P :-p :-P'),\n        createEmoji('1f60e', 'B) B-)'),\n        createEmoji('1f60f'),\n        createEmoji('1f636'),\n        createEmoji('1f610', ':| :-|'),\n        createEmoji('1f612'),\n        createEmoji('1f633'),\n        common4,\n        createEmoji('1f620'),\n        createEmoji('1f621'),\n        createEmoji('1f614'),\n        createEmoji('1f623'),\n        createEmoji('1f616'),\n        createEmoji('1f62b'),\n        createEmoji('1f629'),\n        createEmoji('1f624'),\n        createEmoji('1f631'),\n        createEmoji('1f628'),\n        createEmoji('1f630'),\n        createEmoji('1f625'),\n        createEmoji('1f622'),\n        createEmoji('1f62a'),\n        createEmoji('1f613'),\n        createEmoji('1f62d'),\n        createEmoji('1f635'),\n        createEmoji('1f632', ':o :O :-o :-O'),\n        createEmoji('1f637'),\n        createEmoji('1f4a4'),\n        createEmojiWithNoKeyword('1f608'),\n        createEmoji('1f47f'),\n        createEmojiWithNoKeyword('1f479'),\n        createEmojiWithNoKeyword('1f47a'),\n        createEmoji('1f480'),\n        createEmoji('1f47b'),\n        createEmoji('1f47d'),\n        createEmoji('1f63a'),\n        createEmoji('1f638'),\n        createEmoji('1f639'),\n        createEmoji('1f63b'),\n        createEmoji('1f63c'),\n        createEmoji('1f63d'),\n        createEmojiWithNoKeyword('1f640'),\n        createEmoji('1f63f'),\n        createEmoji('1f63e'),\n        createEmoji('1f64c'),\n        createEmoji('1f44f'),\n        createEmoji('1f44b'),\n        createEmoji('1f44d'),\n        createEmoji('1f44e'),\n        createEmoji('1f44a'),\n        createEmoji('0270a'),\n        createEmoji('0270b'),\n        createEmoji('0270c'),\n        createEmoji('1f44c'),\n        createEmojiWithNoKeyword('1f450'),\n        createEmojiWithNoKeyword('1f596'),\n        createEmoji('1f4aa'),\n        createEmoji('1f64f'),\n        createEmoji('1f446'),\n        createEmoji('1f447'),\n        createEmoji('1f448'),\n        createEmoji('1f449'),\n        createEmoji('1f485'),\n        createEmoji('1f444'),\n        createEmoji('1f445'),\n        createEmoji('1f442'),\n        createEmoji('1f443'),\n        createEmoji('1f440'),\n        createEmojiWithNoKeyword('1f464'),\n        createEmoji('1f476'),\n        createEmoji('1f466'),\n        createEmoji('1f467'),\n        createEmoji('1f468'),\n        createEmoji('1f469'),\n        createEmoji('1f471'),\n        createEmoji('1f474'),\n        createEmoji('1f475'),\n        createEmojiWithNoKeyword('1f472'),\n        createEmojiWithNoKeyword('1f473'),\n        createEmoji('1f46e'),\n        createEmoji('1f477'),\n        createEmoji('1f482'),\n        createEmoji('1f385'),\n        createEmoji('1f47c'),\n        createEmoji('1f478'),\n        createEmoji('1f470'),\n        createEmoji('1f6b6'),\n        createEmoji('1f3c3'),\n        createEmoji('1f483'),\n        createEmoji('1f46f'),\n        createEmoji('1f46b'),\n        createEmojiWithNoKeyword('1f647'),\n        createEmoji('1f481'),\n        createEmoji('1f645'),\n        createEmoji('1f646'),\n        createEmoji('1f64b'),\n        createEmoji('1f64e'),\n        createEmoji('1f64d'),\n        createEmoji('1f487'),\n        createEmoji('1f486'),\n        createEmoji('1f491'),\n        createEmoji('1f48f'),\n        createEmoji('1f46a'),\n        createEmoji('1f45a'),\n        createEmoji('1f455'),\n        createEmoji('1f456'),\n        createEmoji('1f454'),\n        createEmoji('1f457'),\n        createEmoji('1f459'),\n        createEmoji('1f458'),\n        createEmoji('1f484'),\n        createEmoji('1f48b'),\n        createEmoji('1f463'),\n        createEmojiWithNoKeyword('1f460'),\n        createEmoji('1f461'),\n        createEmoji('1f462'),\n        createEmoji('1f45e'),\n        createEmoji('1f45f'),\n        createEmoji('1f452'),\n        createEmoji('1f3a9'),\n        createEmoji('1f393'),\n        createEmoji('1f451'),\n        createEmoji('1f392'),\n        createEmoji('1f45d'),\n        createEmoji('1f45b'),\n        createEmoji('1f45c'),\n        createEmoji('1f4bc'),\n        createEmoji('1f453'),\n        createEmoji('1f48d'),\n        createEmoji('1f302'),\n    ],\n    Nature: [\n        createEmoji('1f436'),\n        createEmoji('1f431'),\n        createEmoji('1f42d'),\n        createEmoji('1f439'),\n        createEmoji('1f430'),\n        createEmoji('1f43b'),\n        createEmoji('1f43c'),\n        createEmojiWithNoKeyword('1f428'),\n        createEmoji('1f42f'),\n        createEmoji('1f42e'),\n        createEmoji('1f437'),\n        createEmoji('1f43d'),\n        createEmoji('1f438'),\n        createEmoji('1f419'),\n        createEmoji('1f435'),\n        createEmoji('1f648'),\n        createEmoji('1f649'),\n        createEmoji('1f64a'),\n        createEmoji('1f412'),\n        createEmoji('1f427'),\n        createEmoji('1f426'),\n        createEmojiWithNoKeyword('1f424'),\n        createEmoji('1f423'),\n        createEmoji('1f425'),\n        createEmoji('1f43a'),\n        createEmoji('1f417'),\n        createEmoji('1f434'),\n        createEmoji('1f41d'),\n        createEmoji('1f41b'),\n        createEmoji('1f40c'),\n        createEmoji('1f41e'),\n        createEmoji('1f41c'),\n        createEmoji('1f40d'),\n        createEmoji('1f422'),\n        createEmoji('1f420'),\n        createEmoji('1f41f'),\n        createEmoji('1f421'),\n        createEmoji('1f42c'),\n        createEmoji('1f433'),\n        createEmoji('1f414'),\n        createEmoji('1f42b'),\n        createEmoji('1f418'),\n        createEmoji('1f411'),\n        createEmoji('1f40e'),\n        createEmoji('1f429'),\n        createEmoji('1f43e'),\n        createEmoji('1f432'),\n        createEmoji('1f335'),\n        createEmoji('1f384'),\n        createEmoji('1f334'),\n        createEmoji('1f331'),\n        createEmoji('1f33f'),\n        createEmoji('1f340'),\n        createEmojiWithNoKeyword('1f38d'),\n        createEmojiWithNoKeyword('1f38b'),\n        createEmoji('1f343'),\n        createEmoji('1f342'),\n        createEmoji('1f341'),\n        createEmoji('1f33e'),\n        createEmoji('1f33a'),\n        createEmoji('1f33b'),\n        createEmoji('1f339'),\n        createEmoji('1f33c'),\n        createEmoji('1f337'),\n        createEmoji('1f338'),\n        createEmoji('1f344'),\n        createEmoji('1f490'),\n        createEmoji('1f330'),\n        createEmoji('1f383'),\n        createEmoji('1f41a'),\n        createEmojiWithNoKeyword('1f30f'),\n        createEmoji('1f315'),\n        createEmoji('1f311'),\n        createEmoji('1f313'),\n        createEmoji('1f314'),\n        createEmoji('1f31b'),\n        createEmoji('1f319'),\n        createEmoji('02b50'),\n        createEmoji('1f31f'),\n        createEmojiWithNoKeyword('1f4ab'),\n        createEmoji('02728'),\n        createEmojiWithNoKeyword('02600'),\n        createEmojiWithNoKeyword('026c5'),\n        createEmoji('02601'),\n        createEmoji('026a1'),\n        createEmoji('1f525'),\n        createEmoji('1f4a5'),\n        createEmoji('02744'),\n        createEmoji('026c4'),\n        createEmoji('1f4a8'),\n        createEmoji('02614'),\n        createEmojiWithNoKeyword('1f4a7'),\n        createEmojiWithNoKeyword('1f4a6'),\n        createEmoji('1f30a'),\n    ],\n    Activities: [\n        createEmoji('026bd'),\n        createEmoji('1f3c0'),\n        createEmoji('1f3c8'),\n        createEmoji('026be'),\n        createEmoji('1f3be'),\n        createEmoji('1f3b1'),\n        createEmoji('026f3'),\n        createEmoji('1f3bf'),\n        createEmoji('1f3c2'),\n        createEmoji('1f3a3'),\n        createEmoji('1f3ca'),\n        createEmoji('1f3c4'),\n        createEmoji('1f3c6'),\n        createEmoji('1f3bd'),\n        createEmoji('1f3ab'),\n        createEmoji('1f3ad'),\n        createEmoji('1f3a8'),\n        createEmoji('1f3aa'),\n        createEmoji('1f3a4'),\n        createEmoji('1f3a7'),\n        createEmoji('1f3bc'),\n        createEmoji('1f3b9'),\n        createEmoji('1f3b7'),\n        createEmoji('1f3ba'),\n        createEmoji('1f3b8'),\n        createEmoji('1f3bb'),\n        createEmoji('1f3ac'),\n        createEmoji('1f3ae'),\n        createEmoji('1f47e'),\n        createEmoji('1f3af'),\n        createEmoji('1f3b2'),\n        createEmoji('1f3b0'),\n        createEmoji('1f3b3'),\n    ],\n    Food: [\n        createEmoji('1f34f'),\n        createEmoji('1f34e'),\n        createEmoji('1f34a'),\n        createEmoji('1f34c'),\n        createEmoji('1f349'),\n        createEmoji('1f347'),\n        createEmoji('1f353'),\n        createEmoji('1f348'),\n        createEmoji('1f352'),\n        createEmoji('1f351'),\n        createEmoji('1f34d'),\n        createEmoji('1f345'),\n        createEmoji('1f346'),\n        createEmoji('1f33d'),\n        createEmoji('1f360'),\n        createEmoji('1f35e'),\n        createEmoji('1f357'),\n        createEmoji('1f356'),\n        createEmoji('1f364'),\n        createEmoji('1f373'),\n        createEmoji('1f354'),\n        createEmoji('1f35f'),\n        createEmoji('1f355'),\n        createEmoji('1f35d'),\n        createEmoji('1f35c'),\n        createEmoji('1f372'),\n        createEmoji('1f365'),\n        createEmoji('1f363'),\n        createEmoji('1f371'),\n        createEmoji('1f35b'),\n        createEmoji('1f359'),\n        createEmoji('1f35a'),\n        createEmoji('1f358'),\n        createEmoji('1f362'),\n        createEmoji('1f361'),\n        createEmojiWithNoKeyword('1f367'),\n        createEmoji('1f368'),\n        createEmoji('1f366'),\n        createEmoji('1f370'),\n        createEmoji('1f36f'),\n        createEmoji('1f382'),\n        createEmoji('1f36e'),\n        createEmoji('1f36c'),\n        createEmoji('1f36d'),\n        createEmoji('1f36b'),\n        createEmoji('1f369'),\n        createEmoji('1f36a'),\n        createEmoji('1f37a'),\n        createEmoji('1f37b'),\n        createEmoji('1f377'),\n        createEmoji('1f378'),\n        createEmoji('1f379'),\n        createEmoji('1f376'),\n        createEmoji('1f375'),\n        createEmoji('02615'),\n        createEmoji('1f374'),\n    ],\n    Travel: [\n        createEmoji('1f697'),\n        createEmoji('1f695'),\n        createEmoji('1f687'),\n        createEmojiWithNoKeyword('1f699'),\n        createEmoji('1f68c'),\n        createEmoji('1f693'),\n        createEmoji('1f69a'),\n        createEmojiWithNoKeyword('1f691'),\n        createEmoji('1f692'),\n        createEmoji('1f6b2'),\n        createEmoji('1f6a8'),\n        createEmoji('1f683'),\n        createEmoji('1f684'),\n        createEmojiWithNoKeyword('1f685'),\n        createEmoji('1f689'),\n        createEmoji('02708'),\n        createEmoji('026f5'),\n        createEmojiWithNoKeyword('1f6a4'),\n        createEmoji('1f680'),\n        createEmoji('1f4ba'),\n        createEmoji('02693'),\n        createEmoji('1f6a7'),\n        createEmoji('026fd'),\n        createEmoji('1f68f'),\n        createEmoji('1f6a5'),\n        createEmoji('1f3c1'),\n        createEmoji('1f6a2'),\n        createEmoji('1f3a1'),\n        createEmoji('1f3a2'),\n        createEmoji('1f3a0'),\n        createEmoji('1f301'),\n        createEmojiWithNoKeyword('1f5fc'),\n        createEmoji('1f3ed'),\n        createEmoji('026f2'),\n        createEmojiWithNoKeyword('1f391'),\n        createEmojiWithNoKeyword('1f5fb'),\n        createEmojiWithNoKeyword('1f30b'),\n        createEmojiWithNoKeyword('1f5fe'),\n        createEmoji('1f305'),\n        createEmoji('1f304'),\n        createEmoji('1f307'),\n        createEmoji('1f306'),\n        createEmoji('1f303'),\n        createEmoji('1f309'),\n        createEmoji('1f30c'),\n        createEmoji('1f387'),\n        createEmoji('1f386'),\n        createEmoji('1f308'),\n        createEmoji('1f3f0'),\n        createEmojiWithNoKeyword('1f3ef'),\n        createEmoji('1f5fd'),\n        createEmoji('1f3e0'),\n        createEmoji('1f3e1'),\n        createEmoji('1f3e2'),\n        createEmoji('1f3ec'),\n        createEmoji('026fa'),\n        createEmojiWithNoKeyword('1f3e3'),\n        createEmojiWithNoKeyword('1f3e5'),\n        createEmoji('1f3e6'),\n        createEmoji('1f3e8'),\n        createEmoji('1f3ea'),\n        createEmoji('1f3eb'),\n        createEmojiWithNoKeyword('1f3e9'),\n        createEmoji('1f492'),\n        createEmoji('026ea'),\n        createEmoji('1f320'),\n    ],\n    Symbols: [\n        common3,\n        createEmoji('1f49b'),\n        createEmoji('1f49a'),\n        createEmoji('1f499'),\n        createEmoji('1f494'),\n        createEmoji('1f49c'),\n        createEmoji('1f495'),\n        createEmoji('1f493'),\n        createEmoji('1f49e'),\n        createEmoji('1f497'),\n        createEmoji('1f498'),\n        createEmoji('1f496'),\n        createEmoji('1f49d'),\n        createEmoji('1f49f'),\n        createEmojiWithNoKeyword('1f52f'),\n        createEmojiWithNoKeyword('026ce'),\n        createEmoji('02648'),\n        createEmoji('02649'),\n        createEmoji('0264a'),\n        createEmoji('0264b'),\n        createEmoji('0264c'),\n        createEmoji('0264d'),\n        createEmoji('0264e'),\n        createEmoji('0264f'),\n        createEmoji('02650'),\n        createEmoji('02651'),\n        createEmoji('02652'),\n        createEmoji('02653'),\n        createEmojiWithNoKeyword('1f194'),\n        createEmojiWithNoKeyword('1f4f4'),\n        createEmojiWithNoKeyword('1f4f3'),\n        createEmojiWithNoKeyword('1f19a'),\n        createEmojiWithNoKeyword('1f4ae'),\n        createEmojiWithNoKeyword('1f18e'),\n        createEmojiWithNoKeyword('1f191'),\n        createEmojiWithNoKeyword('1f198'),\n        createEmojiWithNoKeyword('026d4'),\n        createEmoji('1f4db'),\n        createEmoji('1f6ab'),\n        createEmojiWithNoKeyword('0274c'),\n        createEmojiWithNoKeyword('02b55'),\n        createEmojiWithNoKeyword('1f4a2'),\n        createEmoji('02668'),\n        createEmojiWithNoKeyword('1f51e'),\n        createEmojiWithNoKeyword('02757'),\n        createEmojiWithNoKeyword('02755'),\n        createEmojiWithNoKeyword('02753'),\n        createEmojiWithNoKeyword('02754'),\n        createEmojiWithNoKeyword('02049'),\n        createEmojiWithNoKeyword('1f4af'),\n        createEmoji('1f531'),\n        createEmojiWithNoKeyword('0303d'),\n        createEmoji('026a0'),\n        createEmojiWithNoKeyword('1f530'),\n        createEmojiWithNoKeyword('1f22f'),\n        createEmojiWithNoKeyword('1f4b9'),\n        createEmoji('02733'),\n        createEmojiWithNoKeyword('0274e'),\n        createEmojiWithNoKeyword('02705'),\n        createEmojiWithNoKeyword('1f4a0'),\n        createEmoji('1f300'),\n        createEmoji('1f3e7'),\n        createEmoji('0267f'),\n        createEmoji('1f6ad'),\n        createEmojiWithNoKeyword('1f6be'),\n        createEmoji('02734'),\n        createEmoji('1f17f'),\n        createEmoji('1f6b9'),\n        createEmoji('1f6ba'),\n        createEmojiWithNoKeyword('1f6bc'),\n        createEmoji('1f6bb'),\n        createEmoji('1f3a6'),\n        createEmoji('1f4f6'),\n        createEmojiWithNoKeyword('1f201'),\n        createEmojiWithNoKeyword('1f196'),\n        createEmojiWithNoKeyword('0267b'),\n        createEmojiWithNoKeyword('1f197'),\n        createEmojiWithNoKeyword('1f192'),\n        createEmoji('02747'),\n        createEmojiWithNoKeyword('1f195'),\n        createEmojiWithNoKeyword('1f193'),\n        createEmojiWithNoKeyword('1f51f'),\n        createEmojiWithNoKeyword('1f522'),\n        createEmojiWithNoKeyword('023ea'),\n        createEmojiWithNoKeyword('023e9'),\n        createEmojiWithNoKeyword('1f53c'),\n        createEmojiWithNoKeyword('1f53d'),\n        createEmojiWithNoKeyword('023eb'),\n        createEmojiWithNoKeyword('023ec'),\n        createEmojiWithNoKeyword('1f199'),\n        createEmojiWithNoKeyword('02139'),\n        createEmojiWithNoKeyword('1f524'),\n        createEmojiWithNoKeyword('1f521'),\n        createEmojiWithNoKeyword('1f520'),\n        createEmojiWithNoKeyword('1f523'),\n        createEmoji('1f3b5'),\n        createEmoji('1f3b6'),\n        createEmojiWithNoKeyword('03030'),\n        createEmojiWithNoKeyword('027bf'),\n        createEmojiWithNoKeyword('02714'),\n        createEmoji('1f503'),\n        createEmojiWithNoKeyword('02795'),\n        createEmojiWithNoKeyword('02796'),\n        createEmojiWithNoKeyword('02797'),\n        createEmojiWithNoKeyword('02716'),\n        createEmojiWithNoKeyword('027b0'),\n        createEmojiWithNoKeyword('1f4b2'),\n        createEmojiWithNoKeyword('1f4b1'),\n        createEmojiWithNoKeyword('1f51a'),\n        createEmojiWithNoKeyword('1f519'),\n        createEmojiWithNoKeyword('1f51b'),\n        createEmojiWithNoKeyword('1f51d'),\n        createEmojiWithNoKeyword('1f51c'),\n        createEmojiWithNoKeyword('02611'),\n        createEmojiWithNoKeyword('1f518'),\n        createEmojiWithNoKeyword('026ab'),\n        createEmojiWithNoKeyword('1f534'),\n        createEmojiWithNoKeyword('1f535'),\n        createEmojiWithNoKeyword('1f539'),\n        createEmojiWithNoKeyword('1f538'),\n        createEmojiWithNoKeyword('1f536'),\n        createEmojiWithNoKeyword('1f537'),\n        createEmojiWithNoKeyword('1f53a'),\n        createEmojiWithNoKeyword('1f53b'),\n        createEmojiWithNoKeyword('02b1b'),\n        createEmojiWithNoKeyword('02b1c'),\n        createEmojiWithNoKeyword('1f532'),\n        createEmojiWithNoKeyword('1f533'),\n        createEmojiWithNoKeyword('1f50a'),\n        createEmoji('1f4e3'),\n        createEmojiWithNoKeyword('1f4e2'),\n        createEmoji('1f514'),\n        createEmojiWithNoKeyword('1f004'),\n        createEmoji('1f0cf'),\n        createEmojiWithNoKeyword('1f3b4'),\n        createEmojiWithNoKeyword('1f4ac'),\n        createEmoji('1f550'),\n        createEmoji('1f551'),\n        createEmoji('1f552'),\n        createEmoji('1f553'),\n        createEmoji('1f554'),\n        createEmoji('1f555'),\n        createEmoji('1f556'),\n        createEmoji('1f557'),\n        createEmoji('1f558'),\n        createEmoji('1f559'),\n        createEmoji('1f55a'),\n        createEmoji('1f55b'),\n        createEmojiWithNoKeyword('1f236'),\n        createEmojiWithNoKeyword('1f250'),\n        createEmojiWithNoKeyword('1f239'),\n        createEmojiWithNoKeyword('1f21a'),\n        createEmojiWithNoKeyword('1f232'),\n        createEmojiWithNoKeyword('1f251'),\n        createEmojiWithNoKeyword('1f234'),\n        createEmojiWithNoKeyword('1f233'),\n        createEmojiWithNoKeyword('1f23a'),\n        createEmojiWithNoKeyword('1f235'),\n    ],\n    Objects: [\n        createEmojiWithNoKeyword('0231a'),\n        createEmoji('1f4f1'),\n        createEmojiWithNoKeyword('1f4f2'),\n        createEmoji('1f4bb'),\n        createEmojiWithNoKeyword('1f4bd'),\n        createEmoji('1f4be'),\n        createEmoji('1f4bf'),\n        createEmoji('1f4c0'),\n        createEmoji('1f4fc'),\n        createEmoji('1f4f7'),\n        createEmoji('1f4f9'),\n        createEmoji('1f3a5'),\n        createEmoji('1f4de'),\n        createEmojiWithNoKeyword('0260e'),\n        createEmoji('1f4df'),\n        createEmoji('1f4e0'),\n        createEmoji('1f4fa'),\n        createEmoji('1f4fb'),\n        createEmojiWithNoKeyword('023f0'),\n        createEmojiWithNoKeyword('0231b'),\n        createEmojiWithNoKeyword('023f3'),\n        createEmoji('1f4e1'),\n        createEmoji('1f50b'),\n        createEmoji('1f50c'),\n        createEmoji('1f4a1'),\n        createEmoji('1f526'),\n        createEmojiWithNoKeyword('1f4b8'),\n        createEmoji('1f4b5'),\n        createEmoji('1f4b4'),\n        createEmoji('1f4b0'),\n        createEmoji('1f4b3'),\n        createEmoji('1f48e'),\n        createEmoji('1f527'),\n        createEmoji('1f528'),\n        createEmoji('1f529'),\n        createEmojiWithNoKeyword('1f52b'),\n        createEmoji('1f4a3'),\n        createEmoji('1f52a'),\n        createEmoji('1f6ac'),\n        createEmoji('1f52e'),\n        createEmoji('1f488'),\n        createEmoji('1f48a'),\n        createEmoji('1f489'),\n        createEmoji('1f516'),\n        createEmoji('1f6bd'),\n        createEmoji('1f6c0'),\n        createEmoji('1f511'),\n        createEmoji('1f6aa'),\n        createEmojiWithNoKeyword('1f5ff'),\n        createEmoji('1f388'),\n        createEmojiWithNoKeyword('1f38f'),\n        createEmoji('1f380'),\n        createEmoji('1f381'),\n        createEmoji('1f38a'),\n        createEmoji('1f389'),\n        createEmojiWithNoKeyword('1f38e'),\n        createEmoji('1f390'),\n        createEmojiWithNoKeyword('1f38c'),\n        createEmojiWithNoKeyword('1f3ee'),\n        createEmoji('02709'),\n        createEmoji('1f4e9'),\n        createEmoji('1f4e8'),\n        createEmoji('1f48c'),\n        createEmoji('1f4e7'),\n        createEmoji('1f4ee'),\n        createEmoji('1f4ea'),\n        createEmoji('1f4eb'),\n        createEmoji('1f4e6'),\n        createEmojiWithNoKeyword('1f4e5'),\n        createEmojiWithNoKeyword('1f4e4'),\n        createEmojiWithNoKeyword('1f4dc'),\n        createEmojiWithNoKeyword('1f4c3'),\n        createEmojiWithNoKeyword('1f4d1'),\n        createEmoji('1f4ca'),\n        createEmoji('1f4c8'),\n        createEmoji('1f4c9'),\n        createEmojiWithNoKeyword('1f4c4'),\n        createEmoji('1f4c5'),\n        createEmojiWithNoKeyword('1f4c6'),\n        createEmojiWithNoKeyword('1f4c7'),\n        createEmoji('1f4cb'),\n        createEmoji('1f4c1'),\n        createEmojiWithNoKeyword('1f4c2'),\n        createEmoji('1f4f0'),\n        createEmoji('1f4d3'),\n        createEmojiWithNoKeyword('1f4d5'),\n        createEmojiWithNoKeyword('1f4d7'),\n        createEmojiWithNoKeyword('1f4d8'),\n        createEmojiWithNoKeyword('1f4d9'),\n        createEmojiWithNoKeyword('1f4d4'),\n        createEmoji('1f4d2'),\n        createEmoji('1f4da'),\n        createEmojiWithNoKeyword('1f4d6'),\n        createEmojiWithNoKeyword('1f517'),\n        createEmoji('1f4ce'),\n        createEmoji('02702'),\n        createEmojiWithNoKeyword('1f4d0'),\n        createEmoji('1f4cf'),\n        createEmoji('1f4cc'),\n        createEmoji('1f4cd'),\n        createEmojiWithNoKeyword('1f6a9'),\n        createEmoji('1f510'),\n        createEmoji('1f512'),\n        createEmoji('1f513'),\n        createEmoji('1f50f'),\n        createEmojiWithNoKeyword('02712'),\n        createEmoji('1f4dd'),\n        createEmoji('0270f'),\n        createEmoji('1f50d'),\n        createEmojiWithNoKeyword('1f50e'),\n    ],\n};\n\n/**\n * @internal\n */\nexport const EmojiFabricIconCharacterMap: Record<EmojiFamilyKeys, string> = {\n    Activities: 'Soccer',\n    Food: 'EatDrink',\n    Nature: 'FangBody',\n    Objects: 'Lightbulb',\n    People: 'Emoji2',\n    Symbols: 'Heart',\n    Travel: 'Car',\n};\n\n/**\n * @internal\n */\nexport function forEachEmojiFamily(\n    callback: (emojis: Emoji[], family: EmojiFamilyKeys) => boolean\n): void {\n    const families = getObjectKeys(EmojiList);\n    for (const family of families) {\n        if (!callback(EmojiList[family], family)) {\n            break;\n        }\n    }\n}\n\n/**\n * @internal\n */\nexport function forEachEmoji(callback: (emoji: Emoji) => boolean): void {\n    forEachEmojiFamily(emojis => {\n        for (const emoji of emojis) {\n            if (!callback(emoji)) {\n                return false;\n            }\n        }\n        return true;\n    });\n}\n\n// get emoji code point from an emoji key\nfunction getEmojiCodePoint(key: string): string | null {\n    const unicode = parseInt(key, 16);\n    if (isNaN(unicode)) {\n        return null;\n    }\n\n    // All emojis have codepoints between the following ranges:\n    // 0x1F7000 - 0x1F700 -> has surrogate pairs\n    // 0x00023 - 0x04000 -> does not have surrogate pairs\n    let surrogatePairs: number[];\n    if (unicode >= 0x1f000 && unicode <= 0x1f700) {\n        const hi = Math.floor((unicode - 0x10000) / 0x400) + 0xd800;\n        const lo = ((unicode - 0x10000) % 0x400) + 0xdc00;\n        surrogatePairs = [hi, lo];\n    } else if (unicode >= 0x00023 && unicode <= 0x04000) {\n        surrogatePairs = [unicode];\n    }\n\n    return String.fromCharCode(...surrogatePairs!);\n}\n\nfunction createEmoji(key: string, shortcut?: string): Emoji {\n    return {\n        key,\n        description: `emjD${key}`,\n        keywords: `emjK${key}`,\n        shortcut,\n        codePoint: getEmojiCodePoint(key) ?? undefined,\n    };\n}\n\nfunction createEmojiWithNoKeyword(key: string): Emoji {\n    return { key, description: `emjD${key}`, codePoint: getEmojiCodePoint(key) ?? undefined };\n}\n","import { forEachEmoji } from './emojiList';\nimport type { Emoji } from '../type/Emoji';\n\n/**\n * @internal\n */\nexport function searchEmojis(search: string, strings: Record<string, string>): Emoji[] {\n    const shortcutMatch = matchShortcut(search);\n    search = search.toLowerCase();\n    const fullMatch: Emoji[] = shortcutMatch ? [shortcutMatch] : [];\n    const partialMatch: Emoji[] = [];\n    const partialSearch = ' ' + (search[0] == ':' ? search.substr(1) : search);\n    forEachEmoji(emoji => {\n        const keywords = (emoji.keywords && strings[emoji.keywords]) || '';\n        const searchableKeywords = emoji.keywords ? ' ' + keywords.toLowerCase() + ' ' : '';\n        const index = searchableKeywords.indexOf(partialSearch);\n        if (index >= 0) {\n            (searchableKeywords[index + partialSearch.length] == ' '\n                ? fullMatch\n                : partialMatch\n            ).push(emoji);\n        }\n        return true;\n    });\n\n    return fullMatch.concat(partialMatch);\n}\n\nfunction matchShortcut(search: string): Emoji | null {\n    let result: Emoji | null = null;\n    search = ' ' + search + ' ';\n    forEachEmoji((emoji: Emoji) => {\n        if (emoji.shortcut && (' ' + emoji.shortcut + ' ').indexOf(search) >= 0) {\n            result = emoji;\n            return false;\n        }\n        return true;\n    });\n    return result;\n}\n","import * as React from 'react';\nimport InputDialogItem from './InputDialogItem';\nimport { DefaultButton, PrimaryButton } from '@fluentui/react/lib/Button';\nimport { Dialog, DialogFooter, DialogType } from '@fluentui/react/lib/Dialog';\nimport { getLocalizedString } from '../../common/index';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\nimport type { DialogItem } from '../type/DialogItem';\nimport type {\n    CancelButtonStringKey,\n    LocalizedStrings,\n    OkButtonStringKey,\n} from '../../common/index';\n\n/**\n * @internal\n */\nexport interface InputDialogProps<Strings extends string, ItemNames extends string> {\n    dialogTitleKey: Strings;\n    unlocalizedTitle: string;\n    items: Record<ItemNames, DialogItem<Strings>>;\n    strings?: LocalizedStrings<Strings | OkButtonStringKey | CancelButtonStringKey>;\n    onChange?: (\n        changedItemName: ItemNames,\n        newValue: string,\n        currentValues: Record<ItemNames, string>\n    ) => Record<ItemNames, string> | null;\n    onOk: (values: Record<ItemNames, string>) => void;\n    onCancel: () => void;\n}\n\n/**\n * @internal\n */\nexport default function InputDialog<Strings extends string, ItemNames extends string>(\n    props: InputDialogProps<Strings, ItemNames>\n) {\n    const { items, strings, dialogTitleKey, unlocalizedTitle, onOk, onCancel, onChange } = props;\n    const dialogContentProps = React.useMemo(\n        () => ({\n            type: DialogType.normal,\n            title: getLocalizedString(strings, dialogTitleKey, unlocalizedTitle),\n        }),\n        [strings, dialogTitleKey, unlocalizedTitle]\n    );\n    const [currentValues, setCurrentValues] = React.useState<Record<ItemNames, string>>(\n        getObjectKeys(items).reduce((result: Record<ItemNames, string>, key) => {\n            result[key] = items[key].initValue;\n            return result;\n        }, {} as Record<ItemNames, string>)\n    );\n\n    const onSubmit = React.useCallback(() => {\n        onOk?.(currentValues);\n    }, [onOk, currentValues]);\n    const onItemChanged = React.useCallback(\n        (itemName: ItemNames, newValue: string) => {\n            if (itemName in items) {\n                const newValues = onChange?.(itemName, newValue, {\n                    ...currentValues,\n                }) || {\n                    ...currentValues,\n                    [itemName]: newValue,\n                };\n\n                setCurrentValues(newValues);\n            }\n        },\n        [setCurrentValues, currentValues, items]\n    );\n\n    return (\n        <Dialog dialogContentProps={dialogContentProps} hidden={false} onDismiss={onCancel}>\n            <div>\n                {getObjectKeys(items).map(key => (\n                    <InputDialogItem\n                        key={key}\n                        itemName={key}\n                        items={items}\n                        strings={strings}\n                        currentValues={currentValues}\n                        onEnterKey={onSubmit}\n                        onChanged={onItemChanged}\n                    />\n                ))}\n            </div>\n            <DialogFooter>\n                <PrimaryButton\n                    text={getLocalizedString(strings, 'buttonNameOK', 'OK')}\n                    onClick={onSubmit}\n                />\n                <DefaultButton\n                    text={getLocalizedString(strings, 'buttonNameCancel', 'Cancel')}\n                    onClick={onCancel}\n                />\n            </DialogFooter>\n        </Dialog>\n    );\n}\n","import * as React from 'react';\nimport { getLocalizedString } from '../../common/index';\nimport { mergeStyleSets } from '@fluentui/react/lib/Styling';\nimport { TextField } from '@fluentui/react/lib/TextField';\nimport type { DialogItem } from '../type/DialogItem';\nimport type { LocalizedStrings } from '../../common/index';\n\n/**\n * @internal\n */\nexport interface InputDialogItemProps<Strings extends string, ItemNames extends string> {\n    itemName: ItemNames;\n    strings: LocalizedStrings<Strings> | undefined;\n    items: Record<ItemNames, DialogItem<Strings>>;\n    currentValues: Record<ItemNames, string>;\n    onEnterKey: () => void;\n    onChanged: (itemName: ItemNames, newValue: string) => void;\n}\n\nconst classNames = mergeStyleSets({\n    inputBox: {\n        width: '100%',\n        minWidth: '250px',\n        height: '32px',\n        margin: '5px 0 16px',\n        borderRadius: '2px',\n    },\n});\n\n/**\n * @internal\n */\nexport default function InputDialogItem<Strings extends string, ItemNames extends string>(\n    props: InputDialogItemProps<Strings, ItemNames>\n) {\n    const { itemName, strings, items, currentValues, onChanged, onEnterKey } = props;\n    const { labelKey, unlocalizedLabel, autoFocus } = items[itemName];\n    const value = currentValues[itemName];\n    const onValueChange = React.useCallback(\n        (_, newValue) => {\n            onChanged(itemName, newValue);\n        },\n        [itemName, onChanged]\n    );\n\n    const onKeyPress = React.useCallback(\n        (e: React.KeyboardEvent<HTMLInputElement>) => {\n            if (e.key == 'Enter') {\n                onEnterKey();\n            }\n        },\n        [onEnterKey]\n    );\n\n    return (\n        <div>\n            {labelKey ? <div>{getLocalizedString(strings, labelKey, unlocalizedLabel)}</div> : null}\n            <div>\n                <TextField\n                    role=\"textbox\"\n                    type=\"text\"\n                    className={classNames.inputBox}\n                    value={value}\n                    onChange={onValueChange}\n                    onKeyPress={onKeyPress}\n                    autoFocus={autoFocus}\n                />\n            </div>\n        </div>\n    );\n}\n","export { showInputDialog } from './utils/showInputDialog';\nexport { DialogItem } from './type/DialogItem';\n","import * as React from 'react';\nimport InputDialog from '../component/InputDialog';\nimport { renderReactComponent } from '../../common/utils/renderReactComponent';\nimport type { DialogItem } from '../type/DialogItem';\nimport type {\n    CancelButtonStringKey,\n    LocalizedStrings,\n    OkButtonStringKey,\n    UIUtilities,\n} from '../../common/index';\n\n/**\n * Show a dialog with input items\n * @param uiUtilities UI utilities to help render the dialog\n * @param dialogTitleKey Localized string key for title of this dialog\n * @param unlocalizedTitle Unlocalized title string of this dialog. It will be used if a valid localized string is not found using dialogTitleKey\n * @param items Input items in this dialog\n * @param strings Localized strings\n * @param onChange An optional callback that will be invoked when input item value is changed\n */\nexport function showInputDialog<Strings extends string, ItemNames extends string>(\n    uiUtilities: UIUtilities,\n    dialogTitleKey: Strings,\n    unlocalizedTitle: string,\n    items: Record<ItemNames, DialogItem<Strings>>,\n    strings?: LocalizedStrings<Strings | OkButtonStringKey | CancelButtonStringKey>,\n    onChange?: (\n        changedItemName: ItemNames,\n        newValue: string,\n        currentValues: Record<ItemNames, string>\n    ) => Record<ItemNames, string> | null\n): Promise<Record<ItemNames, string> | null> {\n    return new Promise<Record<ItemNames, string> | null>(resolve => {\n        let disposer: null | (() => void) = null;\n        const onOk = (result: Record<ItemNames, string>) => {\n            disposer?.();\n            resolve(result);\n        };\n        const onCancel = () => {\n            disposer?.();\n            resolve(null);\n        };\n        const component = (\n            <InputDialog\n                dialogTitleKey={dialogTitleKey}\n                unlocalizedTitle={unlocalizedTitle}\n                items={items}\n                strings={strings}\n                onOk={onOk}\n                onCancel={onCancel}\n                onChange={onChange}\n            />\n        );\n\n        disposer = renderReactComponent(uiUtilities, component);\n    });\n}\n","import * as React from 'react';\nimport { ButtonKeys, Buttons } from '../utils/buttons';\nimport { Callout, DirectionalHint } from '@fluentui/react/lib/Callout';\nimport { getLocalizedString } from '../../common/index';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\nimport { getPositionRect } from '../utils/getPositionRect';\nimport { Icon } from '@fluentui/react/lib/Icon';\nimport { IconButton } from '@fluentui/react/lib/Button';\nimport { memoizeFunction } from '@fluentui/react/lib/Utilities';\nimport { mergeStyleSets } from '@fluentui/react/lib/Styling';\nimport { renderReactComponent } from '../../common/utils/renderReactComponent';\nimport { useTheme } from '@fluentui/react/lib/Theme';\nimport type { LocalizedStrings, UIUtilities } from '../../common/index';\nimport type { Theme } from '@fluentui/react/lib/Theme';\nimport type { PasteOptionButtonKeys, PasteOptionStringKeys } from '../type/PasteOptionStringKeys';\n\nconst getPasteOptionClassNames = memoizeFunction((theme: Theme) => {\n    const palette = theme.palette;\n\n    return mergeStyleSets({\n        pastePane: {\n            paddingLeft: '4px',\n            minWidth: '72px',\n        },\n        optionPane: {\n            textAlign: 'center',\n            padding: '4px',\n        },\n        icon: {\n            fontSize: '14px',\n        },\n        buttonsContainer: {\n            justifyContent: 'center',\n            display: 'flex',\n        },\n        button: {\n            width: '32px',\n            height: '32px',\n            margin: '0 4px 4px 0',\n            borderRadius: '2px',\n            flex: '0 0 auto',\n            '&:hover': {\n                backgroundColor: palette.themeLighter,\n            },\n        },\n        isChecked: {\n            backgroundColor: palette.themeLight,\n            '&:hover': {\n                backgroundColor: palette.themeLighter,\n            },\n        },\n    });\n});\n\ninterface PasteOptionButtonProps {\n    buttonName: PasteOptionButtonKeys;\n    className: string;\n    paste: (key: PasteOptionButtonKeys) => void;\n    strings?: LocalizedStrings<PasteOptionStringKeys>;\n}\n\nfunction PasteOptionButton(props: PasteOptionButtonProps) {\n    const { buttonName, paste, strings, className } = props;\n    const button = Buttons[buttonName];\n    const onClick = React.useCallback(() => {\n        paste(buttonName);\n    }, [paste, buttonName]);\n\n    return (\n        <IconButton\n            className={className}\n            onClick={onClick}\n            title={\n                getLocalizedString(strings, buttonName, button.unlocalizedText) +\n                (button.shortcut ? ` (${button.shortcut})` : '')\n            }\n            iconProps={{ iconName: button.icon }}\n        />\n    );\n}\n\ninterface PasteOptionProps {\n    strings?: LocalizedStrings<PasteOptionStringKeys>;\n    container: Node;\n    offset: number;\n    isRtl: boolean;\n    paste: (key: PasteOptionButtonKeys) => void;\n    dismiss: () => void;\n}\n\n/**\n * @internal\n */\nexport interface PasteOptionPane {\n    getSelectedKey: () => PasteOptionButtonKeys | null;\n    setSelectedKey: (index: PasteOptionButtonKeys) => void;\n    dismiss: () => void;\n}\n\nconst PasteOptionComponent = React.forwardRef(function PasteOptionFunc(\n    props: PasteOptionProps,\n    ref: React.Ref<PasteOptionPane>\n) {\n    const { strings, container, offset, paste, dismiss, isRtl } = props;\n    const theme = useTheme();\n    const classNames = getPasteOptionClassNames(theme);\n    const [selectedKey, setSelectedKey] = React.useState<PasteOptionButtonKeys | null>(null);\n\n    const rect = getPositionRect(container, offset);\n    const target = rect && { x: props.isRtl ? rect.left : rect.right, y: rect.bottom };\n\n    React.useImperativeHandle(\n        ref,\n        () => ({\n            dismiss,\n            setSelectedKey,\n            getSelectedKey: () => selectedKey,\n        }),\n        [dismiss, paste, isRtl, selectedKey, setSelectedKey]\n    );\n\n    const buttonPane = React.useRef<HTMLDivElement>(null);\n    const onDismiss = React.useCallback(\n        (evt?: Event | React.MouseEvent | React.KeyboardEvent) => {\n            const target =\n                evt instanceof FocusEvent && evt.relatedTarget instanceof Node\n                    ? evt.relatedTarget\n                    : null;\n            const clickOnButtonPane =\n                target &&\n                buttonPane.current &&\n                (buttonPane.current == target || buttonPane.current.contains(target));\n            if (!clickOnButtonPane) {\n                dismiss();\n            }\n        },\n        [dismiss]\n    );\n\n    const onClickShowSubMenu = React.useCallback(\n        (event: React.MouseEvent<HTMLDivElement>) => {\n            setSelectedKey(ButtonKeys[0]);\n            event.preventDefault();\n            event.stopPropagation();\n        },\n        [setSelectedKey]\n    );\n\n    return (\n        <Callout\n            gapSpace={10}\n            isBeakVisible={false}\n            target={target}\n            directionalHint={\n                isRtl ? DirectionalHint.bottomRightEdge : DirectionalHint.bottomLeftEdge\n            }\n            directionalHintForRTL={DirectionalHint.bottomRightEdge}\n            preventDismissOnScroll={true}\n            onDismiss={onDismiss}>\n            <div ref={buttonPane} className={classNames.pastePane}>\n                <div onClick={onClickShowSubMenu} className={classNames.optionPane}>\n                    <Icon iconName={'Paste'} className={classNames.icon} />\n                    {getLocalizedString(strings, 'pasteOptionPaneText', '(Ctrl)')}\n                </div>\n                {selectedKey && (\n                    <div className={classNames.buttonsContainer}>\n                        {getObjectKeys(Buttons).map(key => (\n                            <PasteOptionButton\n                                key={key}\n                                strings={strings}\n                                paste={paste}\n                                buttonName={key}\n                                className={\n                                    classNames.button +\n                                    ' ' +\n                                    (selectedKey == key ? classNames.isChecked : '')\n                                }\n                            />\n                        ))}\n                    </div>\n                )}\n            </div>\n        </Callout>\n    );\n});\n\n/**\n * @internal Show paste open pane component\n * @param uiUtilities The UI utilities object to help render component\n * @param position Target position\n * @param strings Localize string for this component\n * @param onPaste A callback to be called when user click on a paste button\n * @param ref Reference object for this component\n */\nexport function showPasteOptionPane(\n    uiUtilities: UIUtilities,\n    container: Node,\n    offset: number,\n    onPaste: (key: PasteOptionButtonKeys) => void,\n    ref: React.RefObject<PasteOptionPane>,\n    strings?: LocalizedStrings<PasteOptionStringKeys>\n) {\n    let disposer: (() => void) | null = null;\n    const onDismiss = () => {\n        disposer?.();\n        disposer = null;\n    };\n\n    disposer = renderReactComponent(\n        uiUtilities,\n        <PasteOptionComponent\n            ref={ref}\n            container={container}\n            offset={offset}\n            strings={strings}\n            isRtl={uiUtilities.isRightToLeft()}\n            dismiss={onDismiss}\n            paste={onPaste}\n        />\n    );\n}\n","export { PasteOptionButtonKeys, PasteOptionStringKeys } from './type/PasteOptionStringKeys';\nexport { createPasteOptionPlugin } from './plugin/createPasteOptionPlugin';\n","import * as React from 'react';\nimport { ButtonKeys, Buttons } from '../utils/buttons';\nimport { ChangeSource, paste } from 'roosterjs-content-model-core';\nimport { ClipboardData, IEditor, PluginEvent } from 'roosterjs-content-model-types';\nimport { showPasteOptionPane } from '../component/showPasteOptionPane';\nimport type { PasteOptionPane } from '../component/showPasteOptionPane';\nimport type { LocalizedStrings, ReactEditorPlugin, UIUtilities } from '../../common/index';\nimport type { PasteOptionButtonKeys, PasteOptionStringKeys } from '../type/PasteOptionStringKeys';\n\nclass PasteOptionPlugin implements ReactEditorPlugin {\n    private clipboardData: ClipboardData | null = null;\n    private editor: IEditor | null = null;\n    private uiUtilities: UIUtilities | null = null;\n    private pasteOptionRef = React.createRef<PasteOptionPane>();\n\n    constructor(private strings?: LocalizedStrings<PasteOptionStringKeys>) {}\n\n    getName() {\n        return 'PasteOption';\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.pasteOptionRef.current?.dismiss();\n        this.editor = null;\n    }\n\n    onPluginEvent(event: PluginEvent) {\n        if (event.eventType == 'scroll') {\n            if (this.pasteOptionRef.current) {\n                this.showPasteOptionPane();\n            }\n        } else if (this.pasteOptionRef.current) {\n            this.handlePasteOptionPaneEvent(event);\n        } else if (event.eventType == 'contentChanged') {\n            if (event.source == ChangeSource.Paste) {\n                const clipboardData = event.data as ClipboardData;\n\n                // Only show paste option when we pasted HTML with some format\n                if (clipboardData?.text && clipboardData.types?.indexOf('text/html') >= 0) {\n                    this.clipboardData = clipboardData;\n                    this.showPasteOptionPane();\n                }\n            }\n        }\n    }\n\n    setUIUtilities(uiUtilities: UIUtilities) {\n        this.uiUtilities = uiUtilities;\n    }\n\n    private handlePasteOptionPaneEvent(event: PluginEvent) {\n        if (event.eventType == 'keyDown' && this.pasteOptionRef.current) {\n            const selectedKey = this.pasteOptionRef.current.getSelectedKey();\n\n            if (!selectedKey) {\n                switch (event.rawEvent.key) {\n                    case 'Control':\n                        this.pasteOptionRef.current.setSelectedKey(ButtonKeys[0]);\n                        cancelEvent(event.rawEvent);\n                        break;\n\n                    case 'Escape':\n                        this.pasteOptionRef.current.dismiss();\n                        cancelEvent(event.rawEvent);\n                        break;\n\n                    default:\n                        this.pasteOptionRef.current.dismiss();\n                        break;\n                }\n            } else {\n                const keyboardEvent = event.rawEvent;\n\n                if (keyboardEvent.key != 'Control' && keyboardEvent.ctrlKey) {\n                    // Dismiss the paste option when pressing hotkey CTRL+<any key>\n                    this.pasteOptionRef.current.dismiss();\n                    return;\n                }\n\n                for (let i = 0; i < ButtonKeys.length; i++) {\n                    const key = ButtonKeys[i];\n                    const button = Buttons[key];\n                    if (button.shortcut == String.fromCharCode(keyboardEvent.which)) {\n                        this.onPaste(key);\n                        cancelEvent(keyboardEvent);\n                        return;\n                    }\n                }\n\n                switch (keyboardEvent.key) {\n                    case 'Escape':\n                        this.pasteOptionRef.current.dismiss();\n                        break;\n                    case 'ArrowLeft':\n                    case 'ArrowRight':\n                        const buttonCount = ButtonKeys.length;\n                        const diff =\n                            (keyboardEvent.key == 'ArrowRight') == this.uiUtilities?.isRightToLeft()\n                                ? -1\n                                : 1;\n                        this.pasteOptionRef.current.setSelectedKey(\n                            ButtonKeys[\n                                (ButtonKeys.indexOf(selectedKey) + diff + buttonCount) % buttonCount\n                            ]\n                        );\n                        break;\n                    case 'Enter':\n                        this.onPaste(selectedKey);\n                        break;\n                    case 'Control':\n                        // Noop\n                        break;\n                    default:\n                        this.pasteOptionRef.current.dismiss();\n                        return;\n                }\n\n                cancelEvent(keyboardEvent);\n            }\n        }\n    }\n\n    private onPaste = (key: PasteOptionButtonKeys) => {\n        if (this.clipboardData && this.editor) {\n            this.editor.focus();\n\n            switch (key) {\n                case 'pasteOptionPasteAsIs':\n                    paste(this.editor, this.clipboardData);\n                    break;\n\n                case 'pasteOptionPasteText':\n                    paste(this.editor, this.clipboardData, 'asPlainText');\n                    break;\n\n                case 'pasteOptionMergeFormat':\n                    paste(this.editor, this.clipboardData, 'mergeFormat');\n                    break;\n                case 'pasteOptionPasteAsImage':\n                    paste(this.editor, this.clipboardData, 'asImage');\n            }\n\n            this.pasteOptionRef.current?.setSelectedKey(key);\n        }\n    };\n\n    private showPasteOptionPane() {\n        this.pasteOptionRef.current?.dismiss();\n\n        const selection = this.editor.getDOMSelection();\n\n        if (selection?.type == 'range' && this.uiUtilities) {\n            showPasteOptionPane(\n                this.uiUtilities,\n                selection.range.startContainer,\n                selection.range.startOffset,\n                this.onPaste,\n                this.pasteOptionRef,\n                this.strings\n            );\n        }\n    }\n}\n\nfunction cancelEvent(event: UIEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n}\n\n/**\n * Create a new instance of PasteOption plugin to show an option pane when paste, so that user can choose\n * an option to change the paste result, including:\n * - Paste as is\n * - Paste as text\n * - Paste and merge format\n * @param strings Localized string for this plugin\n * @returns A paste option plugin\n */\nexport function createPasteOptionPlugin(\n    strings?: LocalizedStrings<PasteOptionStringKeys>\n): ReactEditorPlugin {\n    return new PasteOptionPlugin(strings);\n}\n","import type { PasteOptionButtonKeys } from '../type/PasteOptionStringKeys';\n\n/**\n * @internal\n */\nexport interface PasteOptionButtonType {\n    unlocalizedText: string;\n    shortcut: string;\n    icon: string;\n}\n\n/**\n * @internal\n */\nexport const Buttons: Record<PasteOptionButtonKeys, PasteOptionButtonType> = {\n    pasteOptionPasteAsIs: {\n        unlocalizedText: 'Paste as is',\n        shortcut: 'P',\n        icon: 'Paste',\n    },\n    pasteOptionPasteText: {\n        unlocalizedText: 'Paste text',\n        shortcut: 'T',\n        icon: 'PasteAsText',\n    },\n    pasteOptionMergeFormat: {\n        unlocalizedText: 'Paste text and merge format',\n        shortcut: 'M',\n        icon: 'ClipboardList',\n    },\n    pasteOptionPasteAsImage: {\n        unlocalizedText: 'Paste as image',\n        shortcut: 'I',\n        icon: 'PictureFill',\n    },\n};\n\n/**\n * @internal\n */\nexport const ButtonKeys: PasteOptionButtonKeys[] = Object.keys(Buttons) as PasteOptionButtonKeys[];\n","import { isNodeOfType, normalizeRect } from 'roosterjs-content-model-dom';\nimport { Rect } from 'roosterjs-content-model-types';\n\n/**\n * Get bounding rect of this position\n * @param position The position to get rect from\n */\nexport function getPositionRect(container: Node, offset: number): Rect | null {\n    let range = container.ownerDocument.createRange();\n\n    range.setStart(container, offset);\n\n    // 1) try to get rect using range.getBoundingClientRect()\n    let rect = normalizeRect(range.getBoundingClientRect());\n\n    if (rect) {\n        return rect;\n    }\n\n    // 2) try to get rect using range.getClientRects\n    while (container.lastChild) {\n        if (offset == container.childNodes.length) {\n            container = container.lastChild;\n            offset = container.childNodes.length;\n        } else {\n            container = container.childNodes[offset];\n            offset = 0;\n        }\n    }\n\n    const rects = range.getClientRects && range.getClientRects();\n    rect = rects && rects.length == 1 ? normalizeRect(rects[0]) : null;\n    if (rect) {\n        return rect;\n    }\n\n    // 3) if node is text node, try inserting a SPAN and get the rect of SPAN for others\n    if (isNodeOfType(container, 'TEXT_NODE')) {\n        const span = container.ownerDocument.createElement('span');\n\n        span.textContent = '\\u200b';\n        range.insertNode(span);\n        rect = normalizeRect(span.getBoundingClientRect());\n        span.parentNode.removeChild(span);\n\n        if (rect) {\n            return rect;\n        }\n    }\n\n    // 4) try getBoundingClientRect on element\n    if (isNodeOfType(container, 'ELEMENT_NODE') && container.getBoundingClientRect) {\n        rect = normalizeRect(container.getBoundingClientRect());\n\n        if (rect) {\n            return rect;\n        }\n    }\n\n    return null;\n}\n","import { setAlignment } from 'roosterjs-content-model-api';\nimport type { AlignCenterButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport type { RibbonButton } from '../type/RibbonButton';\n\n/**\n * @internal\n * \"Align center\" button on the format ribbon\n */\nexport const alignCenterButton: RibbonButton<AlignCenterButtonStringKey> = {\n    key: 'buttonNameAlignCenter',\n    unlocalizedText: 'Align center',\n    iconName: 'AlignCenter',\n    onClick: editor => {\n        setAlignment(editor, 'center');\n    },\n};\n","import { setAlignment } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\n\n/**\n * @internal\n * \"Align justify\" button on the format ribbon\n */\nexport const alignJustifyButton: RibbonButton<'buttonNameAlignJustify'> = {\n    key: 'buttonNameAlignJustify',\n    unlocalizedText: 'Align justify',\n    iconName: 'AlignJustify',\n    onClick: editor => {\n        setAlignment(editor, 'justify');\n    },\n};\n","import { setAlignment } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { AlignLeftButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Align left\" button on the format ribbon\n */\nexport const alignLeftButton: RibbonButton<AlignLeftButtonStringKey> = {\n    key: 'buttonNameAlignLeft',\n    unlocalizedText: 'Align left',\n    iconName: 'AlignLeft',\n    onClick: editor => {\n        setAlignment(editor, 'left');\n    },\n};\n","import { setAlignment } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { AlignRightButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Align right\" button on the format ribbon\n */\nexport const alignRightButton: RibbonButton<AlignRightButtonStringKey> = {\n    key: 'buttonNameAlignRight',\n    unlocalizedText: 'Align right',\n    iconName: 'AlignRight',\n    onClick: editor => {\n        setAlignment(editor, 'right');\n    },\n};\n","import { renderColorPicker } from '../../colorPicker/component/renderColorPicker';\nimport { setBackgroundColor } from 'roosterjs-content-model-api';\nimport {\n    BackgroundColorDropDownItems,\n    BackgroundColors,\n    getBackgroundColorValue,\n} from '../../colorPicker/utils/backgroundColors';\nimport {\n    getColorPickerContainerClassName,\n    getColorPickerItemClassName,\n} from '../../colorPicker/utils/getClassNamesForColorPicker';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { BackgroundColorButtonStringKey } from '../type/RibbonButtonStringKeys';\n\nconst Key: 'buttonNameBackgroundColor' = 'buttonNameBackgroundColor';\n\n/**\n * @internal\n * \"Background color\" button on the format ribbon\n */\nexport const backgroundColorButton: RibbonButton<BackgroundColorButtonStringKey> = {\n    dropDownMenu: {\n        items: BackgroundColorDropDownItems,\n        itemClassName: getColorPickerItemClassName(),\n        allowLivePreview: true,\n        itemRender: (item, onClick) => renderColorPicker(item, BackgroundColors, onClick),\n        commandBarSubMenuProperties: {\n            className: getColorPickerContainerClassName(),\n        },\n    },\n    key: Key,\n    unlocalizedText: 'Background color',\n    iconName: 'FabricTextHighlight',\n    onClick: (editor, key) => {\n        // This check will always be true, add it here just to satisfy compiler\n        if (key != 'buttonNameBackgroundColor') {\n            setBackgroundColor(editor, getBackgroundColorValue(key).lightModeColor);\n        }\n    },\n};\n","import { toggleBlockQuote } from 'roosterjs-content-model-api';\nimport type { QuoteButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport type { RibbonButton } from '../type/RibbonButton';\n\n/**\n * @internal\n * \"Block quote\" button on the format ribbon\n */\nexport const blockQuoteButton: RibbonButton<QuoteButtonStringKey> = {\n    key: 'buttonNameQuote',\n    unlocalizedText: 'Quote',\n    iconName: 'RightDoubleQuote',\n    isChecked: formatState => !!formatState.isBlockQuote,\n    onClick: editor => {\n        toggleBlockQuote(editor);\n    },\n};\n","import { toggleBold } from 'roosterjs-content-model-api';\nimport type { BoldButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport type { RibbonButton } from '../type/RibbonButton';\n\n/**\n * @internal\n * \"Bold\" button on the format ribbon\n */\nexport const boldButton: RibbonButton<BoldButtonStringKey> = {\n    key: 'buttonNameBold',\n    unlocalizedText: 'Bold',\n    iconName: 'Bold',\n    isChecked: formatState => formatState.isBold,\n    onClick: editor => {\n        toggleBold(editor);\n    },\n};\n","import { toggleBullet } from 'roosterjs-content-model-api';\nimport type { BulletedListButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport type { RibbonButton } from '../type/RibbonButton';\n\n/**\n * @internal\n * \"Bulleted list\" button on the format ribbon\n */\nexport const bulletedListButton: RibbonButton<BulletedListButtonStringKey> = {\n    key: 'buttonNameBulletedList',\n    unlocalizedText: 'Bulleted list',\n    iconName: 'BulletedList',\n    isChecked: formatState => formatState.isBullet,\n    onClick: editor => {\n        toggleBullet(editor);\n    },\n};\n","import { clearFormat } from 'roosterjs-content-model-api';\nimport type { ClearFormatButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport type { RibbonButton } from '../type/RibbonButton';\n\n/**\n * \"Clear format\" button on the format ribbon\n */\nexport const clearFormatButton: RibbonButton<ClearFormatButtonStringKey> = {\n    key: 'buttonNameClearFormat',\n    unlocalizedText: 'Clear format',\n    iconName: 'ClearFormatting',\n    onClick: editor => {\n        clearFormat(editor);\n    },\n};\n","import { toggleCode } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { CodeButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Code\" button on the format ribbon\n */\nexport const codeButton: RibbonButton<CodeButtonStringKey> = {\n    key: 'buttonNameCode',\n    unlocalizedText: 'Code',\n    iconName: 'Code',\n    isChecked: formatState => !!formatState.isCodeInline,\n    onClick: editor => {\n        toggleCode(editor);\n    },\n};\n","import { changeFontSize } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { DecreaseFontSizeButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Decrease font size\" button on the format ribbon\n */\nexport const decreaseFontSizeButton: RibbonButton<DecreaseFontSizeButtonStringKey> = {\n    key: 'buttonNameDecreaseFontSize',\n    unlocalizedText: 'Decrease font size',\n    iconName: 'FontDecrease',\n    onClick: editor => {\n        changeFontSize(editor, 'decrease');\n    },\n};\n","import { setIndentation } from 'roosterjs-content-model-api';\nimport type { DecreaseIndentButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport type { RibbonButton } from '../type/RibbonButton';\n\n/**\n * @internal\n * \"Decrease indent\" button on the format ribbon\n */\nexport const decreaseIndentButton: RibbonButton<DecreaseIndentButtonStringKey> = {\n    key: 'buttonNameDecreaseIndent',\n    unlocalizedText: 'Decrease indent',\n    iconName: 'DecreaseIndentLegacy',\n    flipWhenRtl: true,\n    onClick: editor => {\n        setIndentation(editor, 'outdent');\n    },\n};\n","import { setFontName } from 'roosterjs-content-model-api';\nimport type { FontButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport type { RibbonButton } from '../type/RibbonButton';\n\ninterface FontName {\n    name: string;\n    family: string;\n    localizedName?: string;\n}\nconst FontNames: FontName[] = [\n    { name: 'Arial', family: 'Arial,Helvetica,sans-serif' },\n    { name: 'Arial Black', family: \"'Arial Black',Arial,sans-serif\" },\n    { name: 'Calibri', family: 'Calibri,Helvetica,sans-serif' },\n    { name: 'Calibri Light', family: \"'Calibri Light','Helvetica Light',sans-serif\" },\n    { name: 'Cambria', family: 'Cambria,Georgia,serif' },\n    { name: 'Candara', family: 'Candara,Optima,sans-serif' },\n    { name: 'Century Gothic', family: \"'Century Gothic',sans-serif\" },\n    { name: 'Comic Sans MS', family: \"'Comic Sans MS',Chalkboard,cursive\" },\n    { name: 'Consolas', family: 'Consolas,Courier,monospace' },\n    { name: 'Constantia', family: \"Constantia,'Hoefler Text',serif\" },\n    { name: 'Corbel', family: 'Corbel,Skia,sans-serif' },\n    { name: 'Courier New', family: \"'Courier New',monospace\" },\n    {\n        name: 'Franklin Gothic Book',\n        family: \"'Franklin Gothic Book','Avenir Next Condensed',sans-serif\",\n    },\n    {\n        name: 'Franklin Gothic Demi',\n        family: \"'Franklin Gothic Demi','Avenir Next Condensed Demi Bold',sans-serif\",\n    },\n    {\n        name: 'Franklin Gothic Medium',\n        family: \"'Franklin Gothic Medium','Avenir Next Condensed Medium',sans-serif\",\n    },\n    { name: 'Garamond', family: 'Garamond,Georgia,serif' },\n    { name: 'Georgia', family: 'Georgia,serif' },\n    { name: 'Impact', family: 'Impact,Charcoal,sans-serif' },\n    { name: 'Lucida Console', family: \"'Lucida Console',Monaco,monospace\" },\n    { name: 'Lucida Handwriting', family: \"'Lucida Handwriting','Apple Chancery',cursive\" },\n    { name: 'Lucida Sans Unicode', family: \"'Lucida Sans Unicode','Lucida Grande',sans-serif\" },\n    { name: 'Palatino Linotype', family: \"'Palatino Linotype','Book Antiqua',Palatino,serif\" },\n    {\n        name: 'Segoe UI',\n        family: \"'Segoe UI', 'Segoe UI Web (West European)', 'Helvetica Neue', sans-serif\",\n    },\n    { name: 'Sitka Heading', family: \"'Sitka Heading',Cochin,serif\" },\n    { name: 'Sitka Text', family: \"'Sitka Text',Cochin,serif\" },\n    { name: 'Tahoma', family: 'Tahoma,Geneva,sans-serif' },\n    { name: 'Times', family: \"Times,'Times New Roman',serif\" },\n    { name: 'Times New Roman', family: \"'Times New Roman',Times,serif\" },\n    { name: 'Trebuchet MS', family: \"'Trebuchet MS',Trebuchet,sans-serif\" },\n    { name: 'TW Cen MT', family: \"'TW Cen MT','Century Gothic',sans-serif\" },\n    { name: 'Verdana', family: 'Verdana,Geneva,sans-serif' },\n    { name: '-', family: 'FontDivider0' }, //divider between fonts for different scripts (order is by style)\n    {\n        name: 'Microsoft YaHei',\n        family: \"'Microsoft YaHei','',STHeiti,sans-serif\",\n        localizedName: '',\n    }, //chineseS Microsoft recommended font\n    { name: 'SimHei', family: \"SimHei,'',STHeiti,sans-serif\", localizedName: '' }, //chineseS\n    {\n        name: 'NSimSun',\n        family: \"NSimSun,'',SimSun,'',SimSun-ExtB,'-ExtB',STSong,serif\",\n        localizedName: '',\n    }, //chineseS\n    { name: 'FangSong', family: \"FangSong,'',STFangsong,serif\", localizedName: '' }, //chineseS\n    { name: 'SimLi', family: \"SimLi,'','Baoli SC',serif\", localizedName: '' }, //chineseS\n    { name: 'KaiTi', family: \"KaiTi,'',STKaiti,serif\", localizedName: '' }, //chineseS\n    { name: '-', family: 'FontDivider1' }, //divider between fonts for different scripts (order is by style)\n    {\n        name: 'Microsoft JhengHei',\n        family: \"'Microsoft JhengHei','','Apple LiGothic',sans-serif\",\n        localizedName: '',\n    }, //chineseT Microsoft recommended font\n    {\n        name: 'PMingLiU',\n        family: \"PMingLiU,'',PMingLiU-ExtB,'-ExtB','Apple LiSung',serif\",\n        localizedName: '',\n    }, //chineseT\n    { name: 'DFKai-SB', family: \"DFKai-SB,'','BiauKai',serif\", localizedName: '' }, //chineseT\n    { name: '-', family: 'FontDivider2' }, //divider between fonts for different scripts (order is alphabetical by foundry)\n    {\n        name: 'Meiryo',\n        family: \"Meiryo,'','Hiragino Sans',sans-serif\",\n        localizedName: '',\n    }, //japanese\n    {\n        name: 'MS PGothic',\n        family:\n            \"'MS PGothic',' ','MS Gothic',' ','Hiragino Kaku Gothic ProN',sans-serif\",\n        localizedName: ' ',\n    }, //japanese\n    {\n        name: 'MS PMincho',\n        family: \"'MS PMincho',' ','MS Mincho',' ','Hiragino Mincho ProN',serif\",\n        localizedName: ' ',\n    }, //japanese\n    {\n        name: 'Yu Gothic',\n        family: \"'Yu Gothic','','YuGothic',sans-serif\",\n        localizedName: '',\n    }, //japanese\n    { name: 'Yu Mincho', family: \"'Yu Mincho','','YuMincho',serif\", localizedName: '' }, //japanese\n    { name: '-', family: 'FontDivider3' }, //divider between fonts for different scripts (order is for legacy reasons)\n    {\n        name: 'Malgun Gothic',\n        family: \"'Malgun Gothic',' ',AppleGothic,sans-serif\",\n        localizedName: ' ',\n    }, //korean Microsoft recommended font\n    { name: 'Gulim', family: \"Gulim,'','Nanum Gothic',sans-serif\", localizedName: '' }, //korean\n    { name: 'Dotum', family: \"Dotum,'',AppleGothic,sans-serif\", localizedName: '' }, //korean\n    { name: 'Batang', family: \"Batang,'',AppleMyungjo,serif\", localizedName: '' }, //korean\n    { name: 'BatangChe', family: \"BatangChe,'',AppleMyungjo,serif\", localizedName: '' }, //korean\n    { name: 'Gungsuh', family: \"Gungsuh,'',GungSeo,serif\", localizedName: '' }, //korean\n    { name: '-', family: 'FontDivider4' }, //divider between fonts for different scripts (order is alphabetical)\n    { name: 'Leelawadee UI', family: \"'Leelawadee UI',Thonburi,sans-serif\" }, //thai Microsoft recommended font\n    { name: 'Angsana New', family: \"'Angsana New','Leelawadee UI',Sathu,serif\" }, //thai\n    { name: 'Cordia New', family: \"'Cordia New','Leelawadee UI',Silom,sans-serif\" }, //thai\n    { name: 'DaunPenh', family: \"DaunPenh,'Leelawadee UI','Khmer MN',sans-serif\" }, //khmer\n    { name: '-', family: 'FontDivider5' }, //divider between fonts for different scripts (order is alphabetical)\n    { name: 'Nirmala UI', family: \"'Nirmala UI',sans-serif\" }, //indic Microsoft recommended font\n    { name: 'Gautami', family: \"Gautami,'Nirmala UI','Telugu MN',sans-serif\" }, //indic\n    { name: 'Iskoola Pota', family: \"'Iskoola Pota','Nirmala UI','Sinhala MN',sans-serif\" }, //indic\n    { name: 'Kalinga', family: \"Kalinga,'Nirmala UI','Oriya MN',sans-serif\" }, //indic\n    { name: 'Kartika', family: \"Kartika,'Nirmala UI','Malayalam MN',sans-serif\" }, //indic\n    { name: 'Latha', family: \"Latha,'Nirmala UI','Tamil MN',sans-serif\" }, //indic\n    { name: 'Mangal', family: \"Mangal,'Nirmala UI','Devanagari Sangam MN',sans-serif\" }, //indic\n    { name: 'Raavi', family: \"Raavi,'Nirmala UI','Gurmukhi MN',sans-serif\" }, //indic\n    { name: 'Shruti', family: \"Shruti,'Nirmala UI','Gujarati Sangam MN',sans-serif\" }, //indic\n    { name: 'Tunga', family: \"Tunga,'Nirmala UI','Kannada MN',sans-serif\" }, //indic\n    { name: 'Vrinda', family: \"Vrinda,'Nirmala UI','Bangla MN',sans-serif\" }, //indic\n    { name: '-', family: 'FontDivider6' }, //divider between fonts for different scripts\n    { name: 'Nyala', family: 'Nyala,Kefa,sans-serif' }, //other-ethiopic\n    { name: 'Sylfaen', family: 'Sylfaen,Mshtakan,Menlo,serif' }, //other-armenian-georgian\n];\n\nconst DropDownItems = FontNames.reduce((items, font) => {\n    items[font.family] = font.localizedName || font.name;\n    return items;\n}, <Record<string, string>>{});\n\nconst LowerCaseFontMap = FontNames.reduce((items, font) => {\n    items[font.name.toLowerCase()] = font.family;\n    return items;\n}, <Record<string, string>>{});\n\nconst FirstFontRegex = /^['\"]?([^'\",]+)/i;\n\n/**\n * @internal\n * \"Font\" button on the format ribbon\n */\nexport const fontButton: RibbonButton<FontButtonStringKey> = {\n    key: 'buttonNameFont',\n    unlocalizedText: 'Font',\n    iconName: 'Font',\n    dropDownMenu: {\n        items: DropDownItems,\n        getSelectedItemKey: formatState => {\n            const matches = formatState.fontName?.match(FirstFontRegex);\n            const firstName = matches?.[1]?.toLowerCase();\n            const selectedKey = (firstName && LowerCaseFontMap[firstName]) || '';\n\n            return selectedKey;\n        },\n        allowLivePreview: true,\n    },\n    onClick: (editor, font) => {\n        setFontName(editor, font);\n    },\n};\n","import { setFontSize } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { FontSizeButtonStringKey } from '../type/RibbonButtonStringKeys';\n\nconst FONT_SIZES = [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72];\n\n/**\n * @internal\n * \"Font Size\" button on the format ribbon\n */\nexport const fontSizeButton: RibbonButton<FontSizeButtonStringKey> = {\n    key: 'buttonNameFontSize',\n    unlocalizedText: 'Font size',\n    iconName: 'FontSize',\n    dropDownMenu: {\n        items: FONT_SIZES.reduce((map, size) => {\n            map[size + 'pt'] = size.toString();\n            return map;\n        }, <Record<string, string>>{}),\n        getSelectedItemKey: formatState => formatState.fontSize,\n        allowLivePreview: true,\n    },\n    onClick: (editor, size) => {\n        setFontSize(editor, size);\n    },\n};\n","import { changeFontSize } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { IncreaseFontSizeButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Increase font size\" button on the format ribbon\n */\nexport const increaseFontSizeButton: RibbonButton<IncreaseFontSizeButtonStringKey> = {\n    key: 'buttonNameIncreaseFontSize',\n    unlocalizedText: 'Increase font size',\n    iconName: 'FontIncrease',\n    onClick: editor => {\n        changeFontSize(editor, 'increase');\n    },\n};\n","import { setIndentation } from 'roosterjs-content-model-api';\nimport type { IncreaseIndentButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport type { RibbonButton } from '../type/RibbonButton';\n\n/**\n * @internal\n * \"Increase indent\" button on the format ribbon\n */\nexport const increaseIndentButton: RibbonButton<IncreaseIndentButtonStringKey> = {\n    key: 'buttonNameIncreaseIndent',\n    unlocalizedText: 'Increase indent',\n    iconName: 'IncreaseIndentLegacy',\n    flipWhenRtl: true,\n    onClick: editor => {\n        setIndentation(editor, 'indent');\n    },\n};\n","import { insertImage } from 'roosterjs-content-model-api';\nimport { InsertImageButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport { RibbonButton } from '../type/RibbonButton';\n\nfunction createInput(doc: Document): HTMLInputElement {\n    const input = doc.createElement('input');\n\n    input.type = 'file';\n    input.accept = 'image/*';\n    input.setAttribute('display', 'none');\n\n    return input;\n}\n\n/**\n * @internal\n * \"Insert image\" button on the format ribbon\n */\nexport const insertImageButton: RibbonButton<InsertImageButtonStringKey> = {\n    key: 'buttonNameInsertImage',\n    unlocalizedText: 'Insert image',\n    iconName: 'Photo2',\n    onClick: editor => {\n        const document = editor.getDocument();\n        const fileInput = createInput(document) as HTMLInputElement;\n        document.body.appendChild(fileInput);\n\n        fileInput.addEventListener('change', () => {\n            if (fileInput.files) {\n                for (let i = 0; i < fileInput.files.length; i++) {\n                    insertImage(editor, fileInput.files[i]);\n                }\n            }\n        });\n\n        try {\n            fileInput.click();\n        } finally {\n            document.body.removeChild(fileInput);\n        }\n    },\n};\n","import { adjustLinkSelection, insertLink } from 'roosterjs-content-model-api';\nimport { showInputDialog } from 'roosterjs-react/lib/inputDialog';\nimport type { InsertLinkButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport type { RibbonButton } from '../type/RibbonButton';\n\n/**\n * @internal\n * \"Insert link\" button on the format ribbon\n */\nexport const insertLinkButton: RibbonButton<InsertLinkButtonStringKey> = {\n    key: 'buttonNameInsertLink',\n    unlocalizedText: 'Insert link',\n    iconName: 'Link',\n    onClick: (editor, _, strings, uiUtilities) => {\n        const [displayText, url] = adjustLinkSelection(editor);\n        const items = {\n            url: {\n                autoFocus: true,\n                labelKey: 'insertLinkDialogUrl' as const,\n                unlocalizedLabel: 'Web address (URL)',\n                initValue: url,\n            },\n            displayText: {\n                labelKey: 'insertLinkDialogDisplayAs' as const,\n                unlocalizedLabel: 'Display as',\n                initValue: displayText,\n            },\n        };\n\n        showInputDialog(\n            uiUtilities,\n            'insertLinkTitle',\n            'Insert link',\n            items,\n            strings,\n            (itemName, newValue, values) => {\n                if (itemName == 'url' && values.displayText == values.url) {\n                    values.displayText = newValue;\n                    values.url = newValue;\n                    return values;\n                } else {\n                    return null;\n                }\n            }\n        ).then(result => {\n            editor.focus();\n\n            if (result && result.url && (result.displayText != displayText || result.url != url)) {\n                insertLink(editor, result.url, result.url, result.displayText);\n            }\n        });\n    },\n};\n","import * as React from 'react';\nimport { FocusZone, FocusZoneDirection } from '@fluentui/react/lib/FocusZone';\nimport { insertTable } from 'roosterjs-content-model-api';\nimport { isNodeOfType } from 'roosterjs-content-model-dom';\nimport { mergeStyleSets } from '@fluentui/react/lib/Styling';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { InsertTableButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport type { IContextualMenuItem } from '@fluentui/react/lib/ContextualMenu';\n\nconst MaxRows = 10;\nconst MaxCols = 10;\nconst classNames = mergeStyleSets({\n    tableButton: {\n        width: '15px',\n        height: '15px',\n        margin: '1px 1px 0 0',\n        border: 'solid 1px #a19f9d',\n        display: 'inline-block',\n        cursor: 'pointer',\n        backgroundColor: 'transparent',\n    },\n    hovered: {\n        border: 'solid 1px #DB626C',\n    },\n    tablePane: {\n        width: '160px',\n        minWidth: 'auto',\n        padding: '4px',\n        boxSizing: 'content-box',\n    },\n    tablePaneInner: {\n        lineHeight: '12px',\n    },\n    title: {\n        margin: '5px 0',\n    },\n});\n\nexport const insertTableButton: RibbonButton<InsertTableButtonStringKey> = {\n    key: 'buttonNameInsertTable',\n    unlocalizedText: 'Insert table',\n    iconName: 'Table',\n    dropDownMenu: {\n        items: {\n            insertTablePane: '{0} x {1} table',\n        },\n        itemRender: (item, onClick) => {\n            return <InsertTablePane item={item} onClick={onClick} />;\n        },\n        commandBarSubMenuProperties: {\n            className: classNames.tablePane,\n        },\n    },\n    onClick: (editor, key) => {\n        const { row, col } = parseKey(key);\n        insertTable(editor, col, row);\n    },\n};\n\nfunction parseKey(key: string): { row: number; col: number } {\n    const [row, col] = key.split(',');\n    return {\n        row: parseInt(row),\n        col: parseInt(col),\n    };\n}\n\nfunction InsertTablePane(props: {\n    item: IContextualMenuItem;\n    onClick: (\n        e: React.MouseEvent<Element> | React.KeyboardEvent<Element>,\n        item: IContextualMenuItem\n    ) => void;\n}) {\n    const { item, onClick } = props;\n    const [col, setCol] = React.useState(1);\n    const [row, setRow] = React.useState(1);\n\n    const updateSize = React.useCallback(\n        (t?: Node) => {\n            if (t && isNodeOfType(t, 'ELEMENT_NODE')) {\n                const col = parseInt(t.dataset.col ?? '-1');\n                const row = parseInt(t.dataset.row ?? '-1');\n\n                if (col > 0 && col <= MaxCols && row > 0 && row <= MaxRows) {\n                    setCol(col);\n                    setRow(row);\n                }\n            }\n        },\n        [setCol, setRow]\n    );\n\n    const onMouseEnter = React.useCallback(\n        (e: React.MouseEvent<HTMLButtonElement>) => {\n            updateSize(e.target as Node);\n        },\n        [updateSize]\n    );\n\n    const onClickButton = React.useCallback(\n        (e: React.MouseEvent<HTMLButtonElement>) => {\n            onClick(e, {\n                ...item,\n                key: createKey(row, col),\n            });\n        },\n        [row, col, onClick]\n    );\n\n    const ariaLabels = React.useMemo<string[][]>(() => {\n        const result: string[][] = [];\n        for (let i = 1; i <= MaxCols; i++) {\n            const col: string[] = [];\n            for (let j = 1; j <= MaxRows; j++) {\n                col[j] = formatText(item.text ?? '', i, j);\n            }\n            result[i] = col;\n        }\n        return result;\n    }, [item.text]);\n\n    const items = React.useMemo(() => {\n        const items: JSX.Element[] = [];\n\n        for (let i = 1; i <= MaxRows; i++) {\n            for (let j = 1; j <= MaxCols; j++) {\n                const key = `cell_${i}_${j}`;\n                const isSelected = j <= col && i <= row;\n                items.push(\n                    <button\n                        className={\n                            classNames.tableButton + ' ' + (isSelected ? classNames.hovered : '')\n                        }\n                        onClick={onClickButton}\n                        key={key}\n                        id={key}\n                        data-col={j}\n                        data-row={i}\n                        data-is-focusable={true}\n                        onMouseEnter={onMouseEnter}\n                        aria-label={ariaLabels[i][j]}\n                    />\n                );\n            }\n        }\n\n        return items;\n    }, [col, row]);\n\n    const text = formatText(item.text ?? '', row, col);\n\n    return (\n        <div className={classNames.tablePaneInner}>\n            <div className={classNames.title}>{text}</div>\n            <FocusZone\n                defaultActiveElement=\"cell_1_1\"\n                direction={FocusZoneDirection.bidirectional}\n                onActiveElementChanged={updateSize}>\n                {items}\n            </FocusZone>\n        </div>\n    );\n}\n\nfunction formatText(text: string, row: number, col: number) {\n    return text.replace('{0}', col.toString()).replace('{1}', row.toString());\n}\n\nfunction createKey(row: number, col: number) {\n    return `${row},${col}`;\n}\n","import { toggleItalic } from 'roosterjs-content-model-api';\nimport type { ItalicButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport type { RibbonButton } from '../type/RibbonButton';\n\n/**\n * @internal\n * \"Italic\" button on the format ribbon\n */\nexport const italicButton: RibbonButton<ItalicButtonStringKey> = {\n    key: 'buttonNameItalic',\n    unlocalizedText: 'Italic',\n    iconName: 'Italic',\n    isChecked: formatState => formatState.isItalic,\n    onClick: editor => {\n        toggleItalic(editor);\n    },\n};\n","import { setDirection } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { LtrButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Left to right\" button on the format ribbon\n */\nexport const ltrButton: RibbonButton<LtrButtonStringKey> = {\n    key: 'buttonNameLtr',\n    unlocalizedText: 'Left to right',\n    iconName: 'BidiLtr',\n    onClick: editor => {\n        setDirection(editor, 'ltr');\n    },\n};\n","import type { RibbonButton } from '../type/RibbonButton';\nimport type { MoreCommandsButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"More commands\" (overflow) button on the format ribbon\n */\nexport const moreCommands: RibbonButton<MoreCommandsButtonStringKey> = {\n    key: 'buttonNameMoreCommands',\n    unlocalizedText: 'More commands',\n    iconName: 'MoreCommands',\n    onClick: () => {\n        return true;\n    },\n};\n","import { toggleNumbering } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { NumberedListButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Numbering list\" button on the format ribbon\n */\nexport const numberedListButton: RibbonButton<NumberedListButtonStringKey> = {\n    key: 'buttonNameNumberedList',\n    unlocalizedText: 'Numbered List',\n    iconName: 'NumberedList',\n    isChecked: formatState => formatState.isNumbering,\n    onClick: editor => {\n        toggleNumbering(editor);\n    },\n};\n","import { redo } from 'roosterjs-content-model-core';\nimport { RedoButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport { RibbonButton } from '../type/RibbonButton';\n\n/**\n * @internal\n * \"Undo\" button on the format ribbon\n */\nexport const redoButton: RibbonButton<RedoButtonStringKey> = {\n    key: 'buttonNameRedo',\n    unlocalizedText: 'Redo',\n    iconName: 'Redo',\n    isDisabled: formatState => !formatState.canRedo,\n    onClick: editor => {\n        redo(editor);\n    },\n};\n","import { removeLink } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { RemoveLinkButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Remove link\" button on the format ribbon\n */\nexport const removeLinkButton: RibbonButton<RemoveLinkButtonStringKey> = {\n    key: 'buttonNameRemoveLink',\n    unlocalizedText: 'Remove link',\n    iconName: 'RemoveLink',\n    isDisabled: formatState => !formatState.canUnlink,\n    onClick: editor => {\n        removeLink(editor);\n    },\n};\n","import { setDirection } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { RtlButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Right to left\" button on the format ribbon\n */\nexport const rtlButton: RibbonButton<RtlButtonStringKey> = {\n    key: 'buttonNameRtl',\n    unlocalizedText: 'Right to left',\n    iconName: 'BidiRtl',\n    onClick: editor => {\n        setDirection(editor, 'rtl');\n    },\n};\n","import { setHeadingLevel } from 'roosterjs-content-model-api';\nimport type { HeadingButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport type { RibbonButton } from '../type/RibbonButton';\n\nconst keys: HeadingButtonStringKey[] = [\n    'buttonNameNoHeading',\n    'buttonNameHeading1',\n    'buttonNameHeading2',\n    'buttonNameHeading3',\n    'buttonNameHeading4',\n    'buttonNameHeading5',\n    'buttonNameHeading6',\n];\nconst headings: Partial<Record<HeadingButtonStringKey, string>> = {\n    buttonNameHeading1: 'Heading 1',\n    buttonNameHeading2: 'Heading 2',\n    buttonNameHeading3: 'Heading 3',\n    buttonNameHeading4: 'Heading 4',\n    buttonNameHeading5: 'Heading 5',\n    buttonNameHeading6: 'Heading 6',\n    '-': '-',\n    buttonNameNoHeading: 'No heading',\n};\n\nexport const setHeadingLevelButton: RibbonButton<HeadingButtonStringKey> = {\n    key: 'buttonNameHeading',\n    unlocalizedText: 'Heading',\n    iconName: 'Header1',\n    dropDownMenu: {\n        items: headings,\n        getSelectedItemKey: formatState => {\n            return (formatState.headingLevel ?? 0) > 0\n                ? 'heading' + formatState.headingLevel\n                : 'noHeading';\n        },\n    },\n    onClick: (editor, key) => {\n        const headingLevel = keys.indexOf(key);\n\n        setHeadingLevel(editor, headingLevel as 0 | 1 | 2 | 3 | 4 | 5 | 6);\n    },\n};\n","import { toggleStrikethrough } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { StrikethroughButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Strikethrough\" button on the format ribbon\n */\nexport const strikethroughButton: RibbonButton<StrikethroughButtonStringKey> = {\n    key: 'buttonNameStrikethrough',\n    unlocalizedText: 'Strikethrough',\n    iconName: 'Strikethrough',\n    isChecked: formatState => formatState.isStrikeThrough,\n    onClick: editor => {\n        toggleStrikethrough(editor);\n    },\n};\n","import { toggleSubscript } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { SubscriptButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Subscript\" button on the format ribbon\n */\nexport const subscriptButton: RibbonButton<SubscriptButtonStringKey> = {\n    key: 'buttonNameSubscript',\n    unlocalizedText: 'Subscript',\n    iconName: 'Subscript',\n    isChecked: formatState => formatState.isSubscript,\n    onClick: editor => {\n        toggleSubscript(editor);\n    },\n};\n","import { toggleSuperscript } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { SuperscriptButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Superscript\" button on the format ribbon\n */\nexport const superscriptButton: RibbonButton<SuperscriptButtonStringKey> = {\n    key: 'buttonNameSuperscript',\n    unlocalizedText: 'Superscript',\n    iconName: 'Superscript',\n    isChecked: formatState => formatState.isSuperscript,\n    onClick: editor => {\n        toggleSuperscript(editor);\n    },\n};\n","import { renderColorPicker } from '../../colorPicker/component/renderColorPicker';\nimport { RibbonButton } from '../type/RibbonButton';\nimport { setTextColor } from 'roosterjs-content-model-api';\nimport { TextColorButtonStringKey } from '../type/RibbonButtonStringKeys';\nimport {\n    getTextColorValue,\n    TextColorDropDownItems,\n    TextColors,\n} from '../../colorPicker/utils/textColors';\nimport {\n    getColorPickerContainerClassName,\n    getColorPickerItemClassName,\n} from '../../colorPicker/utils/getClassNamesForColorPicker';\n\nconst Key: 'buttonNameTextColor' = 'buttonNameTextColor';\n\n/**\n * @internal\n * \"Text color\" button on the format ribbon\n */\nexport const textColorButton: RibbonButton<TextColorButtonStringKey> = {\n    dropDownMenu: {\n        items: TextColorDropDownItems,\n        itemClassName: getColorPickerItemClassName(),\n        allowLivePreview: true,\n        itemRender: (item, onClick) => renderColorPicker(item, TextColors, onClick),\n        commandBarSubMenuProperties: {\n            className: getColorPickerContainerClassName(),\n        },\n    },\n    key: Key,\n    unlocalizedText: 'Text color',\n    iconName: 'FontColor',\n    onClick: (editor, key) => {\n        // This check will always be true, add it here just to satisfy compiler\n        if (key != 'buttonNameTextColor') {\n            setTextColor(editor, getTextColorValue(key).lightModeColor);\n        }\n    },\n};\n","import { toggleUnderline } from 'roosterjs-content-model-api';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { UnderlineButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Underline\" button on the format ribbon\n */\nexport const underlineButton: RibbonButton<UnderlineButtonStringKey> = {\n    key: 'buttonNameUnderline',\n    unlocalizedText: 'Underline',\n    iconName: 'Underline',\n    isChecked: formatState => formatState.isUnderline,\n    onClick: editor => {\n        toggleUnderline(editor);\n    },\n};\n","import { undo } from 'roosterjs-content-model-core';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { UndoButtonStringKey } from '../type/RibbonButtonStringKeys';\n\n/**\n * @internal\n * \"Undo\" button on the format ribbon\n */\nexport const undoButton: RibbonButton<UndoButtonStringKey> = {\n    key: 'buttonNameUndo',\n    unlocalizedText: 'Undo',\n    iconName: 'undo',\n    isDisabled: formatState => !formatState.canUndo,\n    onClick: editor => {\n        undo(editor);\n    },\n};\n","import * as React from 'react';\nimport { CommandBar, ICommandBarItemProps, ICommandBarProps } from '@fluentui/react/lib/CommandBar';\nimport { FocusZoneDirection } from '@fluentui/react/lib/FocusZone';\nimport { getLocalizedString, LocalizedStrings } from 'roosterjs-react';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\nimport { IContextualMenuItem, IContextualMenuItemProps } from '@fluentui/react/lib/ContextualMenu';\nimport { IRenderFunction } from '@fluentui/react/lib/Utilities';\nimport { mergeStyles } from '@fluentui/react/lib/Styling';\nimport { moreCommands } from '../buttons/moreCommands';\nimport { RibbonPlugin } from '../type/RibbonPlugin';\nimport type { RibbonButton } from '../type/RibbonButton';\nimport type { ContentModelFormatState } from 'roosterjs-content-model-types';\n\nconst ribbonClassName = mergeStyles({\n    '& .ms-CommandBar': {\n        padding: '0px',\n    },\n});\n\nconst rtlIcon = mergeStyles({\n    transform: 'scaleX(-1)',\n});\n\ninterface RibbonProps<T extends string> extends Partial<ICommandBarProps> {\n    /**\n     * The ribbon plugin used for connect editor and the ribbon\n     */\n    plugin: RibbonPlugin;\n\n    /**\n     * Buttons in this ribbon\n     */\n    buttons: RibbonButton<T>[];\n\n    /**\n     * A dictionary of localized strings for all buttons.\n     * Key of the dictionary is the key of each button, value will be the string or a function to return the string\n     */\n    strings?: LocalizedStrings<T>;\n}\n\n/**\n * The format ribbon component of roosterjs-react\n * @param props Properties of format ribbon component\n * @returns The format ribbon component\n */\nexport function Ribbon<T extends string>(props: RibbonProps<T>) {\n    const { plugin, buttons, strings, dir } = props;\n    const [formatState, setFormatState] = React.useState<ContentModelFormatState | null>(null);\n    const isRtl = dir == 'rtl';\n\n    const onClick = React.useCallback(\n        (_, item?: IContextualMenuItem) => {\n            if (item) {\n                plugin?.onButtonClick<string>(item.data, item.key, strings);\n            }\n        },\n        [plugin, strings]\n    );\n\n    const onHover = React.useCallback(\n        (button: RibbonButton<T>, key: string) => {\n            plugin.startLivePreview<T>(button, key as T, strings);\n        },\n        [plugin, strings]\n    );\n\n    const onDismiss = React.useCallback(() => {\n        plugin.stopLivePreview();\n    }, [plugin]);\n\n    const flipIcon = React.useCallback(\n        (\n            props?: IContextualMenuItemProps,\n            defaultRender?: (props?: IContextualMenuItemProps) => JSX.Element | null\n        ): JSX.Element | null => {\n            if (!defaultRender) {\n                return null;\n            }\n            return <span className={rtlIcon}>{defaultRender(props)}</span>;\n        },\n        []\n    );\n\n    const commandBarItems = React.useMemo((): ICommandBarItemProps[] => {\n        return buttons.map(\n            (button): ICommandBarItemProps => {\n                const selectedItem =\n                    formatState && button.dropDownMenu?.getSelectedItemKey?.(formatState);\n                const dropDownMenu = button.dropDownMenu;\n\n                const result: ICommandBarItemProps = {\n                    key: button.key,\n                    data: button,\n                    iconProps: {\n                        iconName: button.iconName,\n                    },\n                    onRenderIcon: isRtl && button.flipWhenRtl ? flipIcon : undefined,\n                    iconOnly: true,\n                    text: getLocalizedString(strings, button.key, button.unlocalizedText),\n                    ariaLabel: getLocalizedString(strings, button.key, button.unlocalizedText),\n                    canCheck: true,\n                    checked: (formatState && button.isChecked?.(formatState)) || false,\n                    disabled: (formatState && button.isDisabled?.(formatState)) || false,\n                    ...(button.commandBarProperties || {}),\n                };\n\n                const contextMenuItemRenderer: IRenderFunction<IContextualMenuItem> = (\n                    props,\n                    defaultRenderer\n                ) =>\n                    props && defaultRenderer ? (\n                        <div onMouseOver={e => onHover(button, props.key)}>\n                            {defaultRenderer(props)}\n                        </div>\n                    ) : null;\n\n                if (dropDownMenu) {\n                    result.subMenuProps = {\n                        shouldFocusOnMount: true,\n                        focusZoneProps: { direction: FocusZoneDirection.bidirectional },\n                        onMenuDismissed: onDismiss,\n                        onItemClick: onClick,\n                        onRenderContextualMenuItem: dropDownMenu.allowLivePreview\n                            ? contextMenuItemRenderer\n                            : undefined,\n                        items: getObjectKeys(dropDownMenu.items).map(key => ({\n                            key: key,\n                            text: getLocalizedString<string, string>(\n                                strings,\n                                key,\n                                dropDownMenu.items[key]\n                            ),\n                            data: button,\n                            canCheck: !!dropDownMenu.getSelectedItemKey,\n                            checked: selectedItem == key || false,\n                            className: dropDownMenu.itemClassName,\n                            onRender: dropDownMenu.itemRender\n                                ? item => dropDownMenu.itemRender!(item, onClick)\n                                : undefined,\n                        })),\n                        ...(dropDownMenu.commandBarSubMenuProperties || {}),\n                    };\n                } else {\n                    result.onClick = onClick;\n                }\n\n                return result;\n            }\n        );\n    }, [buttons, formatState, isRtl, strings, onClick, onDismiss, onHover]);\n\n    React.useEffect(() => {\n        const disposer = plugin?.registerFormatChangedCallback(setFormatState);\n\n        return () => {\n            disposer?.();\n        };\n    }, [plugin]);\n\n    const moreCommandsBtn = moreCommands as RibbonButton<string>;\n\n    return (\n        <CommandBar\n            items={commandBarItems}\n            {...props}\n            className={ribbonClassName + ' ' + (props?.className || '')}\n            overflowButtonProps={{\n                ariaLabel: getLocalizedString<string, string>(\n                    strings,\n                    moreCommandsBtn.key,\n                    moreCommandsBtn.unlocalizedText\n                ),\n                ...props?.overflowButtonProps,\n            }}\n        />\n    );\n}\n","export { RibbonPlugin } from './type/RibbonPlugin';\nexport { RibbonButton } from './type/RibbonButton';\nexport { RibbonButtonDropDown } from './type/RibbonButtonDropDown';\nexport { RibbonProps } from './type/RibbonProps';\nexport {\n    BoldButtonStringKey,\n    ItalicButtonStringKey,\n    UnderlineButtonStringKey,\n    FontButtonStringKey,\n    FontSizeButtonStringKey,\n    IncreaseFontSizeButtonStringKey,\n    DecreaseFontSizeButtonStringKey,\n    TextColorButtonStringKey,\n    BackgroundColorButtonStringKey,\n    BulletedListButtonStringKey,\n    NumberedListButtonStringKey,\n    MoreCommandsButtonStringKey,\n    DecreaseIndentButtonStringKey,\n    IncreaseIndentButtonStringKey,\n    QuoteButtonStringKey,\n    AlignLeftButtonStringKey,\n    AlignCenterButtonStringKey,\n    AlignRightButtonStringKey,\n    AlignJustifyButtonStringKey,\n    InsertLinkButtonStringKey,\n    RemoveLinkButtonStringKey,\n    InsertTableButtonStringKey,\n    InsertImageButtonStringKey,\n    SuperscriptButtonStringKey,\n    SubscriptButtonStringKey,\n    StrikethroughButtonStringKey,\n    HeadingButtonStringKey,\n    HeaderButtonStringKey,\n    CodeButtonStringKey,\n    LtrButtonStringKey,\n    RtlButtonStringKey,\n    UndoButtonStringKey,\n    RedoButtonStringKey,\n    ClearFormatButtonStringKey,\n    AllButtonStringKeys,\n    CellShadeButtonStringKey,\n} from './type/RibbonButtonStringKeys';\n\nexport { Ribbon } from './component/Ribbon';\nexport { createRibbonPlugin } from './plugin/createRibbonPlugin';\n","import { getFormatState } from 'roosterjs-content-model-api';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\nimport { LocalizedStrings, UIUtilities } from 'roosterjs-react';\nimport { RibbonButton } from '../type/RibbonButton';\nimport type { RibbonPlugin } from '../type/RibbonPlugin';\nimport { ContentModelFormatState, IEditor, PluginEvent } from 'roosterjs-content-model-types';\n\nclass RibbonPluginImpl implements RibbonPlugin {\n    private editor: IEditor | null = null;\n    private onFormatChanged: ((formatState: ContentModelFormatState) => void) | null = null;\n    private timer = 0;\n    private formatState: ContentModelFormatState | null = null;\n    private uiUtilities: UIUtilities | null = null;\n\n    /**\n     * Construct a new instance of RibbonPlugin object\n     * @param delayUpdateTime The time to wait before refresh the button when user do some editing operation in editor\n     */\n    constructor(private delayUpdateTime: number = 200) {}\n\n    /**\n     * Get a friendly name of this plugin\n     */\n    getName() {\n        return 'Ribbon';\n    }\n\n    /**\n     * Initialize this plugin\n     * @param editor The editor instance\n     */\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        this.editor = null;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    onPluginEvent(event: PluginEvent) {\n        switch (event.eventType) {\n            case 'editorReady':\n            case 'contentChanged':\n            case 'zoomChanged':\n                this.updateFormat();\n                break;\n\n            case 'keyDown':\n            case 'mouseUp':\n                this.delayUpdate();\n                break;\n        }\n    }\n\n    /**\n     * Set the UI utilities objects to this plugin to help render additional UI elements\n     * @param uiUtilities The UI utilities object to set\n     */\n    setUIUtilities(uiUtilities: UIUtilities) {\n        this.uiUtilities = uiUtilities;\n    }\n\n    /**\n     * Register a callback to be invoked when format state of editor is changed, returns a disposer function.\n     */\n    registerFormatChangedCallback(callback: (formatState: ContentModelFormatState) => void) {\n        this.onFormatChanged = callback;\n\n        return () => {\n            this.onFormatChanged = null;\n        };\n    }\n\n    /**\n     * When user clicks on a button, call this method to let the plugin to handle this click event\n     * @param button The button that is clicked\n     * @param key Key of child menu item that is clicked if any\n     * @param strings The localized string map for this button\n     */\n    onButtonClick<T extends string>(\n        button: RibbonButton<T>,\n        key: T,\n        strings?: LocalizedStrings<T>\n    ) {\n        if (this.editor && this.uiUtilities) {\n            this.editor.stopShadowEdit();\n\n            button.onClick(this.editor, key, strings, this.uiUtilities);\n\n            if (button.isChecked || button.isDisabled || button.dropDownMenu?.getSelectedItemKey) {\n                this.updateFormat();\n            }\n        }\n    }\n\n    /**\n     * Enter live preview state (shadow edit) of editor if there is a non-collapsed selection\n     * @param button The button that triggered this action\n     * @param key Key of the hovered button sub item\n     * @param strings The localized string map for this button\n     */\n    startLivePreview<T extends string>(\n        button: RibbonButton<T>,\n        key: T,\n        strings?: LocalizedStrings<T>\n    ) {\n        if (this.editor && this.uiUtilities) {\n            const isInShadowEdit = this.editor.isInShadowEdit();\n\n            // If editor is already in shadow edit, no need to check again.\n            // And the check result may be incorrect because the content is changed from last shadow edit and the cached selection path won't apply\n            const range = !isInShadowEdit && this.editor.getDOMSelection();\n\n            if (isInShadowEdit || (range && (range.type != 'range' || !range.range.collapsed))) {\n                this.editor.startShadowEdit();\n                button.onClick(this.editor, key, strings, this.uiUtilities);\n            }\n        }\n    }\n\n    /**\n     * Leave live preview state (shadow edit) of editor\n     */\n    stopLivePreview() {\n        this.editor?.stopShadowEdit();\n    }\n\n    private delayUpdate() {\n        const window = this.editor?.getDocument().defaultView;\n\n        if (!window) {\n            return;\n        }\n\n        if (this.timer) {\n            window.clearTimeout(this.timer);\n        }\n\n        this.timer = window.setTimeout(() => {\n            this.timer = 0;\n            this.updateFormat?.();\n        }, this.delayUpdateTime);\n    }\n\n    private updateFormat() {\n        if (this.editor && this.onFormatChanged) {\n            const newFormatState = getFormatState(this.editor);\n\n            if (\n                !this.formatState ||\n                getObjectKeys(newFormatState).some(\n                    key => newFormatState[key] != this.formatState?.[key]\n                )\n            ) {\n                this.formatState = newFormatState;\n                this.onFormatChanged(newFormatState);\n            }\n        }\n    }\n}\n\n/**\n * Create a new instance of RibbonPlugin object\n * @param delayUpdateTime The time to wait before refresh the button when user do some editing operation in editor\n */\nexport function createRibbonPlugin(delayUpdateTime?: number): RibbonPlugin {\n    return new RibbonPluginImpl(delayUpdateTime);\n}\n","import * as React from 'react';\nimport { createUIUtilities } from '../../common/index';\nimport { divProperties, getNativeProps } from '@fluentui/react/lib/Utilities';\nimport { Editor } from 'roosterjs-content-model-core';\nimport { useTheme } from '@fluentui/react/lib/Theme';\nimport type { RoosterProps } from '../type/RoosterProps';\nimport type { ReactEditorPlugin } from '../../common/index';\nimport type { EditorPlugin, IEditor, EditorOptions } from 'roosterjs-content-model-types';\n\n/**\n * Main component of react wrapper for roosterjs\n * @param props Properties of this component\n * @returns The react component\n */\nexport function Rooster(props: RoosterProps) {\n    const editorDiv = React.useRef<HTMLDivElement>(null);\n    const editor = React.useRef<IEditor | null>(null);\n    const theme = useTheme();\n\n    const { focusOnInit, editorCreator, inDarkMode, plugins } = props;\n\n    React.useEffect(() => {\n        if (plugins && editorDiv.current) {\n            const uiUtilities = createUIUtilities(editorDiv.current, theme);\n\n            plugins.forEach(plugin => {\n                if (isReactEditorPlugin(plugin)) {\n                    plugin.setUIUtilities(uiUtilities);\n                }\n            });\n        }\n    }, [theme, editorCreator]);\n\n    React.useEffect(() => {\n        if (editorDiv.current) {\n            editor.current = (editorCreator || defaultEditorCreator)(editorDiv.current, props);\n        }\n\n        if (focusOnInit) {\n            editor.current?.focus();\n        }\n\n        return () => {\n            if (editor.current) {\n                editor.current.dispose();\n                editor.current = null;\n            }\n        };\n    }, [editorCreator]);\n\n    React.useEffect(() => {\n        editor.current?.setDarkModeState(!!inDarkMode);\n    }, [inDarkMode]);\n\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(props, divProperties);\n    return <div ref={editorDiv} tabIndex={0} {...(divProps || {})}></div>;\n}\n\nfunction defaultEditorCreator(div: HTMLDivElement, options: EditorOptions) {\n    return new Editor(div, options);\n}\n\nfunction isReactEditorPlugin(plugin: EditorPlugin): plugin is ReactEditorPlugin {\n    return !!(plugin as ReactEditorPlugin)?.setUIUtilities;\n}\n","export { RoosterProps } from './type/RoosterProps';\nexport { Rooster } from './component/Rooster';\n","import * as React from 'react';\nimport { SidePanePlugin } from './SidePanePlugin';\n\nconst styles = require('./SidePane.scss');\n\nexport interface SidePaneProps {\n    plugins: SidePanePlugin[];\n    className?: string;\n}\n\nexport interface SidePaneState {\n    currentPane: SidePanePlugin;\n}\n\nexport class SidePane extends React.Component<SidePaneProps, SidePaneState> {\n    private div = React.createRef<HTMLDivElement>();\n\n    constructor(props: SidePaneProps) {\n        super(props);\n        this.state = {\n            currentPane: this.props.plugins[0],\n        };\n\n        window.addEventListener('hashchange', this.updateStateFromHash);\n    }\n\n    componentDidMount() {\n        this.updateStateFromHash();\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('hashchange', this.updateStateFromHash);\n    }\n\n    render() {\n        const className = (this.props.className || '') + ' ' + styles.sidePane;\n\n        return (\n            <div className={className} ref={this.div}>\n                {this.props.plugins.map(this.renderSidePane)}\n            </div>\n        );\n    }\n\n    changeWidth(widthDelta: number) {\n        let div = this.div.current;\n        if (div) {\n            div.style.width = div.clientWidth + widthDelta + 'px';\n        }\n    }\n\n    updateHash = (pluginName?: string, path?: string[]) => {\n        window.location.hash =\n            (pluginName || this.state.currentPane.getName()) + (path ? '/' + path.join('/') : '');\n    };\n\n    private updateStateFromHash = () => {\n        let hash = window.location.hash;\n        let hashes = (hash ? hash.substr(1) : '').split('/');\n        let pluginName = hashes[0];\n        let plugin =\n            pluginName && this.props.plugins.filter(plugin => plugin.getName() == pluginName)[0];\n\n        if (plugin) {\n            this.setState({\n                currentPane: plugin,\n            });\n\n            window.setTimeout(() => {\n                hashes.splice(0, 1);\n                if (plugin.setHashPath) {\n                    plugin.setHashPath(hashes);\n                }\n            }, 0);\n        }\n    };\n\n    private renderSidePane = (plugin: SidePanePlugin): JSX.Element => {\n        const title = plugin.getTitle();\n        const isCurrent = this.state.currentPane == plugin;\n\n        return (\n            <div key={title} className={isCurrent ? styles.activePane : styles.inactivePane}>\n                <div className={styles.title} onClick={() => this.updateHash(plugin.getName())}>\n                    {title}\n                </div>\n                <div className={styles.bodyContainer}>\n                    <div className={styles.body}>{plugin.renderSidePane(this.updateHash)}</div>\n                </div>\n            </div>\n        );\n    };\n}\n","import * as React from 'react';\nimport { IEditor } from 'roosterjs-content-model-types';\nimport { SidePaneElement, SidePaneElementProps } from './SidePaneElement';\nimport { SidePanePlugin } from './SidePanePlugin';\n\ninterface SidePaneComponent<P extends SidePaneElementProps>\n    extends React.Component<P, any>,\n        SidePaneElement {}\n\nexport abstract class SidePanePluginImpl<\n    T extends SidePaneComponent<P>,\n    P extends SidePaneElementProps\n> implements SidePanePlugin {\n    protected editor: IEditor;\n    private component = React.createRef<T>();\n\n    constructor(\n        private readonly componentCtor: { new (props: P): T },\n        private readonly pluginName: string,\n        private readonly title: string\n    ) {}\n\n    getName() {\n        return this.pluginName;\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.editor = null;\n    }\n\n    getTitle() {\n        return this.title;\n    }\n\n    renderSidePane(updateHash: (pluginName?: string, path?: string[]) => void) {\n        return React.createElement<P>(this.componentCtor, {\n            ...this.getComponentProps({\n                updateHash,\n            }),\n            ref: this.component,\n        });\n    }\n\n    setHashPath(path: string[]) {\n        if (this.component.current && this.component.current.setHashPath) {\n            this.component.current.setHashPath(path);\n        }\n    }\n\n    protected abstract getComponentProps(baseProps: SidePaneElementProps): P;\n\n    protected getComponent(callback: (component: T) => void) {\n        if (this.component.current) {\n            callback(this.component.current);\n        }\n    }\n}\n","import * as React from 'react';\nimport apiEntries, { ApiPlaygroundReactComponent } from './apiEntries';\nimport { ApiPaneProps } from './ApiPaneProps';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\nimport { PluginEvent } from 'roosterjs-content-model-types';\nimport { SidePaneElement } from '../SidePaneElement';\n\nconst styles = require('./ApiPlaygroundPane.scss');\n\nexport interface ApiPlaygroundPaneState {\n    current: string;\n}\n\nexport class ApiPlaygroundPane extends React.Component<ApiPaneProps, ApiPlaygroundPaneState>\n    implements SidePaneElement {\n    private select = React.createRef<HTMLSelectElement>();\n    private pane = React.createRef<ApiPlaygroundReactComponent>();\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = { current: 'empty' };\n    }\n\n    render() {\n        let componentClass = apiEntries[this.state.current].component;\n        let pane: JSX.Element = null;\n        if (componentClass) {\n            pane = React.createElement(componentClass, { ...this.props, ref: this.pane });\n        }\n\n        return (\n            <>\n                <div className={styles.header}>\n                    <h3>Select an API to try</h3>\n\n                    <select ref={this.select} value={this.state.current} onChange={this.onChange}>\n                        {getObjectKeys(apiEntries).map(key => (\n                            <option value={key} key={key}>\n                                {apiEntries[key].name}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n                {pane}\n            </>\n        );\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (this.pane.current && this.pane.current.onPluginEvent) {\n            this.pane.current.onPluginEvent(e);\n        }\n    }\n\n    setHashPath(path: string[]) {\n        let paneName = path && getObjectKeys(apiEntries).indexOf(path[0]) >= 0 ? path[0] : null;\n\n        if (paneName && paneName != this.state.current) {\n            this.setState({\n                current: paneName,\n            });\n        } else {\n            this.props.updateHash(null, [this.state.current]);\n        }\n    }\n\n    private onChange = () => {\n        this.props.updateHash(null, [this.select.current.value]);\n    };\n}\n","import { ApiPlaygroundPane } from './ApiPlaygroundPane';\nimport { SidePanePluginImpl } from '../SidePanePluginImpl';\nimport type { ApiPaneProps } from './ApiPaneProps';\nimport type { PluginEvent } from 'roosterjs-content-model-types';\nimport type { SidePaneElementProps } from '../SidePaneElement';\n\nexport class ApiPlaygroundPlugin extends SidePanePluginImpl<ApiPlaygroundPane, ApiPaneProps> {\n    constructor() {\n        super(ApiPlaygroundPane, 'api', 'API Playground');\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return {\n            ...base,\n            getEditor: () => {\n                return this.editor;\n            },\n        };\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        this.getComponent(component => component.onPluginEvent(e));\n    }\n}\n","import * as React from 'react';\nimport InsertEntityPane from './insertEntity/InsertEntityPane';\nimport { ApiPaneProps, ApiPlaygroundComponent } from './ApiPaneProps';\n\nexport interface ApiPlaygroundReactComponent\n    extends React.Component<ApiPaneProps, any>,\n        ApiPlaygroundComponent {}\n\ninterface ApiEntry {\n    name: string;\n    component?: { new (props: ApiPaneProps): ApiPlaygroundReactComponent };\n}\n\nconst apiEntries: { [key: string]: ApiEntry } = {\n    empty: {\n        name: 'Please select',\n    },\n    entity: {\n        name: 'Insert Entity',\n        component: InsertEntityPane,\n    },\n    more: {\n        name: 'Coming soon...',\n    },\n};\n\nexport default apiEntries;\n","import * as React from 'react';\nimport { ApiPaneProps } from '../ApiPaneProps';\nimport { insertEntity } from 'roosterjs-content-model-api';\nimport { trustedHTMLHandler } from '../../../../utils/trustedHTMLHandler';\nimport {\n    ContentModelBlockGroup,\n    ContentModelEntity,\n    InsertEntityOptions,\n} from 'roosterjs-content-model-types';\n\nconst styles = require('./InsertEntityPane.scss');\n\ninterface InsertEntityPaneState {\n    entities: ContentModelEntity[];\n}\n\nexport default class InsertEntityPane extends React.Component<ApiPaneProps, InsertEntityPaneState> {\n    private entityType = React.createRef<HTMLInputElement>();\n    private html = React.createRef<HTMLTextAreaElement>();\n    private styleInline = React.createRef<HTMLInputElement>();\n    private styleBlock = React.createRef<HTMLInputElement>();\n    private focusAfterEntity = React.createRef<HTMLInputElement>();\n\n    private posFocus = React.createRef<HTMLInputElement>();\n    private posTop = React.createRef<HTMLInputElement>();\n    private posBottom = React.createRef<HTMLInputElement>();\n    private posRegionRoot = React.createRef<HTMLInputElement>();\n\n    constructor(props: ApiPaneProps) {\n        super(props);\n        this.state = {\n            entities: [],\n        };\n    }\n\n    render() {\n        return (\n            <>\n                <div>\n                    Type: <input type=\"input\" ref={this.entityType} />\n                </div>\n                <div>\n                    HTML: <textarea className={styles.textarea} ref={this.html}></textarea>\n                </div>\n                <div>\n                    Style:\n                    <input\n                        type=\"radio\"\n                        name=\"entityStyle\"\n                        ref={this.styleInline}\n                        id=\"styleInline\"\n                    />\n                    <label htmlFor=\"styleInline\">Inline</label>\n                    <input type=\"radio\" name=\"entityStyle\" ref={this.styleBlock} id=\"styleBlock\" />\n                    <label htmlFor=\"styleBlock\">Block</label>\n                </div>\n                <div>\n                    Position:\n                    <br />\n                    <input type=\"radio\" name=\"position\" ref={this.posFocus} id=\"posFocus\" />\n                    <label htmlFor=\"posFocus\">Current focus</label>\n                    <br />\n                    <input type=\"radio\" name=\"position\" ref={this.posTop} id=\"posTop\" />\n                    <label htmlFor=\"posTop\">Top</label>\n                    <br />\n                    <input type=\"radio\" name=\"position\" ref={this.posBottom} id=\"posBottom\" />\n                    <label htmlFor=\"posBottom\">Bottom</label>\n                    <br />\n                    <input\n                        type=\"radio\"\n                        name=\"position\"\n                        ref={this.posRegionRoot}\n                        id=\"posRegionRoot\"\n                    />\n                    <label htmlFor=\"posRegionRoot\">Region root</label>\n                    <br />\n                </div>\n                <div>\n                    <input id=\"focusAfterEntity\" type=\"checkbox\" ref={this.focusAfterEntity} />\n                    <label htmlFor=\"focusAfterEntity\">Focus after entity</label>\n                </div>\n                <div>\n                    <button onClick={this.insertEntity}>Insert Entity</button>\n                </div>\n                <hr />\n                <div>\n                    <button onClick={this.onGetEntities}>Get all entities</button>\n                </div>\n                <div>\n                    {this.state.entities.map(entity => (\n                        <EntityButton key={entity.entityFormat.id} entity={entity} />\n                    ))}\n                </div>\n            </>\n        );\n    }\n\n    private insertEntity = () => {\n        const entityType = this.entityType.current.value;\n        const node = document.createElement('span');\n        node.innerHTML = trustedHTMLHandler(this.html.current.value);\n        const isBlock = this.styleBlock.current.checked;\n        const focusAfterEntity = this.focusAfterEntity.current.checked;\n        const insertAtTop = this.posTop.current.checked;\n        const insertAtBottom = this.posBottom.current.checked;\n        const insertAtRoot = this.posRegionRoot.current.checked;\n\n        if (node) {\n            const editor = this.props.getEditor();\n            const options: InsertEntityOptions = {\n                contentNode: node,\n                focusAfterEntity: focusAfterEntity,\n            };\n\n            editor.focus();\n\n            if (isBlock) {\n                insertEntity(\n                    editor,\n                    entityType,\n                    true,\n                    insertAtRoot\n                        ? 'root'\n                        : insertAtTop\n                        ? 'begin'\n                        : insertAtBottom\n                        ? 'end'\n                        : 'focus',\n                    options\n                );\n            } else {\n                insertEntity(\n                    editor,\n                    entityType,\n                    isBlock,\n                    insertAtTop ? 'begin' : insertAtBottom ? 'end' : 'focus',\n                    options\n                );\n            }\n        }\n    };\n\n    private onGetEntities = () => {\n        const model = this.props.getEditor().getContentModelCopy('connected');\n        const allEntities: ContentModelEntity[] = [];\n\n        findAllEntities(model, allEntities);\n\n        this.setState({\n            entities: allEntities.filter(e => !!e),\n        });\n    };\n}\n\nfunction findAllEntities(group: ContentModelBlockGroup, result: ContentModelEntity[]) {\n    group.blocks.forEach(block => {\n        switch (block.blockType) {\n            case 'BlockGroup':\n                findAllEntities(block, result);\n                break;\n\n            case 'Entity':\n                result.push(block);\n                break;\n\n            case 'Paragraph':\n                block.segments.forEach(segment => {\n                    switch (segment.segmentType) {\n                        case 'Entity':\n                            result.push(segment);\n                            break;\n\n                        case 'General':\n                            findAllEntities(segment, result);\n                            break;\n                    }\n                });\n                break;\n\n            case 'Table':\n                block.rows.forEach(row => row.cells.forEach(cell => findAllEntities(cell, result)));\n                break;\n        }\n    });\n}\n\nfunction EntityButton({ entity }: { entity: ContentModelEntity }) {\n    let background = '';\n    const onMouseOver = React.useCallback(() => {\n        background = entity.wrapper.style.backgroundColor;\n        entity.wrapper.style.backgroundColor = 'blue';\n    }, [entity]);\n\n    const onMouseOut = React.useCallback(() => {\n        entity.wrapper.style.backgroundColor = background;\n    }, [entity]);\n\n    return (\n        <div\n            onMouseOver={onMouseOver}\n            onMouseOut={onMouseOut}\n            style={{\n                border: 'solid 1px gray',\n                borderRadius: '5px',\n                marginBottom: '10px',\n                padding: '5px',\n            }}>\n            Type: {entity.entityFormat.entityType}\n            <br />\n            Id: {entity.entityFormat.id}\n            <br />\n            Readonly: {entity.entityFormat.isReadonly ? 'True' : 'False'}\n            <br />\n            Fake entity: {entity.entityFormat.isFakeEntity ? 'True' : 'False'}\n            <br />\n        </div>\n    );\n}\n","import * as React from 'react';\nimport { ContentModelDocument } from 'roosterjs-content-model-types';\nimport { ContentModelDocumentView } from './components/model/ContentModelDocumentView';\nimport { exportButton } from './buttons/exportButton';\nimport { refreshButton } from './buttons/refreshButton';\nimport { Ribbon, RibbonButton, RibbonPlugin } from '../../roosterjsReact/ribbon';\nimport { SidePaneElementProps } from '../SidePaneElement';\n\nconst styles = require('./ContentModelPane.scss');\n\nexport interface ContentModelPaneState {\n    model: ContentModelDocument;\n}\n\nexport interface ContentModelPaneProps extends ContentModelPaneState, SidePaneElementProps {\n    ribbonPlugin: RibbonPlugin;\n}\n\nexport class ContentModelPane extends React.Component<\n    ContentModelPaneProps,\n    ContentModelPaneState\n> {\n    private contentModelButtons: RibbonButton<any>[];\n\n    constructor(props: ContentModelPaneProps) {\n        super(props);\n\n        this.contentModelButtons = [refreshButton, exportButton];\n\n        this.state = {\n            model: null,\n        };\n    }\n\n    setContentModel(model: ContentModelDocument) {\n        this.setState({\n            model: model,\n        });\n    }\n\n    render() {\n        return (\n            <>\n                <Ribbon buttons={this.contentModelButtons} plugin={this.props.ribbonPlugin} />\n                <div className={styles.contentModel}>\n                    {this.state.model ? <ContentModelDocumentView doc={this.state.model} /> : null}\n                </div>\n            </>\n        );\n    }\n}\n","import { ContentModelPane, ContentModelPaneProps } from './ContentModelPane';\nimport { createRibbonPlugin, RibbonPlugin } from '../../roosterjsReact/ribbon';\nimport { IEditor, PluginEvent } from 'roosterjs-content-model-types';\nimport { setCurrentContentModel } from './currentModel';\nimport { SidePaneElementProps } from '../SidePaneElement';\nimport { SidePanePluginImpl } from '../SidePanePluginImpl';\n\nexport class ContentModelPanePlugin extends SidePanePluginImpl<\n    ContentModelPane,\n    ContentModelPaneProps\n> {\n    private contentModelRibbon: RibbonPlugin;\n\n    constructor() {\n        super(ContentModelPane, 'contentModel', 'Content Model');\n        this.contentModelRibbon = createRibbonPlugin();\n    }\n\n    initialize(editor: IEditor): void {\n        super.initialize(editor);\n\n        this.contentModelRibbon.initialize(editor);\n        editor.getDocument().addEventListener('selectionchange', this.onModelChangeFromSelection);\n    }\n\n    dispose(): void {\n        this.contentModelRibbon.dispose();\n        this.editor\n            .getDocument()\n            .removeEventListener('selectionchange', this.onModelChangeFromSelection);\n\n        super.dispose();\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (e.eventType == 'contentChanged' && e.source == 'RefreshModel') {\n            this.getComponent(component => {\n                const model = this.editor.getContentModelCopy('connected');\n                component.setContentModel(model);\n                setCurrentContentModel(model);\n            });\n        } else if (\n            e.eventType == 'input' ||\n            e.eventType == 'selectionChanged' ||\n            e.eventType == 'editorReady'\n        ) {\n            this.onModelChange();\n        }\n\n        this.contentModelRibbon.onPluginEvent(e);\n    }\n\n    getInnerRibbonPlugin() {\n        return this.contentModelRibbon;\n    }\n\n    protected getComponentProps(baseProps: SidePaneElementProps): ContentModelPaneProps {\n        return {\n            ...baseProps,\n            model: null,\n            ribbonPlugin: this.contentModelRibbon,\n        };\n    }\n\n    private onModelChangeFromSelection = () => {\n        if (this.editor.hasFocus()) {\n            this.onModelChange();\n        }\n    };\n\n    private onModelChange = () => {\n        this.getComponent(component => {\n            const model = this.editor.getContentModelCopy('connected');\n            component.setContentModel(model);\n            setCurrentContentModel(model);\n        });\n    };\n}\n","import { getCurrentContentModel } from '../currentModel';\nimport { RibbonButton } from '../../../roosterjsReact/ribbon';\n\nexport const exportButton: RibbonButton<'buttonNameExport'> = {\n    key: 'buttonNameExport',\n    unlocalizedText: 'Create DOM tree',\n    iconName: 'DOM',\n    onClick: editor => {\n        const model = getCurrentContentModel();\n\n        if (model) {\n            editor.formatContentModel(currentModel => {\n                currentModel.blocks = model.blocks;\n\n                return true;\n            });\n        }\n    },\n};\n","import { RibbonButton } from '../../../roosterjsReact/ribbon';\n\nexport const refreshButton: RibbonButton<'buttonNameRefresh'> = {\n    key: 'buttonNameRefresh',\n    unlocalizedText: 'Refresh',\n    iconName: 'Refresh',\n    onClick: editor => {\n        editor.triggerEvent('contentChanged', {\n            source: 'RefreshModel',\n        });\n    },\n};\n","import * as React from 'react';\nimport { css } from '@fluentui/react/lib/Utilities';\n\nconst styles = require('./ButtonGroup.scss');\n\nexport function ButtonGroup(props: {\n    hasFormat: boolean;\n    hasContent: boolean;\n    hasDataset: boolean;\n    bodyState: 'children' | 'format' | 'json' | 'collapsed' | 'dataset';\n    toggleVisual: () => void;\n    toggleFormat: () => void;\n    toggleJson: () => void;\n    toggleMetadata: () => void;\n}) {\n    const {\n        hasContent,\n        hasFormat,\n        hasDataset,\n        bodyState,\n        toggleFormat,\n        toggleJson,\n        toggleVisual,\n        toggleMetadata,\n    } = props;\n\n    return (\n        <div>\n            {hasContent ? (\n                <button\n                    onClick={toggleVisual}\n                    title=\"Content\"\n                    className={css(styles.button, {\n                        [styles.buttonChecked]: bodyState == 'children',\n                    })}>\n                    \n                </button>\n            ) : null}\n            {hasFormat ? (\n                <button\n                    onClick={toggleFormat}\n                    title=\"Format\"\n                    className={css(styles.button, {\n                        [styles.buttonChecked]: bodyState == 'format',\n                    })}>\n                    \n                </button>\n            ) : null}\n            {hasDataset ? (\n                <button\n                    onClick={toggleMetadata}\n                    title=\"Dataset\"\n                    className={css(styles.button, {\n                        [styles.buttonChecked]: bodyState == 'dataset',\n                    })}>\n                    \n                </button>\n            ) : null}\n            <button\n                onClick={toggleJson}\n                title=\"JSON\"\n                className={css(styles.button, {\n                    [styles.buttonChecked]: bodyState == 'json',\n                })}>\n                \n            </button>\n        </div>\n    );\n}\n","import * as React from 'react';\nimport { ButtonGroup } from './ButtonGroup';\nimport { ContentModelJson } from './model/ContentModelJson';\nimport { css } from '@fluentui/react/lib/Utilities';\nimport { getObjectKeys } from 'roosterjs-editor-dom';\nimport { useProperty } from '../hooks/useProperty';\nimport {\n    ContentModelBlockWithCache,\n    ContentModelEntity,\n    ContentModelGeneralBlock,\n    ContentModelWithDataset,\n    DatasetFormat,\n} from 'roosterjs-content-model-types';\n\nconst styles = require('./ContentModelView.scss');\nconst MetadataKey = 'editingInfo';\n\nexport function ContentModelView(props: {\n    className: string;\n    title: string;\n    subTitle?: string;\n    hasSelection?: boolean;\n    isSelected?: boolean;\n    jsonSource: Object;\n    getContent?: (() => JSX.Element) | null;\n    getFormat?: (() => JSX.Element) | null;\n    getMetadata?: (() => JSX.Element) | null;\n    isExpanded?: boolean;\n}) {\n    const {\n        title,\n        subTitle,\n        isExpanded,\n        className,\n        hasSelection,\n        isSelected: isSelection,\n        jsonSource,\n        getContent,\n        getFormat,\n        getMetadata,\n    } = props;\n    const [bodyState, setBodyState] = useProperty<\n        'collapsed' | 'children' | 'format' | 'json' | 'dataset'\n    >(isExpanded ? 'children' : 'collapsed');\n    const highlightBorder = React.useRef<HTMLElement>(null);\n\n    const toggleVisual = React.useCallback(() => {\n        setBodyState(bodyState == 'children' ? 'collapsed' : 'children');\n    }, [bodyState]);\n\n    const toggleFormat = React.useCallback(() => {\n        setBodyState(bodyState == 'format' ? 'collapsed' : 'format');\n    }, [bodyState]);\n\n    const toggleJson = React.useCallback(() => {\n        setBodyState(bodyState == 'json' ? 'collapsed' : 'json');\n    }, [bodyState]);\n\n    const toggleDataset = React.useCallback(() => {\n        setBodyState(bodyState == 'dataset' ? 'collapsed' : 'dataset');\n    }, [bodyState]);\n\n    const getCachedElement = React.useCallback(() => {\n        return (\n            (jsonSource as ContentModelBlockWithCache)?.cachedElement ||\n            (jsonSource as ContentModelGeneralBlock)?.element ||\n            (jsonSource as ContentModelEntity)?.wrapper\n        );\n    }, [jsonSource]);\n    const onMouseOver = React.useCallback(\n        (e: React.MouseEvent) => {\n            const cachedElement = getCachedElement();\n            const doc = cachedElement?.ownerDocument;\n\n            if (cachedElement && doc) {\n                onMouseOut();\n\n                const rect = cachedElement.getBoundingClientRect();\n                const div = doc.createElement('div');\n\n                if (div) {\n                    div.style.position = 'fixed';\n                    div.style.zIndex = '10000';\n                    div.style.left = rect.left + 'px';\n                    div.style.top = rect.top + 'px';\n                    div.style.width = rect.width + 'px';\n                    div.style.height = rect.height + 'px';\n                    div.style.border = 'solid 2px #8888ff';\n                    div.style.boxSizing = 'border-box';\n                    doc.body.appendChild(div);\n\n                    highlightBorder.current = div;\n                }\n\n                e.stopPropagation();\n            }\n        },\n        [getCachedElement]\n    );\n    const onMouseOut = React.useCallback(() => {\n        if (highlightBorder.current) {\n            highlightBorder.current.parentNode?.removeChild(highlightBorder.current);\n            highlightBorder.current = null;\n        }\n    }, [getCachedElement]);\n\n    const dataset = (jsonSource as ContentModelWithDataset<any>).dataset;\n\n    React.useEffect(() => () => {\n        onMouseOut();\n    });\n\n    return (\n        <div\n            className={css(styles.modelWrapper, className, {\n                [styles.childSelected]: hasSelection,\n                [styles.selected]: isSelection,\n            })}\n            onMouseOver={onMouseOver}\n            onMouseOut={onMouseOut}>\n            <div className={styles.titleBar}>\n                <div\n                    className={css(styles.title, {\n                        [styles.titleWithBorder]: bodyState != 'collapsed',\n                    })}>\n                    {title}\n                </div>\n                <div className={styles.buttonGroup}>\n                    <ButtonGroup\n                        hasContent={!!getContent}\n                        hasFormat={!!getFormat}\n                        hasDataset={!!dataset}\n                        bodyState={bodyState}\n                        toggleJson={toggleJson}\n                        toggleFormat={toggleFormat}\n                        toggleVisual={toggleVisual}\n                        toggleMetadata={toggleDataset}\n                    />\n                </div>\n                <div\n                    className={css(styles.subTitle, {\n                        [styles.titleWithBorder]: bodyState != 'collapsed',\n                    })}\n                    title={subTitle || ''}>\n                    {subTitle || '\\u00a0'}\n                </div>\n            </div>\n            {bodyState == 'json' ? (\n                <div className={styles.expandedBody}>\n                    <ContentModelJson jsonSource={jsonSource} />\n                </div>\n            ) : bodyState == 'children' && !!getContent ? (\n                <div className={styles.expandedBody}>{getContent()}</div>\n            ) : bodyState == 'format' && !!getFormat ? (\n                <div className={styles.expandedBody}>{getFormat()}</div>\n            ) : bodyState == 'dataset' && !!dataset ? (\n                <div className={styles.expandedBody}>\n                    <DatasetView dataset={dataset} getMetadata={getMetadata} />\n                </div>\n            ) : null}\n        </div>\n    );\n}\n\nfunction DatasetView(props: { dataset: DatasetFormat; getMetadata?: (() => JSX.Element) | null }) {\n    const { dataset, getMetadata } = props;\n\n    return (\n        <>\n            {getObjectKeys(dataset).map(name =>\n                !getMetadata || name != MetadataKey ? (\n                    <DatasetItemView dataset={dataset} name={name} />\n                ) : null\n            )}\n            {getMetadata ? (\n                <>\n                    <div>Metadata:</div>\n                    {getMetadata()}\n                </>\n            ) : null}\n        </>\n    );\n}\n\nfunction DatasetItemView(props: { dataset: DatasetFormat; name: string }) {\n    const { dataset, name } = props;\n    const [value, setValue] = useProperty(dataset[name]);\n    const inputRef = React.useRef<HTMLInputElement>(null);\n    const onChange = React.useCallback(() => {\n        const newValue = inputRef.current.value;\n        dataset[name] = newValue;\n        setValue(newValue);\n    }, [value, setValue]);\n\n    return (\n        <div>\n            {name}\n            <input type=\"text\" ref={inputRef} value={value} onChange={onChange} />\n        </div>\n    );\n}\n","import * as React from 'react';\nimport { BackgroundColorFormatRenderer } from './formatPart/BackgroundColorFormatRenderer';\nimport { BorderFormatRenderers } from './formatPart/BorderFormatRenderers';\nimport { ContentModelBlockFormat, ContentModelSegmentFormat } from 'roosterjs-content-model-types';\nimport { DirectionFormatRenderer } from './formatPart/DirectionFormatRenderer';\nimport { FormatRenderer } from './utils/FormatRenderer';\nimport { FormatView } from './FormatView';\nimport { HtmlAlignFormatRenderer } from './formatPart/HtmlAlignFormatRenderer';\nimport { LineHeightFormatRenderer } from './formatPart/LineHeightFormatRenderer';\nimport { MarginFormatRenderer } from './formatPart/MarginFormatRenderer';\nimport { PaddingFormatRenderer } from './formatPart/PaddingFormatRenderer';\nimport { TextAlignFormatRenderer } from './formatPart/TextAlignFormatRenderer';\nimport { TextIndentFormatRenderer } from './formatPart/TextIndentFormatRenderer';\nimport { WhiteSpaceFormatRenderer } from './formatPart/WhiteSpaceFormatRenderer';\n\nconst BlockFormatRenders: FormatRenderer<ContentModelBlockFormat>[] = [\n    BackgroundColorFormatRenderer,\n    DirectionFormatRenderer,\n    TextAlignFormatRenderer,\n    HtmlAlignFormatRenderer,\n    MarginFormatRenderer,\n    PaddingFormatRenderer,\n    LineHeightFormatRenderer,\n    WhiteSpaceFormatRenderer,\n    TextIndentFormatRenderer,\n    ...BorderFormatRenderers,\n];\n\nexport function BlockFormatView(props: { format: ContentModelSegmentFormat }) {\n    const { format } = props;\n    return <FormatView format={format} renderers={BlockFormatRenders} />;\n}\n","import * as React from 'react';\nimport { FormatRenderer } from './utils/FormatRenderer';\n\nconst styles = require('./FormatView.scss');\n\nexport function FormatView<T>(props: {\n    format: T;\n    renderers: FormatRenderer<T>[];\n    onUpdate?: () => void;\n}) {\n    const { format, renderers, onUpdate } = props;\n\n    return <div className={styles.formatTable}>{renderers.map(x => x(format, onUpdate))}</div>;\n}\n","import * as React from 'react';\nimport { ContentModelHyperLinkFormat, LinkFormat } from 'roosterjs-content-model-types';\nimport { createTextFormatRenderer } from './utils/createTextFormatRenderer';\nimport { DisplayFormatRenderer } from './formatPart/DisplayFormatRenderer';\nimport { FormatRenderer } from './utils/FormatRenderer';\nimport { FormatView } from './FormatView';\nimport { MarginFormatRenderer } from './formatPart/MarginFormatRenderer';\nimport { PaddingFormatRenderer } from './formatPart/PaddingFormatRenderer';\nimport { TextColorFormatRenderer } from './formatPart/TextColorFormatRenderer';\nimport { UnderlineFormatRenderer } from './formatPart/BasicFormatRenderers';\n\nconst LinkFormatRenderers: FormatRenderer<ContentModelHyperLinkFormat>[] = [\n    createTextFormatRenderer<LinkFormat>(\n        'Name',\n        format => format.name,\n        (format, value) => (format.name = value)\n    ),\n    createTextFormatRenderer<LinkFormat>(\n        'Href',\n        format => format.href,\n        (format, value) => (format.href = value)\n    ),\n    createTextFormatRenderer<LinkFormat>(\n        'Target',\n        format => format.target,\n        (format, value) => (format.target = value)\n    ),\n    createTextFormatRenderer<LinkFormat>(\n        'AnchorId',\n        format => format.anchorId,\n        (format, value) => (format.anchorId = value)\n    ),\n    createTextFormatRenderer<LinkFormat>(\n        'AnchorClass',\n        format => format.anchorClass,\n        (format, value) => (format.anchorClass = value)\n    ),\n    createTextFormatRenderer<LinkFormat>(\n        'AnchorTitle',\n        format => format.anchorTitle,\n        (format, value) => (format.anchorTitle = value)\n    ),\n    createTextFormatRenderer<LinkFormat>(\n        'Relationship',\n        format => format.relationship,\n        (format, value) => (format.relationship = value)\n    ),\n    TextColorFormatRenderer,\n    UnderlineFormatRenderer,\n    DisplayFormatRenderer,\n    MarginFormatRenderer,\n    PaddingFormatRenderer,\n];\n\nexport function LinkFormatView(props: { format: LinkFormat }) {\n    const { format } = props;\n    return <FormatView format={format} renderers={LinkFormatRenderers} />;\n}\n","import * as React from 'react';\nimport { ContentModelWithDataset } from 'roosterjs-content-model-types';\nimport { FormatRenderer } from './utils/FormatRenderer';\n\nconst styles = require('./FormatView.scss');\n\nexport function MetadataView<T>(props: {\n    model: ContentModelWithDataset<T>;\n    renderers: FormatRenderer<T>[];\n    updater: (model: ContentModelWithDataset<T>, callback: (format: T | null) => T | null) => void;\n}) {\n    const { model, renderers, updater } = props;\n    const metadata = React.useRef<T>(null);\n\n    const onUpdate = React.useCallback(() => {\n        updater(model, () => metadata.current);\n    }, [model]);\n\n    let result: JSX.Element | null = null;\n\n    updater(model, format => {\n        metadata.current = format;\n        result = format ? (\n            <div className={styles.formatTable}>{renderers.map(x => x(format, onUpdate))}</div>\n        ) : null;\n\n        return format;\n    });\n\n    return result;\n}\n","import * as React from 'react';\nimport { BackgroundColorFormatRenderer } from './formatPart/BackgroundColorFormatRenderer';\nimport { ContentModelSegmentFormat } from 'roosterjs-content-model-types';\nimport { FontFamilyFormatRenderer } from './formatPart/FontFamilyFormatRenderer';\nimport { FontSizeFormatRenderer } from './formatPart/FontSizeFormatRenderer';\nimport { FormatRenderer } from './utils/FormatRenderer';\nimport { FormatView } from './FormatView';\nimport { LetterSpacingFormatRenderer } from './formatPart/LetterSpacingFormatRenderer';\nimport { LineHeightFormatRenderer } from './formatPart/LineHeightFormatRenderer';\nimport { TextColorFormatRenderer } from './formatPart/TextColorFormatRenderer';\nimport {\n    BoldFormatRenderer,\n    ItalicFormatRenderer,\n    StrikeFormatRenderer,\n    UnderlineFormatRenderer,\n    SuperOrSubScriptFormatRenderer,\n} from './formatPart/BasicFormatRenderers';\n\nconst SegmentFormatRenders: FormatRenderer<ContentModelSegmentFormat>[] = [\n    TextColorFormatRenderer,\n    BackgroundColorFormatRenderer,\n    FontSizeFormatRenderer,\n    FontFamilyFormatRenderer,\n    BoldFormatRenderer,\n    ItalicFormatRenderer,\n    UnderlineFormatRenderer,\n    StrikeFormatRenderer,\n    SuperOrSubScriptFormatRenderer,\n    LineHeightFormatRenderer,\n    LetterSpacingFormatRenderer,\n];\n\nexport function SegmentFormatView(props: { format: ContentModelSegmentFormat }) {\n    const { format } = props;\n    return <FormatView format={format} renderers={SegmentFormatRenders} />;\n}\n","import { BackgroundColorFormat } from 'roosterjs-content-model-types';\nimport { createColorFormatRenderer } from '../utils/createColorFormatRender';\nimport { FormatRenderer } from '../utils/FormatRenderer';\n\nexport const BackgroundColorFormatRenderer: FormatRenderer<BackgroundColorFormat> = createColorFormatRenderer<\n    BackgroundColorFormat\n>(\n    'Back color',\n    format => format.backgroundColor,\n    (format, value) => (format.backgroundColor = value)\n);\n","import { createCheckboxFormatRenderer } from '../utils/createCheckboxFormatRenderer';\nimport { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport {\n    BoldFormat,\n    ItalicFormat,\n    StrikeFormat,\n    SuperOrSubScriptFormat,\n    UnderlineFormat,\n} from 'roosterjs-content-model-types';\n\nexport const BoldFormatRenderer: FormatRenderer<BoldFormat> = createTextFormatRenderer<BoldFormat>(\n    'Bold',\n    format => format.fontWeight,\n    (format, value) => (format.fontWeight = value)\n);\n\nexport const ItalicFormatRenderer: FormatRenderer<ItalicFormat> = createCheckboxFormatRenderer<\n    ItalicFormat\n>(\n    'Italic',\n    format => format.italic,\n    (format, value) => (format.italic = value)\n);\n\nexport const UnderlineFormatRenderer: FormatRenderer<UnderlineFormat> = createCheckboxFormatRenderer<\n    UnderlineFormat\n>(\n    'Underline',\n    format => format.underline,\n    (format, value) => (format.underline = value)\n);\n\nexport const StrikeFormatRenderer: FormatRenderer<StrikeFormat> = createCheckboxFormatRenderer<\n    StrikeFormat\n>(\n    'Strike',\n    format => format.strikethrough,\n    (format, value) => (format.strikethrough = value)\n);\n\nexport const SuperOrSubScriptFormatRenderer: FormatRenderer<SuperOrSubScriptFormat> = createTextFormatRenderer<\n    SuperOrSubScriptFormat\n>(\n    'SuperOrSubScript',\n    format => format.superOrSubScriptSequence,\n    (format, value) => (format.superOrSubScriptSequence = value)\n);\n","import { BorderBoxFormat } from 'roosterjs-content-model-types';\nimport { createCheckboxFormatRenderer } from '../utils/createCheckboxFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\n\nexport const BorderBoxFormatRenderer: FormatRenderer<BorderBoxFormat> = createCheckboxFormatRenderer<\n    BorderBoxFormat\n>(\n    'UseBorderBox',\n    format => format.useBorderBox,\n    (format, value) => (format.useBorderBox = value)\n);\n","import { BorderFormat } from 'roosterjs-content-model-types';\nimport { combineBorderValue, extractBorderValues } from 'roosterjs-content-model-core';\nimport { createDropDownFormatRenderer } from '../utils/createDropDownFormatRenderer';\nimport { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\n\ntype BorderStyle =\n    | 'dashed'\n    | 'dotted'\n    | 'double'\n    | 'groove'\n    | 'none'\n    | 'outset'\n    | 'solid'\n    | 'hidden'\n    | 'ridge'\n    | 'inset';\nconst BorderStyles: BorderStyle[] = [\n    'none',\n    'hidden',\n    'dotted',\n    'dashed',\n    'solid',\n    'double',\n    'groove',\n    'ridge',\n    'inset',\n    'outset',\n];\n\nfunction createBorderRenderer(position: keyof BorderFormat): FormatRenderer<BorderFormat>[] {\n    return [\n        createTextFormatRenderer<BorderFormat>(\n            position + 'Width',\n            format => extractBorderValues(format[position]).width,\n            (format, newValue) => {\n                const border = extractBorderValues(format[position]);\n                border.width = newValue;\n                format[position] = combineBorderValue(border);\n            }\n        ),\n        createDropDownFormatRenderer<BorderFormat, BorderStyle>(\n            position + 'Style',\n            BorderStyles,\n            format => extractBorderValues(format[position]).style as BorderStyle,\n            (format, newValue) => {\n                const border = extractBorderValues(format[position]);\n                border.style = newValue;\n                format[position] = combineBorderValue(border);\n            }\n        ),\n        createTextFormatRenderer<BorderFormat>(\n            position + 'Color',\n            format => extractBorderValues(format[position]).color,\n            (format, newValue) => {\n                const border = extractBorderValues(format[position]);\n                border.color = newValue;\n                format[position] = combineBorderValue(border);\n            }\n        ),\n    ];\n}\n\nexport const BorderFormatRenderers: FormatRenderer<BorderFormat>[] = [\n    ...createBorderRenderer('borderTop'),\n    ...createBorderRenderer('borderRight'),\n    ...createBorderRenderer('borderBottom'),\n    ...createBorderRenderer('borderLeft'),\n];\n","import { createDropDownFormatRenderer } from '../utils/createDropDownFormatRenderer';\nimport { DirectionFormat } from 'roosterjs-content-model-types';\n\nexport const DirectionFormatRenderer = createDropDownFormatRenderer<DirectionFormat, 'ltr' | 'rtl'>(\n    'Direction',\n    ['ltr', 'rtl'],\n    format => format.direction,\n    (format, value) => (format.direction = value)\n);\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { DisplayFormat } from 'roosterjs-content-model-types';\nimport { FormatRenderer } from '../utils/FormatRenderer';\n\nexport const DisplayFormatRenderer: FormatRenderer<DisplayFormat> = createTextFormatRenderer<\n    DisplayFormat\n>(\n    'Display',\n    format => format.display,\n    (format, value) => (format.display = value)\n);\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FloatFormat } from 'roosterjs-content-model-types';\nimport { FormatRenderer } from '../utils/FormatRenderer';\n\nexport const FloatFormatRenderer: FormatRenderer<FloatFormat> = createTextFormatRenderer<\n    FloatFormat\n>(\n    'Float',\n    format => format.float,\n    (format, value) => (format.float = value)\n);\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FontFamilyFormat } from 'roosterjs-content-model-types';\nimport { FormatRenderer } from '../utils/FormatRenderer';\n\nexport const FontFamilyFormatRenderer: FormatRenderer<FontFamilyFormat> = createTextFormatRenderer<\n    FontFamilyFormat\n>(\n    'Font family',\n    format => format.fontFamily,\n    (format, value) => {\n        format.fontFamily = value;\n        return undefined;\n    }\n);\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FontSizeFormat } from 'roosterjs-content-model-types';\nimport { FormatRenderer } from '../utils/FormatRenderer';\n\nexport const FontSizeFormatRenderer: FormatRenderer<FontSizeFormat> = createTextFormatRenderer<\n    FontSizeFormat\n>(\n    'Font size',\n    format => format.fontSize,\n    (format, value) => {\n        format.fontSize = value;\n        return undefined;\n    }\n);\n","import { createDropDownFormatRenderer } from '../utils/createDropDownFormatRenderer';\nimport { HtmlAlignFormat } from 'roosterjs-content-model-types';\n\nexport const HtmlAlignFormatRenderer = createDropDownFormatRenderer<\n    HtmlAlignFormat,\n    'start' | 'center' | 'end' | 'justify' | 'initial'\n>(\n    'HTML align',\n    ['start', 'center', 'end'],\n    format => format.htmlAlign,\n    (format, value) => (format.htmlAlign = value)\n);\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { IdFormat } from 'roosterjs-content-model-types';\n\nexport const IdFormatRenderer: FormatRenderer<IdFormat> = createTextFormatRenderer<IdFormat>(\n    'Id',\n    format => format.id,\n    (format, value) => (format.id = value)\n);\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { ImageMetadataFormat } from 'roosterjs-content-model-types';\n\nexport const ImageMetadataFormatRenderers: FormatRenderer<ImageMetadataFormat>[] = [\n    createTextFormatRenderer<ImageMetadataFormat>(\n        'MetadataWidth',\n        format => (format.widthPx || '') + '',\n        (format, value) => (format.widthPx = parseFloat(value)),\n        'number'\n    ),\n    createTextFormatRenderer<ImageMetadataFormat>(\n        'MetadataHeight',\n        format => (format.heightPx || '') + '',\n        (format, value) => (format.heightPx = parseFloat(value)),\n        'number'\n    ),\n    createTextFormatRenderer<ImageMetadataFormat>(\n        'MetadataLeft',\n        format => (format.leftPercent || '') + '',\n        (format, value) => (format.leftPercent = parseFloat(value)),\n        'number'\n    ),\n    createTextFormatRenderer<ImageMetadataFormat>(\n        'MetadataRight',\n        format => (format.rightPercent || '') + '',\n        (format, value) => (format.rightPercent = parseFloat(value)),\n        'number'\n    ),\n    createTextFormatRenderer<ImageMetadataFormat>(\n        'MetadataTop',\n        format => (format.topPercent || '') + '',\n        (format, value) => (format.topPercent = parseFloat(value)),\n        'number'\n    ),\n    createTextFormatRenderer<ImageMetadataFormat>(\n        'MetadataBottom',\n        format => (format.bottomPercent || '') + '',\n        (format, value) => (format.bottomPercent = parseFloat(value)),\n        'number'\n    ),\n    createTextFormatRenderer<ImageMetadataFormat>(\n        'MetadataAngle',\n        format => (format.angleRad || '') + '',\n        (format, value) => (format.angleRad = parseFloat(value)),\n        'number'\n    ),\n    createTextFormatRenderer<ImageMetadataFormat>(\n        'OriginalSrc',\n        format => format.src,\n        () => {},\n        'multiline'\n    ),\n    createTextFormatRenderer<ImageMetadataFormat>(\n        'NaturalWidth',\n        format => (format.naturalWidth || '') + '',\n        () => {},\n        'number'\n    ),\n    createTextFormatRenderer<ImageMetadataFormat>(\n        'NaturalHeight',\n        format => (format.naturalHeight || '') + '',\n        () => {},\n        'number'\n    ),\n];\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { LetterSpacingFormat } from 'roosterjs-content-model-types';\n\nexport const LetterSpacingFormatRenderer: FormatRenderer<LetterSpacingFormat> = createTextFormatRenderer<\n    LetterSpacingFormat\n>(\n    'Letter spacing',\n    format => format.letterSpacing,\n    (format, value) => {\n        format.letterSpacing = value;\n    }\n);\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { LineHeightFormat } from 'roosterjs-content-model-types';\n\nexport const LineHeightFormatRenderer: FormatRenderer<LineHeightFormat> = createTextFormatRenderer<\n    LineHeightFormat\n>(\n    'LineHeight',\n    format => format.lineHeight,\n    (format, value) => (format.lineHeight = value)\n);\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { ListMetadataFormat } from 'roosterjs-content-model-types';\n\nexport const ListMetadataFormatRenderers: FormatRenderer<ListMetadataFormat>[] = [\n    createTextFormatRenderer(\n        'Ordered style',\n        format => format.orderedStyleType + '',\n        (format, value) => (format.orderedStyleType = parseInt(value)),\n        'number'\n    ),\n    createTextFormatRenderer(\n        'Unordered style',\n        format => format.unorderedStyleType + '',\n        (format, value) => (format.unorderedStyleType = parseInt(value)),\n        'number'\n    ),\n];\n","import { createDropDownFormatRenderer } from '../utils/createDropDownFormatRenderer';\nimport { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { ListStyleFormat } from 'roosterjs-content-model-types';\n\nexport const ListStylePositionFormatRenderers: FormatRenderer<ListStyleFormat>[] = [\n    createDropDownFormatRenderer(\n        'List position',\n        ['inside', 'outside'],\n        format => format.listStylePosition,\n        (format, value) => (format.listStylePosition = value)\n    ),\n    createTextFormatRenderer(\n        'List style type',\n        format => format.listStyleType,\n        (format, value) => (format.listStyleType = value)\n    ),\n];\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { ListThreadFormat } from 'roosterjs-content-model-types';\n\nexport const ListThreadFormatRenderers: FormatRenderer<ListThreadFormat>[] = [\n    createTextFormatRenderer(\n        'Start number',\n        format => format.startNumberOverride + '',\n        (format, value) => (format.startNumberOverride = parseInt(value)),\n        'number'\n    ),\n];\n","import { createTextFormatRendererGroup } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { MarginFormat } from 'roosterjs-content-model-types';\n\ntype MarginName = keyof MarginFormat;\nconst MarginNames: MarginName[] = ['marginTop', 'marginRight', 'marginBottom', 'marginLeft'];\n\nexport const MarginFormatRenderer: FormatRenderer<MarginFormat> = createTextFormatRendererGroup<\n    MarginFormat,\n    MarginName\n>(\n    MarginNames,\n    format => MarginNames.map(name => format[name]),\n    (format, name, value) => {\n        format[name] = value;\n    }\n);\n","import { createTextFormatRendererGroup } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { PaddingFormat } from 'roosterjs-content-model-types';\n\ntype PaddingName = keyof PaddingFormat;\nconst PaddingNames: PaddingName[] = ['paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft'];\n\nexport const PaddingFormatRenderer: FormatRenderer<PaddingFormat> = createTextFormatRendererGroup<\n    PaddingFormat,\n    PaddingName\n>(\n    PaddingNames,\n    format => PaddingNames.map(name => format[name]),\n    (format, name, value) => {\n        format[name] = value;\n    }\n);\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { SizeFormat } from 'roosterjs-content-model-types';\n\nexport const SizeFormatRenderers: FormatRenderer<SizeFormat>[] = [\n    createTextFormatRenderer<SizeFormat>(\n        'Width',\n        format => format.width,\n        (format, value) => (format.width = value)\n    ),\n    createTextFormatRenderer<SizeFormat>(\n        'Height',\n        format => format.height,\n        (format, value) => (format.height = value)\n    ),\n    createTextFormatRenderer<SizeFormat>(\n        'MaxWidth',\n        format => format.maxWidth,\n        (format, value) => (format.maxWidth = value)\n    ),\n    createTextFormatRenderer<SizeFormat>(\n        'MaxHeight',\n        format => format.maxHeight,\n        (format, value) => (format.maxHeight = value)\n    ),\n    createTextFormatRenderer<SizeFormat>(\n        'MinWidth',\n        format => format.minWidth,\n        (format, value) => (format.minWidth = value)\n    ),\n    createTextFormatRenderer<SizeFormat>(\n        'MinHeight',\n        format => format.minHeight,\n        (format, value) => (format.minHeight = value)\n    ),\n];\n","import { createCheckboxFormatRenderer } from '../utils/createCheckboxFormatRenderer';\nimport { SpacingFormat } from 'roosterjs-content-model-types';\n\nexport const SpacingFormatRenderer = createCheckboxFormatRenderer<SpacingFormat>(\n    'BorderCollapsed',\n    format => format.borderCollapse,\n    (format, value) => (format.borderCollapse = value)\n);\n","import { createCheckboxFormatRenderer } from '../utils/createCheckboxFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { TableCellMetadataFormat } from 'roosterjs-editor-types';\n\nexport const TableCellMetadataFormatRenders: FormatRenderer<TableCellMetadataFormat>[] = [\n    createCheckboxFormatRenderer<TableCellMetadataFormat>(\n        'BgColorOverride',\n        format => format.bgColorOverride,\n        (format, value) => (format.bgColorOverride = value)\n    ),\n    createCheckboxFormatRenderer<TableCellMetadataFormat>(\n        'VAlignOverride',\n        format => format.vAlignOverride,\n        (format, value) => (format.vAlignOverride = value)\n    ),\n    createCheckboxFormatRenderer<TableCellMetadataFormat>(\n        'BorderOverride',\n        format => format.borderOverride,\n        (format, value) => (format.borderOverride = value)\n    ),\n];\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { TableLayoutFormat } from 'roosterjs-content-model-types';\n\nexport const TableLayoutFormatRenderer: FormatRenderer<TableLayoutFormat> = createTextFormatRenderer<\n    TableLayoutFormat\n>(\n    'TableLayout',\n    format => format.tableLayout,\n    (format, value) => (format.tableLayout = value)\n);\n","import { createCheckboxFormatRenderer } from '../utils/createCheckboxFormatRenderer';\nimport { createColorFormatRenderer } from '../utils/createColorFormatRender';\nimport { createDropDownFormatRenderer } from '../utils/createDropDownFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\nimport { TableBorderFormat } from 'roosterjs-content-model-core';\nimport { TableMetadataFormat } from 'roosterjs-content-model-types';\n\nexport const TableMetadataFormatRenders: FormatRenderer<TableMetadataFormat>[] = [\n    createColorFormatRenderer<TableMetadataFormat>(\n        'TopBorderColor',\n        format => format.topBorderColor,\n        (format, value) => {\n            format.topBorderColor = value;\n        }\n    ),\n    createColorFormatRenderer<TableMetadataFormat>(\n        'BottomBorderColor',\n        format => format.bottomBorderColor,\n        (format, value) => (format.bottomBorderColor = value)\n    ),\n    createColorFormatRenderer<TableMetadataFormat>(\n        'VerticalBorderColor',\n        format => format.verticalBorderColor,\n        (format, value) => (format.verticalBorderColor = value)\n    ),\n    createCheckboxFormatRenderer<TableMetadataFormat>(\n        'HasHeaderRow',\n        format => format.hasHeaderRow,\n        (format, value) => (format.hasHeaderRow = value)\n    ),\n    createColorFormatRenderer<TableMetadataFormat>(\n        'HeaderRowColor',\n        format => format.headerRowColor,\n        (format, value) => (format.headerRowColor = value)\n    ),\n    createCheckboxFormatRenderer<TableMetadataFormat>(\n        'HasFirstColumn',\n        format => format.hasFirstColumn,\n        (format, value) => (format.hasFirstColumn = value)\n    ),\n    createCheckboxFormatRenderer<TableMetadataFormat>(\n        'HasBandedColumns',\n        format => format.hasBandedColumns,\n        (format, value) => (format.hasBandedColumns = value)\n    ),\n    createCheckboxFormatRenderer<TableMetadataFormat>(\n        'HasBandedRows',\n        format => format.hasBandedRows,\n        (format, value) => (format.hasBandedRows = value)\n    ),\n    createColorFormatRenderer<TableMetadataFormat>(\n        'BgColorEven',\n        format => format.bgColorEven,\n        (format, value) => (format.bgColorEven = value)\n    ),\n    createColorFormatRenderer<TableMetadataFormat>(\n        'BgColorOdd',\n        format => format.bgColorOdd,\n        (format, value) => (format.bgColorOdd = value)\n    ),\n    createDropDownFormatRenderer<TableMetadataFormat, keyof typeof TableBorderFormat>(\n        'TableBorderFormat',\n        [\n            'Default',\n            'ListWithSideBorders',\n            'NoHeaderBorders',\n            'NoSideBorders',\n            'FirstColumnHeaderExternal',\n            'EspecialType1',\n            'EspecialType2',\n            'EspecialType3',\n            'Clear',\n        ],\n        format =>\n            getObjectKeys(TableBorderFormat)[\n                Object.values(TableBorderFormat).indexOf(format.tableBorderFormat)\n            ],\n        (format, newValue) => (format.tableBorderFormat = TableBorderFormat[newValue])\n    ),\n];\n","import { createDropDownFormatRenderer } from '../utils/createDropDownFormatRenderer';\nimport { TextAlignFormat } from 'roosterjs-content-model-types';\n\nexport const TextAlignFormatRenderer = createDropDownFormatRenderer<\n    TextAlignFormat,\n    'start' | 'center' | 'end' | 'justify' | 'initial'\n>(\n    'Text align',\n    ['start', 'center', 'end'],\n    format => format.textAlign,\n    (format, value) => (format.textAlign = value)\n);\n","import * as Color from 'color';\nimport { createColorFormatRenderer } from '../utils/createColorFormatRender';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { TextColorFormat } from 'roosterjs-content-model-types';\n\nexport const TextColorFormatRenderer: FormatRenderer<TextColorFormat> = createColorFormatRenderer<\n    TextColorFormat\n>(\n    'Text color',\n    format => (format.textColor ? Color(format.textColor).hex() : ''),\n    (format, value) => {\n        format.textColor = value;\n        return undefined;\n    }\n);\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { FormatRenderer } from '../utils/FormatRenderer';\nimport { TextIndentFormat } from 'roosterjs-content-model-types';\n\nexport const TextIndentFormatRenderer: FormatRenderer<TextIndentFormat> = createTextFormatRenderer<\n    TextIndentFormat\n>(\n    'Text indent',\n    format => format.textIndent,\n    (format, value) => (format.textIndent = value)\n);\n","import { createDropDownFormatRenderer } from '../utils/createDropDownFormatRenderer';\nimport { VerticalAlignFormat } from 'roosterjs-content-model-types';\n\nexport const VerticalAlignFormatRenderer = createDropDownFormatRenderer<\n    VerticalAlignFormat,\n    'top' | 'middle' | 'bottom'\n>(\n    'Vertical align',\n    ['top', 'middle', 'bottom'],\n    format => format.verticalAlign,\n    (format, value) => (format.verticalAlign = value)\n);\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { WhiteSpaceFormat } from 'roosterjs-content-model-types';\n\nexport const WhiteSpaceFormatRenderer = createTextFormatRenderer<WhiteSpaceFormat>(\n    'White space',\n    format => format.whiteSpace,\n    (format, value) => (format.whiteSpace = value)\n);\n","import { createTextFormatRenderer } from '../utils/createTextFormatRenderer';\nimport { WordBreakFormat } from 'roosterjs-content-model-types';\n\nexport const WordBreakFormatRenderer = createTextFormatRenderer<WordBreakFormat>(\n    'Word break',\n    format => format.wordBreak,\n    (format, value) => (format.wordBreak = value)\n);\n","import * as React from 'react';\nimport { FormatRenderer } from './FormatRenderer';\nimport { useProperty } from '../../../hooks/useProperty';\n\nconst styles = require('../FormatView.scss');\n\nfunction CheckboxFormatItem<TFormat>(props: {\n    name: string;\n    format: TFormat;\n    getter: (format: TFormat) => boolean;\n    setter?: (format: TFormat, newValue: boolean) => void;\n    onUpdate?: () => void;\n}) {\n    const { name, getter, setter, format, onUpdate } = props;\n    const checkbox = React.useRef<HTMLInputElement>(null);\n    const [value, setValue] = useProperty<boolean>(getter(format));\n\n    const onChange = React.useCallback(() => {\n        const newValue = checkbox.current.checked;\n        setValue(newValue);\n        setter?.(format, newValue);\n        onUpdate?.();\n    }, [format, setter, setValue]);\n\n    return (\n        <div className={styles.formatRow}>\n            <div className={styles.formatName}>{name}</div>\n            <div className={styles.formatValue}>\n                <input type=\"checkbox\" ref={checkbox} checked={value} onChange={onChange} />\n            </div>\n        </div>\n    );\n}\n\nexport function createCheckboxFormatRenderer<T>(\n    name: string,\n    getter: (format: T) => boolean,\n    setter?: (format: T, newValue: boolean) => void\n): FormatRenderer<T> {\n    return (format: T, onUpdate?: () => void) => (\n        <CheckboxFormatItem\n            name={name}\n            getter={getter}\n            setter={setter}\n            format={format}\n            onUpdate={onUpdate}\n            key={name}\n        />\n    );\n}\n","import * as Color from 'color';\nimport * as React from 'react';\nimport { FormatRenderer } from './FormatRenderer';\nimport { useProperty } from '../../../hooks/useProperty';\n\nconst styles = require('../FormatView.scss');\nconst Transparent = 'transparent';\n\nfunction ColorFormatItem<T>(props: {\n    name: string;\n    format: T;\n    getter: (format: T) => string;\n    setter?: (format: T, newValue: string) => void;\n    onUpdate?: () => void;\n}) {\n    const { name, getter, setter, format, onUpdate } = props;\n    const colorPickerBox = React.useRef<HTMLInputElement & HTMLTextAreaElement>(null);\n    const colorValueBox = React.useRef<HTMLInputElement>(null);\n    const transparentCheckBox = React.useRef<HTMLInputElement>(null);\n\n    let initValue = getter(format);\n\n    if (initValue && initValue != Transparent) {\n        try {\n            const color = Color(initValue);\n            initValue = color.hex();\n        } catch {}\n    }\n\n    const [value, setValue] = useProperty(initValue);\n\n    const updateValue = React.useCallback(\n        (newValue: string) => {\n            if (newValue != Transparent) {\n                try {\n                    const color = Color(newValue);\n                    newValue = color.hex();\n                } catch {}\n            }\n\n            setValue(newValue);\n            setter?.(format, newValue);\n            onUpdate?.();\n        },\n        [setter, format]\n    );\n\n    const onTextBoxChange = React.useCallback(() => {\n        updateValue(colorPickerBox.current.value);\n    }, [updateValue]);\n\n    const onColorValueChange = React.useCallback(() => {\n        updateValue(colorValueBox.current.value);\n    }, [updateValue]);\n\n    const onToggleTransparent = React.useCallback(() => {\n        updateValue(\n            transparentCheckBox.current.checked ? Transparent : colorPickerBox.current.value\n        );\n    }, [updateValue]);\n\n    let content = (\n        <>\n            <input type=\"color\" ref={colorPickerBox} value={value} onChange={onTextBoxChange} />\n            <input\n                type=\"text\"\n                className={styles.colorValue}\n                ref={colorValueBox}\n                value={value}\n                onChange={onColorValueChange}\n            />\n            <input\n                type=\"checkbox\"\n                ref={transparentCheckBox}\n                checked={value == Transparent}\n                onChange={onToggleTransparent}\n            />\n            {Transparent}\n        </>\n    );\n\n    return (\n        <div className={styles.formatRow}>\n            <div className={styles.formatName}>{name}</div>\n            <div className={styles.formatValue}>{content}</div>\n        </div>\n    );\n}\n\nexport function createColorFormatRenderer<T>(\n    name: string,\n    getter: (format: T) => string,\n    setter?: (format: T, newValue: string) => void\n): FormatRenderer<T> {\n    return (format: T, onUpdate?: () => void) => (\n        <ColorFormatItem\n            name={name}\n            getter={getter}\n            setter={setter}\n            format={format}\n            key={name}\n            onUpdate={onUpdate}\n        />\n    );\n}\n\nexport function createColorFormatRendererGroup<T, V extends string>(\n    names: V[],\n    getter: (format: T) => string[],\n    setter?: (format: T, name: V, newValue: string) => void\n): FormatRenderer<T> {\n    return (format: T, onUpdate?: () => void) => {\n        const initValues = getter(format);\n\n        return (\n            <>\n                {names.map((name, index) => (\n                    <ColorFormatItem\n                        name={name}\n                        getter={() => initValues[index]}\n                        setter={(format, newValue) => setter?.(format, name, newValue)}\n                        format={format}\n                        onUpdate={onUpdate}\n                        key={name}\n                    />\n                ))}\n            </>\n        );\n    };\n}\n","import * as React from 'react';\nimport { FormatRenderer } from './FormatRenderer';\nimport { useProperty } from '../../../hooks/useProperty';\n\nconst styles = require('../FormatView.scss');\n\nfunction DropDownFormatItem<TFormat, TOption extends string>(props: {\n    name: string;\n    format: TFormat;\n    options: TOption[];\n    getter: (format: TFormat) => TOption | undefined;\n    setter?: (format: TFormat, newValue: TOption | undefined) => void;\n    onUpdate?: () => void;\n}) {\n    const { name, getter, setter, format, options, onUpdate } = props;\n    const dropDown = React.useRef<HTMLSelectElement>(null);\n    const [value, setValue] = useProperty(getter(format));\n\n    const onChange = React.useCallback(() => {\n        const newValue =\n            dropDown.current.value == '' ? undefined : (dropDown.current.value as TOption);\n        setValue(newValue);\n        setter?.(format, newValue);\n        onUpdate?.();\n    }, [format, setter]);\n\n    return (\n        <div className={styles.formatRow}>\n            <div className={styles.formatName}>{name}</div>\n            <div className={styles.formatValue}>\n                <select ref={dropDown} value={value === undefined ? '' : value} onChange={onChange}>\n                    <option value=\"\"></option>\n                    {options.map(o => (\n                        <option value={o} key={o}>\n                            {o}\n                        </option>\n                    ))}\n                </select>\n            </div>\n        </div>\n    );\n}\n\nexport function createDropDownFormatRenderer<T, O extends string>(\n    name: string,\n    options: O[],\n    getter: (format: T) => O,\n    setter?: (format: T, newValue: O) => void\n): FormatRenderer<T> {\n    return (format: T, onUpdate?: () => void) => (\n        <DropDownFormatItem\n            name={name}\n            getter={getter}\n            setter={setter}\n            format={format}\n            options={options}\n            onUpdate={onUpdate}\n            key={name}\n        />\n    );\n}\n\nexport function createDropDownFormatRendererGroup<T, O extends string, V extends string>(\n    names: V[],\n    options: O[],\n    getter: (format: T) => O[],\n    setter?: (format: T, name: V, newValue: O) => void\n): FormatRenderer<T> {\n    return (format: T, onUpdate?: () => void) => {\n        const initValues = getter(format);\n        return (\n            <>\n                {names.map((name, index) => (\n                    <DropDownFormatItem\n                        name={name}\n                        getter={() => initValues[index]}\n                        setter={(format, newValue) => setter?.(format, name, newValue)}\n                        format={format}\n                        options={options}\n                        onUpdate={onUpdate}\n                        key={name}\n                    />\n                ))}\n            </>\n        );\n    };\n}\n","import * as React from 'react';\nimport { FormatRenderer } from './FormatRenderer';\nimport { useProperty } from '../../../hooks/useProperty';\n\nconst styles = require('../FormatView.scss');\n\nfunction TextFormatItem<T>(props: {\n    name: string;\n    format: T;\n    getter: (format: T) => string;\n    setter?: (format: T, newValue: string) => void;\n    onUpdate?: () => void;\n    type: 'text' | 'number' | 'multiline';\n}) {\n    const { name, getter, setter, format, type, onUpdate } = props;\n    const textBox = React.useRef<HTMLInputElement & HTMLTextAreaElement>(null);\n    const [value, setValue] = useProperty(getter(format));\n\n    const updateValue = React.useCallback(\n        (newValue: string) => {\n            setValue(newValue);\n            setter?.(format, newValue);\n            onUpdate();\n        },\n        [setter, format]\n    );\n\n    const onTextBoxChange = React.useCallback(() => {\n        updateValue(textBox.current.value);\n    }, [updateValue]);\n\n    let content: JSX.Element;\n\n    switch (type) {\n        case 'multiline':\n            content = (\n                <textarea\n                    ref={textBox}\n                    onChange={onTextBoxChange}\n                    className={styles.multiLineValue}\n                    value={value}\n                />\n            );\n            break;\n        case 'number':\n            content = (\n                <input\n                    type=\"number\"\n                    className={styles.numberValue}\n                    ref={textBox}\n                    value={value}\n                    onChange={onTextBoxChange}\n                />\n            );\n            break;\n        case 'text':\n            content = (\n                <input\n                    type=\"text\"\n                    className={styles.textValue}\n                    ref={textBox}\n                    value={value}\n                    onChange={onTextBoxChange}\n                />\n            );\n            break;\n    }\n\n    return (\n        <div className={styles.formatRow}>\n            <div className={styles.formatName}>{name}</div>\n            <div className={styles.formatValue}>{content}</div>\n        </div>\n    );\n}\n\nexport function createTextFormatRenderer<T>(\n    name: string,\n    getter: (format: T) => string,\n    setter?: (format: T, newValue: string) => void,\n    type: 'text' | 'number' | 'multiline' = 'text'\n): FormatRenderer<T> {\n    return (format: T, onUpdate?: () => void) => (\n        <TextFormatItem\n            name={name}\n            getter={getter}\n            setter={setter}\n            format={format}\n            type={type}\n            onUpdate={onUpdate}\n            key={name}\n        />\n    );\n}\n\nexport function createTextFormatRendererGroup<T, V extends string>(\n    names: V[],\n    getter: (format: T) => string[],\n    setter?: (format: T, name: V, newValue: string) => void,\n    type: 'text' | 'number' | 'multiline' = 'text'\n): FormatRenderer<T> {\n    return (format: T, onUpdate?: () => void) => {\n        const initValues = getter(format);\n\n        return (\n            <>\n                {names.map((name, index) => (\n                    <TextFormatItem\n                        name={name}\n                        getter={() => initValues[index]}\n                        setter={(format, newValue) => setter?.(format, name, newValue)}\n                        format={format}\n                        type={type}\n                        onUpdate={onUpdate}\n                        key={name}\n                    />\n                ))}\n            </>\n        );\n    };\n}\n","import * as React from 'react';\nimport { ContentModelBlockGroup } from 'roosterjs-content-model-types';\nimport { ContentModelBlockView } from './ContentModelBlockView';\n\nexport function BlockGroupContentView(props: { group: ContentModelBlockGroup }) {\n    const { group } = props;\n\n    return (\n        <>\n            {group.blocks.map((block, index) => (\n                <ContentModelBlockView block={block} key={index} />\n            ))}\n        </>\n    );\n}\n","import * as React from 'react';\nimport { ContentModelBlockGroup } from 'roosterjs-content-model-types';\nimport { ContentModelDocumentView } from './ContentModelDocumentView';\nimport { ContentModelFormatContainerView } from './ContentModelFormatContainerView';\nimport { ContentModelGeneralView } from './ContentModelGeneralView';\nimport { ContentModelListItemView } from './ContentModelListItemView';\nimport { ContentModelTableCellView } from './ContentModelTableCellView';\n\nexport function ContentModelBlockGroupView(props: { group: ContentModelBlockGroup }) {\n    const { group } = props;\n\n    switch (group.blockGroupType) {\n        case 'Document':\n            return <ContentModelDocumentView doc={group} />;\n\n        case 'General':\n            return <ContentModelGeneralView model={group} />;\n\n        case 'ListItem':\n            return <ContentModelListItemView listItem={group} />;\n\n        case 'FormatContainer':\n            return <ContentModelFormatContainerView container={group} />;\n\n        case 'TableCell':\n            return <ContentModelTableCellView cell={group} />;\n    }\n}\n","import * as React from 'react';\nimport { ContentModelBlock } from 'roosterjs-content-model-types';\nimport { ContentModelBlockGroupView } from './ContentModelBlockGroupView';\nimport { ContentModelDividerView } from './ContentModelDividerView';\nimport { ContentModelEntityView } from './ContentModelEntityView';\nimport { ContentModelParagraphView } from './ContentModelParagraphView';\nimport { ContentModelTableView } from './ContentModelTableView';\n\nexport function ContentModelBlockView(props: { block: ContentModelBlock }) {\n    const { block } = props;\n\n    switch (block.blockType) {\n        case 'BlockGroup':\n            return <ContentModelBlockGroupView group={block} />;\n\n        case 'Paragraph':\n            return <ContentModelParagraphView paragraph={block} />;\n\n        case 'Table':\n            return <ContentModelTableView table={block} />;\n\n        case 'Entity':\n            return <ContentModelEntityView entity={block} />;\n\n        case 'Divider':\n            return <ContentModelDividerView divider={block} />;\n    }\n}\n","import * as React from 'react';\nimport { ContentModelBr } from 'roosterjs-content-model-types';\nimport { ContentModelView } from '../ContentModelView';\nimport { SegmentFormatView } from '../format/SegmentFormatView';\n\nconst styles = require('./ContentModelBrView.scss');\n\nexport function ContentModelBrView(props: { br: ContentModelBr }) {\n    const { br } = props;\n    const getFormat = React.useCallback(() => {\n        return <SegmentFormatView format={br.format} />;\n    }, [br.format]);\n\n    return (\n        <ContentModelView\n            title=\"BR\"\n            className={styles.modelBr}\n            isSelected={br.isSelected}\n            jsonSource={br}\n            getFormat={getFormat}\n        />\n    );\n}\n","import * as React from 'react';\nimport { ContentModelCode, ContentModelCodeFormat } from 'roosterjs-content-model-types';\nimport { ContentModelView } from '../ContentModelView';\nimport { DisplayFormatRenderer } from '../format/formatPart/DisplayFormatRenderer';\nimport { FontFamilyFormatRenderer } from '../format/formatPart/FontFamilyFormatRenderer';\nimport { FormatRenderer } from '../format/utils/FormatRenderer';\nimport { FormatView } from '../format/FormatView';\n\nconst CodeRenderers: FormatRenderer<ContentModelCodeFormat>[] = [\n    FontFamilyFormatRenderer,\n    DisplayFormatRenderer,\n];\n\nconst styles = require('./ContentModelCodeView.scss');\n\nexport function ContentModelCodeView(props: { code: ContentModelCode }) {\n    const { code } = props;\n\n    const getFormat = React.useCallback(() => {\n        return <FormatView format={code.format} renderers={CodeRenderers} />;\n    }, [code.format]);\n\n    return (\n        <ContentModelView\n            title=\"Code\"\n            className={styles.modelCode}\n            jsonSource={code}\n            getFormat={getFormat}\n        />\n    );\n}\n","import * as React from 'react';\nimport { BackgroundColorFormatRenderer } from '../format/formatPart/BackgroundColorFormatRenderer';\nimport { BorderFormatRenderers } from '../format/formatPart/BorderFormatRenderers';\nimport { ContentModelDivider, ContentModelDividerFormat } from 'roosterjs-content-model-types';\nimport { ContentModelView } from '../ContentModelView';\nimport { DirectionFormatRenderer } from '../format/formatPart/DirectionFormatRenderer';\nimport { DisplayFormatRenderer } from '../format/formatPart/DisplayFormatRenderer';\nimport { FormatRenderer } from '../format/utils/FormatRenderer';\nimport { FormatView } from '../format/FormatView';\nimport { LineHeightFormatRenderer } from '../format/formatPart/LineHeightFormatRenderer';\nimport { MarginFormatRenderer } from '../format/formatPart/MarginFormatRenderer';\nimport { PaddingFormatRenderer } from '../format/formatPart/PaddingFormatRenderer';\nimport { SizeFormatRenderers } from '../format/formatPart/SizeFormatRenderers';\nimport { useProperty } from '../../hooks/useProperty';\nimport { WhiteSpaceFormatRenderer } from '../format/formatPart/WhiteSpaceFormatRenderer';\n\nconst styles = require('./ContentModelDividerView.scss');\nconst DividerFormatRenders: FormatRenderer<ContentModelDividerFormat>[] = [\n    BackgroundColorFormatRenderer,\n    DirectionFormatRenderer,\n    MarginFormatRenderer,\n    PaddingFormatRenderer,\n    LineHeightFormatRenderer,\n    WhiteSpaceFormatRenderer,\n    ...BorderFormatRenderers,\n    DisplayFormatRenderer,\n    ...SizeFormatRenderers,\n];\n\nexport function ContentModelDividerView(props: { divider: ContentModelDivider }) {\n    const { divider } = props;\n    const [tagName, setTagName] = useProperty(divider.tagName);\n    const tagNameDropDown = React.useRef<HTMLSelectElement>(null);\n    const onTagNameChange = React.useCallback(() => {\n        const newValue = tagNameDropDown.current.value as 'hr' | 'div';\n        divider.tagName = newValue;\n        setTagName(newValue);\n    }, [divider, setTagName]);\n\n    const getContent = React.useCallback(() => {\n        return (\n            <div>\n                TagName:\n                <select value={tagName} ref={tagNameDropDown} onChange={onTagNameChange}>\n                    <option value=\"hr\">HR</option>\n                    <option value=\"div\">DIV</option>\n                </select>\n            </div>\n        );\n    }, [tagName]);\n\n    const getFormat = React.useCallback(() => {\n        return <FormatView format={divider.format} renderers={DividerFormatRenders} />;\n    }, [divider.format]);\n\n    return (\n        <ContentModelView\n            title=\"Divider\"\n            className={styles.modelDivider}\n            isSelected={divider.isSelected}\n            jsonSource={divider}\n            getContent={getContent}\n            getFormat={getFormat}\n        />\n    );\n}\n","import * as React from 'react';\nimport { BlockGroupContentView } from './BlockGroupContentView';\nimport { ContentModelDocument } from 'roosterjs-content-model-types';\nimport { ContentModelView } from '../ContentModelView';\nimport { hasSelectionInBlockGroup } from 'roosterjs-content-model-core';\n\nconst styles = require('./ContentModelDocumentView.scss');\n\nexport function ContentModelDocumentView(props: { doc: ContentModelDocument }) {\n    const { doc } = props;\n    const getContent = React.useCallback(() => {\n        return <BlockGroupContentView group={doc} />;\n    }, [doc]);\n\n    return (\n        <ContentModelView\n            title=\"Document\"\n            className={styles.modelDocument}\n            hasSelection={hasSelectionInBlockGroup(doc)}\n            jsonSource={doc}\n            getContent={getContent}\n        />\n    );\n}\n","import * as React from 'react';\nimport { BlockFormatView } from '../format/BlockFormatView';\nimport { ContentModelEntity } from 'roosterjs-content-model-types';\nimport { ContentModelView } from '../ContentModelView';\nimport { SegmentFormatView } from '../format/SegmentFormatView';\nimport { useProperty } from '../../hooks/useProperty';\n\nconst styles = require('./ContentModelEntityView.scss');\n\nexport function ContentModelEntityView(props: { entity: ContentModelEntity }) {\n    const { entity } = props;\n\n    const [id, setId] = useProperty(entity.entityFormat.id);\n    const [isReadonly, setIsReadonly] = useProperty(entity.entityFormat.isReadonly);\n    const [type, setType] = useProperty(entity.entityFormat.entityType);\n\n    const idTextBox = React.useRef<HTMLInputElement>(null);\n    const isReadonlyCheckBox = React.useRef<HTMLInputElement>(null);\n    const typeTextBox = React.useRef<HTMLInputElement>(null);\n\n    const onIdChange = React.useCallback(() => {\n        const newValue = idTextBox.current.value;\n        entity.entityFormat.id = newValue;\n        setId(newValue);\n    }, [id, setId]);\n    const onTypeChange = React.useCallback(() => {\n        const newValue = typeTextBox.current.value;\n        entity.entityFormat.entityType = newValue;\n        setType(newValue);\n    }, [type, setType]);\n    const onReadonlyChange = React.useCallback(() => {\n        const newValue = isReadonlyCheckBox.current.checked;\n        entity.entityFormat.isReadonly = newValue;\n        setIsReadonly(newValue);\n    }, [id, setId]);\n\n    const getContent = React.useCallback(() => {\n        return (\n            <>\n                <div>\n                    Id: <input type=\"text\" value={id} ref={idTextBox} onChange={onIdChange} />\n                </div>\n                <div>\n                    Type:\n                    <input type=\"text\" value={type} ref={typeTextBox} onChange={onTypeChange} />\n                </div>\n                <div>\n                    IsReadonly:\n                    <input\n                        type=\"checkbox\"\n                        checked={isReadonly}\n                        ref={isReadonlyCheckBox}\n                        onChange={onReadonlyChange}\n                    />\n                </div>\n            </>\n        );\n    }, [type, isReadonly, id]);\n\n    const getFormat = React.useCallback(() => {\n        return (\n            <>\n                <SegmentFormatView format={entity.format} />\n                <BlockFormatView format={entity.format} />\n            </>\n        );\n    }, [entity.format]);\n\n    return (\n        <ContentModelView\n            title=\"Entity\"\n            subTitle={id}\n            className={styles.modelEntity}\n            isSelected={entity.isSelected}\n            jsonSource={entity}\n            getContent={getContent}\n            getFormat={getFormat}\n        />\n    );\n}\n","import * as React from 'react';\nimport { BlockFormatView } from '../format/BlockFormatView';\nimport { BlockGroupContentView } from './BlockGroupContentView';\nimport { ContentModelView } from '../ContentModelView';\nimport { DisplayFormatRenderer } from '../format/formatPart/DisplayFormatRenderer';\nimport { FormatRenderer } from '../format/utils/FormatRenderer';\nimport { FormatView } from '../format/FormatView';\nimport { hasSelectionInBlock } from 'roosterjs-content-model-core';\nimport { SegmentFormatView } from '../format/SegmentFormatView';\nimport { SizeFormatRenderers } from '../format/formatPart/SizeFormatRenderers';\nimport {\n    ContentModelFormatContainer,\n    ContentModelFormatContainerFormat,\n} from 'roosterjs-content-model-types';\n\nconst styles = require('./ContentModelFormatContainerView.scss');\n\nconst FormatContainerFormatRenderers: FormatRenderer<ContentModelFormatContainerFormat>[] = [\n    ...SizeFormatRenderers,\n    DisplayFormatRenderer,\n];\n\nexport function ContentModelFormatContainerView(props: { container: ContentModelFormatContainer }) {\n    const { container } = props;\n    const getContent = React.useCallback(() => {\n        return <BlockGroupContentView group={container} />;\n    }, [container]);\n\n    const getFormat = React.useCallback(() => {\n        return (\n            <>\n                <BlockFormatView format={container.format} />\n                <SegmentFormatView format={container.format} />\n                <FormatView format={container.format} renderers={FormatContainerFormatRenderers} />\n            </>\n        );\n    }, [container]);\n\n    return (\n        <ContentModelView\n            title=\"FormatContainer\"\n            subTitle={container.tagName}\n            className={styles.modelFormatContainer}\n            hasSelection={hasSelectionInBlock(container)}\n            jsonSource={container}\n            getContent={getContent}\n            getFormat={getFormat}\n        />\n    );\n}\n","import * as React from 'react';\nimport { BlockGroupContentView } from './BlockGroupContentView';\nimport { ContentModelCodeView } from './ContentModelCodeView';\nimport { ContentModelLinkView } from './ContentModelLinkView';\nimport { ContentModelView } from '../ContentModelView';\nimport { hasSelectionInBlock } from 'roosterjs-content-model-core';\nimport { SegmentFormatView } from '../format/SegmentFormatView';\nimport {\n    ContentModelGeneralBlock,\n    ContentModelGeneralSegment,\n} from 'roosterjs-content-model-types';\n\nconst styles = require('./ContentModelGeneralView.scss');\n\nexport function ContentModelGeneralView(props: { model: ContentModelGeneralBlock }) {\n    const { model } = props;\n    const segment = isGeneralSegment(model) ? model : undefined;\n    const link = segment?.link;\n    const code = segment?.code;\n    const getContent = React.useCallback(() => {\n        return (\n            <>\n                {link ? <ContentModelLinkView link={link} /> : null}\n                {code ? <ContentModelCodeView code={code} /> : null}\n                <BlockGroupContentView group={model} />\n            </>\n        );\n    }, [model, link]);\n\n    const getFormat = React.useCallback(() => {\n        return <SegmentFormatView format={model.format} />;\n    }, [segment?.format]);\n\n    return (\n        <ContentModelView\n            title=\"General\"\n            subTitle={model.element?.tagName || 'NULL'}\n            className={styles.modelGeneral}\n            hasSelection={hasSelectionInBlock(model)}\n            isSelected={isGeneralSegment(model) ? model.isSelected : false}\n            jsonSource={model}\n            getContent={getContent}\n            getFormat={segment ? getFormat : undefined}\n        />\n    );\n}\n\nfunction isGeneralSegment(block: ContentModelGeneralBlock): block is ContentModelGeneralSegment {\n    return (block as ContentModelGeneralSegment).segmentType == 'General';\n}\n","import * as React from 'react';\nimport { ContentModelCodeView } from './ContentModelCodeView';\nimport { ContentModelImage, ContentModelImageFormat } from 'roosterjs-content-model-types';\nimport { ContentModelLinkView } from './ContentModelLinkView';\nimport { ContentModelView } from '../ContentModelView';\nimport { FloatFormatRenderer } from '../format/formatPart/FloatFormatRenderer';\nimport { FormatRenderer } from '../format/utils/FormatRenderer';\nimport { FormatView } from '../format/FormatView';\nimport { IdFormatRenderer } from '../format/formatPart/IdFormatRenderer';\nimport { ImageMetadataFormatRenderers } from '../format/formatPart/ImageMetadataFormatRenderers';\nimport { MarginFormatRenderer } from '../format/formatPart/MarginFormatRenderer';\nimport { MetadataView } from '../format/MetadataView';\nimport { PaddingFormatRenderer } from '../format/formatPart/PaddingFormatRenderer';\nimport { SegmentFormatView } from '../format/SegmentFormatView';\nimport { SizeFormatRenderers } from '../format/formatPart/SizeFormatRenderers';\nimport { updateImageMetadata } from 'roosterjs-content-model-core';\nimport { useProperty } from '../../hooks/useProperty';\n\nconst styles = require('./ContentModelImageView.scss');\n\nconst ImageFormatRenderers: FormatRenderer<ContentModelImageFormat>[] = [\n    IdFormatRenderer,\n    ...SizeFormatRenderers,\n    MarginFormatRenderer,\n    PaddingFormatRenderer,\n    FloatFormatRenderer,\n];\n\nexport function ContentModelImageView(props: { image: ContentModelImage }) {\n    const { image } = props;\n    const srcTextArea = React.useRef<HTMLTextAreaElement>(null);\n    const imageSelectionCheckBox = React.useRef<HTMLInputElement>(null);\n\n    const [src, setSrc] = useProperty(image.src);\n    const [imageSelected, setImageSelected] = useProperty(\n        image.isSelectedAsImageSelection || false\n    );\n\n    const getFormat = React.useCallback(() => {\n        return (\n            <>\n                <SegmentFormatView format={image.format} />\n                <FormatView format={image.format} renderers={ImageFormatRenderers} />\n            </>\n        );\n    }, [image.format]);\n\n    const getContent = React.useCallback(() => {\n        return (\n            <>\n                <img src={src} className={styles.image} />\n                <textarea value={src} ref={srcTextArea} onChange={onSrcChange} />\n                <div>\n                    <input\n                        type=\"checkbox\"\n                        checked={imageSelected}\n                        ref={imageSelectionCheckBox}\n                        onChange={onImageSelectionChange}\n                    />\n                    Image selection\n                </div>\n                {image.link ? <ContentModelLinkView link={image.link} /> : null}{' '}\n                {image.code ? <ContentModelCodeView code={image.code} /> : null}\n            </>\n        );\n    }, [src, imageSelected, image.link]);\n\n    const getMetadata = React.useCallback(() => {\n        return (\n            <MetadataView\n                model={image}\n                renderers={ImageMetadataFormatRenderers}\n                updater={updateImageMetadata}\n            />\n        );\n    }, [image]);\n\n    const onSrcChange = React.useCallback(() => {\n        const newValue = srcTextArea.current.value;\n        image.src = newValue;\n        setSrc(newValue);\n    }, [src, setSrc]);\n\n    const onImageSelectionChange = React.useCallback(() => {\n        const newValue = imageSelectionCheckBox.current.checked;\n        image.isSelectedAsImageSelection = newValue;\n        setImageSelected(newValue);\n    }, [imageSelected, setImageSelected]);\n\n    return (\n        <ContentModelView\n            title=\"Image\"\n            subTitle={imageSelected ? '[ImageSelection]' : ''}\n            className={styles.modelImage}\n            isSelected={image.isSelected}\n            jsonSource={image}\n            getFormat={getFormat}\n            getContent={getContent}\n            getMetadata={getMetadata}\n        />\n    );\n}\n","import * as React from 'react';\nimport { safeInstanceOf } from 'roosterjs-editor-dom';\n\nconst styles = require('./ContentModelJson.scss');\n\nexport function ContentModelJson(props: { jsonSource: Object }) {\n    const { jsonSource } = props;\n    const json = JSON.stringify(\n        jsonSource,\n        (key, value) => {\n            if (safeInstanceOf(value, 'HTMLElement')) {\n                return (\n                    Object.prototype.toString.apply(value) +\n                    ': ' +\n                    (value.cloneNode() as HTMLElement).outerHTML\n                );\n            } else if (safeInstanceOf(value, 'Node')) {\n                return Object.prototype.toString.apply(value);\n            } else if (key == 'src' && typeof value == 'string') {\n                return value.length > 100 ? value.substring(0, 97) + '...' : value;\n            } else {\n                return value;\n            }\n        },\n        2\n    );\n\n    return <pre className={styles.json}>{json}</pre>;\n}\n","import * as React from 'react';\nimport { ContentModelLink } from 'roosterjs-content-model-types';\nimport { ContentModelView } from '../ContentModelView';\nimport { LinkFormatView } from '../format/LinkFormatView';\n\nconst styles = require('./ContentModelLinkView.scss');\n\nexport function ContentModelLinkView(props: { link: ContentModelLink }) {\n    const { link } = props;\n\n    const getFormat = React.useCallback(() => {\n        return <LinkFormatView format={link.format} />;\n    }, [link.format]);\n\n    return (\n        <ContentModelView\n            title=\"Link\"\n            subTitle={link.format.href}\n            className={styles.modelLink}\n            jsonSource={link}\n            getFormat={getFormat}\n        />\n    );\n}\n","import * as React from 'react';\nimport { ContentModelBlockView } from './ContentModelBlockView';\nimport { ContentModelListLevelView } from './ContentModelListLevelView';\nimport { ContentModelView } from '../ContentModelView';\nimport { DirectionFormatRenderer } from '../format/formatPart/DirectionFormatRenderer';\nimport { FontFamilyFormatRenderer } from '../format/formatPart/FontFamilyFormatRenderer';\nimport { FontSizeFormatRenderer } from '../format/formatPart/FontSizeFormatRenderer';\nimport { FormatRenderer } from '../format/utils/FormatRenderer';\nimport { FormatView } from '../format/FormatView';\nimport { hasSelectionInBlockGroup } from 'roosterjs-content-model-core';\nimport { LineHeightFormatRenderer } from '../format/formatPart/LineHeightFormatRenderer';\nimport { MarginFormatRenderer } from '../format/formatPart/MarginFormatRenderer';\nimport { TextAlignFormatRenderer } from '../format/formatPart/TextAlignFormatRenderer';\nimport { TextColorFormatRenderer } from '../format/formatPart/TextColorFormatRenderer';\nimport {\n    ContentModelListItem,\n    ContentModelListItemFormat,\n    ContentModelSegmentFormat,\n} from 'roosterjs-content-model-types';\n\nconst styles = require('./ContentModelListItemView.scss');\n\nconst ListItemFormatRenderers: FormatRenderer<ContentModelListItemFormat>[] = [\n    DirectionFormatRenderer,\n    TextAlignFormatRenderer,\n    LineHeightFormatRenderer,\n    MarginFormatRenderer,\n];\nconst ListItemFormatHolderRenderers: FormatRenderer<ContentModelSegmentFormat>[] = [\n    TextColorFormatRenderer,\n    FontSizeFormatRenderer,\n    FontFamilyFormatRenderer,\n];\n\nexport function ContentModelListItemView(props: { listItem: ContentModelListItem }) {\n    const { listItem } = props;\n    const getContent = React.useCallback(() => {\n        return (\n            <>\n                <div>List Levels</div>\n                {listItem.levels.map((level, index) => (\n                    <ContentModelListLevelView level={level} key={index} />\n                ))}\n\n                <div>List Contents</div>\n                {listItem.blocks.map((block, index) => (\n                    <ContentModelBlockView block={block} key={index} />\n                ))}\n            </>\n        );\n    }, [listItem]);\n\n    const getFormat = React.useCallback(() => {\n        return (\n            <>\n                <div>List item format:</div>\n                <FormatView format={listItem.format} renderers={ListItemFormatRenderers} />\n                <br />\n                <div>List marker format:</div>\n                <FormatView\n                    format={listItem.formatHolder.format}\n                    renderers={ListItemFormatHolderRenderers}\n                />\n            </>\n        );\n    }, [listItem.levels]);\n\n    return (\n        <ContentModelView\n            title=\"ListItem\"\n            isExpanded={false}\n            className={styles.modelListItem}\n            hasSelection={hasSelectionInBlockGroup(listItem)}\n            jsonSource={listItem}\n            getContent={getContent}\n            getFormat={getFormat}\n        />\n    );\n}\n","import * as React from 'react';\nimport { ContentModelView } from '../ContentModelView';\nimport { DirectionFormatRenderer } from '../format/formatPart/DirectionFormatRenderer';\nimport { FormatRenderer } from '../format/utils/FormatRenderer';\nimport { FormatView } from '../format/FormatView';\nimport { ListMetadataFormatRenderers } from '../format/formatPart/ListMetadataFormatRenderers';\nimport { ListStylePositionFormatRenderers } from '../format/formatPart/ListStylePositionFormatRenderers';\nimport { ListThreadFormatRenderers } from '../format/formatPart/ListThreadFormatRenderer';\nimport { MarginFormatRenderer } from '../format/formatPart/MarginFormatRenderer';\nimport { MetadataView } from '../format/MetadataView';\nimport { PaddingFormatRenderer } from '../format/formatPart/PaddingFormatRenderer';\nimport { TextAlignFormatRenderer } from '../format/formatPart/TextAlignFormatRenderer';\nimport { updateListMetadata } from 'roosterjs-content-model-core';\nimport { useProperty } from '../../hooks/useProperty';\nimport {\n    ContentModelListItemLevelFormat,\n    ContentModelListLevel,\n} from 'roosterjs-content-model-types';\n\nconst styles = require('./ContentModelListLevelView.scss');\n\nconst ListLevelFormatRenders: FormatRenderer<ContentModelListItemLevelFormat>[] = [\n    ...ListThreadFormatRenderers,\n    DirectionFormatRenderer,\n    TextAlignFormatRenderer,\n    MarginFormatRenderer,\n    PaddingFormatRenderer,\n    ...ListStylePositionFormatRenderers,\n];\n\nexport function ContentModelListLevelView(props: { level: ContentModelListLevel }) {\n    const { level } = props;\n    const [listType, setListType] = useProperty(level.listType);\n    const listTypeInput = React.useRef<HTMLSelectElement>(null);\n    const onListTypeChanged = React.useCallback(() => {\n        const newValue = listTypeInput.current.value as 'OL' | 'UL';\n\n        level.listType = newValue;\n        setListType(newValue);\n    }, [setListType, level]);\n\n    const getContent = React.useCallback(() => {\n        return (\n            <div>\n                ListType:{' '}\n                <select value={listType} onChange={onListTypeChanged} ref={listTypeInput}>\n                    <option value=\"OL\">OL</option>\n                    <option value=\"UL\">UL</option>\n                </select>\n            </div>\n        );\n    }, [level, listType]);\n\n    const getFormat = React.useCallback(() => {\n        return <FormatView format={level.format} renderers={ListLevelFormatRenders} />;\n    }, [level, listType]);\n\n    const getMetadata = React.useCallback(() => {\n        return (\n            <MetadataView\n                model={level}\n                renderers={ListMetadataFormatRenderers}\n                updater={updateListMetadata}\n            />\n        );\n    }, [level]);\n\n    return (\n        <ContentModelView\n            title=\"ListLevel\"\n            subTitle={listType}\n            isExpanded={false}\n            className={styles.modelListLevel}\n            jsonSource={level}\n            getContent={getContent}\n            getFormat={getFormat}\n            getMetadata={getMetadata}\n        />\n    );\n}\n","import * as React from 'react';\nimport { BlockFormatView } from '../format/BlockFormatView';\nimport { ContentModelSegmentView } from './ContentModelSegmentView';\nimport { ContentModelView } from '../ContentModelView';\nimport { hasSelectionInBlock } from 'roosterjs-content-model-core';\nimport { SegmentFormatView } from '../format/SegmentFormatView';\nimport { useProperty } from '../../hooks/useProperty';\nimport {\n    ContentModelParagraph,\n    ContentModelParagraphDecorator,\n} from 'roosterjs-content-model-types';\n\nconst styles = require('./ContentModelParagraphView.scss');\n\nexport function ContentModelParagraphView(props: { paragraph: ContentModelParagraph }) {\n    const { paragraph } = props;\n    const implicitCheckbox = React.useRef<HTMLInputElement>(null);\n    const [isImplicit, setIsImplicit] = useProperty(!!paragraph.isImplicit);\n\n    const onIsImplicitChange = React.useCallback(() => {\n        const newValue = implicitCheckbox.current.checked;\n        paragraph.isImplicit = newValue;\n        setIsImplicit(newValue);\n    }, [paragraph, setIsImplicit]);\n\n    const getContent = React.useCallback(() => {\n        return (\n            <>\n                <div>\n                    <input\n                        type=\"checkbox\"\n                        checked={isImplicit}\n                        ref={implicitCheckbox}\n                        onChange={onIsImplicitChange}\n                    />\n                    Implicit\n                </div>\n                {paragraph.decorator && (\n                    <ContentModelParagraphDecoratorView decorator={paragraph.decorator} />\n                )}\n                {paragraph.segments.map((segment, index) => (\n                    <ContentModelSegmentView segment={segment} key={index} />\n                ))}\n            </>\n        );\n    }, [paragraph, isImplicit]);\n\n    const getFormat = React.useCallback(() => {\n        return (\n            <>\n                <BlockFormatView format={paragraph.format} />\n                {paragraph.segmentFormat && <SegmentFormatView format={paragraph.segmentFormat} />}\n            </>\n        );\n    }, [paragraph.format]);\n\n    return (\n        <ContentModelView\n            title=\"Paragraph\"\n            subTitle={paragraph.isImplicit ? ' (Implicit)' : ''}\n            isExpanded={true}\n            className={styles.modelParagraph}\n            hasSelection={hasSelectionInBlock(paragraph)}\n            jsonSource={paragraph}\n            getContent={getContent}\n            getFormat={getFormat}\n        />\n    );\n}\n\nfunction ContentModelParagraphDecoratorView(props: { decorator: ContentModelParagraphDecorator }) {\n    const { decorator } = props;\n    const tagNameDropDown = React.useRef<HTMLSelectElement>(null);\n    const [tagName, setTagName] = useProperty(decorator.tagName || '');\n\n    const onTagNameChange = React.useCallback(() => {\n        const newValue = tagNameDropDown.current.value;\n\n        decorator.tagName = newValue;\n        setTagName(newValue);\n    }, [decorator, setTagName]);\n\n    const getContent = React.useCallback(() => {\n        return (\n            <div>\n                Tag name:\n                <select value={tagName} ref={tagNameDropDown} onChange={onTagNameChange}>\n                    <option value=\"p\">P</option>\n                    <option value=\"h1\">H1</option>\n                    <option value=\"h2\">H2</option>\n                    <option value=\"h3\">H3</option>\n                    <option value=\"h4\">H4</option>\n                    <option value=\"h5\">H5</option>\n                    <option value=\"h6\">H6</option>\n                </select>\n            </div>\n        );\n    }, [decorator, tagName]);\n\n    const getFormat = React.useCallback(() => {\n        return <SegmentFormatView format={decorator.format} />;\n    }, [decorator.format]);\n\n    return (\n        <ContentModelView\n            title=\"Decorator\"\n            subTitle={decorator.tagName}\n            className={styles.modelDecorator}\n            jsonSource={decorator}\n            getContent={getContent}\n            getFormat={getFormat}\n        />\n    );\n}\n","import * as React from 'react';\nimport { ContentModelBrView } from './ContentModelBrView';\nimport { ContentModelEntityView } from './ContentModelEntityView';\nimport { ContentModelGeneralView } from './ContentModelGeneralView';\nimport { ContentModelImageView } from './ContentModelImageView';\nimport { ContentModelSegment } from 'roosterjs-content-model-types';\nimport { ContentModelSelectionMarkerView } from './ContentModelSelectionMarkerView';\nimport { ContentModelTextView } from './ContentModelTextView';\n\nexport function ContentModelSegmentView(props: { segment: ContentModelSegment }) {\n    const { segment } = props;\n\n    switch (segment.segmentType) {\n        case 'Br':\n            return <ContentModelBrView br={segment} />;\n\n        case 'General':\n            return <ContentModelGeneralView model={segment} />;\n\n        case 'SelectionMarker':\n            return <ContentModelSelectionMarkerView marker={segment} />;\n\n        case 'Text':\n            return <ContentModelTextView text={segment} />;\n\n        case 'Entity':\n            return <ContentModelEntityView entity={segment} />;\n\n        case 'Image':\n            return <ContentModelImageView image={segment} />;\n    }\n}\n","import * as React from 'react';\nimport { ContentModelCodeView } from './ContentModelCodeView';\nimport { ContentModelLinkView } from './ContentModelLinkView';\nimport { ContentModelSelectionMarker } from 'roosterjs-content-model-types';\nimport { ContentModelView } from '../ContentModelView';\nimport { SegmentFormatView } from '../format/SegmentFormatView';\n\nconst styles = require('./ContentModelSelectionMarkerView.scss');\n\nexport function ContentModelSelectionMarkerView(props: { marker: ContentModelSelectionMarker }) {\n    const { marker } = props;\n\n    const getContent = React.useCallback(() => {\n        return (\n            <>\n                {marker.link ? <ContentModelLinkView link={marker.link} /> : null}\n                {marker.code ? <ContentModelCodeView code={marker.code} /> : null}\n            </>\n        );\n    }, [marker.link]);\n\n    const getFormat = React.useCallback(() => {\n        return <SegmentFormatView format={marker.format} />;\n    }, [marker.format]);\n\n    return (\n        <ContentModelView\n            title=\"SelectionMarker\"\n            className={styles.modelSelectionMarker}\n            isSelected={true}\n            jsonSource={marker}\n            getContent={getContent}\n            getFormat={getFormat}\n        />\n    );\n}\n","import * as React from 'react';\nimport { BackgroundColorFormatRenderer } from '../format/formatPart/BackgroundColorFormatRenderer';\nimport { BlockGroupContentView } from './BlockGroupContentView';\nimport { BorderBoxFormatRenderer } from '../format/formatPart/BorderBoxFormatRenderer';\nimport { BorderFormatRenderers } from '../format/formatPart/BorderFormatRenderers';\nimport { ContentModelTableCell, ContentModelTableCellFormat } from 'roosterjs-content-model-types';\nimport { ContentModelView } from '../ContentModelView';\nimport { DirectionFormatRenderer } from '../format/formatPart/DirectionFormatRenderer';\nimport { FormatRenderer } from '../format/utils/FormatRenderer';\nimport { FormatView } from '../format/FormatView';\nimport { hasSelectionInBlockGroup, updateTableCellMetadata } from 'roosterjs-content-model-core';\nimport { HtmlAlignFormatRenderer } from '../format/formatPart/HtmlAlignFormatRenderer';\nimport { MetadataView } from '../format/MetadataView';\nimport { PaddingFormatRenderer } from '../format/formatPart/PaddingFormatRenderer';\nimport { SizeFormatRenderers } from '../format/formatPart/SizeFormatRenderers';\nimport { TableCellMetadataFormatRenders } from '../format/formatPart/TableCellMetadataFormatRenders';\nimport { TextAlignFormatRenderer } from '../format/formatPart/TextAlignFormatRenderer';\nimport { TextColorFormatRenderer } from '../format/formatPart/TextColorFormatRenderer';\nimport { useProperty } from '../../hooks/useProperty';\nimport { VerticalAlignFormatRenderer } from '../format/formatPart/VerticalAlignFormatRenderer';\nimport { WordBreakFormatRenderer } from '../format/formatPart/WordBreakFormatRenderer';\n\nconst styles = require('./ContentModelTableCellView.scss');\n\nconst TableCellFormatRenderers: FormatRenderer<ContentModelTableCellFormat>[] = [\n    ...BorderFormatRenderers,\n    DirectionFormatRenderer,\n    TextAlignFormatRenderer,\n    HtmlAlignFormatRenderer,\n    BorderBoxFormatRenderer,\n    BackgroundColorFormatRenderer,\n    PaddingFormatRenderer,\n    VerticalAlignFormatRenderer,\n    WordBreakFormatRenderer,\n    TextColorFormatRenderer,\n    ...SizeFormatRenderers,\n];\n\nexport function ContentModelTableCellView(props: { cell: ContentModelTableCell }) {\n    const { cell } = props;\n    const checkboxHeader = React.useRef<HTMLInputElement>(null);\n    const checkboxSpanLeft = React.useRef<HTMLInputElement>(null);\n    const checkboxSpanAbove = React.useRef<HTMLInputElement>(null);\n    const [isHeader, setIsHeader] = useProperty(cell.isHeader);\n    const [spanLeft, setSpanLeft] = useProperty(cell.spanLeft);\n    const [spanAbove, setSpanAbove] = useProperty(cell.spanAbove);\n\n    const onHeaderChanged = React.useCallback(() => {\n        const value = checkboxHeader.current.checked;\n        cell.isHeader = value;\n        setIsHeader(value);\n    }, [cell, setIsHeader]);\n\n    const onSpanLeftChanged = React.useCallback(() => {\n        const value = checkboxSpanLeft.current.checked;\n        cell.spanLeft = value;\n        setSpanLeft(value);\n    }, [cell, setSpanLeft]);\n\n    const onSpanAboveChanged = React.useCallback(() => {\n        const value = checkboxSpanAbove.current.checked;\n        cell.spanAbove = value;\n        setSpanAbove(value);\n    }, [cell, setSpanAbove]);\n\n    const getContent = React.useCallback(() => {\n        return (\n            <>\n                <div>\n                    <input\n                        type=\"checkbox\"\n                        checked={isHeader}\n                        ref={checkboxHeader}\n                        onChange={onHeaderChanged}\n                    />\n                    Header\n                </div>\n                <div>\n                    <input\n                        type=\"checkbox\"\n                        checked={spanLeft}\n                        ref={checkboxSpanLeft}\n                        onChange={onSpanLeftChanged}\n                    />\n                    Span Left\n                </div>\n                <div>\n                    <input\n                        type=\"checkbox\"\n                        checked={spanAbove}\n                        ref={checkboxSpanAbove}\n                        onChange={onSpanAboveChanged}\n                    />\n                    Span Above\n                </div>\n                <BlockGroupContentView group={cell} />\n            </>\n        );\n    }, [cell, isHeader, spanAbove, spanLeft]);\n\n    const getMetadata = React.useCallback(() => {\n        return (\n            <MetadataView\n                model={cell}\n                renderers={TableCellMetadataFormatRenders}\n                updater={updateTableCellMetadata}\n            />\n        );\n    }, [cell]);\n\n    const getFormat = React.useCallback(() => {\n        return <FormatView format={cell.format} renderers={TableCellFormatRenderers} />;\n    }, [cell.format]);\n\n    const subTitle =\n        cell.spanAbove && cell.spanLeft ? '' : cell.spanLeft ? '' : cell.spanAbove ? '' : '';\n\n    return (\n        <ContentModelView\n            title={isHeader ? 'TableCellHeader' : 'TableCell'}\n            subTitle={subTitle}\n            className={styles.modelTableCell}\n            hasSelection={hasSelectionInBlockGroup(cell)}\n            isSelected={cell.isSelected}\n            jsonSource={cell}\n            getContent={getContent}\n            getFormat={getFormat}\n            getMetadata={getMetadata}\n        />\n    );\n}\n","import * as React from 'react';\nimport { BackgroundColorFormatRenderer } from '../format/formatPart/BackgroundColorFormatRenderer';\nimport { ContentModelBlockFormat, ContentModelTableRow } from 'roosterjs-content-model-types';\nimport { ContentModelBlockGroupView } from './ContentModelBlockGroupView';\nimport { ContentModelView } from '../ContentModelView';\nimport { FormatRenderer } from '../format/utils/FormatRenderer';\nimport { FormatView } from '../format/FormatView';\nimport { hasSelectionInBlockGroup } from 'roosterjs-content-model-core';\nimport { useProperty } from '../../hooks/useProperty';\n\nconst styles = require('./ContentModelTableRowView.scss');\n\nconst TableRowFormatRenderers: FormatRenderer<ContentModelBlockFormat>[] = [\n    BackgroundColorFormatRenderer,\n];\n\nexport function ContentModelTableRowView(props: { row: ContentModelTableRow }) {\n    const { row } = props;\n    const [height, setHeight] = useProperty(row.height);\n    const textBoxRef = React.useRef<HTMLInputElement>(null);\n    const onChange = React.useCallback(() => {\n        const newValue = parseInt(textBoxRef.current.value);\n        row.height = newValue;\n        setHeight(newValue);\n    }, [row]);\n\n    const getContent = React.useCallback(() => {\n        return (\n            <>\n                <div>\n                    Height:\n                    <input\n                        type=\"number\"\n                        value={height}\n                        onChange={onChange}\n                        ref={textBoxRef}\n                        className={styles.sizeInput}\n                    />\n                </div>\n                {row.cells.map((cell, j) => (\n                    <ContentModelBlockGroupView group={cell} key={j} />\n                ))}\n            </>\n        );\n    }, [row]);\n\n    const getFormat = React.useCallback(() => {\n        return <FormatView format={row.format} renderers={TableRowFormatRenderers} />;\n    }, [row.format]);\n\n    return (\n        <ContentModelView\n            title=\"Table Row\"\n            isExpanded={false}\n            className={styles.modelTableRow}\n            hasSelection={row.cells.some(cell => hasSelectionInBlockGroup(cell))}\n            jsonSource={row}\n            getContent={getContent}\n            getFormat={getFormat}\n        />\n    );\n}\n","import * as React from 'react';\nimport { BackgroundColorFormatRenderer } from '../format/formatPart/BackgroundColorFormatRenderer';\nimport { BorderBoxFormatRenderer } from '../format/formatPart/BorderBoxFormatRenderer';\nimport { BorderFormatRenderers } from '../format/formatPart/BorderFormatRenderers';\nimport { ContentModelTable, ContentModelTableFormat } from 'roosterjs-content-model-types';\nimport { ContentModelTableRowView } from './ContentModelTableRowView';\nimport { ContentModelView } from '../ContentModelView';\nimport { DisplayFormatRenderer } from '../format/formatPart/DisplayFormatRenderer';\nimport { FormatRenderer } from '../format/utils/FormatRenderer';\nimport { FormatView } from '../format/FormatView';\nimport { hasSelectionInBlock } from 'roosterjs-content-model-core';\nimport { IdFormatRenderer } from '../format/formatPart/IdFormatRenderer';\nimport { MarginFormatRenderer } from '../format/formatPart/MarginFormatRenderer';\nimport { MetadataView } from '../format/MetadataView';\nimport { SpacingFormatRenderer } from '../format/formatPart/SpacingFormatRenderer';\nimport { TableLayoutFormatRenderer } from '../format/formatPart/TableLayoutFormatRenderer';\nimport { TableMetadataFormatRenders } from '../format/formatPart/TableMetadataFormatRenders';\nimport { updateTableMetadata } from 'roosterjs-content-model-core';\nimport { useProperty } from '../../hooks/useProperty';\n\nconst styles = require('./ContentModelTableView.scss');\n\nconst TableFormatRenderers: FormatRenderer<ContentModelTableFormat>[] = [\n    IdFormatRenderer,\n    SpacingFormatRenderer,\n    BackgroundColorFormatRenderer,\n    MarginFormatRenderer,\n    ...BorderFormatRenderers,\n    BorderBoxFormatRenderer,\n    DisplayFormatRenderer,\n    TableLayoutFormatRenderer,\n];\n\nexport function ContentModelTableView(props: { table: ContentModelTable }) {\n    const { table } = props;\n    const getContent = React.useCallback(() => {\n        return (\n            <>\n                <div>\n                    Widths:\n                    {table.widths.map((_, index) => (\n                        <NumberView values={table.widths} index={index} key={index} />\n                    ))}\n                </div>\n                {table.rows.map((row, i) => (\n                    <ContentModelTableRowView row={row} key={i} />\n                ))}\n            </>\n        );\n    }, [table]);\n\n    const getFormat = React.useCallback(() => {\n        return <FormatView format={table.format} renderers={TableFormatRenderers} />;\n    }, [table.format]);\n\n    const getMetadata = React.useCallback(() => {\n        return (\n            <MetadataView\n                model={table}\n                renderers={TableMetadataFormatRenders}\n                updater={updateTableMetadata}\n            />\n        );\n    }, [table]);\n\n    return (\n        <ContentModelView\n            title=\"Table\"\n            subTitle={`${table.rows.length} x ${table.rows[0]?.cells.length || 0}`}\n            isExpanded={true}\n            className={styles.modelTable}\n            hasSelection={hasSelectionInBlock(table)}\n            jsonSource={table}\n            getContent={getContent}\n            getFormat={getFormat}\n            getMetadata={getMetadata}\n        />\n    );\n}\n\nfunction NumberView(props: { values: number[]; index: number }) {\n    const { values, index } = props;\n    const textBoxRef = React.useRef<HTMLInputElement>(null);\n    const [value, setValue] = useProperty(values[index]);\n    const onChange = React.useCallback(() => {\n        const newValue = parseInt(textBoxRef.current.value);\n        values[index] = newValue;\n        setValue(newValue);\n    }, [values, index]);\n\n    return (\n        <input\n            type=\"number\"\n            value={value}\n            onChange={onChange}\n            ref={textBoxRef}\n            className={styles.sizeInput}\n        />\n    );\n}\n","import * as React from 'react';\nimport { ContentModelCodeView } from './ContentModelCodeView';\nimport { ContentModelLinkView } from './ContentModelLinkView';\nimport { ContentModelText } from 'roosterjs-content-model-types';\nimport { ContentModelView } from '../ContentModelView';\nimport { SegmentFormatView } from '../format/SegmentFormatView';\nimport { useProperty } from '../../hooks/useProperty';\n\nconst styles = require('./ContentModelTextView.scss');\n\nexport function ContentModelTextView(props: { text: ContentModelText }) {\n    const { text } = props;\n    const [value, setValue] = useProperty(text.text);\n\n    const textArea = React.useRef<HTMLTextAreaElement>(null);\n    const onChange = React.useCallback(() => {\n        const newValue = textArea.current.value;\n        text.text = newValue;\n        setValue(newValue);\n    }, [text, setValue]);\n\n    const getContent = React.useCallback(() => {\n        return (\n            <>\n                <textarea ref={textArea} onChange={onChange} value={value} />\n                {text.link ? <ContentModelLinkView link={text.link} /> : null}\n                {text.code ? <ContentModelCodeView code={text.code} /> : null}\n            </>\n        );\n    }, [text, value, text.link]);\n\n    const getFormat = React.useCallback(() => {\n        return <SegmentFormatView format={text.format} />;\n    }, [text.format]);\n\n    return (\n        <ContentModelView\n            title=\"Text\"\n            subTitle={value}\n            className={styles.modelText}\n            isSelected={text.isSelected}\n            jsonSource={text}\n            getContent={getContent}\n            getFormat={getFormat}\n        />\n    );\n}\n","import { ContentModelDocument } from 'roosterjs-content-model-types';\n\nlet currentModel: ContentModelDocument | null = null;\n\nexport function getCurrentContentModel(): ContentModelDocument | null {\n    return currentModel;\n}\n\nexport function setCurrentContentModel(model: ContentModelDocument | null) {\n    currentModel = model;\n}\n","import * as React from 'react';\n\nexport function useProperty<V>(currentValue: V): [V, (value: V) => void] {\n    const [value, setValue] = React.useState(currentValue);\n\n    React.useEffect(() => {\n        setValue(currentValue);\n    }, [currentValue]);\n\n    return [value, setValue];\n}\n","import * as React from 'react';\n\nexport interface CodeProps {\n    code: string;\n}\n\nexport class Code extends React.Component<CodeProps, {}> {\n    render() {\n        return (\n            <div>\n                <pre>{this.props.code}</pre>\n            </div>\n        );\n    }\n}\n","import * as React from 'react';\nimport { ContentEditFeatureSettings } from 'roosterjs-editor-types';\nimport { getAllFeatures } from 'roosterjs-editor-plugins/lib/ContentEdit';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\nimport { OptionState } from './OptionState';\n\ntype ContentEditItemId = keyof ContentEditFeatureSettings;\n\nconst styles = require('./OptionsPane.scss');\nconst EditFeatureDescriptionMap: Record<keyof ContentEditFeatureSettings, string> = {\n    autoBullet: 'Auto Bullet / Numbering',\n    indentWhenTab: 'Indent list when Tab',\n    outdentWhenShiftTab: 'Outdent list when Shift + Tab',\n    outdentWhenBackspaceOnEmptyFirstLine: 'Outdent list when Backspace on empty first Line',\n    outdentWhenEnterOnEmptyLine: 'Outdent list when Enter on empty line',\n    mergeInNewLineWhenBackspaceOnFirstChar:\n        'Merge in new line when Backspace on first char in list',\n    maintainListChain: 'Maintain the continued list numbers',\n    unquoteWhenBackspaceOnEmptyFirstLine: 'Unquote when Backspace on empty first line',\n    unquoteWhenEnterOnEmptyLine: 'Unquote when Enter on empty line',\n    tabInTable: 'Tab to jump cell in table',\n    upDownInTable: 'Up / Down to jump cell in table',\n    insertLineBeforeStructuredNodeFeature:\n        'Enter to create new line before table/list at beginning of editor content',\n    autoLink: 'Auto link',\n    unlinkWhenBackspaceAfterLink: 'Auto unlink when backspace right after a hyperlink',\n    defaultShortcut: 'Default Shortcuts',\n    noCycleCursorMove: 'Avoid moving cycle moving cursor when Ctrl+Left/Right',\n    clickOnEntity: 'Fire an event when click on a readonly entity',\n    escapeFromEntity: 'Fire an event when Escape from a readonly entity',\n    enterBeforeReadonlyEntity: 'Start a new line when Enter before an event',\n    backspaceAfterEntity: 'Fire an event when Backspace after an entity',\n    deleteBeforeEntity: 'Fire an event when Delete before an event',\n    markdownBold: 'Markdown style Bolding',\n    markdownItalic: 'Markdown style Italics',\n    markdownStrikethru: 'Markdown style Strikethrough',\n    markdownInlineCode: 'Markdown style Code blocks',\n    maintainListChainWhenDelete:\n        'Maintain the list of number in the right order after press delete before the first item',\n    indentTableOnTab: 'Indent the table if it is all cells are selected.',\n    indentWhenTabText:\n        'On Tab indent the selection or add Tab, requires TabKeyFeatures Experimental Feature',\n    outdentWhenTabText:\n        'On Shift + Tab outdent the selection, requires TabKeyFeatures Experimental Feature',\n    autoHyphen: 'Automatically transform -- into hyphen, if typed between two words.',\n    autoBulletList:\n        'When press space after *, -, --, ->, -->, >, =>  in an empty line, toggle bullet',\n    autoNumberingList:\n        'When press space after an number, a letter or roman number followed by ), ., -, or between parenthesis in an empty line, toggle numbering',\n    mergeListOnBackspaceAfterList: 'When backspacing between lists, merge the lists',\n    deleteTableWithBackspace: 'Delete table with backspace key with whole table is selected',\n    moveBetweenDelimitersFeature:\n        'Content edit feature to move the cursor from Delimiters around Entities when using Right or Left Arrow Keys',\n    removeEntityBetweenDelimiters:\n        'When using BACKSPACE or DELETE in a Readonly inline entity delimeter, trigger a Entity Operation',\n    removeCodeWhenEnterOnEmptyLine: 'Remove code line when enter on empty line',\n    removeCodeWhenBackspaceOnEmptyFirstLine: 'Remove code line when backspace on empty first line',\n    indentWhenAltShiftRight: 'Indent list item using Alt + Shift + Right',\n    outdentWhenAltShiftLeft: 'Outdent list item using Alt + Shift + Left',\n};\n\nexport interface ContentEditFeaturessProps {\n    state: ContentEditFeatureSettings;\n    resetState: (callback: (state: OptionState) => void, resetEditor: boolean) => void;\n}\n\nexport default class ContentEditFeatures extends React.Component<ContentEditFeaturessProps, {}> {\n    render() {\n        const features = getAllFeatures();\n        return (\n            <table>\n                <tbody>\n                    {getObjectKeys(features).map(key =>\n                        this.renderContentEditItem(key, EditFeatureDescriptionMap[key])\n                    )}\n                </tbody>\n            </table>\n        );\n    }\n\n    private renderContentEditItem(\n        id: ContentEditItemId,\n        text: string,\n        moreOptions?: JSX.Element\n    ): JSX.Element {\n        const checked = this.props.state[id];\n\n        return (\n            <tr key={id}>\n                <td className={styles.checkboxColumn}>\n                    <input\n                        type=\"checkbox\"\n                        id={id}\n                        checked={checked}\n                        title={id}\n                        onChange={() => this.onContentEditClick(id)}\n                    />\n                </td>\n                <td>\n                    <div>\n                        <label htmlFor={id} title={id}>\n                            {text}\n                        </label>\n                    </div>\n                    {checked && moreOptions}\n                </td>\n            </tr>\n        );\n    }\n\n    private onContentEditClick = (id: ContentEditItemId) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(id) as HTMLInputElement;\n            state.contentEditFeatures[id] = checkbox.checked;\n        }, true);\n    };\n}\n","import * as React from 'react';\nimport { ContentModelSegmentFormat } from 'roosterjs-content-model-types';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\nimport { OptionState } from './OptionState';\n\ntype ToggleFormatId = 'fontWeight' | 'italic' | 'underline';\ntype SelectFormatId = 'textColor' | 'backgroundColor' | 'fontFamily' | 'fontSize';\n\nconst styles = require('./OptionsPane.scss');\nconst NOT_SET = 'NotSet';\n\nexport interface DefaultFormatProps {\n    state: ContentModelSegmentFormat;\n    resetState: (callback: (state: OptionState) => void, resetEditor: boolean) => void;\n}\n\nexport class DefaultFormatPane extends React.Component<DefaultFormatProps, {}> {\n    render() {\n        return (\n            <>\n                <table>\n                    <tbody>\n                        {this.renderFormatItem('fontWeight', 'Bold')}\n                        {this.renderFormatItem('italic', 'Italic')}\n                        {this.renderFormatItem('underline', 'Underline')}\n                    </tbody>\n                </table>\n                <table>\n                    <tbody>\n                        {this.renderSelectItem('fontFamily', 'Font family: ', {\n                            [NOT_SET]: 'Not Set',\n                            Arial: 'Arial',\n                            Calibri: 'Calibri',\n                            'Courier New': 'Courier New',\n                            Tahoma: 'Tahoma',\n                            'Times New Roman': 'Times New Roman',\n                        })}\n                        {this.renderSelectItem('fontSize', 'Font size: ', {\n                            [NOT_SET]: 'Not Set',\n                            '8pt': '8',\n                            '10pt': '10',\n                            '12pt': '12',\n                            '16pt': '16',\n                            '20pt': '20',\n                            '36pt': '36',\n                            '72pt': '72',\n                        })}\n                        {this.renderSelectItem('textColor', 'Text color: ', {\n                            [NOT_SET]: 'Not Set',\n                            '#757b80': 'Gray',\n                            '#bd1398': 'Violet',\n                            '#7232ad': 'Purple',\n                            '#006fc9': 'Blue',\n                            '#4ba524': 'Green',\n                            '#e2c501': 'Yellow',\n                            '#d05c12': 'Orange',\n                            '#ff0000': 'Red',\n                            '#ffffff': 'White',\n                            '#000000': 'Black',\n                        })}\n                        {this.renderSelectItem('backgroundColor', 'Back color: ', {\n                            [NOT_SET]: 'Not Set',\n                            '#ffff00': 'Yellow',\n                            '#00ff00': 'Green',\n                            '#00ffff': 'Cyan',\n                            '#ff00ff': 'Purple',\n                            '#0000ff': 'Blue',\n                            '#ff0000': 'Red',\n                            '#bebebe': 'Gray',\n                            '#666666': 'Dark Gray',\n                            '#ffffff': 'White',\n                            '#000000': 'Black',\n                        })}\n                    </tbody>\n                </table>\n            </>\n        );\n    }\n\n    private renderFormatItem(id: ToggleFormatId, text: string): JSX.Element {\n        let checked = !!this.props.state[id];\n\n        return (\n            <tr>\n                <td className={styles.checkboxColumn}>\n                    <input\n                        type=\"checkbox\"\n                        id={id}\n                        checked={checked}\n                        onChange={() => this.onFormatClick(id)}\n                    />\n                </td>\n                <td>\n                    <div>\n                        <label htmlFor={id}>{text}</label>\n                    </div>\n                </td>\n            </tr>\n        );\n    }\n\n    private renderSelectItem(\n        id: SelectFormatId,\n        label: string,\n        items: { [key: string]: string }\n    ): JSX.Element {\n        return (\n            <tr>\n                <td className={styles.defaultFormatLabel}>{label}</td>\n                <td>\n                    <select\n                        id={id}\n                        onChange={() => this.onSelectChanged(id)}\n                        defaultValue={(this.props.state[id] || NOT_SET) as string}>\n                        {getObjectKeys(items).map(key => (\n                            <option value={key} key={key}>\n                                {items[key]}\n                            </option>\n                        ))}\n                    </select>\n                </td>\n            </tr>\n        );\n    }\n\n    private onFormatClick = (id: ToggleFormatId) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(id) as HTMLInputElement;\n\n            if (id == 'fontWeight') {\n                state.defaultFormat.fontWeight = checkbox.checked ? 'bold' : undefined;\n            } else {\n                state.defaultFormat[id] = checkbox.checked;\n            }\n        }, true);\n    };\n\n    private onSelectChanged = (id: SelectFormatId) => {\n        this.props.resetState(state => {\n            let value = (document.getElementById(id) as HTMLSelectElement).value;\n\n            state.defaultFormat[id] = value == NOT_SET ? undefined : value;\n        }, true);\n    };\n}\n","import { getDefaultContentEditFeatureSettings } from './getDefaultContentEditFeatureSettings';\nimport { OptionPaneProps, OptionState, UrlPlaceholder } from './OptionState';\nimport { OptionsPane } from './OptionsPane';\nimport { SidePaneElementProps } from '../SidePaneElement';\nimport { SidePanePluginImpl } from '../SidePanePluginImpl';\n\nconst initialState: OptionState = {\n    pluginList: {\n        autoFormat: true,\n        edit: true,\n        paste: true,\n        shortcut: true,\n        tableEdit: true,\n        contextMenu: true,\n        emoji: true,\n        pasteOption: true,\n        sampleEntity: true,\n\n        // Legacy plugins\n        contentEdit: false,\n        hyperlink: false,\n        watermark: false,\n        imageEdit: false,\n        tableCellSelection: true,\n        customReplace: false,\n        announce: false,\n    },\n    contentEditFeatures: getDefaultContentEditFeatureSettings(),\n    defaultFormat: {},\n    linkTitle: 'Ctrl+Click to follow the link:' + UrlPlaceholder,\n    watermarkText: 'Type content here ...',\n    forcePreserveRatio: false,\n    applyChangesOnMouseUp: false,\n    isRtl: false,\n    disableCache: false,\n    tableFeaturesContainerSelector: '#' + 'EditorContainer',\n    allowExcelNoBorderTable: false,\n    imageMenu: true,\n    tableMenu: true,\n    listMenu: true,\n};\n\nexport class EditorOptionsPlugin extends SidePanePluginImpl<OptionsPane, OptionPaneProps> {\n    constructor() {\n        super(OptionsPane, 'options', 'Editor Options');\n    }\n\n    getBuildInPluginState(): OptionState {\n        let result: OptionState;\n        this.getComponent(component => (result = component.getState()));\n        return result || initialState;\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return {\n            ...initialState,\n            ...base,\n        };\n    }\n}\n","import type { ContentEditFeatureSettings } from 'roosterjs-editor-types';\nimport type { SidePaneElementProps } from '../SidePaneElement';\nimport type { ContentModelSegmentFormat } from 'roosterjs-content-model-types';\n\nexport interface LegacyPluginList {\n    contentEdit: boolean;\n    hyperlink: boolean;\n    watermark: boolean;\n    imageEdit: boolean;\n    tableCellSelection: boolean;\n    customReplace: boolean;\n    announce: boolean;\n}\n\nexport interface NewPluginList {\n    autoFormat: boolean;\n    edit: boolean;\n    paste: boolean;\n    shortcut: boolean;\n    tableEdit: boolean;\n    contextMenu: boolean;\n    emoji: boolean;\n    pasteOption: boolean;\n    sampleEntity: boolean;\n}\n\nexport interface BuildInPluginList extends LegacyPluginList, NewPluginList {}\n\nexport interface OptionState {\n    pluginList: BuildInPluginList;\n\n    // New plugin options\n    allowExcelNoBorderTable: boolean;\n    listMenu: boolean;\n    tableMenu: boolean;\n    imageMenu: boolean;\n\n    // Legacy plugin options\n    contentEditFeatures: ContentEditFeatureSettings;\n    defaultFormat: ContentModelSegmentFormat;\n    linkTitle: string;\n    watermarkText: string;\n    forcePreserveRatio: boolean;\n    tableFeaturesContainerSelector: string;\n\n    // Editor options\n    isRtl: boolean;\n    disableCache: boolean;\n    applyChangesOnMouseUp: boolean;\n}\n\nexport interface OptionPaneProps extends OptionState, SidePaneElementProps {}\n\nexport const UrlPlaceholder = '$url$';\n","import * as React from 'react';\nimport { Code } from './Code';\nimport { DefaultFormatPane } from './DefaultFormatPane';\nimport { EditorCode } from './codes/EditorCode';\nimport { LegacyPlugins, Plugins } from './Plugins';\nimport { MainPane } from '../../mainPane/MainPane';\nimport { OptionPaneProps, OptionState } from './OptionState';\n\nconst htmlStart =\n    '<html>\\n' +\n    '<body>\\n' +\n    '<div id=\"contentDiv\" style=\"width: 800px; height: 400px; border: solid 1px black; overflow: auto\"></div>\\n';\nconst htmlButtons =\n    '<button id=buttonB><b>B</b></button>\\n' +\n    '<button id=buttonI><i>I</i></button>\\n' +\n    '<button id=buttonU><u>U</u></button>\\n' +\n    '<button id=buttonBullet>Bullet</button>\\n' +\n    '<button id=buttonNumbering>Numbering</button>\\n' +\n    '<button id=buttonUndo>Undo</button>\\n' +\n    '<button id=buttonRedo>Redo</button>\\n' +\n    '<button id=buttonTable>Insert Table</button>\\n' +\n    '<button id=buttonDark>Dark mode</button>\\n';\n'<button id=buttonDark>Dark Mode</button>\\n';\nconst legacyJsCode =\n    '<script src=\"https://microsoft.github.io/roosterjs/rooster-min.js\"></script>\\n';\nconst jsCode =\n    '<script src=\"https://microsoft.github.io/roosterjs/rooster-content-model-min.js\"></script>\\n';\nconst htmlEnd = '</body>\\n' + '</html>';\n\nexport class OptionsPane extends React.Component<OptionPaneProps, OptionState> {\n    private exportForm = React.createRef<HTMLFormElement>();\n    private exportData = React.createRef<HTMLInputElement>();\n    private rtl = React.createRef<HTMLInputElement>();\n    private disableCache = React.createRef<HTMLInputElement>();\n\n    constructor(props: OptionPaneProps) {\n        super(props);\n        this.state = { ...props };\n    }\n    render() {\n        const editorCode = new EditorCode(this.state);\n        const html = this.getHtml(editorCode.requireLegacyCode());\n\n        return (\n            <div>\n                <details>\n                    <summary>\n                        <b>Default Format</b>\n                    </summary>\n                    <DefaultFormatPane\n                        state={this.state.defaultFormat}\n                        resetState={this.resetState}\n                    />\n                </details>\n                <details>\n                    <summary>\n                        <b>Plugins</b>\n                    </summary>\n                    <Plugins state={this.state} resetState={this.resetState} />\n                </details>\n                <details>\n                    <summary>\n                        <b>Legacy Plugins</b>\n                    </summary>\n                    <LegacyPlugins state={this.state} resetState={this.resetState} />\n                </details>\n                <div>\n                    <br />\n                </div>\n                <div>\n                    <input\n                        id=\"pageRtl\"\n                        type=\"checkbox\"\n                        checked={this.state.isRtl}\n                        onChange={this.onToggleDirection}\n                        ref={this.rtl}\n                    />\n                    <label htmlFor=\"pageRtl\">Show controls from right to left</label>\n                </div>\n                <div>\n                    <input\n                        id=\"disableCache\"\n                        type=\"checkbox\"\n                        checked={this.state.disableCache}\n                        onChange={this.onToggleCacheModel}\n                        ref={this.disableCache}\n                    />\n                    <label htmlFor=\"disableCache\">Disable Content Model Cache</label>\n                </div>\n                <hr />\n                <div>\n                    <button onClick={this.onExportRoosterContentModel}>\n                        Try roosterjs in CodePen\n                    </button>\n                </div>\n                <div>\n                    <br />\n                </div>\n                <details>\n                    <summary>\n                        <b>HTML Code:</b>\n                    </summary>\n                    <Code code={html} />\n                </details>\n                <details>\n                    <summary>\n                        <b>Typescript Code:</b>\n                    </summary>\n                    <Code code={editorCode.getCode()} />\n                </details>\n                <form\n                    ref={this.exportForm}\n                    method=\"POST\"\n                    action=\"https://codepen.io/pen/define\"\n                    target=\"_blank\">\n                    <input name=\"data\" type=\"hidden\" ref={this.exportData} />\n                </form>\n            </div>\n        );\n    }\n\n    getState(): OptionState {\n        return { ...this.state };\n    }\n\n    private resetState = (callback: (state: OptionState) => void, resetEditor: boolean) => {\n        let state: OptionState = {\n            linkTitle: this.state.linkTitle,\n            watermarkText: this.state.watermarkText,\n            pluginList: { ...this.state.pluginList },\n            contentEditFeatures: { ...this.state.contentEditFeatures },\n            defaultFormat: { ...this.state.defaultFormat },\n            forcePreserveRatio: this.state.forcePreserveRatio,\n            applyChangesOnMouseUp: this.state.applyChangesOnMouseUp,\n            isRtl: this.state.isRtl,\n            disableCache: this.state.disableCache,\n            tableFeaturesContainerSelector: this.state.tableFeaturesContainerSelector,\n            allowExcelNoBorderTable: this.state.allowExcelNoBorderTable,\n            listMenu: this.state.listMenu,\n            tableMenu: this.state.tableMenu,\n            imageMenu: this.state.imageMenu,\n        };\n\n        if (callback) {\n            callback(state);\n            this.setState(state);\n        }\n\n        if (resetEditor) {\n            MainPane.getInstance().resetEditorPlugin(state);\n        }\n    };\n\n    private onExportRoosterContentModel = () => {\n        let editor = new EditorCode(this.state);\n        let code = editor.getCode();\n        let json = {\n            title: 'RoosterJs',\n            html: this.getHtml(editor.requireLegacyCode()),\n            head: '',\n            js: code,\n            js_pre_processor: 'typescript',\n        };\n        this.exportData.current.value = JSON.stringify(json);\n        this.exportForm.current.submit();\n    };\n\n    private onToggleDirection = () => {\n        let isRtl = this.rtl.current.checked;\n        this.setState({\n            isRtl: isRtl,\n        });\n        MainPane.getInstance().setPageDirection(isRtl);\n    };\n\n    private onToggleCacheModel = () => {\n        this.resetState(state => {\n            state.disableCache = this.disableCache.current.checked;\n        }, true);\n    };\n\n    private getHtml(requireLegacyCode: boolean) {\n        return `${htmlStart}${htmlButtons}${\n            requireLegacyCode ? legacyJsCode : ''\n        }${jsCode}${htmlEnd}`;\n    }\n}\n","import * as React from 'react';\nimport ContentEditFeatures from './ContentEditFeatures';\nimport { UrlPlaceholder } from './OptionState';\nimport type {\n    BuildInPluginList,\n    LegacyPluginList,\n    NewPluginList,\n    OptionState,\n} from './OptionState';\n\nconst styles = require('./OptionsPane.scss');\n\nexport interface PluginsProps {\n    state: OptionState;\n    resetState: (callback: (state: OptionState) => void, resetEditor: boolean) => void;\n}\n\nabstract class PluginsBase<PluginKey extends keyof BuildInPluginList> extends React.Component<\n    PluginsProps,\n    {}\n> {\n    abstract render(): JSX.Element;\n\n    protected renderPluginItem(\n        id: PluginKey,\n        text: string,\n        moreOptions?: JSX.Element\n    ): JSX.Element {\n        const checked = this.props.state.pluginList[id];\n\n        return (\n            <tr>\n                <td className={styles.checkboxColumn}>\n                    <input\n                        type=\"checkbox\"\n                        id={id}\n                        checked={checked}\n                        onChange={() => this.onPluginClick(id)}\n                    />\n                </td>\n                <td>\n                    <div>\n                        <label htmlFor={id}>{text}</label>\n                    </div>\n                    {checked && moreOptions}\n                </td>\n            </tr>\n        );\n    }\n\n    protected renderInputBox(\n        label: string,\n        ref: React.RefObject<HTMLInputElement>,\n        value: string,\n        placeholder: string,\n        onChange: (state: OptionState, value: string) => void\n    ): JSX.Element {\n        return (\n            <div>\n                {label}\n                <input\n                    type=\"text\"\n                    ref={ref}\n                    value={value}\n                    placeholder={placeholder}\n                    onChange={() =>\n                        this.props.resetState(state => onChange(state, ref.current.value), false)\n                    }\n                    onBlur={() => this.props.resetState(null, true)}\n                />\n            </div>\n        );\n    }\n\n    protected renderCheckBox(\n        label: string,\n        ref: React.RefObject<HTMLInputElement>,\n        value: boolean,\n        onChange: (state: OptionState, value: boolean) => void\n    ): JSX.Element {\n        return (\n            <div>\n                <input\n                    type=\"checkbox\"\n                    ref={ref}\n                    checked={value}\n                    onChange={() =>\n                        this.props.resetState(state => onChange(state, ref.current.checked), true)\n                    }\n                    onBlur={() => this.props.resetState(null, true)}\n                />\n                {label}\n            </div>\n        );\n    }\n\n    private onPluginClick = (id: PluginKey) => {\n        this.props.resetState(state => {\n            let checkbox = document.getElementById(id) as HTMLInputElement;\n            state.pluginList[id] = checkbox.checked;\n        }, true);\n    };\n}\n\nexport class LegacyPlugins extends PluginsBase<keyof LegacyPluginList> {\n    private linkTitle = React.createRef<HTMLInputElement>();\n    private watermarkText = React.createRef<HTMLInputElement>();\n    private forcePreserveRatio = React.createRef<HTMLInputElement>();\n\n    render() {\n        return (\n            <table>\n                <tbody>\n                    {this.renderPluginItem(\n                        'contentEdit',\n                        'Content Edit',\n                        <ContentEditFeatures\n                            state={this.props.state.contentEditFeatures}\n                            resetState={this.props.resetState}\n                        />\n                    )}\n                    {this.renderPluginItem(\n                        'hyperlink',\n                        'Hyperlink Plugin',\n                        this.renderInputBox(\n                            'Label title: ',\n                            this.linkTitle,\n                            this.props.state.linkTitle,\n                            'Use \"' + UrlPlaceholder + '\" for the url string',\n                            (state, value) => (state.linkTitle = value)\n                        )\n                    )}\n                    {this.renderPluginItem(\n                        'watermark',\n                        'Watermark Plugin',\n                        this.renderInputBox(\n                            'Watermark text: ',\n                            this.watermarkText,\n                            this.props.state.watermarkText,\n                            '',\n                            (state, value) => (state.watermarkText = value)\n                        )\n                    )}\n                    {this.renderPluginItem(\n                        'imageEdit',\n                        'Image Edit Plugin',\n                        this.renderCheckBox(\n                            'Force preserve ratio',\n                            this.forcePreserveRatio,\n                            this.props.state.forcePreserveRatio,\n                            (state, value) => (state.forcePreserveRatio = value)\n                        )\n                    )}\n                    {this.renderPluginItem('customReplace', 'Custom Replace Plugin (autocomplete)')}\n                    {this.renderPluginItem('tableCellSelection', 'Table Cell Selection')}\n                    {this.renderPluginItem('announce', 'Announce')}\n                </tbody>\n            </table>\n        );\n    }\n}\n\nexport class Plugins extends PluginsBase<keyof NewPluginList> {\n    private allowExcelNoBorderTable = React.createRef<HTMLInputElement>();\n    private listMenu = React.createRef<HTMLInputElement>();\n    private tableMenu = React.createRef<HTMLInputElement>();\n    private imageMenu = React.createRef<HTMLInputElement>();\n\n    render(): JSX.Element {\n        return (\n            <table>\n                <tbody>\n                    {this.renderPluginItem('autoFormat', 'AutoFormat')}\n                    {this.renderPluginItem('edit', 'Edit')}\n                    {this.renderPluginItem(\n                        'paste',\n                        'Paste',\n                        this.renderCheckBox(\n                            'Do not add border for Excel table',\n                            this.allowExcelNoBorderTable,\n                            this.props.state.allowExcelNoBorderTable,\n                            (state, value) => (state.allowExcelNoBorderTable = value)\n                        )\n                    )}\n                    {this.renderPluginItem('shortcut', 'Shortcut')}\n                    {this.renderPluginItem('tableEdit', 'TableEdit')}\n                    {this.renderPluginItem(\n                        'contextMenu',\n                        'ContextMenu',\n                        <>\n                            {this.renderCheckBox(\n                                'List menu',\n                                this.listMenu,\n                                this.props.state.listMenu,\n                                (state, value) => (state.listMenu = value)\n                            )}\n                            {this.renderCheckBox(\n                                'Table menu',\n                                this.tableMenu,\n                                this.props.state.tableMenu,\n                                (state, value) => (state.tableMenu = value)\n                            )}\n                            {this.renderCheckBox(\n                                'Image menu',\n                                this.imageMenu,\n                                this.props.state.imageMenu,\n                                (state, value) => (state.imageMenu = value)\n                            )}\n                        </>\n                    )}\n                    {this.renderPluginItem('emoji', 'Emoji')}\n                    {this.renderPluginItem('pasteOption', 'PasteOptions')}\n                    {this.renderPluginItem('sampleEntity', 'SampleEntity')}\n                </tbody>\n            </table>\n        );\n    }\n}\n","import { CodeElement } from './CodeElement';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\n\nconst codeMap: { [id: string]: string } = {\n    buttonB: 'roosterjsContentModel.toggleBold(editor)',\n    buttonI: 'roosterjsContentModel.toggleItalic(editor)',\n    buttonU: 'roosterjsContentModel.toggleUnderline(editor)',\n    buttonBullet: 'roosterjsContentModel.toggleBullet(editor)',\n    buttonNumbering: 'roosterjsContentModel.toggleNumbering(editor)',\n    buttonUndo: 'roosterjsContentModel.undo(editor)',\n    buttonRedo: 'roosterjsContentModel.redo(editor)',\n    buttonTable: 'roosterjsContentModel.insertTable(editor, 3, 3)',\n    buttonDark: 'editor.setDarkModeState(!editor.isDarkMode())',\n};\n\nexport class ButtonsCode extends CodeElement {\n    getCode() {\n        const map = { ...codeMap };\n        return getObjectKeys(map)\n            .map(\n                id =>\n                    `document.getElementById('${id}').addEventListener('click', () => ${map[id]});\\n`\n            )\n            .join('');\n    }\n}\n","export abstract class CodeElement {\n    abstract getCode(): string;\n\n    protected encode(src: string): string {\n        return src.replace(/\\\\/g, '\\\\\\\\').replace(/'/g, \"\\\\'\");\n    }\n\n    protected indent(src: string): string {\n        return src\n            .split('\\n')\n            .map(line => (line == '' ? '' : '    ' + line + '\\n'))\n            .join('');\n    }\n}\n","import { CodeElement } from './CodeElement';\nimport { ContentEditFeaturesCode } from './ContentEditFeaturesCode';\nimport { ContentEditFeatureSettings } from 'roosterjs-editor-types';\n\nexport class ContentEditCode extends CodeElement {\n    private features: ContentEditFeaturesCode;\n\n    constructor(settings: ContentEditFeatureSettings) {\n        super();\n        this.features = new ContentEditFeaturesCode(settings);\n    }\n\n    getCode() {\n        return 'new roosterjs.ContentEdit(' + this.features.getCode() + ')';\n    }\n}\n","import { CodeElement } from './CodeElement';\nimport { ContentEditFeatureSettings } from 'roosterjs-editor-types';\nimport { getDefaultContentEditFeatureSettings } from '../getDefaultContentEditFeatureSettings';\nimport { getObjectKeys } from 'roosterjs-editor-dom';\n\nexport class ContentEditFeaturesCode extends CodeElement {\n    constructor(private state: ContentEditFeatureSettings) {\n        super();\n    }\n\n    getCode() {\n        let defaultValues = getDefaultContentEditFeatureSettings();\n        let features = getObjectKeys(defaultValues)\n            .map(key => {\n                let checked = this.state[key];\n\n                return typeof checked != 'boolean' || checked == defaultValues[key]\n                    ? null\n                    : `${key}: ${checked ? 'true' : 'false'},\\n`;\n            })\n            .filter(line => !!line);\n        return features.length > 0 ? '{\\n' + this.indent(features.join('')) + '}' : '';\n    }\n}\n","import { CodeElement } from './CodeElement';\n\nexport class DarkModeCode extends CodeElement {\n    getCode() {\n        return 'roosterjs.getDarkColor';\n    }\n}\n","import { CodeElement } from './CodeElement';\nimport { ContentModelSegmentFormat } from 'roosterjs-content-model-types';\n\nexport class DefaultFormatCode extends CodeElement {\n    constructor(private defaultFormat: ContentModelSegmentFormat) {\n        super();\n    }\n\n    getCode() {\n        let {\n            fontWeight,\n            italic,\n            underline,\n            fontFamily,\n            fontSize,\n            textColor,\n            backgroundColor,\n        } = this.defaultFormat;\n        let lines = [\n            fontWeight ? `fontWeight: '${fontWeight}',\\n` : null,\n            italic ? 'italic: true,\\n' : null,\n            underline ? 'underline: true,\\n' : null,\n            fontFamily ? `fontFamily: '${this.encode(fontFamily)}',\\n` : null,\n            fontSize ? `fontSize: '${this.encode(fontSize)}',\\n` : null,\n            textColor ? `textColor: '${this.encode(textColor)}',\\n` : null,\n            backgroundColor ? `backgroundColor: '${this.encode(backgroundColor)}',\\n` : null,\n        ].filter(line => !!line);\n\n        return lines.length > 0 ? '{\\n' + this.indent(lines.join('')) + '}' : '';\n    }\n}\n","import { ButtonsCode } from './ButtonsCode';\nimport { CodeElement } from './CodeElement';\nimport { DarkModeCode } from './DarkModeCode';\nimport { DefaultFormatCode } from './DefaultFormatCode';\nimport { LegacyPluginCode, PluginsCode } from './PluginsCode';\nimport type { OptionState } from '../OptionState';\n\nexport class EditorCode extends CodeElement {\n    private plugins: PluginsCode;\n    private legacyPlugins: LegacyPluginCode;\n    private defaultFormat: DefaultFormatCode;\n    private buttons: ButtonsCode;\n    private darkMode: DarkModeCode;\n\n    constructor(state: OptionState) {\n        super();\n\n        this.plugins = new PluginsCode(state);\n        this.legacyPlugins = new LegacyPluginCode(state);\n        this.defaultFormat = new DefaultFormatCode(state.defaultFormat);\n        this.buttons = new ButtonsCode();\n        this.darkMode = new DarkModeCode();\n    }\n\n    requireLegacyCode() {\n        return this.legacyPlugins.getPluginCount() > 0 || !!this.darkMode;\n    }\n\n    getCode() {\n        let defaultFormat = this.defaultFormat.getCode();\n        let code = \"let contentDiv = document.getElementById('contentDiv') as HTMLDivElement;\\n\";\n        let darkMode = this.darkMode.getCode();\n\n        const hasLegacyPlugin = this.legacyPlugins.getPluginCount() > 0;\n\n        code += `let plugins = ${this.plugins.getCode()};\\n`;\n        code += hasLegacyPlugin ? `let legacyPlugins = ${this.legacyPlugins.getCode()};\\n` : '';\n        code += defaultFormat ? `let defaultSegmentFormat = ${defaultFormat};\\n` : '';\n        code += 'let options: roosterjs.EditorOptions = {\\n';\n        code += this.indent('plugins: plugins,\\n');\n        code += hasLegacyPlugin ? this.indent('legacyPlugins: legacyPlugins,\\n') : '';\n        code += defaultFormat ? this.indent('defaultSegmentFormat: defaultSegmentFormat,\\n') : '';\n        code += darkMode ? this.indent(`getDarkColor: ${darkMode},\\n`) : '';\n        code += '};\\n';\n        code += `let editor = new ${\n            hasLegacyPlugin ? 'roosterjs.EditorAdapter' : 'roosterjsContentModel.Editor'\n        }(contentDiv, options);\\n`;\n        code += this.buttons ? this.buttons.getCode() : '';\n\n        return code;\n    }\n}\n","import { CodeElement } from './CodeElement';\nimport { UrlPlaceholder } from '../OptionState';\n\nexport class HyperLinkCode extends CodeElement {\n    constructor(private linkTitle: string) {\n        super();\n    }\n\n    getCode() {\n        return 'new roosterjs.HyperLink(' + this.getLinkCallback() + ')';\n    }\n\n    private getLinkCallback() {\n        if (!this.linkTitle) {\n            return '';\n        }\n\n        let index = this.linkTitle.indexOf(UrlPlaceholder);\n        if (index >= 0) {\n            let left = this.linkTitle.substr(0, index);\n            let right = this.linkTitle.substr(index + UrlPlaceholder.length);\n            return (\n                'url => ' +\n                (left ? `'${this.encode(left)}' + ` : '') +\n                'url' +\n                (right ? ` + '${this.encode(right)}'` : '')\n            );\n        } else {\n            return `() => '${this.linkTitle}'`;\n        }\n    }\n}\n","import { CodeElement } from './CodeElement';\nimport { ContentEditCode } from './ContentEditCode';\nimport { HyperLinkCode } from './HyperLinkCode';\nimport { OptionState } from '../OptionState';\nimport { WatermarkCode } from './WatermarkCode';\nimport {\n    AutoFormatPluginCode,\n    CustomReplaceCode,\n    EditPluginCode,\n    ImageEditCode,\n    PastePluginCode,\n    TableCellSelectionCode,\n    TableEditPluginCode,\n    ShortcutPluginCode,\n} from './SimplePluginCode';\n\nexport class PluginsCodeBase extends CodeElement {\n    private plugins: CodeElement[];\n    constructor(plugins: CodeElement[]) {\n        super();\n\n        this.plugins = plugins.filter(plugin => !!plugin);\n    }\n\n    getPluginCount() {\n        return this.plugins.length;\n    }\n\n    getCode() {\n        let code = '[\\n';\n        code += this.indent(this.plugins.map(plugin => plugin.getCode() + ',\\n').join(''));\n        code += ']';\n        return code;\n    }\n}\n\nexport class PluginsCode extends PluginsCodeBase {\n    constructor(state: OptionState) {\n        const pluginList = state.pluginList;\n\n        super([\n            pluginList.autoFormat && new AutoFormatPluginCode(),\n            pluginList.edit && new EditPluginCode(),\n            pluginList.paste && new PastePluginCode(),\n            pluginList.tableEdit && new TableEditPluginCode(),\n            pluginList.shortcut && new ShortcutPluginCode(),\n        ]);\n    }\n}\n\nexport class LegacyPluginCode extends PluginsCodeBase {\n    constructor(state: OptionState) {\n        const pluginList = state.pluginList;\n\n        const plugins: CodeElement[] = [\n            pluginList.contentEdit && new ContentEditCode(state.contentEditFeatures),\n            pluginList.hyperlink && new HyperLinkCode(state.linkTitle),\n            pluginList.watermark && new WatermarkCode(state.watermarkText),\n            pluginList.imageEdit && new ImageEditCode(),\n            pluginList.customReplace && new CustomReplaceCode(),\n            pluginList.tableCellSelection && new TableCellSelectionCode(),\n        ];\n\n        super(plugins);\n    }\n}\n","import { CodeElement } from './CodeElement';\n\nclass SimplePluginCode extends CodeElement {\n    constructor(private name: string, private namespace: string = 'roosterjsContentModel') {\n        super();\n    }\n\n    getCode() {\n        return `new ${this.namespace}.${this.name}()`;\n    }\n}\n\nexport class AutoFormatPluginCode extends SimplePluginCode {\n    constructor() {\n        super('AutoFormatPlugin');\n    }\n}\n\nexport class EditPluginCode extends SimplePluginCode {\n    constructor() {\n        super('EditPlugin');\n    }\n}\n\nexport class PastePluginCode extends SimplePluginCode {\n    constructor() {\n        super('PastePlugin');\n    }\n}\n\nexport class ShortcutPluginCode extends SimplePluginCode {\n    constructor() {\n        super('ShortcutPlugin');\n    }\n}\n\nexport class TableEditPluginCode extends SimplePluginCode {\n    constructor() {\n        super('TableEditPlugin');\n    }\n}\n\nexport class ImageEditCode extends SimplePluginCode {\n    constructor() {\n        super('ImageEdit', 'roosterjs');\n    }\n}\n\nexport class CustomReplaceCode extends SimplePluginCode {\n    constructor() {\n        super('CustomReplace', 'roosterjs');\n    }\n}\n\nexport class TableCellSelectionCode extends SimplePluginCode {\n    constructor() {\n        super('TableCellSelection', 'roosterjs');\n    }\n}\n","import { CodeElement } from './CodeElement';\n\nexport class WatermarkCode extends CodeElement {\n    constructor(private watermarkText: string) {\n        super();\n    }\n\n    getCode() {\n        return `new roosterjs.Watermark('${this.encode(this.watermarkText)}')`;\n    }\n}\n","import { ContentEditFeatureSettings } from 'roosterjs-editor-types';\nimport { getAllFeatures } from 'roosterjs-editor-plugins';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\n\nexport function getDefaultContentEditFeatureSettings(): ContentEditFeatureSettings {\n    const allFeatures = getAllFeatures();\n\n    return {\n        ...getObjectKeys(allFeatures).reduce((settings, key) => {\n            settings[key] = !allFeatures[key].defaultDisabled;\n            return settings;\n        }, <ContentEditFeatureSettings>{}),\n    };\n}\n","import * as React from 'react';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\nimport { readFile } from 'roosterjs-content-model-core';\nimport { SidePaneElementProps } from '../SidePaneElement';\nimport type { PluginEvent } from 'roosterjs-content-model-types';\n\nconst styles = require('./EventViewPane.scss');\n\nexport interface EventEntry {\n    index: number;\n    time: Date;\n    event: PluginEvent;\n}\n\nexport interface EventViewPaneState {\n    displayCount: number;\n    currentIndex: number;\n}\n\nexport default class ContentModelEventViewPane extends React.Component<\n    SidePaneElementProps,\n    EventViewPaneState\n> {\n    private events: EventEntry[] = [];\n    private displayCount = React.createRef<HTMLSelectElement>();\n    private lastIndex = 0;\n\n    constructor(props: SidePaneElementProps) {\n        super(props);\n        this.state = {\n            displayCount: 20,\n            currentIndex: -1,\n        };\n    }\n\n    render() {\n        let displayCount = Math.min(this.events.length, this.state.displayCount);\n        let displayedEvents =\n            displayCount > 0 ? this.events.slice(this.events.length - displayCount) : [];\n        displayedEvents = displayedEvents.reverse();\n\n        return (\n            <>\n                <div>\n                    Show item count:\n                    <select\n                        defaultValue={this.state.displayCount.toString()}\n                        ref={this.displayCount}\n                        onChange={this.onDisplayCountChanged}>\n                        <option value={'0'}>Disabled</option>\n                        <option value={'20'}>20</option>\n                        <option value={'50'}>50</option>\n                        <option value={'100'}>100</option>\n                    </select>{' '}\n                    <button onClick={this.clear}>Clear all</button>\n                </div>\n                <div>\n                    {displayedEvents.map(event => (\n                        <details key={event.index.toString()}>\n                            <summary>\n                                {`${event.time.getHours()}:${event.time.getMinutes()}:${event.time.getSeconds()}.${event.time.getMilliseconds()} `}\n                                {event.event.eventType}\n                            </summary>\n                            <div className={styles.eventContent}>\n                                {this.renderEvent(event.event)}\n                            </div>\n                        </details>\n                    ))}\n                </div>\n            </>\n        );\n    }\n\n    addEvent(event: PluginEvent) {\n        if (this.state.displayCount > 0) {\n            this.events.push({\n                time: new Date(),\n                event: event,\n                index: this.lastIndex++,\n            });\n\n            while (this.events.length > 100) {\n                this.events.shift();\n            }\n            this.setState({\n                currentIndex: this.lastIndex,\n            });\n        }\n    }\n\n    private renderEvent(event: PluginEvent): JSX.Element {\n        switch (event.eventType) {\n            case 'keyDown':\n            case 'keyPress':\n            case 'keyUp':\n                return (\n                    <span>\n                        Key=\n                        {event.rawEvent.key}\n                    </span>\n                );\n\n            case 'mouseDown':\n            case 'mouseUp':\n            case 'contextMenu':\n                return (\n                    <span>\n                        Button=\n                        {event.rawEvent.button}, SrcElement=\n                        {event.rawEvent.target && (event.rawEvent.target as HTMLElement).tagName},\n                        PageX=\n                        {event.rawEvent.pageX}, PageY=\n                        {event.rawEvent.pageY}\n                    </span>\n                );\n\n            case 'contentChanged':\n                return (\n                    <span>\n                        Source=\n                        {event.source}, Data=\n                        {event.data && event.data.toString && event.data.toString()}\n                    </span>\n                );\n\n            case 'beforePaste':\n                return (\n                    <span>\n                        Types=\n                        {event.clipboardData.types.join()}\n                        {this.renderPasteContent('Plain text', event.clipboardData.text)}\n                        {this.renderPasteContent('Sanitized HTML', event.clipboardData.html)}\n                        {this.renderPasteContent('Original HTML', event.clipboardData.rawHtml)}\n                        {this.renderPasteContent('Image', event.clipboardData.image, img => (\n                            <img\n                                ref={ref => ref && this.renderImage(ref, img)}\n                                className={styles.img}\n                            />\n                        ))}\n                        {this.renderPasteContent(\n                            'LinkPreview',\n                            event.clipboardData.linkPreview\n                                ? JSON.stringify(event.clipboardData.linkPreview)\n                                : ''\n                        )}\n                        Paste from keyboard or native context menu:\n                        {event.clipboardData.pasteNativeEvent ? ' true' : ' false'}\n                        {getObjectKeys(event.clipboardData.customValues).map(contentType =>\n                            this.renderPasteContent(\n                                contentType,\n                                event.clipboardData.customValues[contentType]\n                            )\n                        )}\n                    </span>\n                );\n\n            case 'entityOperation':\n                const {\n                    operation,\n                    entity: { id, type },\n                } = event;\n                return (\n                    <span>\n                        Operation={operation} Type={type}; Id={id}\n                    </span>\n                );\n\n            case 'beforeCutCopy':\n                const { isCut } = event;\n                return <span>isCut={isCut ? 'true' : 'false'}</span>;\n\n            case 'editImage':\n                return (\n                    <>\n                        <span>new src={event.newSrc.substr(0, 100)}</span>\n                    </>\n                );\n\n            case 'zoomChanged':\n                return <span>New value={event.newZoomScale}</span>;\n\n            case 'beforeKeyboardEditing':\n                return <span>Key code={event.rawEvent.which}</span>;\n\n            case 'input':\n                return <span>Input type={event.rawEvent.inputType}</span>;\n\n            default:\n                return null;\n        }\n    }\n\n    private clear = () => {\n        this.events = [];\n        this.setState({\n            currentIndex: -1,\n        });\n    };\n\n    private renderImage = (img: HTMLImageElement, imageFile: File) => {\n        readFile(imageFile, dataUrl => (img.src = dataUrl));\n    };\n\n    private onDisplayCountChanged = () => {\n        let value = parseInt(this.displayCount.current.value);\n        this.setState({\n            displayCount: value,\n        });\n    };\n\n    private renderPasteContent(\n        title: string,\n        content: any,\n        renderer: (content: any) => JSX.Element = content => <span>{content}</span>\n    ): JSX.Element {\n        return (\n            content && (\n                <details>\n                    <summary>{title}</summary>\n                    <div className={styles.pasteContent}>{renderer(content)}</div>\n                </details>\n            )\n        );\n    }\n}\n","import EventViewPane from './EventViewPane';\nimport { PluginEvent } from 'roosterjs-content-model-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\nimport { SidePanePluginImpl } from '../SidePanePluginImpl';\n\nexport class EventViewPlugin extends SidePanePluginImpl<EventViewPane, SidePaneElementProps> {\n    constructor() {\n        super(EventViewPane, 'event', 'Event Viewer');\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        this.getComponent(component => component.addEvent(e));\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return base;\n    }\n}\n","import * as React from 'react';\nimport { SidePaneElementProps } from '../SidePaneElement';\nimport {\n    ContentModelFormatState,\n    EditorEnvironment,\n    TableMetadataFormat,\n} from 'roosterjs-content-model-types';\n\nconst styles = require('./FormatStatePane.scss');\n\nexport interface FormatStatePaneState {\n    format: ContentModelFormatState;\n    x: number;\n    y: number;\n}\nexport interface FormatStatePaneProps extends FormatStatePaneState, SidePaneElementProps {\n    env?: EditorEnvironment;\n}\n\nexport default class FormatStatePane extends React.Component<\n    FormatStatePaneProps,\n    FormatStatePaneState\n> {\n    constructor(props: FormatStatePaneProps) {\n        super(props);\n        this.state = {\n            format: props.format,\n            x: props.x,\n            y: props.y,\n        };\n    }\n\n    setFormatState(state: FormatStatePaneState) {\n        this.setState(state);\n    }\n\n    render() {\n        const { format, x, y } = this.state;\n        const { isMac, isAndroid, isSafari, isMobileOrTablet } = this.props.env ?? {};\n\n        const TableFormat = () => {\n            const tableFormat = format.tableFormat;\n            if (!tableFormat) {\n                return <></>;\n            }\n            const tableFromatRows = Object.keys(tableFormat).map(\n                (key: keyof TableMetadataFormat, index: number, array) => {\n                    const rowStyle: React.CSSProperties =\n                        index == 0\n                            ? { borderTop: 'solid' }\n                            : index == array.length - 1\n                            ? { borderBottom: 'solid' }\n                            : {};\n                    return (\n                        <tr style={rowStyle}>\n                            <td style={{ fontSize: 'small' }}>{key}</td>\n                            <td>{String(tableFormat[key])}</td>\n                        </tr>\n                    );\n                }\n            );\n            return tableFromatRows;\n        };\n        return format ? (\n            <table style={{ borderCollapse: 'collapse' }}>\n                <tbody>\n                    <tr hidden={!format.isInTable}>\n                        <td className={styles.title}>Table</td>\n                        <td>\n                            {this.renderSpan(format.canMergeTableCell, 'Can merge')}\n                            {this.renderSpan(format.tableHasHeader, 'Table has header')}\n                        </td>\n                    </tr>\n                    {TableFormat()}\n                    <tr>\n                        <td className={styles.title}>Position</td>\n                        <td>{`${x},${y}`}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Font</td>\n                        <td>\n                            <span>{`${format.fontName}, ${format.fontSize}`}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Colors</td>\n                        <td>\n                            <span\n                                style={{\n                                    color: format.textColor,\n                                    backgroundColor: format.backgroundColor,\n                                }}>{`${format.textColor} / ${format.backgroundColor}`}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Formats</td>\n                        <td>\n                            {this.renderSpan(format.isBold, 'Bold')}\n                            {this.renderSpan(format.isItalic, 'Italic')}\n                            {this.renderSpan(format.isUnderline, 'Underline')}\n                            {this.renderSpan(format.isStrikeThrough, 'Strike')}\n                            {this.renderSpan(format.isSubscript, 'Subscript')}\n                            {this.renderSpan(format.isSuperscript, 'Superscript')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Font weight</td>\n                        <td>{format.fontWeight}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Structure</td>\n                        <td>\n                            {this.renderSpan(format.isBullet, 'Bullet')}\n                            {this.renderSpan(format.isNumbering, 'Numbering')}\n                            {this.renderSpan(format.isBlockQuote, 'Quote')}\n                            {this.renderSpan(format.canUnlink, 'In Link')}\n                            {this.renderSpan(format.canAddImageAltText, 'In Image')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Heading</td>\n                        <td>{format.headingLevel}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Undo</td>\n                        <td>\n                            {this.renderSpan(format.canUndo, 'Can Undo')}\n                            {this.renderSpan(format.canRedo, 'Can Redo')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>Environment</td>\n                        <td>\n                            {this.renderSpan(isMac, 'MacOS')}\n                            {this.renderSpan(isAndroid, 'Android')}\n                            {this.renderSpan(isSafari, 'Safari')}\n                            {this.renderSpan(isMobileOrTablet, 'Mobile or Tablet')}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>User Agent</td>\n                        <td>{window.navigator.userAgent}</td>\n                    </tr>\n                    <tr>\n                        <td className={styles.title}>App Version</td>\n                        <td>{window.navigator.appVersion}</td>\n                    </tr>\n                </tbody>\n            </table>\n        ) : (\n            <div>Please focus into editor</div>\n        );\n    }\n\n    private renderSpan(formatState: boolean, text: string): JSX.Element {\n        return <span className={formatState ? '' : styles.inactive}>{text + ' '}</span>;\n    }\n}\n","import FormatStatePane, { FormatStatePaneProps, FormatStatePaneState } from './FormatStatePane';\nimport { getFormatState } from 'roosterjs-content-model-api';\nimport { getPositionRect } from '../../roosterjsReact/pasteOptions/utils/getPositionRect';\nimport { PluginEvent } from 'roosterjs-content-model-types';\nimport { SidePaneElementProps } from '../SidePaneElement';\nimport { SidePanePluginImpl } from '../SidePanePluginImpl';\n\nexport class FormatStatePlugin extends SidePanePluginImpl<FormatStatePane, FormatStatePaneProps> {\n    constructor() {\n        super(FormatStatePane, 'format', 'Format State');\n    }\n\n    getComponentProps(base: SidePaneElementProps) {\n        return {\n            ...base,\n            ...this.getFormatState(),\n            env: this.editor?.getEnvironment(),\n        };\n    }\n\n    onPluginEvent(event: PluginEvent) {\n        switch (event.eventType) {\n            case 'editorReady':\n            case 'keyUp':\n            case 'mouseUp':\n            case 'contentChanged':\n                this.updateFormatState();\n                break;\n        }\n    }\n\n    updateFormatState() {\n        this.getComponent(component => component.setFormatState(this.getFormatState()));\n    }\n\n    private getFormatState(): FormatStatePaneState {\n        if (!this.editor) {\n            return null;\n        }\n\n        const format = getFormatState(this.editor);\n        const selection = this.editor?.getDOMSelection();\n        let x = 0;\n        let y = 0;\n\n        if (selection?.type == 'range') {\n            const node = selection.isReverted\n                ? selection.range.startContainer\n                : selection.range.endContainer;\n            const offset = selection.isReverted\n                ? selection.range.startOffset\n                : selection.range.endOffset;\n            const rect = getPositionRect(node, offset);\n\n            if (rect) {\n                x = rect.left;\n                y = rect.top;\n            }\n        }\n\n        return { format, x, y };\n    }\n}\n","import * as React from 'react';\nimport { EntityState, Snapshot, SnapshotSelection } from 'roosterjs-content-model-types';\n\nconst styles = require('./SnapshotPane.scss');\n\nexport interface SnapshotPaneProps {\n    onTakeSnapshot: () => Snapshot;\n    onRestoreSnapshot: (snapshot: Snapshot, triggerContentChangedEvent: boolean) => void;\n    onMove: (moveStep: number) => void;\n}\n\nexport interface SnapshotPaneState {\n    snapshots: Snapshot[];\n    currentIndex: number;\n    autoCompleteIndex: number;\n}\n\nexport class SnapshotPane extends React.Component<SnapshotPaneProps, SnapshotPaneState> {\n    private html = React.createRef<HTMLTextAreaElement>();\n    private entityStates = React.createRef<HTMLTextAreaElement>();\n    private isDarkColor = React.createRef<HTMLInputElement>();\n    private selection = React.createRef<HTMLTextAreaElement>();\n\n    constructor(props: SnapshotPaneProps) {\n        super(props);\n\n        this.state = {\n            snapshots: [],\n            currentIndex: -1,\n            autoCompleteIndex: -1,\n        };\n    }\n\n    render() {\n        return (\n            <div className={styles.snapshotPane} onPaste={this.onPaste}>\n                <h3>Undo Snapshots</h3>\n                <div className={styles.snapshotList}>\n                    {this.state.snapshots.map(this.renderItem)}\n                </div>\n                <h3>Selected Snapshot</h3>\n                <div className={styles.buttons}>\n                    <button onClick={this.takeSnapshot}>{'Take snapshot'}</button>{' '}\n                    <button onClick={this.onClickRestoreSnapshot}>{'Restore snapshot'}</button>\n                    <button onClick={this.onCopy}>{'Copy snapshot with metadata'}</button>\n                </div>\n                <div>HTML:</div>\n                <textarea ref={this.html} className={styles.textarea} spellCheck={false} />\n                <div>Selection:</div>\n                <textarea ref={this.selection} className={styles.textarea} spellCheck={false} />\n                <div>Entity states:</div>\n                <textarea ref={this.entityStates} className={styles.textarea} spellCheck={false} />\n                <div>\n                    <input type=\"checkbox\" ref={this.isDarkColor} id=\"isUndoInDarkColor\" />\n                    <label htmlFor=\"isUndoInDarkColor\">Is in dark mode</label>\n                </div>\n            </div>\n        );\n    }\n\n    private getCurrentSnapshot(): Snapshot {\n        const html = this.html.current.value;\n        const selection = this.selection.current.value\n            ? (JSON.parse(this.selection.current.value) as SnapshotSelection)\n            : undefined;\n        const entityStates = this.entityStates.current.value\n            ? (JSON.parse(this.entityStates.current.value) as EntityState[])\n            : undefined;\n        const isDarkMode = !!this.isDarkColor.current.checked;\n\n        return {\n            html,\n            entityStates,\n            isDarkMode,\n            selection,\n        };\n    }\n\n    private onClickRestoreSnapshot = () => {\n        const snapshot = this.getCurrentSnapshot();\n\n        this.props.onRestoreSnapshot(snapshot, true);\n    };\n\n    private onCopy = () => {\n        const snapshot = this.getCurrentSnapshot();\n        const metadata = {\n            ...snapshot.selection,\n            isDarkMode: snapshot.isDarkMode,\n        };\n        const textToCopy = snapshot.html + `<!--${JSON.stringify(metadata)}-->`;\n\n        navigator.clipboard.writeText(textToCopy);\n    };\n\n    private onPaste = (event: React.ClipboardEvent) => {\n        const str = event.clipboardData.getData('text/plain');\n\n        if (str) {\n            const idx = str.lastIndexOf('<!--');\n\n            if (idx >= 0 && str.endsWith('-->')) {\n                const html = str.substring(0, idx);\n                const json = str.substring(idx + 4, str.length - 3);\n\n                try {\n                    const metadata = JSON.parse(json);\n                    const isDarkMode = !!metadata.isDarkMode;\n\n                    delete metadata.isDarkMode;\n\n                    this.setSnapshot({\n                        html: html,\n                        entityStates: [],\n                        isDarkMode: isDarkMode,\n                        selection: metadata as SnapshotSelection,\n                    });\n\n                    event.preventDefault();\n                } catch {}\n            }\n        }\n    };\n\n    updateSnapshots(snapshots: Snapshot[], currentIndex: number, autoCompleteIndex: number) {\n        this.setState({\n            snapshots,\n            currentIndex,\n            autoCompleteIndex,\n        });\n    }\n\n    snapshotToString(snapshot: Snapshot) {\n        return (\n            snapshot.html +\n            (snapshot.selection ? `<!--${JSON.stringify(snapshot.selection)}-->` : '')\n        );\n    }\n\n    private takeSnapshot = () => {\n        const snapshot = this.props.onTakeSnapshot();\n        this.setSnapshot(snapshot);\n    };\n\n    private setSnapshot = (snapshot: Snapshot) => {\n        this.html.current.value = snapshot.html;\n        this.entityStates.current.value = snapshot.entityStates\n            ? JSON.stringify(snapshot.entityStates)\n            : '';\n        this.selection.current.value = snapshot.selection ? JSON.stringify(snapshot.selection) : '';\n        this.isDarkColor.current.checked = !!snapshot.isDarkMode;\n    };\n\n    private renderItem = (snapshot: Snapshot, index: number) => {\n        let className = '';\n        if (index == this.state.currentIndex) {\n            className += ' ' + styles.current;\n        }\n        if (index == this.state.autoCompleteIndex) {\n            className += ' ' + styles.autoComplete;\n        }\n\n        const snapshotStr = this.snapshotToString(snapshot);\n        return (\n            <pre\n                className={className}\n                key={index}\n                onClick={() => this.setSnapshot(snapshot)}\n                onDoubleClick={() => this.props.onMove(index - this.state.currentIndex)}>\n                {(snapshotStr || '<EMPTY SNAPSHOT>').substring(0, 1000)}\n            </pre>\n        );\n    };\n}\n","import * as React from 'react';\nimport { IEditor, PluginEvent, Snapshot, Snapshots } from 'roosterjs-content-model-types';\nimport { SidePanePlugin } from '../SidePanePlugin';\nimport { SnapshotPane } from './SnapshotPane';\n\nexport class SnapshotPlugin implements SidePanePlugin {\n    private editor: IEditor;\n    private component: SnapshotPane;\n\n    constructor(private snapshots: Snapshots) {\n        this.snapshots.onChanged = () => this.updateSnapshots();\n    }\n\n    getName() {\n        return 'Snapshot';\n    }\n\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    dispose() {\n        this.editor = null;\n    }\n\n    onPluginEvent(e: PluginEvent) {\n        if (e.eventType == 'editorReady') {\n            this.updateSnapshots();\n        }\n    }\n\n    getTitle() {\n        return 'Undo Snapshots';\n    }\n\n    renderSidePane() {\n        return <SnapshotPane {...this.getComponentProps()} ref={this.refCallback} />;\n    }\n\n    getSnapshots() {\n        return this.snapshots;\n    }\n\n    private refCallback = (ref: SnapshotPane) => {\n        this.component = ref;\n        if (ref) {\n            this.updateSnapshots();\n        }\n    };\n\n    private getComponentProps() {\n        return {\n            onRestoreSnapshot: this.onRestoreSnapshot,\n            onTakeSnapshot: this.onTakeSnapshot,\n            onMove: this.onMove,\n        };\n    }\n\n    private onTakeSnapshot = (): Snapshot => {\n        return this.editor.takeSnapshot();\n    };\n\n    private onMove = (step: number) => {\n        const snapshotsManager = this.editor.getSnapshotsManager();\n        const snapshot = snapshotsManager.move(step);\n        this.onRestoreSnapshot(snapshot);\n    };\n\n    private onRestoreSnapshot = (snapshot: Snapshot) => {\n        this.editor.focus();\n        this.editor.restoreSnapshot(snapshot);\n    };\n\n    private updateSnapshots = () => {\n        if (!this.component) {\n            return;\n        }\n\n        this.component.updateSnapshots(\n            this.snapshots.snapshots,\n            this.snapshots.currentIndex,\n            this.snapshots.autoCompleteIndex\n        );\n    };\n}\n","import { PartialTheme } from '@fluentui/react/lib/Theme';\n\nconst LightTheme: PartialTheme = {\n    palette: {\n        themePrimary: '#cc6688',\n        themeLighterAlt: '#080405',\n        themeLighter: '#211016',\n        themeLight: '#3d1f29',\n        themeTertiary: '#7a3d52',\n        themeSecondary: '#b45a78',\n        themeDarkAlt: '#d17392',\n        themeDark: '#d886a1',\n        themeDarker: '#e2a3b8',\n        neutralLighterAlt: '#f8f8f8',\n        neutralLighter: '#f4f4f4',\n        neutralLight: '#eaeaea',\n        neutralQuaternaryAlt: '#dadada',\n        neutralQuaternary: '#d0d0d0',\n        neutralTertiaryAlt: '#c8c8c8',\n        neutralTertiary: '#595959',\n        neutralSecondary: '#373737',\n        neutralPrimaryAlt: '#2f2f2f',\n        neutralPrimary: '#000000',\n        neutralDark: '#151515',\n        black: '#0b0b0b',\n        white: '#ffffff',\n    },\n};\n\nconst DarkTheme: PartialTheme = {\n    palette: {\n        themePrimary: '#cb6587',\n        themeLighterAlt: '#fdf8fa',\n        themeLighter: '#f7e3ea',\n        themeLight: '#f0ccd8',\n        themeTertiary: '#e09db4',\n        themeSecondary: '#d27694',\n        themeDarkAlt: '#b85c7a',\n        themeDark: '#9b4e67',\n        themeDarker: '#72394c',\n        neutralLighterAlt: '#3c3c3c',\n        neutralLighter: '#444444',\n        neutralLight: '#515151',\n        neutralQuaternaryAlt: '#595959',\n        neutralQuaternary: '#5f5f5f',\n        neutralTertiaryAlt: '#7a7a7a',\n        neutralTertiary: '#c8c8c8',\n        neutralSecondary: '#d0d0d0',\n        neutralPrimaryAlt: '#dadada',\n        neutralPrimary: '#ffffff',\n        neutralDark: '#f4f4f4',\n        black: '#f8f8f8',\n        white: '#333333',\n    },\n};\n\nexport function getTheme(isDark: boolean): PartialTheme {\n    return isDark ? DarkTheme : LightTheme;\n}\n","import * as React from 'react';\n\nconst styles = require('./TitleBar.scss');\nconst github = require('./iconmonstr-github-1.svg');\n\nexport interface TitleBarProps {\n    className?: string;\n}\n\nexport class TitleBar extends React.Component<TitleBarProps, {}> {\n    render() {\n        const { className: baseClassName } = this.props;\n        const className = styles.titleBar + ' ' + (baseClassName || '');\n        const titleText = 'RoosterJs Demo Site';\n\n        return (\n            <div className={className}>\n                <div className={styles.title}>\n                    <span className={styles.titleText}>{titleText}</span>\n                </div>\n                <div className={styles.version}></div>\n                <div className={styles.links}>\n                    <a href=\"?legacy=1\" className={styles.link}>\n                        Legacy demo site\n                    </a>\n                    {' | '}\n                    <a\n                        href=\"https://github.com/Microsoft/roosterjs/wiki\"\n                        target=\"_blank\"\n                        className={styles.link}>\n                        Wiki\n                    </a>\n                    {' | '}\n                    <a href=\"docs/index.html\" target=\"_blank\" className={styles.link}>\n                        References\n                    </a>\n                    {' | '}\n                    <a href=\"coverage/index.html\" target=\"_blank\" className={styles.link}>\n                        Test\n                    </a>\n                    {' | '}\n                    <a\n                        href=\"https://github.com/microsoft/roosterjs/actions/workflows/build-and-deploy.yml\"\n                        target=\"_blank\">\n                        <img\n                            className={styles.externalLink}\n                            src=\"https://github.com/microsoft/roosterjs/actions/workflows/build-and-deploy.yml/badge.svg\"\n                            alt=\"Build Status\"\n                        />\n                    </a>{' '}\n                    <a href=\"http://badge.fury.io/js/roosterjs\" target=\"_blank\">\n                        <img\n                            src=\"https://badge.fury.io/js/roosterjs.svg\"\n                            alt=\"NPM Version\"\n                            className={styles.externalLink}\n                        />\n                    </a>{' '}\n                    <a\n                        href=\"https://github.com/microsoft/roosterjs\"\n                        target=\"_blank\"\n                        className={styles.link}\n                        title=\"RoosterJs on Github\">\n                        <img className={styles.externalLink} src={github} />\n                    </a>\n                </div>\n            </div>\n        );\n    }\n}\n","import { Stylesheet } from '@fluentui/merge-styles/lib/Stylesheet';\n\nlet isCssMonitorStarted: boolean = false;\nconst activeWindows: Window[] = [];\n\nfunction startCssMonitor() {\n    if (!isCssMonitorStarted) {\n        isCssMonitorStarted = true;\n        Stylesheet.getInstance().setConfig({\n            onInsertRule: (cssText: string) => {\n                activeWindows.forEach(win => {\n                    const style = win.document.createElement('style');\n                    style.textContent = cssText;\n                    win.document.head.appendChild(style);\n                });\n            },\n        });\n    }\n}\n\nexport function registerWindowForCss(win: Window) {\n    startCssMonitor();\n\n    activeWindows.push(win);\n\n    const styles = document.getElementsByTagName('STYLE');\n    const fragment = win.document.createDocumentFragment();\n\n    for (let i = 0; i < styles.length; i++) {\n        const style = win.document.createElement('style');\n        fragment.appendChild(style);\n\n        const originalStyle = styles[i] as HTMLStyleElement;\n        const rules = originalStyle.sheet.cssRules;\n        let cssText = '';\n\n        for (let j = 0; j < rules.length; j++) {\n            const rule = rules[j] as CSSStyleRule;\n            cssText += rule.cssText;\n        }\n\n        style.textContent = cssText;\n    }\n\n    win.document.head.appendChild(fragment);\n}\n\nexport function unregisterWindowForCss(win: Window) {\n    const index = activeWindows.indexOf(win);\n\n    if (index >= 0) {\n        activeWindows.splice(index, 1);\n    }\n}\n","import * as DOMPurify from 'dompurify';\n\nexport function trustedHTMLHandler(html: string): string {\n    const result = DOMPurify.sanitize(html, {\n        ADD_TAGS: ['head', 'meta', '#comment', 'iframe'],\n        ADD_ATTR: ['name', 'content'],\n        WHOLE_DOCUMENT: true,\n        RETURN_TRUSTED_TYPE: true,\n        ALLOW_UNKNOWN_PROTOCOLS: true,\n    });\n    return <string>(<any>result);\n}\n","import { cacheGetEventData } from 'roosterjs-content-model-core';\nimport { createDarkColorHandler } from '../editor/DarkColorHandlerImpl';\nimport { createEditPlugin } from './EditPlugin';\nimport { newEventToOldEvent, oldEventToNewEvent } from '../editor/utils/eventConverter';\nimport type {\n    EditorPlugin as LegacyEditorPlugin,\n    ContextMenuProvider as LegacyContextMenuProvider,\n    IEditor as ILegacyEditor,\n    ExperimentalFeatures,\n    SizeTransformer,\n    EditPluginState,\n    CustomData,\n    DarkColorHandler,\n} from 'roosterjs-editor-types';\nimport type { ContextMenuProvider, IEditor, PluginEvent } from 'roosterjs-content-model-types';\n\nconst ExclusivelyHandleEventPluginKey = '__ExclusivelyHandleEventPlugin';\nconst OldEventKey = '__OldEventFromNewEvent';\n\n/**\n * @internal\n * Represents the core data structure of a editor adapter\n */\nexport interface EditorAdapterCore {\n    /**\n     * Custom data of this editor\n     */\n    readonly customData: Record<string, CustomData>;\n\n    /**\n     * Enabled experimental features\n     */\n    readonly experimentalFeatures: ExperimentalFeatures[];\n\n    /**\n     * Dark model handler for the editor, used for variable-based solution.\n     * If keep it null, editor will still use original dataset-based dark mode solution.\n     */\n    readonly darkColorHandler: DarkColorHandler;\n\n    /**\n     * Plugin state of EditPlugin\n     */\n    readonly edit: EditPluginState;\n\n    /**\n     * Context Menu providers\n     */\n    readonly contextMenuProviders: LegacyContextMenuProvider<any>[];\n\n    /**\n     * @deprecated Use zoomScale instead\n     */\n    readonly sizeTransformer: SizeTransformer;\n}\n\n/**\n * @internal\n * Act as a bridge between Standalone editor and Content Model editor, translate Standalone editor event type to legacy event type\n */\nexport class BridgePlugin implements ContextMenuProvider<any> {\n    private legacyPlugins: LegacyEditorPlugin[];\n    private edit: EditPluginState;\n    private contextMenuProviders: LegacyContextMenuProvider<any>[];\n    private checkExclusivelyHandling: boolean;\n\n    constructor(\n        private onInitialize: (core: EditorAdapterCore) => ILegacyEditor,\n        legacyPlugins: LegacyEditorPlugin[] = [],\n        private experimentalFeatures: ExperimentalFeatures[] = []\n    ) {\n        const editPlugin = createEditPlugin();\n\n        this.legacyPlugins = [editPlugin, ...legacyPlugins.filter(x => !!x)];\n        this.edit = editPlugin.getState();\n        this.contextMenuProviders = this.legacyPlugins.filter(isContextMenuProvider);\n        this.checkExclusivelyHandling = this.legacyPlugins.some(\n            plugin => plugin.willHandleEventExclusively\n        );\n    }\n\n    /**\n     * Get a friendly name of  this plugin\n     */\n    getName() {\n        return 'Bridge';\n    }\n\n    /**\n     * Initialize this plugin. This should only be called from Editor\n     * @param editor Editor instance\n     */\n    initialize(editor: IEditor) {\n        const outerEditor = this.onInitialize(this.createEditorCore(editor));\n\n        this.legacyPlugins.forEach(plugin => plugin.initialize(outerEditor));\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        for (let i = this.legacyPlugins.length - 1; i >= 0; i--) {\n            const plugin = this.legacyPlugins[i];\n\n            plugin.dispose();\n        }\n    }\n\n    willHandleEventExclusively(event: PluginEvent) {\n        return this.checkExclusivelyHandling && !!this.cacheGetExclusivelyHandlePlugin(event);\n    }\n\n    onPluginEvent(event: PluginEvent) {\n        const oldEvent = this.cacheGetOldEvent(event);\n\n        if (oldEvent) {\n            const exclusivelyHandleEventPlugin = this.cacheGetExclusivelyHandlePlugin(event);\n\n            if (exclusivelyHandleEventPlugin) {\n                exclusivelyHandleEventPlugin.onPluginEvent?.(oldEvent);\n            } else {\n                this.legacyPlugins.forEach(plugin => plugin.onPluginEvent?.(oldEvent));\n            }\n\n            Object.assign(event, oldEventToNewEvent(oldEvent, event));\n        }\n    }\n\n    /**\n     * A callback to return context menu items\n     * @param target Target node that triggered a ContextMenu event\n     * @returns An array of context menu items, or null means no items needed\n     */\n    getContextMenuItems(target: Node): any[] {\n        const allItems: any[] = [];\n\n        this.contextMenuProviders.forEach(provider => {\n            const items = provider.getContextMenuItems(target) ?? [];\n            if (items?.length > 0) {\n                if (allItems.length > 0) {\n                    allItems.push(null);\n                }\n\n                allItems.push(...items);\n            }\n        });\n\n        return allItems;\n    }\n\n    private cacheGetExclusivelyHandlePlugin(event: PluginEvent) {\n        return cacheGetEventData(event, ExclusivelyHandleEventPluginKey, event => {\n            const oldEvent = this.cacheGetOldEvent(event);\n\n            if (oldEvent) {\n                for (let i = 0; i < this.legacyPlugins.length; i++) {\n                    const plugin = this.legacyPlugins[i];\n\n                    if (plugin.willHandleEventExclusively?.(oldEvent)) {\n                        return plugin;\n                    }\n                }\n            }\n\n            return null;\n        });\n    }\n\n    private cacheGetOldEvent(event: PluginEvent) {\n        return cacheGetEventData(event, OldEventKey, newEventToOldEvent);\n    }\n\n    private createEditorCore(editor: IEditor): EditorAdapterCore {\n        return {\n            customData: {},\n            experimentalFeatures: this.experimentalFeatures ?? [],\n            sizeTransformer: createSizeTransformer(editor),\n            darkColorHandler: createDarkColorHandler(editor.getColorManager()),\n            edit: this.edit,\n            contextMenuProviders: this.contextMenuProviders,\n        };\n    }\n}\n\n/**\n * @internal Export for test only. This function is only used for compatibility from older build\n\n */\nexport function createSizeTransformer(editor: IEditor): SizeTransformer {\n    return size => size / editor.getDOMHelper().calculateZoomScale();\n}\n\nfunction isContextMenuProvider(\n    source: LegacyEditorPlugin\n): source is LegacyContextMenuProvider<any> {\n    return !!(<LegacyContextMenuProvider<any>>source)?.getContextMenuItems;\n}\n","import { isCtrlOrMetaPressed } from 'roosterjs-editor-dom';\nimport { Keys, PluginEventType } from 'roosterjs-editor-types';\nimport type {\n    EditPluginState,\n    GenericContentEditFeature,\n    IEditor,\n    PluginEvent,\n    PluginWithState,\n} from 'roosterjs-editor-types';\n\n/**\n * Edit Component helps handle Content edit features\n */\nclass EditPlugin implements PluginWithState<EditPluginState> {\n    private editor: IEditor | null = null;\n    private state: EditPluginState;\n\n    /**\n     * Construct a new instance of EditPlugin\n     * @param options The editor options\n     */\n    constructor() {\n        this.state = {\n            features: {},\n        };\n    }\n\n    /**\n     * Get a friendly name of  this plugin\n     */\n    getName() {\n        return 'Edit';\n    }\n\n    /**\n     * Initialize this plugin. This should only be called from Editor\n     * @param editor Editor instance\n     */\n    initialize(editor: IEditor) {\n        this.editor = editor;\n    }\n\n    /**\n     * Dispose this plugin\n     */\n    dispose() {\n        this.editor = null;\n    }\n\n    /**\n     * Get plugin state object\n     */\n    getState() {\n        return this.state;\n    }\n\n    /**\n     * Handle events triggered from editor\n     * @param event PluginEvent object\n     */\n    onPluginEvent(event: PluginEvent) {\n        let hasFunctionKey = false;\n        let features: GenericContentEditFeature<PluginEvent>[] | null = null;\n        let ctrlOrMeta = false;\n        const isKeyDownEvent = event.eventType == PluginEventType.KeyDown;\n\n        if (isKeyDownEvent) {\n            const rawEvent = event.rawEvent;\n            const range = this.editor?.getSelectionRange();\n\n            ctrlOrMeta = isCtrlOrMetaPressed(rawEvent);\n            hasFunctionKey = ctrlOrMeta || rawEvent.altKey;\n            features =\n                this.state.features[rawEvent.which] ||\n                (range && !range.collapsed && this.state.features[Keys.RANGE]);\n        } else if (event.eventType == PluginEventType.ContentChanged) {\n            features = this.state.features[Keys.CONTENTCHANGED];\n        }\n\n        for (let i = 0; features && i < features?.length; i++) {\n            const feature = features[i];\n            if (\n                (feature.allowFunctionKeys || !hasFunctionKey) &&\n                this.editor &&\n                feature.shouldHandleEvent(event, this.editor, ctrlOrMeta)\n            ) {\n                feature.handleEvent(event, this.editor);\n                if (isKeyDownEvent) {\n                    event.handledByEditFeature = true;\n                }\n                break;\n            }\n        }\n    }\n}\n\n/**\n * @internal\n * Create a new instance of EditPlugin.\n */\nexport function createEditPlugin(): PluginWithState<EditPluginState> {\n    return new EditPlugin();\n}\n","import { getColor, getObjectKeys, parseColor, setColor } from 'roosterjs-content-model-dom';\nimport type { ColorKeyAndValue, DarkColorHandler } from 'roosterjs-editor-types';\nimport type { DarkColorHandler as StandaloneDarkColorHandler } from 'roosterjs-content-model-types';\n\nconst VARIABLE_REGEX = /^\\s*var\\(\\s*(\\-\\-[a-zA-Z0-9\\-_]+)\\s*(?:,\\s*(.*))?\\)\\s*$/;\nconst VARIABLE_PREFIX = 'var(';\nconst COLOR_VAR_PREFIX = 'darkColor';\n\nclass DarkColorHandlerImpl implements DarkColorHandler {\n    constructor(private innerHandler: StandaloneDarkColorHandler) {}\n\n    /**\n     * Get a copy of known colors\n     * @returns\n     */\n    getKnownColorsCopy() {\n        return Object.values(this.innerHandler.knownColors);\n    }\n\n    /**\n     * Given a light mode color value and an optional dark mode color value, register this color\n     * so that editor can handle it, then return the CSS color value for current color mode.\n     * @param lightModeColor Light mode color value\n     * @param isDarkMode Whether current color mode is dark mode\n     * @param darkModeColor Optional dark mode color value. If not passed, we will calculate one.\n     */\n    registerColor(lightModeColor: string, isDarkMode: boolean, darkModeColor?: string): string {\n        const parsedColor = this.parseColorValue(lightModeColor);\n        let colorKey: string | undefined;\n\n        if (parsedColor) {\n            lightModeColor = parsedColor.lightModeColor;\n            darkModeColor = parsedColor.darkModeColor || darkModeColor;\n            colorKey = parsedColor.key;\n        }\n\n        if (isDarkMode && lightModeColor) {\n            colorKey =\n                colorKey || `--${COLOR_VAR_PREFIX}_${lightModeColor.replace(/[^\\d\\w]/g, '_')}`;\n\n            this.innerHandler.updateKnownColor(isDarkMode, colorKey, {\n                lightModeColor,\n                darkModeColor: darkModeColor || this.innerHandler.getDarkColor(lightModeColor),\n            });\n\n            return `var(${colorKey}, ${lightModeColor})`;\n        } else {\n            return lightModeColor;\n        }\n    }\n\n    /**\n     * Reset known color record, clean up registered color variables.\n     */\n    reset(): void {\n        this.innerHandler.reset();\n    }\n\n    /**\n     * Parse an existing color value, if it is in variable-based color format, extract color key,\n     * light color and query related dark color if any\n     * @param color The color string to parse\n     * @param isInDarkMode Whether current content is in dark mode. When set to true, if the color value is not in dark var format,\n     * we will treat is as a dark mode color and try to find a matched dark mode color.\n     */\n    parseColorValue(color: string | undefined | null, isInDarkMode?: boolean): ColorKeyAndValue {\n        let key: string | undefined;\n        let lightModeColor = '';\n        let darkModeColor: string | undefined;\n\n        if (color) {\n            const match = color.startsWith(VARIABLE_PREFIX) ? VARIABLE_REGEX.exec(color) : null;\n\n            if (match) {\n                if (match[2]) {\n                    key = match[1];\n                    lightModeColor = match[2];\n                    darkModeColor = this.innerHandler.knownColors[key]?.darkModeColor;\n                } else {\n                    lightModeColor = '';\n                }\n            } else if (isInDarkMode) {\n                // If editor is in dark mode but the color is not in dark color format, it is possible the color was inserted from external code\n                // without any light color info. So we first try to see if there is a known dark color can match this color, and use its related\n                // light color as light mode color. Otherwise we need to drop this color to avoid show \"white on white\" content.\n                lightModeColor = this.findLightColorFromDarkColor(color) || '';\n\n                if (lightModeColor) {\n                    darkModeColor = color;\n                }\n            } else {\n                lightModeColor = color;\n            }\n        }\n\n        return { key, lightModeColor, darkModeColor };\n    }\n\n    /**\n     * Find related light mode color from dark mode color.\n     * @param darkColor The existing dark color\n     */\n    findLightColorFromDarkColor(darkColor: string): string | null {\n        const rgbSearch = parseColor(darkColor);\n        const knownColors = this.innerHandler.knownColors;\n\n        if (rgbSearch) {\n            const key = getObjectKeys(knownColors).find(key => {\n                const rgbCurrent = parseColor(knownColors[key].darkModeColor);\n\n                return (\n                    rgbCurrent &&\n                    rgbCurrent[0] == rgbSearch[0] &&\n                    rgbCurrent[1] == rgbSearch[1] &&\n                    rgbCurrent[2] == rgbSearch[2]\n                );\n            });\n\n            if (key) {\n                return knownColors[key].lightModeColor;\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * Transform element color, from dark to light or from light to dark\n     * @param element The element to transform color\n     * @param fromDarkMode Whether this is transforming color from dark mode\n     * @param toDarkMode Whether this is transforming color to dark mode\n     */\n    transformElementColor(element: HTMLElement, fromDarkMode: boolean, toDarkMode: boolean): void {\n        const textColor = getColor(element, false /*isBackground*/, !toDarkMode, this.innerHandler);\n        const backColor = getColor(element, true /*isBackground*/, !toDarkMode, this.innerHandler);\n\n        setColor(element, textColor, false /*isBackground*/, toDarkMode, this.innerHandler);\n        setColor(element, backColor, true /*isBackground*/, toDarkMode, this.innerHandler);\n    }\n}\n\n/**\n * @internal\n */\nexport function createDarkColorHandler(innerHandler: StandaloneDarkColorHandler): DarkColorHandler {\n    return new DarkColorHandlerImpl(innerHandler);\n}\n","import { BridgePlugin } from '../corePlugins/BridgePlugin';\nimport { buildRangeEx } from './utils/buildRangeEx';\nimport { getObjectKeys } from 'roosterjs-content-model-dom';\nimport { insertNode } from './utils/insertNode';\nimport type { EditorAdapterCore } from '../corePlugins/BridgePlugin';\nimport {\n    newEventToOldEvent,\n    oldEventToNewEvent,\n    OldEventTypeToNewEventType,\n} from './utils/eventConverter';\nimport {\n    createModelFromHtml,\n    exportContent,\n    isBold,\n    redo,\n    retrieveModelFormatState,\n    Editor,\n    transformColor,\n    undo,\n    paste,\n} from 'roosterjs-content-model-core';\nimport {\n    ChangeSource,\n    ColorTransformDirection,\n    ContentPosition,\n    GetContentMode,\n    PluginEventType,\n    QueryScope,\n    RegionType,\n} from 'roosterjs-editor-types';\nimport type {\n    BlockElement,\n    ClipboardData,\n    ContentChangedData,\n    ContentChangedEvent,\n    DOMEventHandler,\n    DefaultFormat,\n    EditorUndoState,\n    ExperimentalFeatures,\n    GenericContentEditFeature,\n    IContentTraverser,\n    IPositionContentSearcher,\n    InsertOption,\n    NodePosition,\n    PendableFormatState,\n    PluginEvent,\n    PluginEventData,\n    PluginEventFromType,\n    PositionType,\n    Region,\n    SelectionPath,\n    SelectionRangeEx,\n    SizeTransformer,\n    StyleBasedFormatState,\n    TableSelection,\n    DOMEventHandlerObject,\n    DarkColorHandler,\n    IEditor as ILegacyEditor,\n} from 'roosterjs-editor-types';\nimport {\n    convertDomSelectionToRangeEx,\n    convertRangeExToDomSelection,\n} from './utils/selectionConverter';\nimport type {\n    CompatibleChangeSource,\n    CompatibleColorTransformDirection,\n    CompatibleContentPosition,\n    CompatibleExperimentalFeatures,\n    CompatibleGetContentMode,\n    CompatiblePluginEventType,\n    CompatibleQueryScope,\n    CompatibleRegionType,\n} from 'roosterjs-editor-types/lib/compatibleTypes';\nimport {\n    ContentTraverser,\n    Position,\n    PositionContentSearcher,\n    cacheGetEventData,\n    collapseNodes,\n    contains,\n    deleteSelectedContent,\n    getBlockElementAtNode,\n    getRegionsFromRange,\n    getSelectionPath,\n    isNodeEmpty,\n    isPositionAtBeginningOf,\n    queryElements,\n    toArray,\n    wrap,\n} from 'roosterjs-editor-dom';\nimport type { EditorAdapterOptions } from '../publicTypes/EditorAdapterOptions';\nimport type {\n    ContentModelFormatState,\n    DOMEventRecord,\n    ExportContentMode,\n    IEditor,\n    EditorOptions,\n} from 'roosterjs-content-model-types';\n\nconst GetContentModeMap: Record<GetContentMode, ExportContentMode> = {\n    [GetContentMode.CleanHTML]: 'HTML',\n    [GetContentMode.PlainText]: 'PlainText',\n    [GetContentMode.PlainTextFast]: 'PlainTextFast',\n    [GetContentMode.RawHTMLOnly]: 'HTML',\n    [GetContentMode.RawHTMLWithSelection]: 'HTML',\n};\n\n/**\n * Editor for Content Model.\n * (This class is still under development, and may still be changed in the future with some breaking changes)\n */\nexport class EditorAdapter extends Editor implements ILegacyEditor {\n    private contentModelEditorCore: EditorAdapterCore | undefined;\n\n    /**\n     * Creates an instance of Editor\n     * @param contentDiv The DIV HTML element which will be the container element of editor\n     * @param options An optional options object to customize the editor\n     */\n    constructor(contentDiv: HTMLDivElement, options: EditorAdapterOptions = {}) {\n        const bridgePlugin = new BridgePlugin(\n            core => {\n                this.contentModelEditorCore = core;\n\n                return this;\n            },\n            options.legacyPlugins,\n            options.experimentalFeatures\n        );\n\n        const plugins = [bridgePlugin, ...(options.plugins ?? [])];\n        const initContent = options.initialContent ?? contentDiv.innerHTML;\n        const initialModel =\n            initContent && !options.initialModel\n                ? createModelFromHtml(\n                      initContent,\n                      options.defaultDomToModelOptions,\n                      options.trustedHTMLHandler,\n                      options.defaultSegmentFormat\n                  )\n                : options.initialModel;\n        const standaloneEditorOptions: EditorOptions = {\n            ...options,\n            plugins,\n            initialModel,\n        };\n\n        super(contentDiv, standaloneEditorOptions);\n    }\n\n    /**\n     * Dispose this editor, dispose all plugins and custom data\n     */\n    dispose(): void {\n        super.dispose();\n\n        const core = this.contentModelEditorCore;\n\n        if (core) {\n            getObjectKeys(core.customData).forEach(key => {\n                const data = core.customData[key];\n\n                if (data && data.disposer) {\n                    data.disposer(data.value);\n                }\n\n                delete core.customData[key];\n            });\n\n            this.contentModelEditorCore = undefined;\n        }\n    }\n\n    /**\n     * Get whether this editor is disposed\n     * @returns True if editor is disposed, otherwise false\n     */\n    isDisposed(): boolean {\n        return super.isDisposed() || !this.contentModelEditorCore;\n    }\n\n    /**\n     * Insert node into editor\n     * @param node The node to insert\n     * @param option Insert options. Default value is:\n     *  position: ContentPosition.SelectionStart\n     *  updateCursor: true\n     *  replaceSelection: true\n     *  insertOnNewLine: false\n     * @returns true if node is inserted. Otherwise false\n     */\n    insertNode(node: Node, option?: InsertOption): boolean {\n        if (node) {\n            option = option || {\n                position: ContentPosition.SelectionStart,\n                insertOnNewLine: false,\n                updateCursor: true,\n                replaceSelection: true,\n                insertToRegionRoot: false,\n            };\n\n            const { physicalRoot } = this.getCore();\n\n            if (option.updateCursor) {\n                this.focus();\n            }\n\n            if (option.position == ContentPosition.Outside) {\n                physicalRoot.parentNode?.insertBefore(node, physicalRoot.nextSibling);\n            } else {\n                if (this.isDarkMode()) {\n                    transformColor(\n                        node,\n                        true /*includeSelf*/,\n                        'lightToDark',\n                        this.getColorManager()\n                    );\n                }\n\n                const selection = insertNode(physicalRoot, this.getDOMSelection(), node, option);\n\n                if (selection && option.updateCursor) {\n                    this.setDOMSelection(selection);\n                }\n            }\n\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * Delete a node from editor content\n     * @param node The node to delete\n     * @returns true if node is deleted. Otherwise false\n     */\n    deleteNode(node: Node): boolean {\n        // Only remove the node when it falls within editor\n        if (node && this.contains(node) && node.parentNode) {\n            node.parentNode.removeChild(node);\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Replace a node in editor content with another node\n     * @param existingNode The existing node to be replaced\n     * @param toNode node to replace to\n     * @param transformColorForDarkMode (optional) Whether to transform new node to dark mode. Default is false\n     * @returns true if node is replaced. Otherwise false\n     */\n    replaceNode(existingNode: Node, toNode: Node, transformColorForDarkMode?: boolean): boolean {\n        const core = this.getCore();\n        // Only replace the node when it falls within editor\n        if (this.contains(existingNode) && toNode) {\n            if (core.lifecycle.isDarkMode && transformColorForDarkMode) {\n                this.transformToDarkColor(toNode, ColorTransformDirection.LightToDark);\n            }\n\n            existingNode.parentNode?.replaceChild(toNode, existingNode);\n\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Get BlockElement at given node\n     * @param node The node to create InlineElement\n     * @returns The BlockElement result\n     */\n    getBlockElementAtNode(node: Node): BlockElement | null {\n        return getBlockElementAtNode(this.getCore().logicalRoot, node);\n    }\n\n    contains(arg: Node | Range | null): boolean {\n        if (!arg) {\n            return false;\n        }\n        return contains(this.getCore().logicalRoot, <Node>arg);\n    }\n\n    queryElements(\n        selector: string,\n        scopeOrCallback:\n            | QueryScope\n            | CompatibleQueryScope\n            | ((node: Node) => any) = QueryScope.Body,\n        callback?: (node: Node) => any\n    ) {\n        const core = this.getCore();\n        const result: HTMLElement[] = [];\n        const scope = scopeOrCallback instanceof Function ? QueryScope.Body : scopeOrCallback;\n        callback = scopeOrCallback instanceof Function ? scopeOrCallback : callback;\n\n        const selectionEx = scope == QueryScope.Body ? null : this.getSelectionRangeEx();\n        if (selectionEx) {\n            selectionEx.ranges.forEach(range => {\n                result.push(...queryElements(core.logicalRoot, selector, callback, scope, range));\n            });\n        } else {\n            return queryElements(\n                core.logicalRoot,\n                selector,\n                callback,\n                scope,\n                undefined /* range */\n            );\n        }\n\n        return result;\n    }\n\n    /**\n     * Collapse nodes within the given start and end nodes to their common ancestor node,\n     * split parent nodes if necessary\n     * @param start The start node\n     * @param end The end node\n     * @param canSplitParent True to allow split parent node there are nodes before start or after end under the same parent\n     * and the returned nodes will be all nodes from start through end after splitting\n     * False to disallow split parent\n     * @returns When canSplitParent is true, returns all node from start through end after splitting,\n     * otherwise just return start and end\n     */\n    collapseNodes(start: Node, end: Node, canSplitParent: boolean): Node[] {\n        return collapseNodes(this.getCore().physicalRoot, start, end, canSplitParent);\n    }\n\n    //#endregion\n\n    //#region Content API\n\n    /**\n     * Check whether the editor contains any visible content\n     * @param trim Whether trim the content string before check. Default is false\n     * @returns True if there's no visible content, otherwise false\n     */\n    isEmpty(trim?: boolean): boolean {\n        return isNodeEmpty(this.getCore().physicalRoot, trim);\n    }\n\n    /**\n     * Get current editor content as HTML string\n     * @param mode specify what kind of HTML content to retrieve\n     * @returns HTML string representing current editor content\n     */\n    getContent(mode: GetContentMode | CompatibleGetContentMode = GetContentMode.CleanHTML): string {\n        return exportContent(\n            this,\n            GetContentModeMap[mode],\n            this.getCore().environment.modelToDomSettings.customized\n        );\n    }\n\n    /**\n     * Set HTML content to this editor. All existing content will be replaced. A ContentChanged event will be triggered\n     * @param content HTML content to set in\n     * @param triggerContentChangedEvent True to trigger a ContentChanged event. Default value is true\n     */\n    setContent(content: string, triggerContentChangedEvent: boolean = true) {\n        const core = this.getCore();\n        const { physicalRoot, api, trustedHTMLHandler, lifecycle, darkColorHandler } = core;\n\n        api.triggerEvent(\n            core,\n            {\n                eventType: 'beforeSetContent',\n                newContent: content,\n            },\n            true /*broadcast*/\n        );\n\n        const newModel = createModelFromHtml(\n            content,\n            core.environment.domToModelSettings.customized,\n            trustedHTMLHandler,\n            core.format.defaultFormat\n        );\n\n        api.setContentModel(core, newModel);\n\n        if (triggerContentChangedEvent) {\n            api.triggerEvent(\n                core,\n                {\n                    eventType: 'contentChanged',\n                    source: ChangeSource.SetContent,\n                },\n                false /*broadcast*/\n            );\n        } else if (lifecycle.isDarkMode) {\n            transformColor(physicalRoot, false /*includeSelf*/, 'lightToDark', darkColorHandler);\n        }\n    }\n\n    /**\n     * Insert HTML content into editor\n     * @param HTML content to insert\n     * @param option Insert options. Default value is:\n     *  position: ContentPosition.SelectionStart\n     *  updateCursor: true\n     *  replaceSelection: true\n     *  insertOnNewLine: false\n     */\n    insertContent(content: string, option?: InsertOption) {\n        if (content) {\n            const doc = this.getDocument();\n            const body = new DOMParser().parseFromString(\n                this.getCore().trustedHTMLHandler(content),\n                'text/html'\n            )?.body;\n            let allNodes = body?.childNodes ? toArray(body.childNodes) : [];\n\n            // If it is to insert on new line, and there are more than one node in the collection, wrap all nodes with\n            // a parent DIV before calling insertNode on each top level sub node. Otherwise, every sub node may get wrapped\n            // separately to show up on its own line\n            if (option && option.insertOnNewLine && allNodes.length > 1) {\n                allNodes = [wrap(allNodes)];\n            }\n\n            const fragment = doc.createDocumentFragment();\n            allNodes.forEach(node => fragment.appendChild(node));\n\n            this.insertNode(fragment, option);\n        }\n    }\n\n    /**\n     * Delete selected content\n     */\n    deleteSelectedContent(): NodePosition | null {\n        const range = this.getSelectionRange();\n        if (range && !range.collapsed) {\n            return deleteSelectedContent(this.getCore().physicalRoot, range);\n        }\n        return null;\n    }\n\n    /**\n     * Paste into editor using a clipboardData object\n     * @param clipboardData Clipboard data retrieved from clipboard\n     * @param pasteAsText Force pasting as plain text. Default value is false\n     * @param applyCurrentStyle True if apply format of current selection to the pasted content,\n     * false to keep original format.  Default value is false. When pasteAsText is true, this parameter is ignored\n     * @param pasteAsImage: When set to true, if the clipboardData contains a imageDataUri will paste the image to the editor\n     */\n    paste(\n        clipboardData: ClipboardData,\n        pasteAsText: boolean = false,\n        applyCurrentFormat: boolean = false,\n        pasteAsImage: boolean = false\n    ) {\n        paste(\n            this,\n            clipboardData,\n            pasteAsText\n                ? 'asPlainText'\n                : applyCurrentFormat\n                ? 'mergeFormat'\n                : pasteAsImage\n                ? 'asImage'\n                : 'normal'\n        );\n    }\n\n    //#endregion\n\n    //#region Focus and Selection\n\n    /**\n     * Get current selection range from Editor.\n     * It does a live pull on the selection, if nothing retrieved, return whatever we have in cache.\n     * @param tryGetFromCache Set to true to retrieve the selection range from cache if editor doesn't own the focus now.\n     * Default value is true\n     * @returns current selection range, or null if editor never got focus before\n     */\n    getSelectionRange(tryGetFromCache: boolean = true): Range | null {\n        const selection = this.getDOMSelection();\n\n        return selection?.type == 'range' ? selection.range : null;\n    }\n\n    /**\n     * Get current selection range from Editor.\n     * It does a live pull on the selection, if nothing retrieved, return whatever we have in cache.\n     * @param tryGetFromCache Set to true to retrieve the selection range from cache if editor doesn't own the focus now.\n     * Default value is true\n     * @returns current selection range, or null if editor never got focus before\n     */\n    getSelectionRangeEx(): SelectionRangeEx {\n        const selection = this.getDOMSelection();\n\n        return convertDomSelectionToRangeEx(selection);\n    }\n\n    /**\n     * Get current selection in a serializable format\n     * It does a live pull on the selection, if nothing retrieved, return whatever we have in cache.\n     * @returns current selection path, or null if editor never got focus before\n     */\n    getSelectionPath(): SelectionPath | null {\n        const range = this.getSelectionRange();\n        return range && getSelectionPath(this.getCore().physicalRoot, range);\n    }\n\n    select(\n        arg1: Range | SelectionRangeEx | NodePosition | Node | SelectionPath | null,\n        arg2?: NodePosition | number | PositionType | TableSelection | null,\n        arg3?: Node,\n        arg4?: number | PositionType\n    ): boolean {\n        const core = this.getCore();\n        const rangeEx = buildRangeEx(core.physicalRoot, arg1, arg2, arg3, arg4);\n        const selection = convertRangeExToDomSelection(rangeEx);\n\n        this.setDOMSelection(selection);\n        return true;\n    }\n\n    /**\n     * Get current focused position. Return null if editor doesn't have focus at this time.\n     */\n    getFocusedPosition(): NodePosition | null {\n        const sel = this.getDocument().defaultView?.getSelection();\n        if (sel?.focusNode && this.contains(sel.focusNode)) {\n            return new Position(sel.focusNode, sel.focusOffset);\n        }\n\n        const range = this.getSelectionRange();\n        if (range) {\n            return Position.getStart(range);\n        }\n\n        return null;\n    }\n\n    /**\n     * Get an HTML element from current cursor position.\n     * When expectedTags is not specified, return value is the current node (if it is HTML element)\n     * or its parent node (if current node is a Text node).\n     * When expectedTags is specified, return value is the first ancestor of current node which has\n     * one of the expected tags.\n     * If no element found within editor by the given tag, return null.\n     * @param selector Optional, an HTML selector to find HTML element with.\n     * @param startFrom Start search from this node. If not specified, start from current focused position\n     * @param event Optional, if specified, editor will try to get cached result from the event object first.\n     * If it is not cached before, query from DOM and cache the result into the event object\n     */\n    getElementAtCursor(\n        selector?: string,\n        startFrom?: Node,\n        event?: PluginEvent\n    ): HTMLElement | null {\n        event = startFrom ? undefined : event; // Only use cache when startFrom is not specified, for different start position can have different result\n\n        return (\n            cacheGetEventData(event ?? null, 'GET_ELEMENT_AT_CURSOR_' + selector, () => {\n                if (!startFrom) {\n                    const position = this.getFocusedPosition();\n                    startFrom = position?.node;\n                }\n                return (\n                    startFrom && this.getDOMHelper().findClosestElementAncestor(startFrom, selector)\n                );\n            }) ?? null\n        );\n    }\n\n    /**\n     * Check if this position is at beginning of the editor.\n     * This will return true if all nodes between the beginning of target node and the position are empty.\n     * @param position The position to check\n     * @returns True if position is at beginning of the editor, otherwise false\n     */\n    isPositionAtBeginning(position: NodePosition): boolean {\n        return isPositionAtBeginningOf(position, this.getCore().logicalRoot);\n    }\n\n    /**\n     * Get impacted regions from selection\n     */\n    getSelectedRegions(type: RegionType | CompatibleRegionType = RegionType.Table): Region[] {\n        const selection = this.getSelectionRangeEx();\n        const result: Region[] = [];\n        const logicalRoot = this.getCore().logicalRoot;\n        selection.ranges.forEach(range => {\n            result.push(...(range ? getRegionsFromRange(logicalRoot, range, type) : []));\n        });\n        return result.filter((value, index, self) => {\n            return self.indexOf(value) === index;\n        });\n    }\n\n    //#endregion\n\n    //#region EVENT API\n\n    addDomEventHandler(\n        nameOrMap: string | Record<string, DOMEventHandler>,\n        handler?: DOMEventHandler\n    ): () => void {\n        const eventsMap = typeof nameOrMap == 'string' ? { [nameOrMap]: handler! } : nameOrMap;\n        const eventsMapResult: Record<string, DOMEventRecord> = {};\n\n        getObjectKeys(eventsMap).forEach(key => {\n            const handlerObj = eventsMap[key];\n            let result: DOMEventRecord = {\n                pluginEventType: null,\n                beforeDispatch: null,\n            };\n\n            if (typeof handlerObj === 'number') {\n                result.pluginEventType = OldEventTypeToNewEventType[handlerObj as PluginEventType];\n            } else if (typeof handlerObj === 'function') {\n                result.beforeDispatch = handlerObj;\n            } else if (typeof handlerObj === 'object') {\n                const record = handlerObj as DOMEventHandlerObject;\n                result = {\n                    beforeDispatch: record.beforeDispatch,\n                    pluginEventType:\n                        typeof record.pluginEventType == 'number'\n                            ? OldEventTypeToNewEventType[record.pluginEventType]\n                            : undefined,\n                };\n            }\n\n            eventsMapResult[key] = result;\n        });\n\n        return this.attachDomEvent(eventsMapResult);\n    }\n\n    /**\n     * Trigger an event to be dispatched to all plugins\n     * @param eventType Type of the event\n     * @param data data of the event with given type, this is the rest part of PluginEvent with the given type\n     * @param broadcast indicates if the event needs to be dispatched to all plugins\n     * True means to all, false means to allow exclusive handling from one plugin unless no one wants that\n     * @returns the event object which is really passed into plugins. Some plugin may modify the event object so\n     * the result of this function provides a chance to read the modified result\n     */\n    public triggerPluginEvent<T extends PluginEventType | CompatiblePluginEventType>(\n        eventType: T,\n        data: PluginEventData<T>,\n        broadcast: boolean = false\n    ): PluginEventFromType<T> {\n        const oldEvent = {\n            eventType,\n            ...data,\n        } as PluginEvent;\n        const newEvent = oldEventToNewEvent(oldEvent);\n        const core = this.getCore();\n\n        if (newEvent) {\n            core.api.triggerEvent(core, newEvent, broadcast);\n            return (newEventToOldEvent(newEvent, oldEvent) ?? oldEvent) as PluginEventFromType<T>;\n        } else {\n            return oldEvent as PluginEventFromType<T>;\n        }\n    }\n\n    /**\n     * Trigger a ContentChangedEvent\n     * @param source Source of this event, by default is 'SetContent'\n     * @param data additional data for this event\n     */\n    triggerContentChangedEvent(\n        source: ChangeSource | CompatibleChangeSource | string = ChangeSource.SetContent,\n        data?: any\n    ) {\n        this.triggerPluginEvent(PluginEventType.ContentChanged, {\n            source,\n            data,\n        });\n    }\n\n    //#endregion\n\n    //#region Undo API\n\n    /**\n     * Undo last edit operation\n     */\n    undo() {\n        undo(this);\n    }\n\n    /**\n     * Redo next edit operation\n     */\n    redo() {\n        redo(this);\n    }\n\n    /**\n     * Add undo snapshot, and execute a format callback function, then add another undo snapshot, then trigger\n     * ContentChangedEvent with given change source.\n     * If this function is called nested, undo snapshot will only be added in the outside one\n     * @param callback The callback function to perform formatting, returns a data object which will be used as\n     * the data field in ContentChangedEvent if changeSource is not null.\n     * @param changeSource The change source to use when fire ContentChangedEvent. When the value is not null,\n     * a ContentChangedEvent will be fired with change source equal to this value\n     * @param canUndoByBackspace True if this action can be undone when user press Backspace key (aka Auto Complete).\n     */\n    addUndoSnapshot(\n        callback?: (start: NodePosition | null, end: NodePosition | null) => any,\n        changeSource?: ChangeSource | CompatibleChangeSource | string,\n        canUndoByBackspace?: boolean,\n        additionalData?: ContentChangedData\n    ) {\n        const core = this.getCore();\n        const undoState = core.undo;\n        const isNested = undoState.isNested;\n        let data: any;\n\n        if (!isNested) {\n            undoState.isNested = true;\n\n            // When there is getEntityState, it means this is triggered by an entity change.\n            // So if HTML content is not changed (hasNewContent is false), no need to add another snapshot before change\n            if (\n                core.undo.snapshotsManager.hasNewContent ||\n                !additionalData?.getEntityState ||\n                !callback\n            ) {\n                core.api.addUndoSnapshot(\n                    core,\n                    !!canUndoByBackspace,\n                    additionalData?.getEntityState?.()\n                );\n            }\n        }\n\n        try {\n            if (callback) {\n                const selection = core.api.getDOMSelection(core);\n                const range = selection?.type == 'range' ? selection.range : null;\n                data = callback(\n                    range && Position.getStart(range).normalize(),\n                    range && Position.getEnd(range).normalize()\n                );\n\n                if (!isNested) {\n                    const entityStates = additionalData?.getEntityState?.();\n\n                    core.api.addUndoSnapshot(core, false /*isAutoCompleteSnapshot*/, entityStates);\n                }\n            }\n        } finally {\n            if (!isNested) {\n                undoState.isNested = false;\n            }\n        }\n\n        if (callback && changeSource) {\n            const event: ContentChangedEvent = {\n                eventType: PluginEventType.ContentChanged,\n                source: changeSource,\n                data: data,\n                additionalData,\n            };\n            this.triggerPluginEvent(PluginEventType.ContentChanged, event, true /*broadcast*/);\n        }\n\n        if (canUndoByBackspace) {\n            const selection = core.api.getDOMSelection(core);\n\n            if (selection?.type == 'range') {\n                core.undo.snapshotsManager.hasNewContent = false;\n                core.undo.posContainer = selection.range.startContainer;\n                core.undo.posOffset = selection.range.startOffset;\n            }\n        }\n    }\n\n    /**\n     * Whether there is an available undo/redo snapshot\n     */\n    getUndoState(): EditorUndoState {\n        const { snapshotsManager } = this.getCore().undo;\n        return {\n            canUndo:\n                snapshotsManager.hasNewContent || snapshotsManager.canMove(-1 /*previousSnapshot*/),\n            canRedo: snapshotsManager.canMove(1 /*nextSnapshot*/),\n        };\n    }\n\n    //#endregion\n\n    //#region Misc\n\n    /**\n     * Get custom data related to this editor\n     * @param key Key of the custom data\n     * @param getter Getter function. If custom data for the given key doesn't exist,\n     * call this function to get one and store it if it is specified. Otherwise return undefined\n     * @param disposer An optional disposer function to dispose this custom data when\n     * dispose editor.\n     */\n    getCustomData<T>(key: string, getter?: () => T, disposer?: (value: T) => void): T {\n        const core = this.getContentModelEditorCore();\n        return (core.customData[key] = core.customData[key] || {\n            value: getter ? getter() : undefined,\n            disposer,\n        }).value as T;\n    }\n\n    /**\n     * Get default format of this editor\n     * @returns Default format object of this editor\n     */\n    getDefaultFormat(): DefaultFormat {\n        const format = this.getCore().format.defaultFormat;\n\n        return {\n            bold: isBold(format.fontWeight),\n            italic: format.italic,\n            underline: format.underline,\n            fontFamily: format.fontFamily,\n            fontSize: format.fontSize,\n            textColor: format.textColor,\n            backgroundColor: format.backgroundColor,\n        };\n    }\n\n    /**\n     * Get a content traverser for the whole editor\n     * @param startNode The node to start from. If not passed, it will start from the beginning of the body\n     */\n    getBodyTraverser(startNode?: Node): IContentTraverser {\n        return ContentTraverser.createBodyTraverser(this.getCore().logicalRoot, startNode);\n    }\n\n    /**\n     * Get a content traverser for current selection\n     * @returns A content traverser, or null if editor never got focus before\n     */\n    getSelectionTraverser(range?: Range): IContentTraverser | null {\n        range = range ?? this.getSelectionRange() ?? undefined;\n        return range\n            ? ContentTraverser.createSelectionTraverser(this.getCore().logicalRoot, range)\n            : null;\n    }\n\n    /**\n     * Get a content traverser for current block element start from specified position\n     * @param startFrom Start position of the traverser. Default value is ContentPosition.SelectionStart\n     * @returns A content traverser, or null if editor never got focus before\n     */\n    getBlockTraverser(\n        startFrom: ContentPosition | CompatibleContentPosition = ContentPosition.SelectionStart\n    ): IContentTraverser | null {\n        const range = this.getSelectionRange();\n        return range\n            ? ContentTraverser.createBlockTraverser(this.getCore().logicalRoot, range, startFrom)\n            : null;\n    }\n\n    /**\n     * Get a text traverser of current selection\n     * @param event Optional, if specified, editor will try to get cached result from the event object first.\n     * If it is not cached before, query from DOM and cache the result into the event object\n     * @returns A content traverser, or null if editor never got focus before\n     */\n    getContentSearcherOfCursor(event?: PluginEvent): IPositionContentSearcher | null {\n        return cacheGetEventData(event ?? null, 'ContentSearcher', () => {\n            const range = this.getSelectionRange();\n            return (\n                range &&\n                new PositionContentSearcher(this.getCore().logicalRoot, Position.getStart(range))\n            );\n        });\n    }\n\n    /**\n     * Run a callback function asynchronously\n     * @param callback The callback function to run\n     * @returns a function to cancel this async run\n     */\n    runAsync(callback: (editor: ILegacyEditor & IEditor) => void) {\n        const win = this.getCore().physicalRoot.ownerDocument.defaultView || window;\n        const handle = win.requestAnimationFrame(() => {\n            if (!this.isDisposed() && callback) {\n                callback(this);\n            }\n        });\n\n        return () => {\n            win.cancelAnimationFrame(handle);\n        };\n    }\n\n    /**\n     * Set DOM attribute of editor content DIV\n     * @param name Name of the attribute\n     * @param value Value of the attribute\n     */\n    setEditorDomAttribute(name: string, value: string | null) {\n        this.getDOMHelper().setDomAttribute(name, value);\n    }\n\n    /**\n     * Get DOM attribute of editor content DIV, null if there is no such attribute.\n     * @param name Name of the attribute\n     */\n    getEditorDomAttribute(name: string): string | null {\n        return this.getDOMHelper().getDomAttribute(name);\n    }\n\n    /**\n     * @deprecated Use getVisibleViewport() instead.\n     *\n     * Get current relative distance from top-left corner of the given element to top-left corner of editor content DIV.\n     * @param element The element to calculate from. If the given element is not in editor, return value will be null\n     * @param addScroll When pass true, The return value will also add scrollLeft and scrollTop if any. So the value\n     * may be different than what user is seeing from the view. When pass false, scroll position will be ignored.\n     * @returns An [x, y] array which contains the left and top distances, or null if the given element is not in editor.\n     */\n    getRelativeDistanceToEditor(element: HTMLElement, addScroll?: boolean): number[] | null {\n        if (this.contains(element)) {\n            const physicalRoot = this.getCore().physicalRoot;\n            const editorRect = physicalRoot.getBoundingClientRect();\n            const elementRect = element.getBoundingClientRect();\n\n            if (editorRect && elementRect) {\n                let x = elementRect.left - editorRect?.left;\n                let y = elementRect.top - editorRect?.top;\n\n                if (addScroll) {\n                    x += physicalRoot.scrollLeft;\n                    y += physicalRoot.scrollTop;\n                }\n\n                return [x, y];\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * Add a Content Edit feature.\n     * @param feature The feature to add\n     */\n    addContentEditFeature(feature: GenericContentEditFeature<PluginEvent>) {\n        const core = this.getContentModelEditorCore();\n        feature?.keys.forEach(key => {\n            const array = core.edit.features[key] || [];\n            array.push(feature);\n            core.edit.features[key] = array;\n        });\n    }\n\n    /**\n     * Remove a Content Edit feature.\n     * @param feature The feature to remove\n     */\n    removeContentEditFeature(feature: GenericContentEditFeature<PluginEvent>) {\n        const core = this.getContentModelEditorCore();\n        feature?.keys.forEach(key => {\n            const featureSet = core.edit.features[key];\n            const index = featureSet?.indexOf(feature) ?? -1;\n            if (index >= 0) {\n                core.edit.features[key].splice(index, 1);\n                if (core.edit.features[key].length < 1) {\n                    delete core.edit.features[key];\n                }\n            }\n        });\n    }\n\n    /**\n     * @deprecated\n     * Get style based format state from current selection, including font name/size and colors\n     */\n    getStyleBasedFormatState(): StyleBasedFormatState {\n        const format = this.retrieveFormatState();\n\n        return {\n            backgroundColor: format.backgroundColor,\n            direction: format.direction,\n            fontName: format.fontName,\n            fontSize: format.fontSize,\n            fontWeight: format.fontWeight,\n            lineHeight: format.lineHeight,\n            marginBottom: format.marginBottom,\n            marginTop: format.marginTop,\n            textAlign: format.textAlign,\n            textColor: format.textColor,\n        };\n    }\n\n    /**\n     * @deprecated\n     * Get the pendable format such as underline and bold\n     * @returns The pending format state\n     */\n    getPendableFormatState(): PendableFormatState {\n        const format = this.retrieveFormatState();\n\n        return {\n            isBold: format.isBold,\n            isItalic: format.isItalic,\n            isStrikeThrough: format.isStrikeThrough,\n            isSubscript: format.isSubscript,\n            isSuperscript: format.isSubscript,\n            isUnderline: format.isUnderline,\n        };\n    }\n\n    /**\n     * @deprecated\n     * Ensure user will type into a container element rather than into the editor content DIV directly\n     * @param position The position that user is about to type to\n     * @param keyboardEvent Optional keyboard event object\n     */\n    ensureTypeInContainer(position: NodePosition, keyboardEvent?: KeyboardEvent) {\n        // No OP\n    }\n\n    //#endregion\n\n    //#region Dark mode APIs\n\n    /**\n     * Transform the given node and all its child nodes to dark mode color if editor is in dark mode\n     * @param node The node to transform\n     * @param direction The transform direction. @default ColorTransformDirection.LightToDark\n     */\n    transformToDarkColor(\n        node: Node,\n        direction:\n            | ColorTransformDirection\n            | CompatibleColorTransformDirection = ColorTransformDirection.LightToDark\n    ) {\n        const core = this.getCore();\n\n        if (core.lifecycle.isDarkMode) {\n            transformColor(\n                node,\n                true /*includeSelf*/,\n                direction == ColorTransformDirection.DarkToLight ? 'darkToLight' : 'lightToDark',\n                core.darkColorHandler\n            );\n        }\n    }\n\n    /**\n     * Check if the given experimental feature is enabled\n     * @param feature The feature to check\n     */\n    isFeatureEnabled(feature: ExperimentalFeatures | CompatibleExperimentalFeatures): boolean {\n        return (\n            this.getContentModelEditorCore().experimentalFeatures.indexOf(\n                feature as ExperimentalFeatures\n            ) >= 0\n        );\n    }\n\n    /**\n     * Get current zoom scale, default value is 1\n     * When editor is put under a zoomed container, need to pass the zoom scale number using EditorOptions.zoomScale\n     * to let editor behave correctly especially for those mouse drag/drop behaviors\n     * @returns current zoom scale number\n     */\n    getZoomScale(): number {\n        return this.getDOMHelper().calculateZoomScale();\n    }\n\n    /**\n     * Set current zoom scale, default value is 1\n     * When editor is put under a zoomed container, need to pass the zoom scale number using EditorOptions.zoomScale\n     * to let editor behave correctly especially for those mouse drag/drop behaviors\n     * @param scale The new scale number to set. It should be positive number and no greater than 10, otherwise it will be ignored.\n     */\n    setZoomScale(scale: number): void {\n        if (scale > 0 && scale <= 10) {\n            const oldValue = this.getZoomScale();\n\n            if (oldValue != scale) {\n                this.triggerEvent(\n                    'zoomChanged',\n                    {\n                        newZoomScale: scale,\n                    },\n                    true /*broadcast*/\n                );\n            }\n        }\n    }\n\n    /**\n     * @deprecated Use getZoomScale() instead\n     */\n    getSizeTransformer(): SizeTransformer {\n        return this.getContentModelEditorCore().sizeTransformer;\n    }\n\n    /**\n     * Get a darkColorHandler object for this editor.\n     */\n    getDarkColorHandler(): DarkColorHandler {\n        const core = this.getContentModelEditorCore();\n        return core.darkColorHandler;\n    }\n\n    /**\n     * Check if editor is in IME input sequence\n     * @returns True if editor is in IME input sequence, otherwise false\n     */\n    isInIME(): boolean {\n        return this.getCore().domEvent.isInIME;\n    }\n\n    private retrieveFormatState(): ContentModelFormatState {\n        const pendingFormat = this.getPendingFormat();\n        const result: ContentModelFormatState = {};\n        const model = this.getContentModelCopy('reduced');\n\n        retrieveModelFormatState(model, pendingFormat, result);\n\n        return result;\n    }\n\n    /**\n     * @returns the current EditorAdapterCore object\n     * @throws a standard Error if there's no core object\n     */\n    private getContentModelEditorCore(): EditorAdapterCore {\n        if (!this.contentModelEditorCore) {\n            throw new Error('Editor is already disposed');\n        }\n\n        return this.contentModelEditorCore;\n    }\n}\n","import { createRange, safeInstanceOf } from 'roosterjs-editor-dom';\nimport { SelectionRangeTypes } from 'roosterjs-editor-types';\nimport type {\n    NodePosition,\n    PositionType,\n    SelectionPath,\n    SelectionRangeEx,\n    TableSelection,\n} from 'roosterjs-editor-types';\n\n/**\n * @internal\n */\nexport function buildRangeEx(\n    root: HTMLElement,\n    arg1: Range | SelectionRangeEx | NodePosition | Node | SelectionPath | null,\n    arg2?: NodePosition | number | PositionType | TableSelection | null,\n    arg3?: Node,\n    arg4?: number | PositionType\n): SelectionRangeEx {\n    let rangeEx: SelectionRangeEx | null = null;\n\n    if (isSelectionRangeEx(arg1)) {\n        rangeEx = arg1;\n    } else if (safeInstanceOf(arg1, 'HTMLTableElement') && isTableSelectionOrNull(arg2)) {\n        rangeEx = {\n            type: SelectionRangeTypes.TableSelection,\n            ranges: [],\n            areAllCollapsed: false,\n            table: arg1,\n            coordinates: arg2 ?? undefined,\n        };\n    } else if (safeInstanceOf(arg1, 'HTMLImageElement') && typeof arg2 == 'undefined') {\n        rangeEx = {\n            type: SelectionRangeTypes.ImageSelection,\n            ranges: [],\n            areAllCollapsed: false,\n            image: arg1,\n        };\n    } else {\n        const range = !arg1\n            ? null\n            : safeInstanceOf(arg1, 'Range')\n            ? arg1\n            : isSelectionPath(arg1)\n            ? createRange(root, arg1.start, arg1.end)\n            : isNodePosition(arg1) || safeInstanceOf(arg1, 'Node')\n            ? createRange(\n                  <Node>arg1,\n                  <number | PositionType>arg2,\n                  <Node>arg3,\n                  <number | PositionType>arg4\n              )\n            : null;\n\n        rangeEx = range\n            ? {\n                  type: SelectionRangeTypes.Normal,\n                  ranges: [range],\n                  areAllCollapsed: range.collapsed,\n              }\n            : {\n                  type: SelectionRangeTypes.Normal,\n                  ranges: [],\n                  areAllCollapsed: true,\n              };\n    }\n\n    return rangeEx;\n}\n\nfunction isSelectionRangeEx(obj: any): obj is SelectionRangeEx {\n    const rangeEx = obj as SelectionRangeEx;\n    return (\n        rangeEx &&\n        typeof rangeEx == 'object' &&\n        typeof rangeEx.type == 'number' &&\n        Array.isArray(rangeEx.ranges)\n    );\n}\n\nfunction isTableSelectionOrNull(obj: any): obj is TableSelection | null {\n    const selection = obj as TableSelection | null;\n\n    return (\n        selection === null ||\n        (selection &&\n            typeof selection == 'object' &&\n            typeof selection.firstCell == 'object' &&\n            typeof selection.lastCell == 'object')\n    );\n}\n\nfunction isSelectionPath(obj: any): obj is SelectionPath {\n    const path = obj as SelectionPath;\n\n    return path && typeof path == 'object' && Array.isArray(path.start) && Array.isArray(path.end);\n}\n\nfunction isNodePosition(obj: any): obj is NodePosition {\n    const pos = obj as NodePosition;\n\n    return (\n        pos &&\n        typeof pos == 'object' &&\n        typeof pos.node == 'object' &&\n        typeof pos.offset == 'number'\n    );\n}\n","import { convertDomSelectionToRangeEx, convertRangeExToDomSelection } from './selectionConverter';\nimport { createDefaultHtmlSanitizerOptions } from 'roosterjs-editor-dom';\nimport type { BeforePasteAdapterEvent } from '../../publicTypes/BeforePasteAdapterEvent';\nimport {\n    KnownAnnounceStrings as OldKnownAnnounceStrings,\n    PasteType as OldPasteType,\n    EntityOperation as OldEntityOperation,\n    PluginEventType,\n} from 'roosterjs-editor-types';\nimport type {\n    PluginEvent as OldEvent,\n    AnnounceData as OldAnnounceData,\n} from 'roosterjs-editor-types';\nimport type {\n    PluginEvent as NewEvent,\n    PasteType as NewPasteType,\n    AnnounceData as NewAnnounceData,\n    KnownAnnounceStrings as NewKnownAnnounceStrings,\n    EntityOperation as NewEntityOperation,\n    PluginEventType as NewPluginEventType,\n} from 'roosterjs-content-model-types';\n\nconst PasteTypeNewToOld: Record<NewPasteType, OldPasteType> = {\n    asImage: OldPasteType.AsImage,\n    asPlainText: OldPasteType.AsPlainText,\n    mergeFormat: OldPasteType.MergeFormat,\n    normal: OldPasteType.Normal,\n};\n\nconst PasteTypeOldToNew: Record<OldPasteType, NewPasteType> = {\n    [OldPasteType.AsImage]: 'asImage',\n    [OldPasteType.AsPlainText]: 'asPlainText',\n    [OldPasteType.MergeFormat]: 'mergeFormat',\n    [OldPasteType.Normal]: 'normal',\n};\n\nconst KnownAnnounceStringsOldToNew: Record<OldKnownAnnounceStrings, NewKnownAnnounceStrings> = {\n    [OldKnownAnnounceStrings.AnnounceListItemBullet]: 'announceListItemBullet',\n    [OldKnownAnnounceStrings.AnnounceListItemNumbering]: 'announceListItemNumbering',\n    [OldKnownAnnounceStrings.AnnounceOnFocusLastCell]: 'announceOnFocusLastCell',\n};\n\nconst KnownAnnounceStringsNewToOld: Record<NewKnownAnnounceStrings, OldKnownAnnounceStrings> = {\n    announceListItemBullet: OldKnownAnnounceStrings.AnnounceListItemBullet,\n    announceListItemNumbering: OldKnownAnnounceStrings.AnnounceListItemNumbering,\n    announceOnFocusLastCell: OldKnownAnnounceStrings.AnnounceOnFocusLastCell,\n};\n\nconst EntityOperationOldToNew: Record<OldEntityOperation, NewEntityOperation | undefined> = {\n    [OldEntityOperation.NewEntity]: 'newEntity',\n    [OldEntityOperation.Overwrite]: 'overwrite',\n    [OldEntityOperation.RemoveFromEnd]: 'removeFromEnd',\n    [OldEntityOperation.RemoveFromStart]: 'removeFromStart',\n    [OldEntityOperation.ReplaceTemporaryContent]: 'replaceTemporaryContent',\n    [OldEntityOperation.UpdateEntityState]: 'updateEntityState',\n    [OldEntityOperation.Click]: 'click',\n    [OldEntityOperation.ContextMenu]: undefined,\n    [OldEntityOperation.Escape]: undefined,\n    [OldEntityOperation.PartialOverwrite]: undefined,\n    [OldEntityOperation.AddShadowRoot]: undefined,\n    [OldEntityOperation.RemoveShadowRoot]: undefined,\n};\n\nconst EntityOperationNewToOld: Record<NewEntityOperation, OldEntityOperation> = {\n    newEntity: OldEntityOperation.NewEntity,\n    overwrite: OldEntityOperation.Overwrite,\n    removeFromEnd: OldEntityOperation.RemoveFromEnd,\n    removeFromStart: OldEntityOperation.RemoveFromStart,\n    replaceTemporaryContent: OldEntityOperation.ReplaceTemporaryContent,\n    updateEntityState: OldEntityOperation.UpdateEntityState,\n    click: OldEntityOperation.Click,\n};\n\n/**\n * @internal\n */\nexport const OldEventTypeToNewEventType: Record<PluginEventType, NewPluginEventType | undefined> = {\n    [PluginEventType.BeforeCutCopy]: 'beforeCutCopy',\n    [PluginEventType.BeforeDispose]: 'beforeDispose',\n    [PluginEventType.BeforeKeyboardEditing]: 'beforeKeyboardEditing',\n    [PluginEventType.BeforePaste]: 'beforePaste',\n    [PluginEventType.BeforeSetContent]: 'beforeSetContent',\n    [PluginEventType.CompositionEnd]: 'compositionEnd',\n    [PluginEventType.ContentChanged]: 'contentChanged',\n    [PluginEventType.ContextMenu]: 'contextMenu',\n    [PluginEventType.EditImage]: 'editImage',\n    [PluginEventType.EditorReady]: 'editorReady',\n    [PluginEventType.EnteredShadowEdit]: 'enteredShadowEdit',\n    [PluginEventType.EntityOperation]: 'entityOperation',\n    [PluginEventType.ExtractContentWithDom]: 'extractContentWithDom',\n    [PluginEventType.Input]: 'input',\n    [PluginEventType.KeyDown]: 'keyDown',\n    [PluginEventType.KeyPress]: 'keyPress',\n    [PluginEventType.KeyUp]: 'keyUp',\n    [PluginEventType.LeavingShadowEdit]: 'leavingShadowEdit',\n    [PluginEventType.MouseDown]: 'mouseDown',\n    [PluginEventType.MouseUp]: 'mouseUp',\n    [PluginEventType.PendingFormatStateChanged]: undefined,\n    [PluginEventType.Scroll]: 'scroll',\n    [PluginEventType.SelectionChanged]: 'selectionChanged',\n    [PluginEventType.ZoomChanged]: 'zoomChanged',\n};\n\n/**\n * @internal Convert legacy event object to new event object\n */\nexport function oldEventToNewEvent<TOldEvent extends OldEvent>(\n    input: TOldEvent,\n    refEvent?: NewEvent\n): NewEvent | undefined {\n    switch (input.eventType) {\n        case PluginEventType.BeforeCutCopy:\n            return {\n                eventType: 'beforeCutCopy',\n                clonedRoot: input.clonedRoot,\n                eventDataCache: input.eventDataCache,\n                isCut: input.isCut,\n                range: input.range,\n                rawEvent: input.rawEvent,\n            };\n\n        case PluginEventType.BeforeDispose:\n            return {\n                eventType: 'beforeDispose',\n                eventDataCache: input.eventDataCache,\n            };\n\n        case PluginEventType.BeforeKeyboardEditing:\n            return {\n                eventType: 'beforeKeyboardEditing',\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n            };\n\n        case PluginEventType.BeforePaste:\n            const refBeforePasteEvent = refEvent?.eventType == 'beforePaste' ? refEvent : undefined;\n            const cmBeforePasteEvent = input as BeforePasteAdapterEvent;\n\n            return {\n                eventType: 'beforePaste',\n                clipboardData: input.clipboardData,\n                customizedMerge:\n                    cmBeforePasteEvent.customizedMerge ?? refBeforePasteEvent?.customizedMerge,\n                domToModelOption: cmBeforePasteEvent.domToModelOption ??\n                    refBeforePasteEvent?.domToModelOption ?? {\n                        additionalAllowedTags: [],\n                        additionalDisallowedTags: [],\n                        additionalFormatParsers: {},\n                        formatParserOverride: {},\n                        processorOverride: {},\n                        styleSanitizers: {},\n                        attributeSanitizers: {},\n                    },\n                eventDataCache: input.eventDataCache,\n                fragment: input.fragment,\n                htmlAfter: input.htmlAfter,\n                htmlAttributes: input.htmlAttributes,\n                htmlBefore: input.htmlBefore,\n                pasteType: PasteTypeOldToNew[input.pasteType],\n            };\n\n        case PluginEventType.BeforeSetContent:\n            return {\n                eventType: 'beforeSetContent',\n                eventDataCache: input.eventDataCache,\n                newContent: input.newContent,\n            };\n\n        case PluginEventType.CompositionEnd:\n            return {\n                eventType: 'compositionEnd',\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n            };\n\n        case PluginEventType.ContentChanged:\n            const refContentChangedEvent =\n                refEvent?.eventType == 'contentChanged' ? refEvent : undefined;\n            return {\n                eventType: 'contentChanged',\n                eventDataCache: input.eventDataCache,\n                changedEntities: refContentChangedEvent?.changedEntities,\n                contentModel: refContentChangedEvent?.contentModel,\n                data: input.data,\n                entityStates:\n                    input.additionalData?.getEntityState?.() ??\n                    refContentChangedEvent?.entityStates,\n                selection: refContentChangedEvent?.selection,\n                source: input.source,\n                formatApiName:\n                    input.additionalData?.formatApiName ?? refContentChangedEvent?.formatApiName,\n                announceData:\n                    announceDataOldToNew(input.additionalData?.getAnnounceData?.()) ??\n                    refContentChangedEvent?.announceData,\n            };\n\n        case PluginEventType.ContextMenu:\n            return {\n                eventType: 'contextMenu',\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n                items: input.items,\n            };\n\n        case PluginEventType.EditImage:\n            return {\n                eventType: 'editImage',\n                eventDataCache: input.eventDataCache,\n                image: input.image,\n                newSrc: input.newSrc,\n                originalSrc: input.originalSrc,\n                previousSrc: input.previousSrc,\n            };\n\n        case PluginEventType.EditorReady:\n            return {\n                eventType: 'editorReady',\n                eventDataCache: input.eventDataCache,\n            };\n\n        case PluginEventType.EnteredShadowEdit:\n            return {\n                eventType: 'enteredShadowEdit',\n                eventDataCache: input.eventDataCache,\n            };\n\n        case PluginEventType.EntityOperation:\n            const operation = EntityOperationOldToNew[input.operation];\n\n            return operation === undefined\n                ? undefined\n                : {\n                      eventType: 'entityOperation',\n                      eventDataCache: input.eventDataCache,\n                      rawEvent: input.rawEvent,\n                      entity: input.entity,\n                      operation: operation,\n                      shouldPersist: input.shouldPersist,\n                      state: input.state,\n                  };\n\n        case PluginEventType.ExtractContentWithDom:\n            return {\n                eventType: 'extractContentWithDom',\n                eventDataCache: input.eventDataCache,\n                clonedRoot: input.clonedRoot,\n            };\n\n        case PluginEventType.Input:\n            return {\n                eventType: 'input',\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n            };\n\n        case PluginEventType.KeyDown:\n        case PluginEventType.KeyPress:\n        case PluginEventType.KeyUp:\n            return {\n                eventType:\n                    input.eventType == PluginEventType.KeyDown\n                        ? 'keyDown'\n                        : input.eventType == PluginEventType.KeyPress\n                        ? 'keyPress'\n                        : 'keyUp',\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n            };\n\n        case PluginEventType.LeavingShadowEdit:\n            return {\n                eventType: 'leavingShadowEdit',\n                eventDataCache: input.eventDataCache,\n            };\n\n        case PluginEventType.MouseDown:\n            return {\n                eventType: 'mouseDown',\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n            };\n\n        case PluginEventType.MouseUp:\n            return {\n                eventType: 'mouseUp',\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n                isClicking: input.isClicking,\n            };\n\n        case PluginEventType.Scroll:\n            return {\n                eventType: 'scroll',\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n                scrollContainer: input.scrollContainer,\n            };\n\n        case PluginEventType.SelectionChanged:\n            const refSelectionChangedEvent =\n                refEvent?.eventType == 'selectionChanged' ? refEvent : undefined;\n\n            return {\n                eventType: 'selectionChanged',\n                eventDataCache: input.eventDataCache,\n                newSelection:\n                    refSelectionChangedEvent?.newSelection ??\n                    convertRangeExToDomSelection(input.selectionRangeEx),\n            };\n\n        case PluginEventType.ZoomChanged:\n            return {\n                eventType: 'zoomChanged',\n                eventDataCache: input.eventDataCache,\n                newZoomScale: input.newZoomScale,\n            };\n\n        default:\n            return undefined;\n    }\n}\n\n/**\n * @internal Convert new event object to legacy event object\n */\nexport function newEventToOldEvent(input: NewEvent, refEvent?: OldEvent): OldEvent | undefined {\n    switch (input.eventType) {\n        case 'beforeCutCopy':\n            return {\n                eventType: PluginEventType.BeforeCutCopy,\n                clonedRoot: input.clonedRoot,\n                eventDataCache: input.eventDataCache,\n                isCut: input.isCut,\n                range: input.range,\n                rawEvent: input.rawEvent,\n            };\n\n        case 'beforeDispose':\n            return {\n                eventType: PluginEventType.BeforeDispose,\n                eventDataCache: input.eventDataCache,\n            };\n\n        case 'beforeKeyboardEditing':\n            return {\n                eventType: PluginEventType.BeforeKeyboardEditing,\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n            };\n\n        case 'beforePaste':\n            const refBeforePasteEvent =\n                refEvent?.eventType == PluginEventType.BeforePaste ? refEvent : undefined;\n\n            const oldBeforePasteEvent: BeforePasteAdapterEvent = {\n                eventType: PluginEventType.BeforePaste,\n                clipboardData: input.clipboardData,\n                eventDataCache: input.eventDataCache,\n                fragment: input.fragment,\n                htmlAfter: input.htmlAfter,\n                htmlAttributes: input.htmlAttributes,\n                htmlBefore: input.htmlBefore,\n                pasteType: PasteTypeNewToOld[input.pasteType],\n                sanitizingOption:\n                    refBeforePasteEvent?.sanitizingOption ?? createDefaultHtmlSanitizerOptions(),\n                domToModelOption: input.domToModelOption,\n                customizedMerge: input.customizedMerge,\n            };\n\n            return oldBeforePasteEvent;\n\n        case 'beforeSetContent':\n            return {\n                eventType: PluginEventType.BeforeSetContent,\n                eventDataCache: input.eventDataCache,\n                newContent: input.newContent,\n            };\n\n        case 'compositionEnd':\n            return {\n                eventType: PluginEventType.CompositionEnd,\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n            };\n\n        case 'contentChanged':\n            const entityStates = input.entityStates;\n\n            return {\n                eventType: PluginEventType.ContentChanged,\n                eventDataCache: input.eventDataCache,\n                data: input.data,\n                source: input.source,\n                additionalData: {\n                    formatApiName: input.formatApiName,\n                    getAnnounceData: input.announceData\n                        ? () => announceDataNewToOld(input.announceData)\n                        : undefined,\n                    getEntityState: entityStates ? () => entityStates : undefined,\n                },\n            };\n\n        case 'contextMenu':\n            return {\n                eventType: PluginEventType.ContextMenu,\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n                items: input.items,\n            };\n\n        case 'editImage':\n            return {\n                eventType: PluginEventType.EditImage,\n                eventDataCache: input.eventDataCache,\n                image: input.image,\n                newSrc: input.newSrc,\n                originalSrc: input.originalSrc,\n                previousSrc: input.previousSrc,\n            };\n\n        case 'editorReady':\n            return {\n                eventType: PluginEventType.EditorReady,\n                eventDataCache: input.eventDataCache,\n            };\n\n        case 'enteredShadowEdit':\n            const refEnteredShadowEditEvent =\n                refEvent?.eventType == PluginEventType.EnteredShadowEdit ? refEvent : undefined;\n\n            return {\n                eventType: PluginEventType.EnteredShadowEdit,\n                eventDataCache: input.eventDataCache,\n                fragment: refEnteredShadowEditEvent?.fragment ?? document.createDocumentFragment(),\n                selectionPath: refEnteredShadowEditEvent?.selectionPath ?? {\n                    end: [],\n                    start: [],\n                },\n            };\n\n        case 'entityOperation':\n            return {\n                eventType: PluginEventType.EntityOperation,\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n                entity: input.entity,\n                operation: EntityOperationNewToOld[input.operation],\n                shouldPersist: input.shouldPersist,\n                state: input.state,\n            };\n\n        case 'extractContentWithDom':\n            return {\n                eventType: PluginEventType.ExtractContentWithDom,\n                eventDataCache: input.eventDataCache,\n                clonedRoot: input.clonedRoot,\n            };\n\n        case 'input':\n            return {\n                eventType: PluginEventType.Input,\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n            };\n\n        case 'keyDown':\n        case 'keyPress':\n        case 'keyUp':\n            return {\n                eventType:\n                    input.eventType == 'keyDown'\n                        ? PluginEventType.KeyDown\n                        : input.eventType == 'keyPress'\n                        ? PluginEventType.KeyPress\n                        : PluginEventType.KeyUp,\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n            };\n\n        case 'leavingShadowEdit':\n            return {\n                eventType: PluginEventType.LeavingShadowEdit,\n                eventDataCache: input.eventDataCache,\n            };\n\n        case 'mouseDown':\n            return {\n                eventType: PluginEventType.MouseDown,\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n            };\n\n        case 'mouseUp':\n            return {\n                eventType: PluginEventType.MouseUp,\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n                isClicking: input.isClicking,\n            };\n\n        case 'scroll':\n            return {\n                eventType: PluginEventType.Scroll,\n                eventDataCache: input.eventDataCache,\n                rawEvent: input.rawEvent,\n                scrollContainer: input.scrollContainer,\n            };\n\n        case 'selectionChanged':\n            const refSelectionChangedEvent =\n                refEvent?.eventType == PluginEventType.SelectionChanged ? refEvent : undefined;\n\n            return {\n                eventType: PluginEventType.SelectionChanged,\n                eventDataCache: input.eventDataCache,\n                selectionRangeEx:\n                    refSelectionChangedEvent?.selectionRangeEx ??\n                    convertDomSelectionToRangeEx(input.newSelection),\n            };\n\n        case 'zoomChanged':\n            return {\n                eventType: PluginEventType.ZoomChanged,\n                eventDataCache: input.eventDataCache,\n                newZoomScale: input.newZoomScale,\n                oldZoomScale:\n                    refEvent?.eventType == PluginEventType.ZoomChanged ? refEvent.oldZoomScale : 1, // In new ZoomChangedEvent we don't really have oldZoomScale. So if we can't get it, just use 1 instead\n            };\n\n        default:\n            return undefined;\n    }\n}\n\nfunction announceDataOldToNew(data: OldAnnounceData | undefined): NewAnnounceData | undefined {\n    return data\n        ? {\n              defaultStrings: data.defaultStrings\n                  ? KnownAnnounceStringsOldToNew[data.defaultStrings]\n                  : undefined,\n              formatStrings: data.formatStrings,\n              text: data.text,\n          }\n        : undefined;\n}\n\nfunction announceDataNewToOld(data: NewAnnounceData | undefined): OldAnnounceData | undefined {\n    return data\n        ? {\n              defaultStrings: data.defaultStrings\n                  ? KnownAnnounceStringsNewToOld[data.defaultStrings]\n                  : undefined,\n              formatStrings: data.formatStrings,\n              text: data.text,\n          }\n        : undefined;\n}\n","import { ContentPosition, NodeType, PositionType, RegionType } from 'roosterjs-editor-types';\nimport type { BlockElement, InsertOption, NodePosition } from 'roosterjs-editor-types';\nimport {\n    createRange,\n    getBlockElementAtNode,\n    getFirstLastBlockElement,\n    isBlockElement,\n    isVoidHtmlElement,\n    Position,\n    safeInstanceOf,\n    toArray,\n    wrap,\n    adjustInsertPosition,\n    getRegionsFromRange,\n    splitTextNode,\n    splitParentNode,\n} from 'roosterjs-editor-dom';\nimport type { DOMSelection } from 'roosterjs-content-model-types';\n\nfunction getInitialRange(\n    selection: DOMSelection | null,\n    option: InsertOption\n): { range: Range | null; rangeToRestore: Range | null } {\n    // Selection start replaces based on the current selection.\n    // Range inserts based on a provided range.\n    // Both have the potential to use the current selection to restore cursor position\n    // So in both cases we need to store the selection state.\n    let range = selection?.type == 'range' ? selection.range : null;\n    let rangeToRestore = null;\n\n    if (option.position == ContentPosition.Range) {\n        rangeToRestore = range;\n        range = option.range;\n    } else if (range) {\n        rangeToRestore = range.cloneRange();\n    }\n\n    return { range, rangeToRestore };\n}\n\n/**\n * @internal\n * Insert a DOM node into editor content\n */\nexport function insertNode(\n    contentDiv: HTMLDivElement,\n    selection: DOMSelection | null,\n    node: Node,\n    option: InsertOption\n): DOMSelection | undefined {\n    switch (option.position) {\n        case ContentPosition.Begin:\n        case ContentPosition.End: {\n            const isBegin = option.position == ContentPosition.Begin;\n            const block = getFirstLastBlockElement(contentDiv, isBegin);\n            let insertedNode: Node | Node[] | undefined;\n            if (block) {\n                const refNode = isBegin ? block.getStartNode() : block.getEndNode();\n                if (\n                    option.insertOnNewLine ||\n                    refNode.nodeType == NodeType.Text ||\n                    isVoidHtmlElement(refNode)\n                ) {\n                    // For insert on new line, or refNode is text or void html element (HR, BR etc.)\n                    // which cannot have children, i.e. <div>hello<br>world</div>. 'hello', 'world' are the\n                    // first and last node. Insert before 'hello' or after 'world', but still inside DIV\n                    if (safeInstanceOf(node, 'DocumentFragment')) {\n                        // if the node to be inserted is DocumentFragment, use its childNodes as insertedNode\n                        // because insertBefore() returns an empty DocumentFragment\n                        insertedNode = toArray(node.childNodes);\n                        refNode.parentNode?.insertBefore(\n                            node,\n                            isBegin ? refNode : refNode.nextSibling\n                        );\n                    } else {\n                        insertedNode = refNode.parentNode?.insertBefore(\n                            node,\n                            isBegin ? refNode : refNode.nextSibling\n                        );\n                    }\n                } else {\n                    // if the refNode can have child, use appendChild (which is like to insert as first/last child)\n                    // i.e. <div>hello</div>, the content will be inserted before/after hello\n                    insertedNode = refNode.insertBefore(node, isBegin ? refNode.firstChild : null);\n                }\n            } else {\n                // No first block, this can happen when editor is empty. Use appendChild to insert the content in contentDiv\n                insertedNode = contentDiv.appendChild(node);\n            }\n\n            // Final check to see if the inserted node is a block. If not block and the ask is to insert on new line,\n            // add a DIV wrapping\n            if (insertedNode && option.insertOnNewLine) {\n                const nodes = Array.isArray(insertedNode) ? insertedNode : [insertedNode];\n                if (!isBlockElement(nodes[0]) || !isBlockElement(nodes[nodes.length - 1])) {\n                    wrap(nodes);\n                }\n            }\n\n            break;\n        }\n        case ContentPosition.DomEnd:\n            // Use appendChild to insert the node at the end of the content div.\n            const insertedNode = contentDiv.appendChild(node);\n            // Final check to see if the inserted node is a block. If not block and the ask is to insert on new line,\n            // add a DIV wrapping\n            if (insertedNode && option.insertOnNewLine && !isBlockElement(insertedNode)) {\n                wrap(insertedNode);\n            }\n            break;\n        case ContentPosition.Range:\n        case ContentPosition.SelectionStart:\n            let { range, rangeToRestore } = getInitialRange(selection, option);\n            if (!range) {\n                break;\n            }\n\n            // if to replace the selection and the selection is not collapsed, remove the the content at selection first\n            if (option.replaceSelection && !range.collapsed) {\n                range.deleteContents();\n            }\n\n            let pos: NodePosition = Position.getStart(range);\n            let blockElement: BlockElement | null;\n\n            if (option.insertOnNewLine && option.insertToRegionRoot) {\n                pos = adjustInsertPositionRegionRoot(contentDiv, range, pos);\n            } else if (\n                option.insertOnNewLine &&\n                (blockElement = getBlockElementAtNode(contentDiv, pos.normalize().node))\n            ) {\n                pos = adjustInsertPositionNewLine(blockElement, contentDiv, pos);\n            } else {\n                pos = adjustInsertPosition(contentDiv, node, pos, range);\n            }\n\n            const nodeForCursor =\n                node.nodeType == NodeType.DocumentFragment ? node.lastChild : node;\n\n            range = createRange(pos);\n            range.insertNode(node);\n\n            if (option.updateCursor && nodeForCursor) {\n                rangeToRestore = createRange(\n                    new Position(nodeForCursor, PositionType.After).normalize()\n                );\n            }\n\n            return rangeToRestore\n                ? {\n                      type: 'range',\n                      range: rangeToRestore,\n                      isReverted: false,\n                  }\n                : undefined;\n    }\n}\n\nfunction adjustInsertPositionRegionRoot(\n    contentDiv: HTMLDivElement,\n    range: Range,\n    position: NodePosition\n) {\n    const region = getRegionsFromRange(contentDiv, range, RegionType.Table)[0];\n    let node: Node | null = position.node;\n\n    if (region) {\n        if (node.nodeType == NodeType.Text && !position.isAtEnd) {\n            node = splitTextNode(node as Text, position.offset, true /*returnFirstPart*/);\n        }\n\n        if (node != region.rootNode) {\n            while (node && node.parentNode != region.rootNode) {\n                splitParentNode(node, false /*splitBefore*/);\n                node = node.parentNode;\n            }\n        }\n\n        if (node) {\n            position = new Position(node, PositionType.After);\n        }\n    }\n\n    return position;\n}\n\nfunction adjustInsertPositionNewLine(\n    blockElement: BlockElement,\n    contentDiv: HTMLDivElement,\n    pos: Position\n) {\n    let tempPos = new Position(blockElement.getEndNode(), PositionType.After);\n    if (safeInstanceOf(tempPos.node, 'HTMLTableRowElement')) {\n        const div = contentDiv.ownerDocument.createElement('div');\n        const range = createRange(pos);\n        range.insertNode(div);\n        tempPos = new Position(div, PositionType.Begin);\n    }\n    return tempPos;\n}\n","import { createRange } from 'roosterjs-editor-dom';\nimport { createTableRanges } from 'roosterjs-content-model-core';\nimport { SelectionRangeTypes } from 'roosterjs-editor-types';\nimport type { DOMSelection } from 'roosterjs-content-model-types';\nimport type { SelectionRangeEx } from 'roosterjs-editor-types';\n\n// In theory, all functions below are not necessary. We keep these functions here only for compatibility with old IEditor interface\n\n/**\n * @internal\n */\nexport function convertRangeExToDomSelection(\n    rangeEx: SelectionRangeEx | null\n): DOMSelection | null {\n    switch (rangeEx?.type) {\n        case SelectionRangeTypes.ImageSelection:\n            return {\n                type: 'image',\n                image: rangeEx.image,\n            };\n\n        case SelectionRangeTypes.Normal:\n            return rangeEx.ranges.length > 0\n                ? {\n                      type: 'range',\n                      range: rangeEx.ranges[0],\n                      isReverted: false,\n                  }\n                : null;\n\n        case SelectionRangeTypes.TableSelection:\n            return rangeEx.coordinates\n                ? {\n                      type: 'table',\n                      table: rangeEx.table,\n                      firstColumn: rangeEx.coordinates.firstCell.x,\n                      firstRow: rangeEx.coordinates.firstCell.y,\n                      lastColumn: rangeEx.coordinates.lastCell.x,\n                      lastRow: rangeEx.coordinates.lastCell.y,\n                  }\n                : null;\n\n        default:\n            return null;\n    }\n}\n\n/**\n * @internal\n */\nexport function convertDomSelectionToRangeEx(selection: DOMSelection | null): SelectionRangeEx {\n    switch (selection?.type) {\n        case 'image':\n            return {\n                type: SelectionRangeTypes.ImageSelection,\n                image: selection.image,\n                areAllCollapsed: false,\n                ranges: [createRange(selection.image)],\n            };\n\n        case 'range':\n            return {\n                type: SelectionRangeTypes.Normal,\n                ranges: [selection.range],\n                areAllCollapsed: selection.range.collapsed,\n            };\n\n        case 'table':\n            return {\n                type: SelectionRangeTypes.TableSelection,\n                ranges: createTableRanges(selection),\n                areAllCollapsed: false,\n                table: selection.table,\n                coordinates: {\n                    firstCell: { x: selection.firstColumn, y: selection.firstRow },\n                    lastCell: { x: selection.lastColumn, y: selection.lastRow },\n                },\n            };\n\n        default:\n            return {\n                type: SelectionRangeTypes.Normal,\n                ranges: [],\n                areAllCollapsed: true,\n            };\n    }\n}\n","export { EditorAdapterOptions } from './publicTypes/EditorAdapterOptions';\nexport { BeforePasteAdapterEvent } from './publicTypes/BeforePasteAdapterEvent';\n\nexport { EditorAdapter } from './editor/EditorAdapter';\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMGMtNi42MjYgMC0xMiA1LjM3My0xMiAxMiAwIDUuMzAyIDMuNDM4IDkuOCA4LjIwNyAxMS4zODcuNTk5LjExMS43OTMtLjI2MS43OTMtLjU3N3YtMi4yMzRjLTMuMzM4LjcyNi00LjAzMy0xLjQxNi00LjAzMy0xLjQxNi0uNTQ2LTEuMzg3LTEuMzMzLTEuNzU2LTEuMzMzLTEuNzU2LTEuMDg5LS43NDUuMDgzLS43MjkuMDgzLS43MjkgMS4yMDUuMDg0IDEuODM5IDEuMjM3IDEuODM5IDEuMjM3IDEuMDcgMS44MzQgMi44MDcgMS4zMDQgMy40OTIuOTk3LjEwNy0uNzc1LjQxOC0xLjMwNS43NjItMS42MDQtMi42NjUtLjMwNS01LjQ2Ny0xLjMzNC01LjQ2Ny01LjkzMSAwLTEuMzExLjQ2OS0yLjM4MSAxLjIzNi0zLjIyMS0uMTI0LS4zMDMtLjUzNS0xLjUyNC4xMTctMy4xNzYgMCAwIDEuMDA4LS4zMjIgMy4zMDEgMS4yMy45NTctLjI2NiAxLjk4My0uMzk5IDMuMDAzLS40MDQgMS4wMi4wMDUgMi4wNDcuMTM4IDMuMDA2LjQwNCAyLjI5MS0xLjU1MiAzLjI5Ny0xLjIzIDMuMjk3LTEuMjMuNjUzIDEuNjUzLjI0MiAyLjg3NC4xMTggMy4xNzYuNzcuODQgMS4yMzUgMS45MTEgMS4yMzUgMy4yMjEgMCA0LjYwOS0yLjgwNyA1LjYyNC01LjQ3OSA1LjkyMS40My4zNzIuODIzIDEuMTAyLjgyMyAyLjIyMnYzLjI5M2MwIC4zMTkuMTkyLjY5NC44MDEuNTc2IDQuNzY1LTEuNTg5IDguMTk5LTYuMDg2IDguMTk5LTExLjM4NiAwLTYuNjI3LTUuMzczLTEyLTEyLTEyeiIvPjwvc3ZnPg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSItOCAtOCAzMiAzMiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPgogICAgPHRpdGxlPkZvcm1hdCBwYWludGVyPC90aXRsZT4KICAgIDxnIGlkPSJmb3JtYXRwYWludGVyMTYtZmlsbGVkIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaW5zZXJ0aW9uLXBvaW50IiBmaWxsPSIjMDAwMDAwIj4KICAgICAgICAgIDxwYXRoIGQ9Ik0tMywwIEwwLDAgTDAsMSBMLTMsMSBaIj48L3BhdGg+CiAgICAgICAgICA8cGF0aCBkPSJNMSwwIEw0LDAgTDQsMSBMMSwxIFoiPjwvcGF0aD4KICAgICAgICAgIDxwYXRoIGQ9Ik0wLDEgTDEsMSBMMSwxNSBMMCwxNSBaIj48L3BhdGg+CiAgICAgICAgICA8cGF0aCBkPSJNLTMsMTUgTDAsMTUgTDAsMTYgTC0zLDE2IFoiPjwvcGF0aD4KICAgICAgICAgIDxwYXRoIGQ9Ik0xLDE1IEw0LDE1IEw0LDE2IEwxLDE2IFoiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9ImJydXNoIj4KICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlBhdGgtMiIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIiBwb2ludHM9IjEuNTc5MDQwNzggOC42MzcwNTIwMSA4LjM0MDQ2MDAxIDE2LjA0MTc4OCAxNC41NjM2MiAxMC42NTA5NDEyIDE1LjE2NTM0MjYgOC42MzcwNTIwMSAxMy4xMDQ0OTkgNi43ODAxMDU5MSAxNy4zNDA0NjMgMi4wMTIyMDc2MiAxNS44ODU1MjI5IDAuNjYxMDM4NjY3IDExLjM3NzM3NDEgNC45MjQzMzkwNCA5LjQ1OTc1MTkgMi45Njk1MTc4OSI+PC9wb2x5Z29uPgogICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNy4wMDAwMDAsIDAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOS40NjIyLDIuNDk3NzcyNzMgQzkuNTA4NCwyLjQ0ODEzNjM2IDkuNTM1OSwyLjM5OTY4MTgyIDkuNTQ4LDIuMzUwMDQ1NDUgQzkuNTYwMSwyLjMwMDQwOTA5IDkuNTY1NiwyLjI2MDIyNzI3IDkuNTY1NiwyLjIyOTUgQzkuNTY1NiwyLjE5OTk1NDU1IDkuNTYwMSwyLjE1ODU5MDkxIDkuNTQ4LDIuMTEwMTM2MzYgQzkuNTMwNCwyLjA1NDU5MDkxIDkuNDk5NiwyLjAwMjU5MDkxIDkuNDUzNCwxLjk1Mjk1NDU1IEw5LjA0MDksMS41MDAzMTgxOCBDOC45NjA2LDEuNDI3MDQ1NDUgOC44NzQ4LDEuMzkwNDA5MDkgOC43ODM1LDEuMzkwNDA5MDkgQzguNjgwMSwxLjM5MDQwOTA5IDguNTk0MywxLjQyNzA0NTQ1IDguNTI1LDEuNTAwMzE4MTggTDQuNTgxNSw1Ljc0Nzc3MjczIEwyLjczMzUsMy43NjIzMTgxOCBDMi42NjQyLDMuNjg5MDQ1NDUgMi41Nzg0LDMuNjUyNDA5MDkgMi40NzUsMy42NTI0MDkwOSBDMi4zNzgyLDMuNjUyNDA5MDkgMi4yOTQ2LDMuNjg5MDQ1NDUgMi4yMjY0LDMuNzYyMzE4MTggTDEuNTM4OSw0LjUwMDk1NDU1IEw2Ljc5OCwxMC4zMzY3NzI3IEw3LjQ2MDIsOS42MjUzMTgxOCBDNy40NzEyLDkuNjEzNSA3LjQ4MjIsOS41ODYzMTgxOCA3LjQ5NDMsOS41NDI1OTA5MSBDNy41MDY0LDkuNDkyOTU0NTUgNy41MTE5LDkuNDI1NTkwOTEgNy41MTE5LDkuMzM5MzE4MTggQzcuNTExOSw5LjE3MjY4MTgyIDcuNDkxLDkuMDM0NDA5MDkgNy40NTE0LDguOTIzMzE4MTggQzcuNDA1Miw4LjgxMzQwOTA5IDcuMzc0NCw4Ljc0ODQwOTA5IDcuMzU2OCw4LjcyOTUgTDUuNTA4OCw2Ljc0NTIyNzI3IEw5LjQ2MjIsMi40OTc3NzI3MyBaIE0xMC4yMzU1LDEuMTIyMTM2MzYgQzEwLjM3ODUsMS4yNzU3NzI3MyAxMC40ODUyLDEuNDUxODYzNjQgMTAuNTUzNCwxLjY0ODA0NTQ1IEMxMC42MjI3LDEuODM5NSAxMC42NTY4LDIuMDMzMzE4MTggMTAuNjU2OCwyLjIyOTUgQzEwLjY1NjgsMi40MzI3NzI3MyAxMC42MjI3LDIuNjMwMTM2MzYgMTAuNTUzNCwyLjgyMDQwOTA5IEMxMC40ODUyLDMuMDExODYzNjQgMTAuMzc4NSwzLjE4NDQwOTA5IDEwLjIzNTUsMy4zMzgwNDU0NSBMNy4wNjQyLDYuNzQ1MjI3MjcgTDguMTMwMSw3Ljg4OTIyNzI3IEM4LjI3OTcsOC4wNDk5NTQ1NSA4LjM5NjMsOC4yNjE1IDguNDgyMSw4LjUyNzQwOTA5IEM4LjU2OSw4Ljc4NTA0NTQ1IDguNjExOSw5LjA1MzMxODE4IDguNjExOSw5LjMyOTg2MzY0IEM4LjYxMTksOS41NjM4NjM2NCA4LjU4LDkuNzgwMTM2MzYgOC41MTczLDkuOTc2MzE4MTggQzguNDUzNSwxMC4xNjc3NzI3IDguMzYyMiwxMC4zMjczMTgyIDguMjQyMywxMC40NTYxMzY0IEw2Ljc4OTIsMTIuMDE3MzE4MiBMLTMuNzMwMzQ5MzZlLTE0LDQuNDgzMjI3MjcgTDEuNDQ0MywyLjkyMjA0NTQ1IEMxLjU4MTgsMi43NzQzMTgxOCAxLjczOTEsMi42NjQ0MDkwOSAxLjkxNzMsMi41ODk5NTQ1NSBDMi4wOTQ0LDIuNTA5NTkwOTEgMi4yODAzLDIuNDcwNTkwOTEgMi40NzUsMi40NzA1OTA5MSBDMi44ODIsMi40NzA1OTA5MSAzLjIyNjMsMi42MjA2ODE4MiAzLjUwNjgsMi45MjIwNDU0NSBMNC41ODE1LDQuMDc2NjgxODIgTDcuNzUxNywwLjY2OTUgQzguMDM4OCwwLjM2MjIyNzI3MyA4LjM4MzEsMC4yMDg1OTA5MDkgOC43ODM1LDAuMjA4NTkwOTA5IEM4Ljk3ODIsMC4yMDg1OTA5MDkgOS4xNjQxLDAuMjQ3NTkwOTA5IDkuMzQyMywwLjMyNzk1NDU0NSBDOS41MTk0LDAuNDA4MzE4MTgyIDkuNjc2NywwLjUyMTc3MjcyNyA5LjgxNDIsMC42Njk1IEwxMC4yMzU1LDEuMTIyMTM2MzYgWiIgaWQ9IkZpbGwtMSIgZmlsbD0iIzY2NjY2NiI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC02IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMy4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43MTg3NjkyLDcuMzg1MzUgQzEzLjY4NTMwNzcsNy40MzIwMTY2NyAxMy42MzkxNTM4LDcuNDc4NjgzMzMgMTMuNTkzLDcuNTI1MzUgQzEzLjU5Myw3LjUyNTM1IDEzLjQ2NDkyMzEsNy42NjUzNSAxMy4yNjg3NjkyLDcuODg3MDE2NjcgQzEzLjIxMjIzMDgsNy45NTcwMTY2NyAxMy4xNTQ1Mzg1LDguMDM4NjgzMzMgMTMuMDg0MTUzOCw4LjEwODY4MzMzIEMxMi44MDcyMzA4LDguNDEyMDE2NjcgMTIuNDg1MzA3Nyw4Ljc1MDM1IDEyLjEwNDUzODUsOS4xMjM2ODMzMyBDMTEuODA0NTM4NSw5LjQzODY4MzMzIDExLjQ1NzIzMDgsOS43NTI1MTY2NyAxMS4xNjg3NjkyLDEwLjA1NzAxNjcgQzEwLjk1MDY5MjMsMTAuMjY3MDE2NyAxMC43MzAzMDc3LDEwLjQ3NTg1IDEwLjQ5OTUzODUsMTAuNjg3MDE2NyBDMTAuMDk1NjkyMywxMS4wNTkxODMzIDkuNjY4NzY5MjMsMTEuNDEwMzUgOS4yODgsMTEuNzEzNjgzMyBDOS4xNjEwNzY5MiwxMS44MTg2ODMzIDkuMDM0MTUzODUsMTEuOTEyMDE2NyA4LjkxODc2OTIzLDExLjk5MzY4MzMgQzguNTM4LDEyLjI3MjUxNjcgOC4yODUzMDc2OSwxMi40NjAzNSA4LjI4NTMwNzY5LDEyLjQ2MDM1IEw1LjM1MzM4NDYyLDkuMDY0MTgzMzMgTDQuMzQ5NTM4NDYsNy45MTAzNSBMMi44OTU2OTIzMSw2LjIzMDM1IEwyLjI1ODU3ODU5LDUuNTA1NDYwNCBDMi42ODU1MDE2Niw1LjM3NzEyNzA3IDMuMDMyODA5MzUsNS4yNDg3OTM3MyAzLjU1MDg4NjI4LDUuMDM4NzkzNzMgQzQuMDcxMjcwODksNC44Mjg3OTM3MyA0LjYxMjQyNDc0LDQuNTcyMTI3MDcgNS4xNTQ3MzI0Myw0LjI4MDQ2MDQgQzUuNjk3MDQwMTIsMy45NzcxMjcwNyA2LjIyNzgwOTM1LDMuNjI3MTI3MDcgNi43NTg1Nzg1OSwzLjI0MjEyNzA3IEM3LjI4OTM0NzgyLDIuODQ1NDYwNCA3Ljc3Mzk2MzIsMi40MDIxMjcwNyA4LjIxMjQyNDc0LDEuOTAwNDYwNCBMNy4zODE2NTU1MSwxLjA2MDQ2MDQgQzcuMDcxMjcwODksMS40NTcxMjcwNyA2LjczNjY1NTUxLDEuODA3MTI3MDcgNi4zNTU4ODYyOCwyLjEyMjEyNzA3IEM1Ljk3Mzk2MzIsMi40MzcxMjcwNyA1LjU4MjgwOTM1LDIuNzE3MTI3MDcgNS4xODkzNDc4MiwyLjk2MjEyNzA3IEM0Ljc3Mzk2MzIsMy4yMDcxMjcwNyA0LjM1OTczMjQzLDMuNDI4NzkzNzMgMy45NTQ3MzI0MywzLjYxNTQ2MDQgQzMuNTM5MzQ3ODIsMy44MDIxMjcwNyAzLjEzNTUwMTY2LDMuOTc3MTI3MDcgMi43NTQ3MzI0Myw0LjExNzEyNzA3IEMxLjg1NDczMjQzLDQuNDQzNzkzNzMgMS4wNTg1Nzg1OSw0LjY1Mzc5MzczIDAuMTEyNDI0NzM5LDQuODA1NDYwNCBMOC4wNzY0NjE1NCwxNC4wMDAzNSBDOC41NjEwNzY5MiwxMy42OTcwMTY3IDkuMDQ1NjkyMzEsMTMuMzcwMzUgOS41MTg3NjkyMywxMy4wMDc1MTY3IEM5Ljk5MywxMi42NDcwMTY3IDEwLjQ0MTg0NjIsMTIuMjcyNTE2NyAxMC44ODAzMDc3LDExLjkwMDM1IEMxMS4zMDcyMzA4LDExLjUyNzAxNjcgMTEuNzIzNzY5MiwxMS4xNDIwMTY3IDEyLjEwNDUzODUsMTAuNzY3NTE2NyBDMTIuNDg1MzA3NywxMC4zOTUzNSAxMi44MzAzMDc3LDEwLjA0NDE4MzMgMTMuMTU0NTM4NSw5LjcwNzAxNjY3IEMxMy40NjQ5MjMxLDkuMzgwMzUgMTMuNzQzLDkuMDc3MDE2NjcgMTMuOTczNzY5Miw4LjgxOTE4MzMzIEMxNC4yMDMzODQ2LDguNTUyMDE2NjcgMTQuMzg4LDguMzc3MDE2NjcgMTQuNTE0OTIzMSw4LjIyNTM1IEwxMy43MTg3NjkyLDcuMzg1MzUgWiIgaWQ9IkZpbGwtNCIgZmlsbD0iIzY2NjY2NiI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi4wNjkwODQ4LDExLjQ1MzM5MTUgQzExLjUyNDY0OTIsMTIuMDA4MTIxIDEwLjk2NjQ4ODMsMTIuNTYzOTk0MyAxMC4zNTExMzg5LDEzLjEwMjcxMTEgQzkuNzQ5NTE0NjYsMTMuNjU4NTg0NCA5LjExOTI5NjE1LDE0LjE2NjQxOTMgOC40ODkwNzc2NCwxNC42Mjg1MDMyIEwzLjQzMTMxNjc1LDkgTDEyLjA2OTA4NDgsMTEuNDUzMzkxNSBaIiBpZD0iRmlsbC03IiBmaWxsPSIjMkU3N0QwIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMGMtNi42MjYgMC0xMiA1LjM3My0xMiAxMiAwIDUuMzAyIDMuNDM4IDkuOCA4LjIwNyAxMS4zODcuNTk5LjExMS43OTMtLjI2MS43OTMtLjU3N3YtMi4yMzRjLTMuMzM4LjcyNi00LjAzMy0xLjQxNi00LjAzMy0xLjQxNi0uNTQ2LTEuMzg3LTEuMzMzLTEuNzU2LTEuMzMzLTEuNzU2LTEuMDg5LS43NDUuMDgzLS43MjkuMDgzLS43MjkgMS4yMDUuMDg0IDEuODM5IDEuMjM3IDEuODM5IDEuMjM3IDEuMDcgMS44MzQgMi44MDcgMS4zMDQgMy40OTIuOTk3LjEwNy0uNzc1LjQxOC0xLjMwNS43NjItMS42MDQtMi42NjUtLjMwNS01LjQ2Ny0xLjMzNC01LjQ2Ny01LjkzMSAwLTEuMzExLjQ2OS0yLjM4MSAxLjIzNi0zLjIyMS0uMTI0LS4zMDMtLjUzNS0xLjUyNC4xMTctMy4xNzYgMCAwIDEuMDA4LS4zMjIgMy4zMDEgMS4yMy45NTctLjI2NiAxLjk4My0uMzk5IDMuMDAzLS40MDQgMS4wMi4wMDUgMi4wNDcuMTM4IDMuMDA2LjQwNCAyLjI5MS0xLjU1MiAzLjI5Ny0xLjIzIDMuMjk3LTEuMjMuNjUzIDEuNjUzLjI0MiAyLjg3NC4xMTggMy4xNzYuNzcuODQgMS4yMzUgMS45MTEgMS4yMzUgMy4yMjEgMCA0LjYwOS0yLjgwNyA1LjYyNC01LjQ3OSA1LjkyMS40My4zNzIuODIzIDEuMTAyLjgyMyAyLjIyMnYzLjI5M2MwIC4zMTkuMTkyLjY5NC44MDEuNTc2IDQuNzY1LTEuNTg5IDguMTk5LTYuMDg2IDguMTk5LTExLjM4NiAwLTYuNjI3LTUuMzczLTEyLTEyLTEyeiIvPjwvc3ZnPg==\"","module.exports = FluentUIReact;","module.exports = React;","module.exports = ReactDOM;","module.exports = roosterjs;","module.exports = roosterjsContentModel;","module.exports = roosterjsReact;","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { mount } from './controls/MainPane';\nimport { mount as mountV2 } from './controlsV2/mainPane/MainPane';\n\nconst search = document.location.search.substring(1).split('&');\nconst mainPaneDiv = document.getElementById('mainPane');\n\nif (search.some(x => x == 'legacy=1')) {\n    mount(mainPaneDiv);\n} else {\n    mountV2(mainPaneDiv);\n}\n"],"names":["content","loader","module","id","i","length","loadStyles","locals","exports","__assign","this","Object","assign","t","s","n","arguments","p","prototype","hasOwnProperty","call","apply","defineProperty","value","state","_root","window","g","_styleNonce","CSPSettings","nonce","_themeState","__themeState__","theme","undefined","lastStyleElement","registeredStyles","runState","perf","count","duration","flushTimer","mode","buffer","registeredThemableStyles","_themeTokenRegex","now","performance","Date","measure","func","start","end","flush","styleArrays","slice","mergedStyleArray","concat","applyThemableStyles","stylesArray","styleRecord","resolveThemableArray","styleString","styleArray","document","head","getElementsByTagName","styleElement","createElement","_a","themable","setAttribute","appendChild","createTextNode","ev","createEvent","initEvent","args","newStyle","dispatchEvent","record","themableStyle","push","registerStyles","clearStyles","option","clearStylesInternal","records","forEach","parentElement","removeChild","splitStyleArray","map","currentValue","themeSlot","themedValue","defaultValue","console","DEBUG","warn","rawString","join","splitStyles","styles","result","pos","tokenMatch","exec","matchIndex","index","substring","lastIndex","loadAsync","styleParts","Array","isArray","setTimeout","configureLoadStyles","loadStylesFn","configureRunMode","loadTheme","themableStyles","_i","reloadStyles","detokenize","cssKeywords","reverseKeywords","key","convert","rgb","channels","labels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","keyword","ansi16","ansi256","hcg","apple","gray","model","Error","h","l","r","b","min","Math","max","delta","rdif","gdif","bdif","v","diff","diffc","c","k","reversed","currentClosestKeyword","x","y","currentClosestDistance","Infinity","distance","pow","z","t1","t2","t3","val","smin","lmin","hi","floor","f","q","sl","vmin","wh","bl","ratio","m","y2","x2","z2","a","atan2","PI","sqrt","hr","cos","sin","round","ansi","color","mult","rem","string","toString","toUpperCase","match","colorString","split","char","integer","parseInt","hue","chroma","mg","pure","w","conversions","route","keys","fromModel","routes","toModel","fn","wrappedFn","len","conversion","wrapRounded","raw","wrapRaw","link","from","to","wrapConversion","graph","path","parent","cur","unshift","models","buildGraph","queue","current","pop","adjacents","adjacent","node","deriveBFS","colorNames","swizzle","reverseNames","name","cs","get","clamp","num","hexDouble","str","toLowerCase","hexAlpha","i2","parseFloat","alpha","isNaN","rgba","percent","hsla","hwba","_slice","skippedModels","hashedModelKeys","sort","limiters","Color","obj","valpha","newArr","zeroArray","splice","indexOf","hashedKeys","JSON","stringify","limit","freeze","getset","channel","modifier","maxfn","arr","toJSON","places","self","percentString","array","object","unitArray","unitObject","Number","toFixed","roundTo","roundToPlace","red","green","blue","saturationl","lightness","saturationv","white","wblack","cyan","magenta","yellow","black","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","level","contrastRatio","isDark","isLight","negate","lighten","darken","saturate","desaturate","whiten","blacken","grayscale","fade","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","newAlpha","___CSS_LOADER_API_IMPORT___","useSourceMap","list","item","sourceMap","base64","data","cssMapping","btoa","sourceMapping","unescape","encodeURIComponent","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","modules","mediaQuery","dedupe","alreadyImportedModules","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","seal","create","_ref","Reflect","construct","fun","thisValue","Func","Function","bind","arr2","_toConsumableArray","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","String","stringMatch","stringReplace","replace","stringIndexOf","stringTrim","trim","regExpTest","RegExp","test","typeErrorCreate","TypeError","_len2","_key2","thisArg","_len","_key","addToSet","set","element","lcElement","clone","newObject","property","lookupGetter","prop","desc","html","svg","svgFilters","svgDisallowed","mathMl","mathMlDisallowed","text","html$1","svg$1","mathMl$1","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","_typeof","Symbol","iterator","constructor","_toConsumableArray$1","getGlobal","createDOMPurify","DOMPurify","root","version","removed","nodeType","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","Text","Comment","DOMParser","trustedTypes","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","ownerDocument","trustedTypesPolicy","createPolicy","suffix","ATTR_NAME","currentScript","hasAttribute","getAttribute","policyName","createHTML","html$$1","_","_createTrustedTypesPolicy","emptyHTML","RETURN_TRUSTED_TYPE","_document","implementation","createNodeIterator","createDocumentFragment","importNode","documentMode","hooks","createHTMLDocument","MUSTACHE_EXPR$$1","ERB_EXPR$$1","DATA_ATTR$$1","ARIA_ATTR$$1","IS_SCRIPT_OR_DATA$$1","ATTR_WHITESPACE$$1","IS_ALLOWED_URI$$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","CONFIG","formElement","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_forceRemove","parentNode","outerHTML","remove","_removeAttribute","attribute","getAttributeNode","removeAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","childNodes","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isNode","nodeName","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","elm","textContent","attributes","namespaceURI","tagName","allowedTags","firstElementChild","parentTagName","Boolean","commonSvgAndHTMLElements","_checkValidNamespace","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","oldNode","returnNode","toStaticHTML","firstChild","nodeIterator","serializedHTML","setConfig","clearConfig","isValidAttribute","tag","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","factory","isArrayish","results","arg","wrap","UrlPlaceholder","LightTheme","palette","themePrimary","themeLighterAlt","themeLighter","themeLight","themeTertiary","themeSecondary","themeDarkAlt","themeDark","themeDarker","neutralLighterAlt","neutralLighter","neutralLight","neutralQuaternaryAlt","neutralQuaternary","neutralTertiaryAlt","neutralTertiary","neutralSecondary","neutralPrimaryAlt","neutralPrimary","neutralDark","DarkTheme","props","toggleablePlugins","formatStatePlugin","editorOptionPlugin","eventViewPlugin","apiPlaygroundPlugin","snapshotPlugin","ribbonPlugin","createRibbonPlugin","pasteOptionPlugin","createPasteOptionPlugin","emojiPlugin","createEmojiPlugin","sampleEntityPlugin","mainWindowButtons","getButtons","AllButtonKeys","darkMode","zoom","exportContent","popout","popoutWindowButtons","showSidePane","location","hash","popoutWindow","initState","getBuildInPluginState","scale","isDarkMode","themeMatch","editorCreator","isRtl","MainPane","getStyles","renderTitleBar","className","noGrow","renderRibbon","isPopout","Ribbon","buttons","plugin","dir","renderSidePane","fullWidth","ref","sidePane","plugins","getSidePanePlugins","sidePaneFullWidth","getPlugins","updateContentPlugin","resetEditor","setState","div","options","Editor","getTheme","renderEditor","allPlugins","editorStyles","transform","transformOrigin","height","width","forceUpdate","editorContainer","style","Rooster","editor","defaultFormat","inDarkMode","getDarkColor","experimentalFeatures","undoMetadataSnapshotService","getSnapshotService","trustedHTMLHandler","zoomScale","initialContent","ReactDOM","render","PopoutRoot","POPOUT_HTML","React","createRef","matchMedia","onMouseDown","e","addEventListener","onMouseMove","onMouseUp","userSelect","mouseX","pageX","changeWidth","removeEventListener","onUpdate","onShowSidePane","onHideSidePane","onThemeChange","MainPaneBase","instance","createUpdateContentPlugin","UpdateMode","OnDispose","getInstance","ThemeProvider","applyTo","mainPane","renderPopout","renderMainPane","componentDidMount","componentWillUnmount","win","open","write","unregisterWindowForCss","registerWindowForCss","popoutRoot","getElementById","resetEditorPlugin","pluginState","setScale","getTableBorder","tableBorderFormat","setTableBorderColor","setTableBorderWidth","setTableBorderStyle","toggleDarkMode","setPageDirection","resizer","renderSidePaneButton","onClick","createPortal","WindowProvider","editorDivId","Component","startDrag","callback","rect","getBoundingClientRect","onMouseChange","left","top","pageY","type","stopPropagation","preventDefault","hueBar","useRef","picker","initColor","useState","setHue","saturation","setSaturation","setValue","getComputedStyle","onMouseDownHueBar","useCallback","onMouseDownPicker","onChangeHue","newHue","which","onChangeColor","newSaturation","newValue","useEffect","onSelect","container","tabIndex","backgroundColor","onKeyDown","layer1","layer2","currentColor","newColor","pluginList","linkTitle","imageEdit","ImageEdit","preserveRatio","forcePreserveRatio","applyChangesOnMouseUp","contentEdit","ContentEdit","contentEditFeatures","hyperlink","HyperLink","url","paste","Paste","watermark","Watermark","watermarkText","cutPasteListChain","CutPasteListChain","tableCellSelection","TableCellSelection","tableResize","TableResize","customReplace","CustomReplace","autoFormat","AutoFormat","listEditMenu","contextMenu","createListEditMenuProvider","imageEditMenu","createImageEditMenuProvider","tableEditMenu","createTableEditMenuProvider","createContextMenuPlugin","announce","Announce","Map","values","unlocalizedText","iconName","isChecked","formatState","setDarkModeState","focus","flipWhenRtl","getDocument","defaultView","getContent","DropDownItems","DropDownValues","dropDownMenu","items","getSelectedItemKey","getObjectKeys","filter","setZoomScale","EntityType","EntityMetadataDefinition","createObjectDefinition","createNumberDefinition","onClickEntity","wrapper","findClosestElementAncestor","target","getEntitySelector","entity","getEntityFromElement","addUndoSnapshot","updateEntity","getEntityState","getEntityStates","getName","initialize","dispose","onPluginEvent","event","eventType","rawEvent","ctrlKey","createEntity","insertEntity","operation","dehydrate","hydrate","shouldPersist","setMetadata","parse","containerDiv","querySelector","span","button","increase","metadata","getMetadata","dataset","editingInfo","updateHash","pluginName","currentPane","updateStateFromHash","hashes","substr","setHashPath","title","getTitle","isCurrent","activePane","inactivePane","bodyContainer","widthDelta","clientWidth","componentCtor","component","getComponentProps","getComponent","select","pane","onChange","componentClass","header","paneName","base","getEditor","apiEntries","empty","block","sanitizer","matchlink","insertContent","region","vlist","vtable","getSelection","more","checkGetBlocks","update","runAsync","onGetBlocks","traverser","getBodyTraverser","currentBlockElement","blocks","getNextBlockElement","setBlocks","onMouseOver","getStartNode","getEndNode","htmlFor","isNodeBlockElement","renderBlock","onDoubleClick","collapse","checked","collapseToSingleElement","triggerContentChangedEvent","isNodeBlock","fontStyle","createRange","getTextContent","isBlockElement","lightColor","onInputChange","darkColor","lightBackground","darkBackground","selectInfo","firstCellX","firstCellY","lastCellX","lastCellY","selectionType","updateSelection","selection","getSelectionRangeEx","selectElement","queryInfo","isImageSelectionOption","elementToSelect","selectionMessage","coordinates","getCoordinates","firstCell","lastCell","createSelectionInfo","containerInfo","areAllCollapsed","image","selectionOption","label","input","changeSelectionOption","createCoordinatesInput","coordinateRef","showManualSelection","manualSelect","placeholder","position","updateCursor","replaceSelection","insertOnNewLine","setPosition","colSpan","buttonRow","entityType","styleInline","styleBlock","isReadonly","insertAtRoot","focusAfterEntity","isBlock","onGetEntities","selector","allEntities","queryElements","entities","textarea","EntityButton","background","onMouseOut","onMatchLink","matchLink","linkData","scheme","originalUrl","normalizedUrl","getSelectedRegions","regions","clearAll","Region","selectRegion","getSelectedBlockElementsInRegion","range","NodeName","rootNode","nodeBefore","nodeAfter","mouseOver","safeInstanceOf","hover","mouseOut","classNames","regionNode","getTagOfNode","nodeValue","HtmlSanitizer","inline","getDOMDocument","convertGlobalCssToInlineCss","parser","ListTypeToString","VListItemPane","getListType","getNode","onOrdered","changeListType","onUnrdered","onIndent","indent","onOutdent","outdent","marginLeft","getLevel","display","cursor","createVList","getElementAtCursor","createVListFromRegion","onWriteback","writeBack","isFeatureEnabled","createTableFormat","topBorder","bottomBorder","verticalBorder","bandedRows","bandedColumns","headerRow","firstColumn","borderFormat","bgColorEven","bgColorOdd","headerRowColor","topBorderColor","bottomBorderColor","verticalBorderColor","hasBandedRows","hasBandedColumns","hasHeaderRow","hasFirstColumn","keepCellShade","PREDEFINED_STYLES","DEFAULT","DEFAULT_WITH_BACKGROUND_COLOR","GRID_WITHOUT_BORDER","LIST","BANDED_ROWS_FIRST_COLUMN_NO_BORDER","EXTERNAL","NO_HEADER_VERTICAL","ESPECIAL_TYPE_1","ESPECIAL_TYPE_2","ESPECIAL_TYPE_3","CLEAR","TABLE_COLORS","TableCell","cell","td","onClickCell","spanAbove","spanLeft","border","bgColor","createVTable","VTable","onCustomizeFormat","format","applyFormat","onWriteBack","getCurrentTd","currentTd","cells","row","rowIndex","cellIndex","renderEditTableButton","renderSetHeaderRowButton","renderSetFirstColumnButton","renderSetBandedColumnButton","renderSetBandedRowButton","renderFormatTableButton","CustomizeFormatRow","inputRef","editTable","formatTable","formatInfo","isColorPickerShowing","setIsColorPickerShowing","onShowColorPicker","setColor","getCode","EditFeatureDescriptionMap","autoBullet","indentWhenTab","outdentWhenShiftTab","outdentWhenBackspaceOnEmptyFirstLine","outdentWhenEnterOnEmptyLine","mergeInNewLineWhenBackspaceOnFirstChar","maintainListChain","unquoteWhenBackspaceOnEmptyFirstLine","unquoteWhenEnterOnEmptyLine","tabInTable","upDownInTable","insertLineBeforeStructuredNodeFeature","autoLink","unlinkWhenBackspaceAfterLink","defaultShortcut","noCycleCursorMove","clickOnEntity","escapeFromEntity","enterBeforeReadonlyEntity","backspaceAfterEntity","deleteBeforeEntity","markdownBold","markdownItalic","markdownStrikethru","markdownInlineCode","maintainListChainWhenDelete","indentTableOnTab","indentWhenTabText","outdentWhenTabText","autoHyphen","autoBulletList","autoNumberingList","mergeListOnBackspaceAfterList","deleteTableWithBackspace","moveBetweenDelimitersFeature","removeEntityBetweenDelimiters","removeCodeWhenEnterOnEmptyLine","removeCodeWhenBackspaceOnEmptyFirstLine","indentWhenAltShiftRight","outdentWhenAltShiftLeft","onContentEditClick","resetState","checkbox","features","getAllFeatures","renderContentEditItem","moreOptions","checkboxColumn","NOT_SET","onFormatClick","onSelectChanged","renderFormatItem","renderSelectItem","Arial","Calibri","Tahoma","defaultFormatLabel","initialState","tableFeaturesContainerSelector","getState","FeatureNames","renderFeature","exportForm","exportData","rtl","onExportRooster","code","json","getHtml","js","js_pre_processor","submit","onExportRoosterReact","css","onToggleDirection","method","action","onPluginClick","renderPluginItem","renderInputBox","renderCheckBox","onBlur","codeMap","buttonB","buttonI","buttonU","buttonBullet","buttonNumbering","buttonUndo","buttonRedo","buttonDark","encode","src","line","settings","defaultValues","bold","italic","underline","fontFamily","fontSize","textColor","lines","expermientalFeatures","getLinkCallback","right","additionalPlugins","ContentModelPasteCode","ImageEditCode","CutPasteListChainCode","CustomReplaceCode","RibbonPluginVarName","ribbonButton","ribbon","componentCode","ButtonVarName","supportDarkMode","getButtonVarName","buttonsVarName","namespace","SimplePluginCode","PasteCode","TableResizeCode","allFeatures","reduce","defaultDisabled","EventTypeMap","EntityOperationMap","events","displayCount","clear","currentIndex","renderImage","img","imageFile","readFile","dataUrl","onDisplayCountChanged","displayedEvents","reverse","time","getHours","getMinutes","getSeconds","getMilliseconds","eventContent","renderEvent","addEvent","sanitizingOption","clipboardData","shift","types","renderPasteContent","rawHtml","linkPreview","pasteNativeEvent","customValues","contentType","isCut","newSrc","oldZoomScale","newZoomScale","renderer","pasteContent","stringArray","child","nextSibling","inIME","setFormatState","fontName","renderSpan","isBold","isItalic","isUnderline","isStrikeThrough","isSubscript","isSuperscript","fontWeight","isBullet","isNumbering","isBlockQuote","canUnlink","canAddImageAltText","isInTable","tableHasHeader","headingLevel","inactive","canUndo","canRedo","Browser","isChrome","isFirefox","isSafari","isWebKit","isMac","isWin","isAndroid","isMobileOrTablet","navigator","userAgent","appVersion","updateFormatState","getFormatState","getFocusedPosition","getPositionRect","isInIME","takeSnapshot","snapshot","onTakeSnapshot","setSnapshot","snapshotToString","renderItem","autoCompleteIndex","autoComplete","snapshotStr","onMove","snapshots","snapshotPane","snapshotList","onRestoreSnapshot","knownColors","spellCheck","updateSnapshots","refCallback","newSnapshot","snapshotService","startHijackUndoSnapshot","editorInstance","stopHijackUndoSnapshot","step","move","setContent","getSnapshots","getCurrentIndex","getAutoCompleteIndex","SnapshotPlugin","createSnapshots","isUndoSnapshotServiceV2","hijackUndoSnapshotCallback","canMove","canMoveCurrentSnapshot","moveCurrentSnapshot","addSnapshot","isAutoCompleteSnapshot","addSnapshotV2","clearRedo","clearProceedingSnapshotsV2","canUndoAutoComplete","github","baseClassName","titleBar","titleText","links","href","externalLink","alt","changeImageButton","isDisabled","fileInput","accept","files","changeImage","click","darkModeButton","exportContentButton","getTrustedHTMLHandler","formatPainterButton","FormatPainterPlugin","startFormatPainter","TableBorderFormat","Default","NoSideBorders","FirstColumnHeaderExternal","ListWithSideBorders","NoHeaderBorders","EspecialType1","EspecialType2","EspecialType3","Clear","formatTableButton","imageBorderColorButton","TextColorDropDownItems","itemClassName","getColorPickerItemClassName","allowLivePreview","itemRender","renderColorPicker","TextColors","commandBarSubMenuProperties","getColorPickerContainerClassName","setImageBorder","getTextColorValue","lightModeColor","imageBorderRemoveButton","imageBorderStyleButton","dashed","dotted","solid","double","groove","ridge","inset","outset","imageBorderWidthButton","size","STYLES","noShadow","bottomRight","bottom","bottomLeft","center","topRight","topLeft","imageBoxShadowButton","setImageBoxShadow","listStartNumberButton","ribbonButtonSetStartNumberTo1","ribbonButtonSetStartNumberCustomize","strings","uiUtility","showInputDialog","startNumber","labelKey","unlocalizedLabel","initValue","then","setListStartNumber","pasteButton","clipboard","read","clipboardItems","Promise","all","createDataTransferItems","dataTransferItems","extractClipboardItems","isTEXT","startsWith","isIMAGE","getType","blob","kind","file","getAsFile","getAsString","webkitGetAsEntry","createDataTransfer","popoutButton","dropDownMenuItems","BulletListType","Disc","Dash","Square","ShortArrow","LongArrow","UnfilledArrow","Hyphen","DoubleLongArrow","Circle","setBulletedListStyleButton","setListStyle","unorderedStyleType","NumberingListType","Decimal","DecimalDash","DecimalParenthesis","DecimalDoubleParenthesis","LowerAlpha","LowerAlphaParenthesis","LowerAlphaDoubleParenthesis","LowerAlphaDash","UpperAlpha","UpperAlphaParenthesis","UpperAlphaDoubleParenthesis","UpperAlphaDash","LowerRoman","LowerRomanParenthesis","LowerRomanDoubleParenthesis","LowerRomanDash","UpperRoman","UpperRomanParenthesis","UpperRomanDoubleParenthesis","UpperRomanDash","setNumberedListStyleButton","orderedStyleType","setTableCellShadeButton","BackgroundColorDropDownItems","BackgroundColors","getBackgroundColorValue","setTableCellShade","setTableHeaderButton","spaceAfterButton","marginBottom","setParagraphMargin","spaceBeforeButton","marginTop","SPACING_OPTIONS","spacingButton","lineHeight","query","find","opt","abs","findClosest","setSpacing","TABLE_OPERATIONS","menuNameTableAllBorder","menuNameTableNoBorder","menuNameTableLeftBorder","menuNameTableRightBorder","menuNameTableTopBorder","menuNameTableBottomBorder","menuNameTableInsideBorder","menuNameTableOutsideBorder","tableBorderApplyButton","applyTableBorderFormat","tableBorderColorButton","tableBorderStyleButton","tableBorderWidthButton","TableEditOperationMap","menuNameTableInsertAbove","menuNameTableInsertBelow","menuNameTableInsertLeft","menuNameTableInsertRight","menuNameTableDeleteTable","menuNameTableDeleteColumn","menuNameTableDeleteRow","menuNameTableMergeAbove","menuNameTableMergeBelow","menuNameTableMergeLeft","menuNameTableMergeRight","menuNameTableMergeCells","menuNameTableSplitHorizontally","menuNameTableSplitVertically","menuNameTableAlignLeft","menuNameTableAlignCenter","menuNameTableAlignRight","menuNameTableAlignTop","menuNameTableAlignMiddle","menuNameTableAlignBottom","menuNameTableAlignTableLeft","menuNameTableAlignTableCenter","menuNameTableAlignTableRight","tableInsertButton","tableDeleteButton","tableMergeButton","tableSplitButton","tableAlignCellButton","tableAlignTableButton","zoomButton","triggerEvent","UpdateContentPlugin","totalSize","maxSize","FormatStatePlugin","EditorOptionsPlugin","EventViewPlugin","ApiPlaygroundPlugin","contentModelPanePlugin","ContentModelPanePlugin","formatPainterPlugin","TitleBar","buttonsWithPopout","SidePane","legacyPluginList","createLegacyPlugins","EditorAdapter","legacyPlugins","getToggleablePlugins","getInnerRibbonPlugin","defaultSegmentFormat","initialModel","disableCache","allowExcelNoBorderTable","listMenu","tableMenu","imageMenu","AutoFormatPlugin","edit","EditPlugin","PastePlugin","shortcut","ShortcutPlugin","tableEdit","TableEditPlugin","emoji","pasteOption","sampleEntity","boldButton","italicButton","underlineButton","fontButton","fontSizeButton","increaseFontSizeButton","decreaseFontSizeButton","textColorButton","backgroundColorButton","bulletedListButton","numberedListButton","decreaseIndentButton","increaseIndentButton","blockQuoteButton","alignLeftButton","alignCenterButton","alignRightButton","alignJustifyButton","insertLinkButton","removeLinkButton","insertTableButton","insertImageButton","superscriptButton","subscriptButton","strikethroughButton","setHeadingLevelButton","codeButton","ltrButton","rtlButton","undoButton","redoButton","clearFormatButton","FORMATPAINTERCURSOR_STYLE","styleNode","painterFormat","applySegmentFormat","setFormatPainterCursor","sheet","cssRules","deleteRule","insertRule","letterSpacing","strikethrough","superOrSubScriptSequence","hydratedEntities","contentNode","createEntityNode","initialEntityState","hydratedEntity","HydratedEntity","MetadataDataSetName","getContentModelCopy","mergeStyleSets","colorSquare","margin","borderStyle","borderWidth","borderColor","colorSquareBorder","colorSquareBorderWhite","colorDef","buttonColor","backgroundColorCyan","darkModeColor","backgroundColorGreen","backgroundColorYellow","backgroundColorOrange","backgroundColorRed","backgroundColorMagenta","backgroundColorLightCyan","backgroundColorLightGreen","backgroundColorLightYellow","backgroundColorLightOrange","backgroundColorLightRed","backgroundColorLightMagenta","backgroundColorWhite","backgroundColorLightGray","backgroundColorGray","backgroundColorDarkGray","backgroundColorDarkerGray","backgroundColorBlack","colorPickerContainer","padding","overflow","colorMenuItem","minWidth","textColorLightBlue","textColorLightGreen","textColorLightYellow","textColorLightOrange","textColorLightRed","textColorLightPurple","textColorBlue","textColorGreen","textColorYellow","textColorOrange","textColorRed","textColorPurple","textColorDarkBlue","textColorDarkGreen","textColorDarkYellow","textColorDarkOrange","textColorDarkRed","textColorDarkPurple","textColorDarkerBlue","textColorDarkerGreen","textColorDarkerYellow","textColorDarkerOrange","textColorDarkerRed","textColorDarkerPurple","textColorWhite","textColorLightGray","textColorGray","textColorDarkGray","textColorDarkerGray","textColorBlack","createUIUtilities","getLocalizedString","renderComponent","unmountComponentAtNode","isRightToLeft","direction","defaultString","uiUtilities","reactElement","createContextMenuProvider","ImageAltTextMenuItem","altText","setDOMSelection","setImageAltText","sizeMap","menuNameImageSizeBestFit","menuNameImageSizeSmall","menuNameImageSizeMedium","menuNameImageSizeOriginal","ImageResizeMenuItem","subItems","getDOMSelection","percentage","naturalWidth","naturalHeight","formatImageWithContentModel","segment","updateImageMetadata","leftPercent","rightPercent","topPercent","bottomPercent","angleRad","newWidth","newHeight","widthPx","heightPx","resizeByPercentage","maxWidth","resetImage","ImageRotateMenuItem","menuNameImageRotateLeft","menuNameImageRotateRight","shouldShow","imageEditor","isOperationAllowed","canRegenerateImage","rotateImage","ImageFlipMenuItem","menuNameImageRotateFlipHorizontally","menuNameImageRotateFlipVertically","flipImage","ImageCropMenuItem","cropImage","ImageRemoveMenuItem","formatContentModel","changed","iterateSelections","__","segments","segmentType","blockType","apiName","removeImage","ImageCopyMenuItem","execCommand","ImageCutMenuItem","shouldShowImageEditItems","ListNumberResetMenuItem","ListNumberEditMenuItem","listAndLi","getEditingList","li","isNodeOfType","isElementOfType","domHelper","getDOMHelper","isContentEditable","ColorValues","menuNameTableCellShade","TableEditInsertMenuItem","TableEditDeleteMenuItem","TableEditMergeMenuItem","TableEditSplitMenuItem","TableEditAlignMenuItem","TableEditAlignTableMenuItem","TableEditCellShadeMenuItem","getEditingTable","onDismiss","normalizedItems","dividerKey","normalizeItems","disposer","renderReactComponent","ContextualMenu","dismiss","ContextMenuPlugin","setUIUtilities","ContextMenuPluginBase","menuName","shouldAddMenuItems","context","targetNode","getContextMenuItems","convertMenuItems","selectedId","getSelectedId","ariaLabel","subMenuProps","onItemClick","menuItem","onRender","subItem","iconProps","ContextMenuProviderImpl","isSelected","onFocus","description","role","emojiSelected","propName","getDataAndAriaProps","codePoint","currentSelected","getTabId","EmojiList","onFamilyClick","navBar","FocusZone","FocusZoneDirection","horizontal","selected","friendlyName","TooltipHost","hostClassName","navBarTooltip","navBarButton","onclick","Icon","EmojiFabricIconCharacterMap","VerticalDirectionKeys","KeyCodes","up","down","DirectionKeys","home","TooltipCalloutProps","isBeakVisible","beakWidth","gapSpace","setInitialFocus","doNotLayer","directionalHint","DirectionalHint","bottomCenter","AriaAttributes","EmojiPane","forwardRef","searchBox","emojiBody","setIndex","setMode","CommonEmojis","currentEmojiList","setCurrentEmojiList","currentFamily","setCurrentFamily","search","setSearchString","searchInBox","setSearchInBox","useTheme","getEmojiPaneClassName","listId","baseId","navigate","change","newIndex","normalizeSearchText","colonIncluded","getEmojiElementIdByIndex","getEmojiIconId","getSelectedEmoji","showFullPicker","fullSearchText","normalizedSearchValue","newMode","getSearchResult","setSearch","searchValue","isQuickMode","emojiList","searchEmojis","MoreEmoji","useImperativeHandle","onSearchFocus","onSearchKeyPress","enter","onSearchKeyDown","scrollTop","scrollHeight","visibleRowCount","currentRow","visibleTop","currentRowTop","renderCurrentEmojiIcons","emojiIndex","EmojiIcon","onEmojiBodyRef","pivotClick","itemKey","focusZoneRefCallback","searchDisabled","onSearchChange","selectedEmoji","quickPicker","roosterEmojiPane","Callout","hidden","tooltip","renderQuickPicker","searchBoxString","emojiId","autoCompleteAttributes","TextField","componentRef","setSelectionStart","searchRefCallback","inputClassName","emojiTextInput","onKeyPress","hideStatusBar","navBarProps","statusBarProps","hasResult","fullList","fullListBody","EmojiNavBar","fullListContent","EmojiStatusBar","renderFullList","partialList","renderPartialList","renderFullPicker","renderPane","paneRef","calcMaxHeight","rowsOfIcons","memoizeFunction","overflowY","zIndex","borderImage","outline","maxHeight","buttonWidth","transition","borderBottom","borderBottomColor","statusBar","borderTop","statusBarIcon","statusBarDetailsContainer","statusBarDetails","whiteSpace","textOverflow","statusBarNoResultDetailsContainer","noResultDescription","overflowMode","TooltipOverflowMode","Parent","icon","EmojiICallout","cursorRect","onSelectFromPane","onHideCallout","isCalloutVisible","toggleIsCalloutVisible","point","gap","toogleCallout","bottomAutoEdge","showEmojiPane","emojiCalloutRef","EMOJI_BEFORE_COLON_REGEX","WHITESPACE_REGEX","searchBoxStrings","eventHandledOnKeyDown","canUndoEmoji","isSuggesting","timer","setIsSuggesting","wordBeforeCursor","insertEmoji","EmojiDescriptionStrings","EmojiKeywordStrings","EmojiFamilyStrings","onKeyDownSuggestingDomEvent","undo","handleEventOnKeyDown","isModifierKey","onKeyUpSuggestingDomEvent","onKeyUpDomEvent","getWordBeforeCursor","tryShowFullPicker","space","backspace","clearTimeout","getCallout","rangeNode","startContainer","rangeElement","showEmojiCallout","previousSegment","endsWith","prevSegment","stopImmediatePropagation","EmojiPlugin","emjDMore","emjDNoSuggestions","emjD0270a","emjD0270b","emjD0270c","emjD02764","emjD1f440","emjD1f442","emjD1f443","emjD1f444","emjD1f445","emjD1f446","emjD1f447","emjD1f448","emjD1f449","emjD1f44a","emjD1f44b","emjD1f44c","emjD1f44d","emjD1f44e","emjD1f44f","emjD1f450","emjD1f590","emjD1f595","emjD1f596","emjD1f464","emjD1f466","emjD1f467","emjD1f468","emjD1f469","emjD1f46a","emjD1f46b","emjD1f46e","emjD1f46f","emjD1f470","emjD1f471","emjD1f472","emjD1f473","emjD1f474","emjD1f475","emjD1f476","emjD1f477","emjD1f481","emjD1f482","emjD1f48b","emjD1f493","emjD1f494","emjD1f495","emjD1f496","emjD1f497","emjD1f498","emjD1f499","emjD1f49a","emjD1f49b","emjD1f49c","emjD1f49d","emjD1f49e","emjD1f49f","emjD1f601","emjD1f602","emjD1f603","emjD1f604","emjD1f605","emjD1f606","emjD1f607","emjD1f608","emjD1f609","emjD1f60a","emjD1f60b","emjD1f60c","emjD1f60d","emjD1f60e","emjD1f60f","emjD1f610","emjD1f612","emjD1f613","emjD1f614","emjD1f616","emjD1f618","emjD1f61a","emjD1f61c","emjD1f61d","emjD1f61e","emjD1f620","emjD1f621","emjD1f622","emjD1f623","emjD1f624","emjD1f625","emjD1f628","emjD1f629","emjD1f62a","emjD1f62b","emjD1f62d","emjD1f630","emjD1f631","emjD1f632","emjD1f633","emjD1f635","emjD1f636","emjD1f637","emjD1f645","emjD1f646","emjD1f647","emjD1f648","emjD1f649","emjD1f641","emjD1f642","emjD1f64a","emjD1f64b","emjD1f64c","emjD1f64d","emjD1f64e","emjD1f64f","emjD02600","emjD02601","emjD02614","emjD0267b","emjD026c4","emjD026c5","emjD02728","emjD02733","emjD02734","emjD02744","emjD02747","emjD02b50","emjD1f300","emjD1f301","emjD1f302","emjD1f303","emjD1f304","emjD1f305","emjD1f306","emjD1f307","emjD1f308","emjD1f309","emjD1f30a","emjD1f30b","emjD1f30c","emjD1f311","emjD1f313","emjD1f314","emjD1f315","emjD1f319","emjD1f31b","emjD1f31f","emjD1f320","emjD1f330","emjD1f331","emjD1f334","emjD1f335","emjD1f337","emjD1f338","emjD1f339","emjD1f33a","emjD1f33b","emjD1f33c","emjD1f33d","emjD1f33e","emjD1f33f","emjD1f340","emjD1f341","emjD1f342","emjD1f343","emjD1f344","emjD1f40c","emjD1f40d","emjD1f40e","emjD1f411","emjD1f412","emjD1f414","emjD1f417","emjD1f418","emjD1f419","emjD1f41a","emjD1f41b","emjD1f41c","emjD1f41d","emjD1f41e","emjD1f41f","emjD1f420","emjD1f421","emjD1f422","emjD1f423","emjD1f424","emjD1f425","emjD1f426","emjD1f427","emjD1f428","emjD1f429","emjD1f42b","emjD1f42c","emjD1f42d","emjD1f42e","emjD1f42f","emjD1f430","emjD1f431","emjD1f432","emjD1f433","emjD1f434","emjD1f435","emjD1f436","emjD1f437","emjD1f438","emjD1f439","emjD1f43a","emjD1f43b","emjD1f43c","emjD1f43d","emjD1f43e","emjD1f638","emjD1f639","emjD1f63a","emjD1f63b","emjD1f63c","emjD1f63d","emjD1f63e","emjD1f63f","emjD1f640","emjD0260e","emjD026bd","emjD026be","emjD1f004","emjD1f380","emjD1f381","emjD1f382","emjD1f383","emjD1f384","emjD1f385","emjD1f386","emjD1f387","emjD1f388","emjD1f389","emjD1f38a","emjD1f38b","emjD1f38c","emjD1f38d","emjD1f38e","emjD1f38f","emjD1f390","emjD1f391","emjD1f392","emjD1f393","emjD1f3a0","emjD1f3a1","emjD1f3a2","emjD1f3a3","emjD1f3a4","emjD1f3a5","emjD1f3a6","emjD1f3a7","emjD1f3a8","emjD1f3a9","emjD1f3aa","emjD1f3ab","emjD1f3ac","emjD1f3ad","emjD1f3ae","emjD1f3af","emjD1f3b0","emjD1f3b1","emjD1f3b2","emjD1f3b3","emjD1f3b4","emjD1f3b5","emjD1f3b6","emjD1f3b7","emjD1f3b8","emjD1f3b9","emjD1f3ba","emjD1f3bb","emjD1f3bc","emjD1f3bd","emjD1f3be","emjD1f3bf","emjD1f3c0","emjD1f3c1","emjD1f3c2","emjD1f3c3","emjD1f3c4","emjD1f3c6","emjD1f3c8","emjD1f3ca","emjD1f478","emjD1f479","emjD1f47a","emjD1f47b","emjD1f47c","emjD1f47d","emjD1f47e","emjD1f47f","emjD1f480","emjD1f483","emjD1f484","emjD1f485","emjD1f486","emjD1f487","emjD1f488","emjD1f489","emjD1f48a","emjD1f48c","emjD1f48d","emjD1f48e","emjD1f48f","emjD1f490","emjD1f491","emjD1f492","emjD1f4f7","emjD1f4f9","emjD1f4fa","emjD1f4fb","emjD1f4fc","emjD02615","emjD02702","emjD02709","emjD0270f","emjD02712","emjD1f345","emjD1f346","emjD1f347","emjD1f348","emjD1f349","emjD1f34a","emjD1f34c","emjD1f34d","emjD1f34e","emjD1f34f","emjD1f351","emjD1f352","emjD1f353","emjD1f354","emjD1f355","emjD1f356","emjD1f357","emjD1f358","emjD1f359","emjD1f35a","emjD1f35b","emjD1f35c","emjD1f35d","emjD1f35e","emjD1f35f","emjD1f360","emjD1f361","emjD1f362","emjD1f363","emjD1f364","emjD1f365","emjD1f366","emjD1f367","emjD1f368","emjD1f369","emjD1f36a","emjD1f36b","emjD1f36c","emjD1f36d","emjD1f36e","emjD1f36f","emjD1f370","emjD1f371","emjD1f372","emjD1f373","emjD1f374","emjD1f375","emjD1f376","emjD1f377","emjD1f378","emjD1f379","emjD1f37a","emjD1f37b","emjD1f451","emjD1f452","emjD1f453","emjD1f454","emjD1f455","emjD1f456","emjD1f457","emjD1f458","emjD1f459","emjD1f45a","emjD1f45b","emjD1f45c","emjD1f45d","emjD1f45e","emjD1f45f","emjD1f460","emjD1f461","emjD1f462","emjD1f463","emjD1f4ba","emjD1f4bb","emjD1f4bc","emjD1f4bd","emjD1f4be","emjD1f4bf","emjD1f4c0","emjD1f4c1","emjD1f4c2","emjD1f4c3","emjD1f4c4","emjD1f4c5","emjD1f4c6","emjD1f4c7","emjD1f4c8","emjD1f4c9","emjD1f4ca","emjD1f4cb","emjD1f4cc","emjD1f4cd","emjD1f4ce","emjD1f4cf","emjD1f4d0","emjD1f4d1","emjD1f4d2","emjD1f4d3","emjD1f4d4","emjD1f4d5","emjD1f4d6","emjD1f4d7","emjD1f4d8","emjD1f4d9","emjD1f4da","emjD1f4db","emjD1f4dc","emjD1f4dd","emjD1f4de","emjD1f4df","emjD1f4e0","emjD1f4e1","emjD1f4e2","emjD1f4e3","emjD1f4e4","emjD1f4e5","emjD1f4e6","emjD1f4e7","emjD1f4e8","emjD1f4e9","emjD1f4ea","emjD1f4eb","emjD1f4ee","emjD1f4f0","emjD1f4f1","emjD1f4f2","emjD1f4f3","emjD1f4f4","emjD1f4f6","emjD1f525","emjD1f526","emjD1f527","emjD1f528","emjD1f529","emjD1f52a","emjD1f52b","emjD1f52e","emjD1f52f","emjD1f531","emjD1f550","emjD1f551","emjD1f552","emjD1f553","emjD1f554","emjD1f555","emjD1f556","emjD1f557","emjD1f558","emjD1f559","emjD1f55a","emjD1f55b","emjD02668","emjD0267f","emjD02693","emjD026a0","emjD026a1","emjD026d4","emjD026ea","emjD026f2","emjD026f3","emjD026f5","emjD026fa","emjD026fd","emjD02708","emjD1f17f","emjD1f3e0","emjD1f3e1","emjD1f3e2","emjD1f3e3","emjD1f3e5","emjD1f3e6","emjD1f3e7","emjD1f3e8","emjD1f3e9","emjD1f3ea","emjD1f3eb","emjD1f3ec","emjD1f3ed","emjD1f3ee","emjD1f3ef","emjD1f3f0","emjD1f530","emjD1f680","emjD1f683","emjD1f684","emjD1f685","emjD1f687","emjD1f689","emjD1f68c","emjD1f68f","emjD1f691","emjD1f692","emjD1f693","emjD1f695","emjD1f697","emjD1f699","emjD1f69a","emjD1f6a2","emjD1f6a4","emjD1f6a5","emjD1f6a7","emjD1f6a8","emjD1f6a9","emjD1f6aa","emjD1f6ab","emjD1f6ac","emjD1f6ad","emjD1f6b2","emjD1f6b6","emjD1f6b9","emjD1f6ba","emjD1f6bb","emjD1f6bc","emjD1f6bd","emjD1f6be","emjD1f6c0","emjD02049","emjD02139","emjD021a9","emjD021aa","emjD0231a","emjD0231b","emjD023e9","emjD023ea","emjD023eb","emjD023ec","emjD023f0","emjD023f3","emjD024c2","emjD025b6","emjD025c0","emjD025fb","emjD025fc","emjD026ce","emjD02611","emjD0261d","emjD02648","emjD02649","emjD0264a","emjD0264b","emjD0264c","emjD0264d","emjD0264e","emjD0264f","emjD02650","emjD02651","emjD02652","emjD02653","emjD026aa","emjD026ab","emjD02705","emjD02714","emjD02716","emjD0274c","emjD0274e","emjD02753","emjD02754","emjD02755","emjD02757","emjD02795","emjD02796","emjD02797","emjD027a1","emjD027b0","emjD027bf","emjD02934","emjD02935","emjD02b05","emjD02b06","emjD02b07","emjD02b1b","emjD02b1c","emjD02b55","emjD03030","emjD0303d","emjD03297","emjD03299","emjD1f0cf","emjD1f170","emjD1f171","emjD1f17e","emjD1f18e","emjD1f191","emjD1f192","emjD1f193","emjD1f194","emjD1f195","emjD1f196","emjD1f197","emjD1f198","emjD1f199","emjD1f19a","emjD1f201","emjD1f202","emjD1f21a","emjD1f22f","emjD1f232","emjD1f233","emjD1f234","emjD1f235","emjD1f236","emjD1f237","emjD1f238","emjD1f239","emjD1f23a","emjD1f250","emjD1f251","emjD1f30f","emjD1f4a0","emjD1f4a1","emjD1f4a2","emjD1f4a3","emjD1f4a4","emjD1f4a5","emjD1f4a6","emjD1f4a7","emjD1f4a8","emjD1f4a9","emjD1f4aa","emjD1f4ab","emjD1f4ac","emjD1f4ae","emjD1f4af","emjD1f4b0","emjD1f4b1","emjD1f4b2","emjD1f4b3","emjD1f4b4","emjD1f4b5","emjD1f4b8","emjD1f4b9","emjD1f503","emjD1f50a","emjD1f50b","emjD1f50c","emjD1f50d","emjD1f50e","emjD1f50f","emjD1f510","emjD1f511","emjD1f512","emjD1f513","emjD1f514","emjD1f516","emjD1f517","emjD1f518","emjD1f519","emjD1f51a","emjD1f51b","emjD1f51c","emjD1f51d","emjD1f51e","emjD1f51f","emjD1f520","emjD1f521","emjD1f522","emjD1f523","emjD1f524","emjD1f532","emjD1f533","emjD1f534","emjD1f535","emjD1f536","emjD1f537","emjD1f538","emjD1f539","emjD1f53a","emjD1f53b","emjD1f53c","emjD1f53d","emjD1f5fb","emjD1f5fc","emjD1f5fd","emjD1f5fe","emjD1f5ff","emjK1f607","emjK1f47c","emjK1f34e","emjK1f34f","emjK1f477","emjK1f6a7","emjK1f491","emjK1f46b","emjK1f622","emjK1f62d","emjK1f525","emjK1f692","emjK1f386","emjK1f387","emjK1f44a","emjK0270a","emjK1f498","emjK1f496","emjK1f497","emjK1f493","emjK1f368","emjK1f366","emjK1f48b","emjK1f444","emjK1f618","emjK1f61a","emjK1f48f","emjK1f435","emjK1f64a","emjK1f649","emjK1f648","emjK1f3b6","emjK1f3b5","emjK1f44c","emjK1f646","emjK1f621","emjK1f64e","emjK1f60c","emjK1f630","emjK1f605","emjK1f380","emjK1f381","emjK1f613","emjK1f631","emjK1f629","emjK1f628","emjK1f45e","emjK1f45f","emjK1f60a","emjK1f642","emjK1f603","emjK1f604","emjK1f6bd","emjK1f6ba","emjK1f6b9","emjK1f684","emjK1f683","emjK1f446","emjK0261d","emjK1f64b","emjK1f44b","emjK1f601","emjK1f602","emjK1f606","emjK1f609","emjK1f60f","emjK1f645","emjK1f44e","emjK1f60d","emjK1f495","emjK1f44d","emjK1f610","emjK1f620","emjK1f612","emjK1f47b","emjK1f480","emjK1f47e","emjK1f365","emjK1f61e","emjK1f64d","emjK1f494","emjK1f625","emjK1f62b","emjK1f4a4","emjK1f62a","emjK1f632","emjK1f633","emjK1f3c4","emjK1f44f","emjK1f64c","emjK1f48d","emjK1f483","emjK1f389","emjK1f388","emjK1f38a","emjK1f383","emjK1f385","emjK1f384","emjK1f3eb","emjK1f392","emjK1f41f","emjK1f3a3","emjK1f3a5","emjK1f4f9","emjK1f3a6","emjK1f3ad","emjK1f3bc","emjK1f3b9","emjK1f3a7","emjK1f3b7","emjK1f3ba","emjK1f3b8","emjK1f3bb","emjK1f3ac","emjK1f48e","emjK1f3be","emjK1f3c8","emjK1f3bf","emjK1f3c2","emjK026c4","emjK02744","emjK1f3c1","emjK1f3c3","emjK1f375","emjK02615","emjK1f377","emjK1f378","emjK1f379","emjK1f68c","emjK1f687","emjK1f43b","emjK1f43c","emjK1f340","emjK1f320","emjK1f303","emjK1f307","emjK1f31f","emjK02747","emjK1f4b0","emjK1f4b5","emjK1f4b4","emjK1f4b3","emjK1f60b","emjK1f60e","emjK1f614","emjK1f616","emjK1f61c","emjK1f61d","emjK1f623","emjK1f624","emjK1f635","emjK1f636","emjK1f637","emjK1f440","emjK1f442","emjK1f443","emjK1f445","emjK1f447","emjK1f448","emjK1f449","emjK1f64f","emjK0270b","emjK0270c","emjK1f466","emjK1f467","emjK1f468","emjK1f469","emjK1f46a","emjK1f46e","emjK1f46f","emjK1f470","emjK1f471","emjK1f474","emjK1f475","emjK1f476","emjK1f382","emjK1f390","emjK1f393","emjK1f0cf","emjK1f3a0","emjK1f3a1","emjK1f3a2","emjK1f3a4","emjK1f3a8","emjK1f3a9","emjK1f3aa","emjK1f3ab","emjK1f3ae","emjK1f3af","emjK1f3b0","emjK1f3b1","emjK1f3b2","emjK1f3b3","emjK1f4f7","emjK1f4fa","emjK1f4fb","emjK1f4fc","emjK1f478","emjK1f47d","emjK1f47f","emjK1f484","emjK1f485","emjK1f486","emjK1f487","emjK1f488","emjK1f489","emjK1f48a","emjK1f48c","emjK1f490","emjK1f492","emjK1f3c0","emjK1f3c6","emjK1f3ca","emjK026bd","emjK026be","emjK1f451","emjK1f453","emjK1f454","emjK1f455","emjK1f456","emjK1f457","emjK1f459","emjK1f45b","emjK1f45c","emjK1f45d","emjK1f461","emjK1f462","emjK1f463","emjK1f4dd","emjK1f4de","emjK1f4df","emjK1f4e0","emjK1f4e1","emjK1f4e3","emjK1f4e6","emjK1f4e7","emjK1f4ee","emjK1f4f0","emjK1f4f1","emjK1f4f6","emjK1f526","emjK1f527","emjK1f528","emjK1f529","emjK1f52a","emjK1f52e","emjK1f531","emjK1f354","emjK1f355","emjK1f356","emjK1f357","emjK1f35a","emjK1f35c","emjK1f35d","emjK1f35e","emjK1f35f","emjK1f360","emjK1f363","emjK1f364","emjK1f369","emjK1f36a","emjK1f36b","emjK1f36c","emjK1f36d","emjK1f36e","emjK1f36f","emjK1f370","emjK1f371","emjK1f372","emjK1f374","emjK1f376","emjK1f37a","emjK1f37b","emjK1f345","emjK1f346","emjK1f347","emjK1f348","emjK1f349","emjK1f34a","emjK1f34c","emjK1f34d","emjK1f351","emjK1f352","emjK1f353","emjK1f4ba","emjK1f4bb","emjK1f4bc","emjK1f4be","emjK1f4bf","emjK1f4c0","emjK1f4c1","emjK1f4c5","emjK1f4cb","emjK1f4cc","emjK1f4cd","emjK1f4ce","emjK1f4cf","emjK1f4d2","emjK1f4d3","emjK1f4da","emjK1f4db","emjK02702","emjK02709","emjK0270f","emjK1f3e0","emjK1f3e1","emjK1f3e2","emjK1f3e6","emjK1f3e7","emjK1f3e8","emjK1f3ea","emjK1f3ec","emjK1f3ed","emjK1f3f0","emjK02668","emjK02693","emjK026ea","emjK026f2","emjK026f3","emjK026f5","emjK026fd","emjK1f6aa","emjK1f6ac","emjK1f6ad","emjK1f6b2","emjK1f6b6","emjK1f6c0","emjK0267f","emjK026a0","emjK026a1","emjK1f680","emjK1f68f","emjK1f693","emjK1f695","emjK1f697","emjK1f6a2","emjK02708","emjK1f42d","emjK1f42e","emjK1f42f","emjK1f430","emjK1f431","emjK1f432","emjK1f433","emjK1f434","emjK1f436","emjK1f437","emjK1f438","emjK1f439","emjK1f43a","emjK1f341","emjK1f344","emjK1f308","emjK02601","emjK02614","emjK02728","emjK1f4a9","emjK1f4aa","emjK02648","emjK02649","emjK0264a","emjK0264b","emjK0264c","emjK0264d","emjK0264e","emjK0264f","emjK02650","emjK02651","emjK02652","emjK02653","emjK1f411","emjK1f300","emjK1f301","emjK1f302","emjK1f304","emjK1f305","emjK1f306","emjK1f309","emjK1f30a","emjK1f30c","emjK1f311","emjK1f313","emjK1f314","emjK1f315","emjK1f319","emjK1f31b","emjK1f330","emjK1f331","emjK1f334","emjK1f335","emjK1f337","emjK1f338","emjK1f339","emjK1f33a","emjK1f33b","emjK1f33c","emjK1f33d","emjK1f33e","emjK1f33f","emjK1f342","emjK1f343","emjK1f358","emjK1f359","emjK1f35b","emjK1f361","emjK1f362","emjK1f373","emjK1f3bd","emjK1f417","emjK1f418","emjK1f419","emjK1f41a","emjK1f41b","emjK1f41c","emjK1f41d","emjK1f41e","emjK1f420","emjK1f421","emjK1f422","emjK1f423","emjK1f425","emjK1f40c","emjK1f40d","emjK1f40e","emjK1f412","emjK1f414","emjK1f429","emjK1f42b","emjK1f426","emjK1f427","emjK1f42c","emjK1f43d","emjK1f43e","emjK1f452","emjK1f458","emjK1f45a","emjK1f481","emjK1f482","emjK1f499","emjK1f49a","emjK1f49b","emjK1f49c","emjK1f49d","emjK1f49e","emjK1f49f","emjK1f4a5","emjK1f4a3","emjK1f4a1","emjK1f4a8","emjK1f503","emjK1f50c","emjK1f50b","emjK1f50d","emjK1f510","emjK1f50f","emjK1f511","emjK1f512","emjK1f513","emjK1f516","emjK1f514","emjK1f550","emjK1f551","emjK1f552","emjK1f553","emjK1f554","emjK1f555","emjK1f556","emjK1f557","emjK1f558","emjK1f559","emjK1f55a","emjK1f55b","emjK1f5fd","emjK1f638","emjK1f639","emjK1f63a","emjK1f63b","emjK1f63c","emjK1f63d","emjK1f63e","emjK1f63f","emjK1f4e8","emjK1f4e9","emjK1f4eb","emjK1f4ea","emjK1f6bb","emjK1f6a5","emjK1f6ab","emjK1f689","emjK1f69a","emjK026fa","emjK1f6a8","emjK1f17f","emjK02733","emjK02734","emjK02b50","emjK1f4c8","emjK1f4c9","emjK1f4ca","emjK02764","People","Nature","Activities","Food","Travel","Symbols","Objects","Common1","createEmoji","common2","common3","common4","common5","forEachEmojiFamily","families","family","getEmojiCodePoint","surrogatePairs","unicode","fromCharCode","keywords","createEmojiWithNoKeyword","emojis","shortcutMatch","forEachEmoji","matchShortcut","fullMatch","partialMatch","partialSearch","searchableKeywords","dialogTitleKey","unlocalizedTitle","onOk","onCancel","dialogContentProps","useMemo","DialogType","normal","currentValues","setCurrentValues","onSubmit","onItemChanged","itemName","newValues","Dialog","onEnterKey","onChanged","DialogFooter","PrimaryButton","DefaultButton","inputBox","borderRadius","autoFocus","onValueChange","resolve","getPasteOptionClassNames","pastePane","paddingLeft","optionPane","textAlign","buttonsContainer","justifyContent","flex","PasteOptionButton","buttonName","Buttons","IconButton","PasteOptionComponent","offset","selectedKey","setSelectedKey","getSelectedKey","buttonPane","evt","FocusEvent","relatedTarget","contains","onClickShowSubMenu","ButtonKeys","bottomRightEdge","bottomLeftEdge","directionalHintForRTL","preventDismissOnScroll","onPaste","pasteOptionRef","showPasteOptionPane","handlePasteOptionPaneEvent","ChangeSource","keyboardEvent","cancelEvent","buttonCount","startOffset","PasteOptionPlugin","pasteOptionPasteAsIs","pasteOptionPasteText","pasteOptionMergeFormat","pasteOptionPasteAsImage","setStart","normalizeRect","lastChild","rects","getClientRects","insertNode","setAlignment","setBackgroundColor","toggleBlockQuote","toggleBold","toggleBullet","clearFormat","isCodeInline","toggleCode","changeFontSize","setIndentation","FontNames","localizedName","font","LowerCaseFontMap","FirstFontRegex","firstName","setFontName","setFontSize","insertImage","adjustLinkSelection","displayText","insertLink","tableButton","hovered","tablePane","boxSizing","tablePaneInner","InsertTablePane","col","setCol","setRow","updateSize","onMouseEnter","onClickButton","createKey","ariaLabels","j","formatText","defaultActiveElement","bidirectional","onActiveElementChanged","insertTablePane","parseKey","insertTable","toggleItalic","setDirection","moreCommands","toggleNumbering","redo","removeLink","buttonNameHeading1","buttonNameHeading2","buttonNameHeading3","buttonNameHeading4","buttonNameHeading5","buttonNameHeading6","buttonNameNoHeading","setHeadingLevel","toggleStrikethrough","toggleSubscript","toggleSuperscript","setTextColor","toggleUnderline","ribbonClassName","mergeStyles","rtlIcon","onButtonClick","onHover","startLivePreview","stopLivePreview","flipIcon","defaultRender","commandBarItems","selectedItem","onRenderIcon","iconOnly","canCheck","disabled","commandBarProperties","shouldFocusOnMount","focusZoneProps","onMenuDismissed","onRenderContextualMenuItem","defaultRenderer","registerFormatChangedCallback","moreCommandsBtn","CommandBar","overflowButtonProps","delayUpdateTime","onFormatChanged","updateFormat","delayUpdate","stopShadowEdit","isInShadowEdit","collapsed","startShadowEdit","some","RibbonPluginImpl","defaultEditorCreator","editorDiv","focusOnInit","isReactEditorPlugin","divProps","getNativeProps","divProperties","SidePanePluginImpl","ApiPlaygroundPane","posFocus","posTop","posBottom","posRegionRoot","insertAtTop","insertAtBottom","findAllEntities","entityFormat","group","rows","isFakeEntity","contentModelButtons","refreshButton","exportButton","setContentModel","contentModel","ContentModelDocumentView","ContentModelPane","onModelChangeFromSelection","hasFocus","onModelChange","setCurrentContentModel","contentModelRibbon","baseProps","getCurrentContentModel","currentModel","hasContent","hasFormat","hasDataset","bodyState","toggleFormat","toggleJson","toggleVisual","toggleMetadata","buttonChecked","DatasetView","DatasetItemView","useProperty","subTitle","isExpanded","hasSelection","isSelection","jsonSource","getFormat","setBodyState","highlightBorder","toggleDataset","getCachedElement","cachedElement","modelWrapper","childSelected","titleWithBorder","buttonGroup","ButtonGroup","expandedBody","ContentModelJson","BlockFormatRenders","BackgroundColorFormatRenderer","DirectionFormatRenderer","TextAlignFormatRenderer","HtmlAlignFormatRenderer","MarginFormatRenderer","PaddingFormatRenderer","LineHeightFormatRenderer","WhiteSpaceFormatRenderer","TextIndentFormatRenderer","BorderFormatRenderers","FormatView","renderers","LinkFormatRenderers","createTextFormatRenderer","anchorId","anchorClass","anchorTitle","relationship","TextColorFormatRenderer","UnderlineFormatRenderer","DisplayFormatRenderer","updater","SegmentFormatRenders","FontSizeFormatRenderer","FontFamilyFormatRenderer","BoldFormatRenderer","ItalicFormatRenderer","StrikeFormatRenderer","SuperOrSubScriptFormatRenderer","LetterSpacingFormatRenderer","createColorFormatRenderer","createCheckboxFormatRenderer","BorderBoxFormatRenderer","useBorderBox","BorderStyles","createBorderRenderer","extractBorderValues","combineBorderValue","createDropDownFormatRenderer","FloatFormatRenderer","float","htmlAlign","IdFormatRenderer","ImageMetadataFormatRenderers","ListMetadataFormatRenderers","ListStylePositionFormatRenderers","listStylePosition","listStyleType","ListThreadFormatRenderers","startNumberOverride","MarginNames","createTextFormatRendererGroup","PaddingNames","SizeFormatRenderers","minHeight","SpacingFormatRenderer","borderCollapse","TableCellMetadataFormatRenders","bgColorOverride","vAlignOverride","borderOverride","TableLayoutFormatRenderer","tableLayout","TableMetadataFormatRenders","textIndent","VerticalAlignFormatRenderer","verticalAlign","WordBreakFormatRenderer","wordBreak","CheckboxFormatItem","getter","setter","formatRow","formatName","formatValue","Transparent","ColorFormatItem","colorPickerBox","colorValueBox","transparentCheckBox","updateValue","onTextBoxChange","onColorValueChange","onToggleTransparent","colorValue","names","initValues","DropDownFormatItem","dropDown","o","TextFormatItem","textBox","multiLineValue","numberValue","textValue","ContentModelBlockView","blockGroupType","ContentModelGeneralView","ContentModelListItemView","listItem","ContentModelFormatContainerView","ContentModelTableCellView","ContentModelBlockGroupView","ContentModelParagraphView","paragraph","ContentModelTableView","ContentModelEntityView","ContentModelDividerView","divider","br","SegmentFormatView","ContentModelView","modelBr","CodeRenderers","modelCode","DividerFormatRenders","setTagName","tagNameDropDown","onTagNameChange","modelDivider","BlockGroupContentView","modelDocument","hasSelectionInBlockGroup","setId","setIsReadonly","setType","idTextBox","isReadonlyCheckBox","typeTextBox","onIdChange","onTypeChange","onReadonlyChange","BlockFormatView","modelEntity","FormatContainerFormatRenderers","modelFormatContainer","hasSelectionInBlock","isGeneralSegment","ContentModelLinkView","ContentModelCodeView","modelGeneral","ImageFormatRenderers","srcTextArea","imageSelectionCheckBox","setSrc","isSelectedAsImageSelection","imageSelected","setImageSelected","onSrcChange","onImageSelectionChange","MetadataView","modelImage","LinkFormatView","modelLink","ListItemFormatRenderers","ListItemFormatHolderRenderers","levels","ContentModelListLevelView","formatHolder","modelListItem","ListLevelFormatRenders","listType","setListType","listTypeInput","onListTypeChanged","updateListMetadata","modelListLevel","ContentModelParagraphDecoratorView","decorator","modelDecorator","implicitCheckbox","isImplicit","setIsImplicit","onIsImplicitChange","ContentModelSegmentView","segmentFormat","modelParagraph","ContentModelBrView","ContentModelSelectionMarkerView","marker","ContentModelTextView","ContentModelImageView","modelSelectionMarker","TableCellFormatRenderers","checkboxHeader","checkboxSpanLeft","checkboxSpanAbove","isHeader","setIsHeader","setSpanLeft","setSpanAbove","onHeaderChanged","onSpanLeftChanged","onSpanAboveChanged","updateTableCellMetadata","modelTableCell","TableRowFormatRenderers","setHeight","textBoxRef","sizeInput","modelTableRow","TableFormatRenderers","NumberView","widths","ContentModelTableRowView","updateTableMetadata","modelTable","textArea","modelText","Code","DefaultFormatPane","getDefaultContentEditFeatureSettings","OptionsPane","onExportRoosterContentModel","EditorCode","requireLegacyCode","onToggleCacheModel","editorCode","Plugins","LegacyPlugins","PluginsBase","buttonTable","CodeElement","ButtonsCode","ContentEditFeaturesCode","ContentEditCode","DarkModeCode","DefaultFormatCode","PluginsCode","LegacyPluginCode","getPluginCount","hasLegacyPlugin","HyperLinkCode","PluginsCodeBase","AutoFormatPluginCode","EditPluginCode","PastePluginCode","TableEditPluginCode","ShortcutPluginCode","WatermarkCode","TableCellSelectionCode","inputType","tableFormat","env","canMergeTableCell","rowStyle","getEnvironment","isReverted","endContainer","endOffset","entityStates","isDarkColor","onClickRestoreSnapshot","getCurrentSnapshot","onCopy","textToCopy","writeText","getData","idx","lastIndexOf","SnapshotPane","getSnapshotsManager","restoreSnapshot","isCssMonitorStarted","activeWindows","Stylesheet","onInsertRule","cssText","rules","onInitialize","editPlugin","createEditPlugin","contextMenuProviders","isContextMenuProvider","checkExclusivelyHandling","willHandleEventExclusively","outerEditor","createEditorCore","cacheGetExclusivelyHandlePlugin","oldEvent","cacheGetOldEvent","exclusivelyHandleEventPlugin","oldEventToNewEvent","allItems","provider","cacheGetEventData","newEventToOldEvent","customData","sizeTransformer","createSizeTransformer","darkColorHandler","createDarkColorHandler","getColorManager","calculateZoomScale","BridgePlugin","hasFunctionKey","ctrlOrMeta","isKeyDownEvent","getSelectionRange","isCtrlOrMetaPressed","altKey","feature","allowFunctionKeys","shouldHandleEvent","handleEvent","handledByEditFeature","VARIABLE_REGEX","innerHandler","getKnownColorsCopy","registerColor","colorKey","parsedColor","parseColorValue","updateKnownColor","reset","isInDarkMode","findLightColorFromDarkColor","rgbSearch","parseColor","rgbCurrent","transformElementColor","fromDarkMode","toDarkMode","getColor","backColor","DarkColorHandlerImpl","GetContentModeMap","contentDiv","bridgePlugin","core","contentModelEditorCore","initContent","createModelFromHtml","defaultDomToModelOptions","standaloneEditorOptions","isDisposed","insertToRegionRoot","physicalRoot","getCore","transformColor","deleteNode","replaceNode","existingNode","toNode","transformColorForDarkMode","lifecycle","transformToDarkColor","replaceChild","getBlockElementAtNode","logicalRoot","scopeOrCallback","scope","selectionEx","ranges","collapseNodes","canSplitParent","isEmpty","isNodeEmpty","environment","modelToDomSettings","customized","api","newContent","newModel","domToModelSettings","allNodes","toArray","deleteSelectedContent","pasteAsText","applyCurrentFormat","pasteAsImage","tryGetFromCache","convertDomSelectionToRangeEx","getSelectionPath","arg1","arg2","arg3","arg4","rangeEx","buildRangeEx","convertRangeExToDomSelection","sel","focusNode","Position","focusOffset","getStart","startFrom","isPositionAtBeginning","isPositionAtBeginningOf","getRegionsFromRange","addDomEventHandler","nameOrMap","handler","eventsMap","eventsMapResult","handlerObj","pluginEventType","beforeDispatch","OldEventTypeToNewEventType","attachDomEvent","triggerPluginEvent","broadcast","newEvent","changeSource","canUndoByBackspace","additionalData","undoState","isNested","snapshotsManager","hasNewContent","normalize","getEnd","posContainer","posOffset","getUndoState","getCustomData","getContentModelEditorCore","getDefaultFormat","startNode","ContentTraverser","createBodyTraverser","getSelectionTraverser","createSelectionTraverser","getBlockTraverser","createBlockTraverser","getContentSearcherOfCursor","PositionContentSearcher","handle","requestAnimationFrame","cancelAnimationFrame","setEditorDomAttribute","setDomAttribute","getEditorDomAttribute","getDomAttribute","getRelativeDistanceToEditor","addScroll","editorRect","elementRect","scrollLeft","addContentEditFeature","removeContentEditFeature","featureSet","getStyleBasedFormatState","retrieveFormatState","getPendableFormatState","ensureTypeInContainer","getZoomScale","getSizeTransformer","getDarkColorHandler","domEvent","pendingFormat","getPendingFormat","retrieveModelFormatState","isSelectionRangeEx","isNodePosition","PasteTypeNewToOld","asImage","asPlainText","mergeFormat","PasteTypeOldToNew","KnownAnnounceStringsOldToNew","KnownAnnounceStringsNewToOld","announceListItemBullet","announceListItemNumbering","announceOnFocusLastCell","EntityOperationOldToNew","EntityOperationNewToOld","newEntity","overwrite","removeFromEnd","removeFromStart","replaceTemporaryContent","updateEntityState","refEvent","clonedRoot","eventDataCache","refBeforePasteEvent","cmBeforePasteEvent","customizedMerge","domToModelOption","additionalAllowedTags","additionalDisallowedTags","additionalFormatParsers","formatParserOverride","processorOverride","styleSanitizers","attributeSanitizers","htmlAfter","htmlAttributes","htmlBefore","pasteType","refContentChangedEvent","changedEntities","formatApiName","announceData","getAnnounceData","defaultStrings","formatStrings","originalSrc","previousSrc","isClicking","scrollContainer","refSelectionChangedEvent","newSelection","selectionRangeEx","createDefaultHtmlSanitizerOptions","refEnteredShadowEditEvent","selectionPath","isBegin","getFirstLastBlockElement","refNode","isVoidHtmlElement","nodes","insertedNode","rangeToRestore","cloneRange","getInitialRange","deleteContents","blockElement","isAtEnd","splitTextNode","splitParentNode","adjustInsertPositionRegionRoot","tempPos","adjustInsertPositionNewLine","adjustInsertPosition","nodeForCursor","firstRow","lastColumn","lastRow","createTableRanges","FluentUIReact","roosterjs","roosterjsContentModel","roosterjsReact","extendStatics","d","__proto__","__extends","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","decorate","__param","paramIndex","__esDecorate","ctor","descriptorIn","contextIn","initializers","extraInitializers","descriptor","done","access","addInitializer","init","__runInitializers","useValue","__propKey","__setFunctionName","prefix","configurable","__metadata","metadataKey","metadataValue","__awaiter","_arguments","P","generator","reject","fulfilled","next","rejected","__generator","sent","trys","ops","verb","op","__createBinding","k2","__esModule","writable","enumerable","__exportStar","__values","__read","ar","error","__spread","__spreadArrays","il","jl","__spreadArray","pack","__await","__asyncGenerator","asyncIterator","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","__setModuleDefault","__importStar","mod","__importDefault","default","__classPrivateFieldGet","receiver","has","__classPrivateFieldSet","__classPrivateFieldIn","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","globalThis","toStringTag","mainPaneDiv","mount"],"sourceRoot":""}