{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./packages/roosterjs-editor-dom/lib/index.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/contains.ts","webpack:///./packages/roosterjs-editor-dom/lib/selection/Position.ts","webpack:///./packages/roosterjs-editor-core/lib/index.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts","webpack:///./packages/roosterjs-editor-api/lib/utils/execCommand.ts","webpack:///./packages/roosterjs-editor-api/lib/index.ts","webpack:///./packages/roosterjs-editor-dom/lib/selection/createRange.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts","webpack:///./packages/roosterjs-html-sanitizer/lib/index.ts","webpack:///./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts","webpack:///./packages/roosterjs-editor-dom/lib/inlineElements/NodeInlineElement.ts","webpack:///./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts","webpack:///./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts","webpack:///./packages/roosterjs-editor-dom/lib/deprecated/positionUtils.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/wrap.ts","webpack:///./packages/roosterjs-editor-dom/lib/inlineElements/PartialInlineElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementBeforeAfter.ts","webpack:///./packages/roosterjs-editor-dom/lib/inlineElements/getNextPreviousInlineElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/applyTextStyle.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/getComputedStyles.ts","webpack:///./packages/roosterjs-editor-core/lib/eventApi/cacheGetEventData.ts","webpack:///./packages/roosterjs-editor-api/lib/format/replaceWithNode.ts","webpack:///./packages/roosterjs-editor-api/lib/utils/processList.ts","webpack:///./publish/samplesite/scripts/currentEditor.ts","webpack:///./packages/roosterjs-editor-dom/lib/blockElements/NodeBlockElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/blockElements/StartEndBlockElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/isVoidHtmlElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/fromHtml.ts","webpack:///./packages/roosterjs-editor-dom/lib/inlineElements/ImageInlineElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/inlineElements/LinkInlineElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/inlineElements/getFirstLastInlineElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/getLeafNode.ts","webpack:///./packages/roosterjs-editor-dom/lib/blockElements/getFirstLastBlockElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts","webpack:///./packages/roosterjs-editor-dom/lib/inlineElements/EmptyInlineElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/matchWhiteSpaces.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/isNodeEmpty.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/queryElements.ts","webpack:///./packages/roosterjs-html-sanitizer/lib/utils/cloneObject.ts","webpack:///./packages/roosterjs-html-sanitizer/lib/utils/getInheritableStyles.ts","webpack:///./packages/roosterjs-html-sanitizer/lib/utils/htmlToDom.ts","webpack:///./packages/roosterjs-editor-api/lib/format/setBackgroundColor.ts","webpack:///./packages/roosterjs-editor-api/lib/format/setFontName.ts","webpack:///./packages/roosterjs-editor-api/lib/format/setFontSize.ts","webpack:///./packages/roosterjs-editor-api/lib/format/setTextColor.ts","webpack:///./packages/roosterjs-editor-api/lib/format/toggleBold.ts","webpack:///./packages/roosterjs-editor-api/lib/format/toggleItalic.ts","webpack:///./packages/roosterjs-editor-api/lib/format/toggleUnderline.ts","webpack:///./packages/roosterjs-editor-core/lib/editor/CorePlugin.ts","webpack:///./packages/roosterjs-editor-core/lib/coreAPI/hasFocus.ts","webpack:///./packages/roosterjs-editor-core/lib/undo/Undo.ts","webpack:///./packages/roosterjs-editor-core/lib/undo/UndoSnapshots.ts","webpack:///./packages/roosterjs-editor-core/lib/eventApi/clearEventDataCache.ts","webpack:///./packages/roosterjs-editor-api/lib/table/formatTable.ts","webpack:///./packages/roosterjs-editor-api/lib/utils/toggleTagCore.ts","webpack:///./publish/samplesite/scripts/updateSampleCode.ts","webpack:///./packages/roosterjs-editor-plugins/lib/index.ts","webpack:///./packages/roosterjs-editor-plugins/lib/ContentEdit/ContentEditFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Paste/textToHtml.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Paste/wordConverter/CustomData.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Paste/wordConverter/LevelLists.ts","webpack:///./packages/roosterjs-plugin-image-resize/lib/index.ts","webpack:///./publish/samplesite/scripts/sample.ts","webpack:///./publish/samplesite/scripts/initFormatBar.ts","webpack:///./packages/roosterjs-editor-api/lib/format/changeFontSize.ts","webpack:///./packages/roosterjs-editor-dom/lib/contentTraverser/BodyScoper.ts","webpack:///./packages/roosterjs-editor-dom/lib/contentTraverser/SelectionBlockScoper.ts","webpack:///./packages/roosterjs-editor-dom/lib/contentTraverser/SelectionScoper.ts","webpack:///./packages/roosterjs-editor-dom/lib/contentTraverser/PositionContentSearcher.ts","webpack:///./packages/roosterjs-editor-dom/lib/inlineElements/TextInlineElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/Browser.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/applyFormat.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/matchLink.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/unwrap.ts","webpack:///./packages/roosterjs-editor-dom/lib/table/VTable.ts","webpack:///./packages/roosterjs-editor-dom/lib/selection/getPositionRect.ts","webpack:///./packages/roosterjs-editor-dom/lib/selection/isPositionAtBeginningOf.ts","webpack:///./packages/roosterjs-editor-dom/lib/selection/getSelectionPath.ts","webpack:///./packages/roosterjs-editor-dom/lib/deprecated/isTextualInlineElement.ts","webpack:///./packages/roosterjs-editor-dom/lib/deprecated/wrapAll.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/convertInlineCss.ts","webpack:///./packages/roosterjs-html-sanitizer/lib/sanitizer/HtmlSanitizer.ts","webpack:///./packages/roosterjs-html-sanitizer/lib/utils/getAllowedValues.ts","webpack:///./packages/roosterjs-editor-dom/lib/utils/sanitizeHtml.ts","webpack:///./packages/roosterjs-editor-dom/lib/deprecated/selectionMarker.ts","webpack:///./packages/roosterjs-editor-api/lib/format/clearFormat.ts","webpack:///./packages/roosterjs-editor-api/lib/format/createLink.ts","webpack:///./packages/roosterjs-editor-api/lib/format/getFormatState.ts","webpack:///./packages/roosterjs-editor-core/lib/editor/Editor.ts","webpack:///./packages/roosterjs-editor-core/lib/editor/createEditorCore.ts","webpack:///./packages/roosterjs-editor-core/lib/coreAPI/attachDomEvent.ts","webpack:///./packages/roosterjs-editor-core/lib/coreAPI/editWithUndo.ts","webpack:///./packages/roosterjs-editor-core/lib/coreAPI/focus.ts","webpack:///./packages/roosterjs-editor-core/lib/coreAPI/getCustomData.ts","webpack:///./packages/roosterjs-editor-core/lib/coreAPI/getSelectionRange.ts","webpack:///./packages/roosterjs-editor-core/lib/coreAPI/insertNode.ts","webpack:///./packages/roosterjs-editor-core/lib/coreAPI/select.ts","webpack:///./packages/roosterjs-editor-core/lib/coreAPI/triggerEvent.ts","webpack:///./packages/roosterjs-editor-core/lib/deprecated/BrowserData.ts","webpack:///./packages/roosterjs-editor-core/lib/eventApi/cacheGetContentSearcher.ts","webpack:///./packages/roosterjs-editor-core/lib/eventApi/cacheGetElementAtCursor.ts","webpack:///./packages/roosterjs-editor-core/lib/deprecated/snapshotUtils.ts","webpack:///./packages/roosterjs-editor-api/lib/format/insertImage.ts","webpack:///./packages/roosterjs-editor-api/lib/table/insertTable.ts","webpack:///./packages/roosterjs-editor-api/lib/table/editTable.ts","webpack:///./packages/roosterjs-editor-api/lib/format/removeLink.ts","webpack:///./packages/roosterjs-editor-api/lib/format/setAlignment.ts","webpack:///./packages/roosterjs-editor-api/lib/format/setDirection.ts","webpack:///./packages/roosterjs-editor-api/lib/format/setImageAltText.ts","webpack:///./packages/roosterjs-editor-api/lib/format/setIndentation.ts","webpack:///./packages/roosterjs-editor-api/lib/format/toggleBullet.ts","webpack:///./packages/roosterjs-editor-api/lib/format/toggleNumbering.ts","webpack:///./packages/roosterjs-editor-api/lib/format/toggleBlockQuote.ts","webpack:///./packages/roosterjs-editor-api/lib/format/toggleCodeBlock.ts","webpack:///./packages/roosterjs-editor-api/lib/format/toggleStrikethrough.ts","webpack:///./packages/roosterjs-editor-api/lib/format/toggleSubscript.ts","webpack:///./packages/roosterjs-editor-api/lib/format/toggleSuperscript.ts","webpack:///./packages/roosterjs-editor-api/lib/format/toggleHeader.ts","webpack:///./packages/roosterjs-editor-api/lib/deprecated/cacheGetListState.ts","webpack:///./packages/roosterjs-editor-api/lib/deprecated/execFormatWithUndo.ts","webpack:///./packages/roosterjs-editor-api/lib/deprecated/CursorData.ts","webpack:///./packages/roosterjs-editor-api/lib/deprecated/queryNodesWithSelection.ts","webpack:///./packages/roosterjs-editor-api/lib/deprecated/replaceTextBeforeCursorWithNode.ts","webpack:///./packages/roosterjs-editor-api/lib/deprecated/replaceRangeWithNode.ts","webpack:///./packages/roosterjs-editor-api/lib/deprecated/getNodeAtCursor.ts","webpack:///./packages/roosterjs-editor-plugins/lib/DefaultShortcut/DefaultShortcut.ts","webpack:///./packages/roosterjs-editor-plugins/lib/HyperLink/HyperLink.ts","webpack:///./packages/roosterjs-editor-plugins/lib/ContentEdit/ContentEdit.ts","webpack:///./packages/roosterjs-editor-plugins/lib/ContentEdit/features/autoLinkFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/ContentEdit/features/shortcutFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/ContentEdit/features/tableFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/ContentEdit/features/listFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/ContentEdit/features/quoteFeatures.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Paste/Paste.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Paste/buildClipboardData.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Paste/fragmentHandler.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Paste/excelConverter/convertPastedContentFromExcel.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Paste/wordConverter/convertPastedContentFromWord.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Paste/wordConverter/wordConverter.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Paste/wordConverter/WordConverterArguments.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Paste/wordConverter/converterUtils.ts","webpack:///./packages/roosterjs-editor-plugins/lib/Watermark/Watermark.ts","webpack:///./packages/roosterjs-editor-plugins/lib/TableResize/TableResize.ts","webpack:///./packages/roosterjs-plugin-image-resize/lib/ImageResize.ts","webpack:///./publish/samplesite/scripts/initOptions.ts","webpack:///./publish/samplesite/scripts/plugins/ShowCursorPosition.ts","webpack:///./publish/samplesite/scripts/plugins/ShowFormatState.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","NodeBlockElement_1","NodeBlockElement","default","getBlockElementAtNode_1","getBlockElementAtNode","getFirstLastBlockElement_1","getFirstBlockElement","getFirstLastBlockElement","getLastBlockElement","StartEndBlockElement_1","StartEndBlockElement","ContentTraverser_1","ContentTraverser","PositionContentSearcher_1","PositionContentSearcher","getLeafSibling_1","getNextLeafSibling","getPreviousLeafSibling","getLeafNode_1","getFirstLeafNode","getLastLeafNode","getInlineElementAtNode_1","getInlineElementAtNode","ImageInlineElement_1","ImageInlineElement","LinkInlineElement_1","LinkInlineElement","NodeInlineElement_1","NodeInlineElement","PartialInlineElement_1","PartialInlineElement","TextInlineElement_1","TextInlineElement","getInlineElementBeforeAfter_1","getInlineElementBefore","getInlineElementAfter","applyTextStyle_1","applyTextStyle","Browser_1","Browser","getBrowserInfo","applyFormat_1","applyFormat","changeElementTag_1","changeElementTag","collapseNodes_1","collapseNodes","contains_1","contains","findClosestElementAncestor_1","findClosestElementAncestor","fromHtml_1","fromHtml","getComputedStyles_1","getComputedStyles","getComputedStyle","getTagOfNode_1","getTagOfNode","isBlockElement_1","isBlockElement","isNodeEmpty_1","isNodeEmpty","isVoidHtmlElement_1","isVoidHtmlElement","matchLink_1","matchLink","matchWhiteSpaces_1","matchWhiteSpaces","queryElements_1","queryElements","splitParentNode_1","splitParentNode","splitBalancedNodeRange","unwrap_1","unwrap","wrap_1","wrap","VTable_1","VTable","Position_1","Position","createRange_1","createRange","getPositionRect_1","getPositionRect","isPositionAtBeginningOf_1","isPositionAtBeginningOf","getSelectionPath_1","getSelectionPath","getRangeFromSelectionPath","isTextualInlineElement_1","isTextualInlineElement","wrapAll_1","wrapAll","convertInlineCss_1","convertInlineCss","sanitizeHtml_1","sanitizeHtml","selectionMarker_1","markSelection","removeMarker","container","contained","treatSameNodeAsContain","Node","commonAncestorContainer","nodeType","parentNode","isNodeAfter_1","nodeOrPosition","offsetOrPosType","node","this","offset","getIndexOfNode","isAtEnd","nextSibling","getEndOffset","endOffset","Math","max","min","element","normalize","firstChild","newOffset","lastChild","childNodes","equalTo","position","isAfter","move","getStart","range","startContainer","startOffset","getEnd","endContainer","previousSibling","nodeValue","length","CorePlugin_1","CorePlugin","Editor_1","Editor","Undo_1","Undo","UndoSnapshots_1","UndoSnapshotsService","BrowserData_1","browserData","cacheGetEventData_1","cacheGetEventData","clearEventDataCache_1","clearEventDataCache","cacheGetContentSearcher_1","cacheGetContentSearcher","clearContentSearcherCache","cacheGetElementAtCursor_1","cacheGetElementAtCursor","snapshotUtils_1","buildSnapshot","restoreSnapshot","tagName","toUpperCase","editor","command","focus","formatter","getDocument","execCommand","getSelectionRange","collapsed","addUndoSnapshot","changeFontSize_1","changeFontSize","FONT_SIZES","clearFormat_1","clearFormat","createLink_1","createLink","getFormatState_1","getFormatState","insertImage_1","insertImage","insertTable_1","insertTable","editTable_1","editTable","formatTable_1","formatTable","removeLink_1","removeLink","replaceWithNode_1","replaceWithNode","setAlignment_1","setAlignment","setBackgroundColor_1","setBackgroundColor","setTextColor_1","setTextColor","setDirection_1","setDirection","setFontName_1","setFontName","setFontSize_1","setFontSize","setImageAltText_1","setImageAltText","setIndentation_1","setIndentation","toggleBold_1","toggleBold","toggleBullet_1","toggleBullet","toggleItalic_1","toggleItalic","toggleNumbering_1","toggleNumbering","toggleBlockQuote_1","toggleBlockQuote","toggleCodeBlock_1","toggleCodeBlock","toggleStrikethrough_1","toggleStrikethrough","toggleSubscript_1","toggleSubscript","toggleSuperscript_1","toggleSuperscript","toggleUnderline_1","toggleUnderline","toggleHeader_1","toggleHeader","cacheGetListState_1","cacheGetListState","execFormatWithUndo_1","execFormatWithUndo","CursorData_1","CursorData","cacheGetCursorEventData","clearCursorEventDataCache","queryNodesWithSelection_1","queryNodesWithSelection","replaceTextBeforeCursorWithNode_1","replaceTextBeforeCursorWithNode","validateAndGetRangeForTextBeforeCursor","replaceRangeWithNode_1","replaceRangeWithNode","getNodeAtCursor_1","getNodeAtCursor","cacheGetListElement","cacheGetNodeAtCursor","getFocusablePosition","start","end","ownerDocument","setStart","setEnd","shouldSkipNode_1","getLeafSibling","rootNode","startNode","isNext","result","getSibling","getChild","curNode","shouldContinue","HtmlSanitizer_1","HtmlSanitizer","htmlToDom_1","htmlToDom","splitWithFragment","getInheritableStyles_1","getInheritableStyles","findHeadTailLeafNode","containerBlockNode","isTail","sibling","getBlockContext","headNode","tailNode","nodes","positionUtils_1","positionUtils_2","containerNode","parentBlock","getTextContent","textContent","getContainerNode","getParentBlock","getStartPosition","getEndPosition","inlineElement","pos","safeGetPosition","applyStyle","styler","getStartPoint","toEditorPoint","getEndPoint","roosterjs_editor_dom_1","ZERO_WIDTH_SPACE","callback","createTextNode","insertNode","select","firstNode","lastNode","contentTraverser","getSelectionTraverser","currentInlineElement","nextInlineElement","getNextInlineElement","NodeInlineElement_2","parent","nodeChain","parent_1","push","currentNode","tag","resolveInlineElement","node1","node2","compareDocumentPosition","splitBefore","newParent","cloneNode","removeAttribute","appendChild","innerHTML","insertBefore","Array","temp","wrapper","Element","document_1","test","createElement","_i","nodes_1","getDecoratedInline","toString","configurable","thisStart","otherEnd","from","to","nextNode","previousNode","getInlineElementBeforeAfter","root","isPartial","current","previousInlineElement","collapse","ref","isStart","canSplitParent","slice","startIndex","indexOf","endIndex","BLOCK_ELEMENT_TAGS","split","BLOCK_DISPLAY_STYLES","style","display","selector","closest","matches","msMatchesSelector","parentElement","splitTextNode","textNode","returnFirstPart","firstPart","substr","secondPart","newNode","formatNodes","formatNode","parentTag","every","newNode_1","shift","forEach","removeChild","CRLF","styleNames","styles","defaultView","window","styleNames_1","getPropertyValue","toLowerCase","px2Pt","px","round","parseFloat","styleName","event","eventDataCache","textOrRange","exactMatch","searcher","getContentSearcherOfCursor","getRangeFromText","backupRange","deleteContents","TEMP_NODE_CLASS","TEMP_NODE_HTML","applyListFormat","formats","fontFamily","fontSize","textColor","backgroundColor","isChrome","traverser","block","currentBlockElement","getStartNode","tempNode","getNextBlockElement","workaroundForChrome","getElementAtCursor","currentFormat","existingList","deleteNode","newList","LIs","filter","LIs_1","li","setCurrentEditor","newEditor","dispose","getNextPreviousInlineElement_1","getFirstLastInlineElement_1","collapseToSingleElement","getEndNode","getContentNodes","getFirstInlineElement","firstInline","getLastInlineElement","lastInline","getInlineElements","allInlines","startInline","equals","blockElement","isInBlock","endNode","blockContext","HTML_VOID_ELEMENTS","html","__extends","extendStatics","b","setPrototypeOf","__proto__","__","constructor","_super","getLeafNode","isFirst","BodyScoper_1","EmptyInlineElement_1","SelectionBlockScoper_1","SelectionScoper_1","scoper","createBodyTraverser","createSelectionTraverser","createBlockTraverser","currentBlock","getStartBlockElement","getPreviousNextBlockElement","getPreviousBlockElement","leaf","newBlock","isBlockInScope","currentInline","getStartInlineElement","getPreviousNextInlineElement","getPreviousInlineElement","newInline","trimInlineElement","EmptyInlineElement","WHITESPACE_REGEX","source","exec","VISIBLE_ELEMENT_TAGS","VISIBLE_CHILD_ELEMENT_SELECTOR","join","trim","replace","trimContent","querySelectorAll","checkPosition","targets","some","target","forEachCallback","scope","elements","nodeContainedByRangeOnly","startPosition","endPosition","targetPositions","isIntersectWithNodeRange","cloneObject","assign","existingObj","_a","keys","INHERITABLE_PROPERTIES","win","START_FRAGMENT","END_FRAGMENT","lastIndexOf","before","after","substring","preserveFragmentOnly","fragmentHandler","doc","DOMParser","parseFromString","body","sourceHtml","applyInlineStyle_1","color","fontName","lineHeight","execCommand_1","contentDiv","disableRestoreSelectionOnFocus","_this","disposers","onMouseDown","mouseUpEventListerAdded","addEventListener","onMouseUp","removeMouseUpEventListener","triggerEvent","eventType","rawEvent","initialize","addDomEventHandler","inIME","isIEOrEdge","saveSelectionRange","restoreSavedRange","disposer","isInIME","performAutoComplete","changeSource","snapshot","data","autoCompleteInfo","ensureTypeInElement","isEdge","getDefaultFormat","onPluginEvent","onContentChanged","onKeyPress","willHandleEventExclusively","which","preventDefault","setContent","removeEventListener","core","activeElement","document","preserveSnapshots","maxBufferSize","onNativeEvent","e","runAsync","triggerContentChangedEvent","type","onDropDisposer","onCutDisposer","clear","onKeyDown","clearRedoForInput","undoSnapshots","hasNewContent","undo","redo","canUndo","getSnapshotsManager","canMove","canRedo","getSnapshot","addSnapshot","delta","isRestoring","evt","selectionRange","lastKeyPress","ctrlKey","metaKey","shouldTakeUndo","currentSnapshot","lastSnapshot","getContent","clearRedo","MAXSIZELIMIT","UndoSnapshots","maxSize","snapshots","totalSize","currentIndex","newIndex","removeCount","splice","removedSize","format","table","vtable","writeBack","UNWRAPPABLE_NODES","DEFAULT_STYLER","_","wrapFunction","unwrapFunction","startBlock","endBlock","tag_1","roosterjs_editor_plugins_1","roosterjs_plugin_image_resize_1","defaultPluginsString","createElementFromContent","id","content","plugins","defaultFormat","features","htmlSampleCode","getElementById","codeString","updateHtmlSampleCode","jsSampleCode","startString","requireString","plugin","ImageResize","concat","assembleRequireString","pluginsString","contentEditOptions_1","pluginsString_1","defaultFeatures","getDefaultContentEditFeatures","Watermark","HyperLink","Paste","ContentEdit","TableResize","assemblePluginsString","formatString","defaultFormatString","bold","italic","underline","assembleFormatString","optionsString","assembleOptionsString","endString","assembleEndString","jsCodeString","updateJsSampleCode","DefaultShortcut_1","DefaultShortcut","HyperLink_1","ContentEdit_1","Paste_1","ContentEditFeatures_1","Watermark_1","TableResize_1","autoLink","indentWhenTab","outdentWhenShiftTab","outdentWhenBackspaceOnEmptyFirstLine","outdentWhenEnterOnEmptyLine","mergeInNewLineWhenBackspaceOnFirstChar","unquoteWhenBackspaceOnEmptyFirstLine","unquoteWhenEnterOnEmptyLine","autoBullet","tabInTable","upDownInTable","defaultShortcut","unlinkWhenBackspaceAfterLink","smartOrderedList","smartOrderedListStyles","text","lines","lineEnd_1","line","NODE_ID_ATTRIBUTE_NAME","getAndSetNodeId","customData","getAttribute","nextNodeId","setAttribute","createCustomData","dict","setObject","getObject","createLevelLists","listsMetadata","currentUniqueListId","ImageResize_1","ImageResizePlugin","initFormatBar_1","updateSampleCode_1","initOptions_1","switchTab","className","onload","initEditorForOptions","roosterjs_editor_api_1","currentEditor_1","roosterjs_html_sanitizer_1","TABLE_FORMAT","createTableFormat","bgColorEven","bgColorOdd","topBorder","bottomBorder","verticalBorder","topBorderColor","bottomBorderColor","verticalBorderColor","existingLink","url","prompt","href","intValue","parseInt","operation","level","columns","rows","click","input","file","files","MIN_FONT_SIZE","MAX_FONT_SIZE","getNewFontSize","pt","changeBase","fontSizes","floor","ceil","last","change","BodyScoper","SelectionBlockScoper","startFrom","Range","SelectionScoper","inScope","selStartBlock","selEndBlock","inline","startPartial","endPartial","inlineElements","getWordBefore","word","traverse","inlineBefore","inlineAfter","getSubStringBefore","textIndex","forEachTextInlineElement","textInline","nodeContent","nodeIndex","charCodeAt","getNearestNonTextInlineElement","nearestNonTextInlineElement","traversingComplete","previousInline","userAgent","appVersion","isIE11OrGreater","isIE","isFirefox","isSafari","isWebKit","isMac","isWin","navigator","elementStyle","fontWeight","fontStyle","textDecoration","newTag","newElement","attributes","attr","marginTop","marginBottom","replaceChild","httpExcludeRegEx","domainPortWithUrlRegEx","domainPortRegEx","linkMatchRules","http","match","RegExp","except","normalizeUrl","https","mailto","notes","unc","ftp","news","telnet","gopher","wais","schema","rule","scheme","originalUrl","normalizedUrl","trs","HTMLTableElement","td","getTableFromTd","currentTd_1","cells","map","row","tr","rowIndex","sourceCol","targetCol","col","colSpan","rowSpan","spanLeft","spanAbove","moveChildren","cell","recalcSpans","borderCollapse","borderTop","getBorderStyle","borderBottom","borderLeft","borderRight","edit","currentRow","currentCell","cloneCell","newRow_1","countSpanAbove","colIndex","nextCell","getCell","newCell","getTd","forEachCellOfCurrentColumn","newCol_1","countSpanLeft","forEachCellOfColumn","forEachCellOfCurrentRow","rowStep","aboveCell","belowCell","colStep","leftCell","rightCell","splitRow","forEachCellOfRow","getCurrentTd","HTMLTableCellElement","fromNode","toNode","normalizeRect","clientRect","left","right","top","bottom","rect","getBoundingClientRect","rects","getClientRects","span","areAllPrevousNodesEmpty","targetNode","getPositionFromPath","path","getPositionPath","unshift","isPreviousText","htmlFragment","cloneObject_1","getAllowedValues_1","options","elementCallbacks","styleCallbacks","getStyleCallbacks","attributeCallbacks","allowedTags","getAllowedTags","additionalAllowedTags","allowedAttributes","getAllowedAttributes","additionalAllowAttributes","defaultStyleValues","getDefaultStyleValues","additionalDefaultStyleValues","additionalGlobalStyleNodes","allowPreserveWhiteSpace","additionalStyleNodes","sanitizer","currentStyles","currentElementOrStyle","HTMLElement","convertCssOnly","convertGlobalCssToInlineCss","sanitize","processNode","styleNodes","toArray","styleSheets_1","reverse","sheet","styleSheet","_loop_1","j","styleRule","cssRules","cssText","CSSRule","STYLE_RULE","selectorText","currentStyle","context","isElement","ELEMENT_NODE","isText","TEXT_NODE","allowElement","thisStyle","processAttributes","processCss","child","next","styleNode","getAttributeNode","pair","isInheritable","undefined","keep","attribute","name_1","list","ALLOWED_HTML_TAGS","ALLOWED_HTML_ATTRIBUTES","DEFAULT_STYLE_VALUES","background-color","border-bottom-color","border-bottom-style","border-bottom-width","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","outline-color","outline-style","outline-width","overflow","text-decoration","-webkit-text-stroke-width","word-wrap","margin-left","margin-right","padding","padding-top","padding-left","padding-right","padding-bottom","border","border-top","border-left","border-right","border-bottom","vertical-align","float","removeValue","removeWidthForLiAndDiv","unique","array","index","self","additionalTags","additionalAttributes","toLocaleLowerCase","additionalDefaultStyles","callbacks","width","convertInlineCssOnly","propertyCallbacks","OFFSET_1_ATTRIBUTE","OFFSET_2_ATTRIBUTE","CURSOR_START","CURSOR_END","CURSOR_SINGLE","CURSOR_MARK_SELECTOR","safeCreatePosition","marker","attrName","insertMarker","useInlineMarker","pos1","pos2","getRestorableOffset","retrieveSelectionRange","markers","STYLES_TO_REMOVE","isDefaultFormatEmpty","removeProperty","URI_REGEX","MAILTO_REGEX","FTP_REGEX","TEMP_TITLE","getAnchorNodeAtCursor","updateAnchorDisplayText","anchor","displayText","link","altText","linkData","normalizedUrl_1","prefix","search","applyLinkPrefix","originalUrl_1","title","roosterjs_editor_core_1","listTag","headerTag","isBold","queryCommandState","isItalic","isUnderline","isStrikeThrough","isSubscript","isSuperscript","isBullet","isNumbering","headerLevel","canUnlink","canAddImageAltText","isBlockQuote","createEditorCore_1","roosterjs_editor_dom_2","Error","initialContent","eventDisposers","api","attachDomEvent","omitContentEditableAttributeChanges","isContentEditable","userSelect","msUserSelect","webkitUserSelect","contenteditableChanged","corePlugin","isDisposed","option","replaceNode","existingNode","arg","scopeOrCallback","Function","isEmpty","triggerExtractContentEvent","includeSelectionMarker","selectionPath","JSON","stringify","extractContentEvent","innerText","pathComment","parse","insertContent","allNodes","insertOnNewLine","hasFocus","arg1","arg2","arg3","arg4","runWithSelectionMarker","selectionMarked","cachedSelectionRange","getFocusedPosition","sel","getSelection","focusNode","focusOffset","getCursorRect","eventName","handler","pluginEvent","broadcast","editWithUndo","getCustomData","getBodyTraverser","getBlockTraverser","requestAnimationFrame","queryContent","updateSelection","runWithoutAddingUndoSnapshot","currentUndoSnapshot","getContentTraverser","attachDomEvent_1","editWithUndo_1","focus_1","getCustomData_1","getSelectionRange_1","hasFocus_1","insertNode_1","select_1","triggerEvent_1","createCoreApiMap","baseFormat","calcDefaultFormat","coreApiOverride","defaultApi","pluginEventType","beforeDispatch","onEvent","isNested","event_1","tryGetFromCache","selection","rangeCount","getRangeAt","updateCursor","replaceSelection","isBegin","insertedNode","refNode","refParentNode","clonedRange","cloneRange","position_1","setEndAfter","nodeToInsert","rootNodeToInsert","rootNodes","shouldInsertListAsText","listNode","setEndBefore","div","newRange","preprocessNode","nodeForCursor","needAddRange","currentRange","removeAllRanges","addRange","handledExclusively","getBrowserData","CONTENTSEARCHER_KEY","CACHE_KEY_PREFIX","imageFile","reader","FileReader","image","src","maxWidth","readAsDataURL","getTableCellWidth","fragment","createDocumentFragment","cellSpacing","cellPadding","alignment","align","textAlign","direction","blockElements","blockElements_1","processList_1","indentation","toggleTagCore_1","BLOCKQUOTE_TAG","borderColor","paddingLeft","PRE_TAG","CODE_TAG","CODE_NODE_TAG","codeBlock","wrapped","header","preserveSelection","startPoint","endPoint","EVENTDATACACHE_CURSORDATA","getContentSearcher","getXCharsBeforeCursor","numChars","getTextSectionBeforeCursorTill","stopFunc","getFirstNonTextInlineBeforeCursor","cursorData","expectedTags","TEMP_TITLE_REGEX","getTooltipCallback","resetAnchor","a","onClickLink","processLink","tryGetHref","keyboardEvent","srcElement","window_1","open","anchors","snapshotBeforeProcessLink","removeTempTooltip","groups","arguments","firstValue","secondValue","thirdValue","error","autoLinkFeatures_1","shortcutFeatures_1","tableFeatures_1","listFeatures_1","quoteFeatures_1","featureSet","featureMap","IndentWhenTab","OutdentWhenShiftTab","OutdentWhenBackOn1stEmptyLine","OutdentWhenEnterOnEmptyLine","MergeInNewLine","UnquoteWhenBackOnEmpty1stLine","UnquoteWhenEnterOnEmptyLine","TabInTable","UpDownInTable","AutoBullet","AutoLink","UnlinkWhenBackspaceAfterLink","getSmartOrderedList","feature","featureFlag","findFeature","currentFeature","handleEvent","hasFunctionKey","altKey","allowFunctionKeys","shouldHandleEvent","TRAILING_PUNCTUATION_REGEX","MINIMUM_LENGTH","cacheGetLinkData","trailingPunctuation","candidate_1","str","createCommand","winKey","macKey","action","commands","cacheGetCommand","shiftKey","cmd","stopPropagation","cacheGetTableCell","firstTd","step","isUp","targetTd","newContainer","toggleListAndPreventDefault","listInfo","listElement","br","textBeforeCursor","rangeToDelete","tempBr","styleList","HTMLOListElement","ol","parentOl","listStyle","QUOTE_TAG","cacheGetQuoteChild","splitQuote","childOfQuote","buildClipboardData_1","fragmentHandler_1","textToHtml_1","deprecated","onPaste","clipboardData","pasteOriginal","pasteDisposer","paste","detectPasteOption","pasteText","pasteAndMergeFormat","pasteOption","mergeCurrentFormat","applyTextFormat","originalFormat","internalPaste","snapshotBeforePaste","parents","parents_1","CONTAINER_HTML","CLIPBOARD_HTML_HEADER_REGEX","dataTransfer","types","getData","retrieveHtmlCallback","headerValues","workaroundForEdge","getCurrentFormat","fileCount","items","item","getAsFile","getImage","getAsString","directRetrieveHtml","originalSelectionRange","tempDiv","pasteDiv","getTempDivForPaste","retrieveHtmlViaTempDiv","convertPastedContentFromExcel_1","convertPastedContentFromWord_1","WORD_ATTRIBUTE_NAME","WORD_ATTRIBUTE_VALUE","EXCEL_ATTRIBUTE_NAME","EXCEL_ATTRIBUTE_VALUE","LAST_TD_END_REGEX","LAST_TR_END_REGEX","LAST_TR_REGEX","LAST_TABLE_REGEX","querySelector","trMatch","tableMatch","wordConverter_1","WordConverterArguments_1","converterUtils_1","wordConverter","createWordConverter","wordConverterArgs","createWordConverterArguments","processNodesDiscovery","processNodeConvert","CustomData_1","nextUniqueId","numBulletsConverted","numNumberedConverted","LevelLists_1","lists","listItems","currentListIdsByLevels","lastProcessedItem","LOOKUP_DEPTH","UNIQUE_LIST_ID_CUSTOM_DATA","MSO_LIST_STYLE_NAME","LINE_BREAKS","getOrCreateListForNode","metadata","listMetadata","recurringGetOrCreateListAtNode","possibleList","getRealPreviousSibling","listId","uniqueListId","convertListIfNeeded","cleanupListIgnore","levels","nodesToRemove","isEmptySpan","fixWordListComments","isIgnoreNode","getListItemMetadata","listatt","getStyleValue","listprops","wordListId","originalNode","getFakeBulletTagName","fakeBullet","isFakeBullet","getFakeBulletText","removeComments","nextElement","endComment","getRealNextSibling","newSpan","prevSibling","isEmptyTextNode","textStyle","inStyles","nvpair","resetCurrentLists","args","ll","itemMetadata","levelInfo","ignore","numberOfItems","secondFakeBullet","firstFakeBullet","WATERMARK_REGEX","watermark","handleWatermark","showHideWatermark","focusDisposer","blurDisposer","hideWatermark","isWatermarkShowing","removeWartermarkFromHtml","ignoreCachedState","showWatermark","watermarkNode","isRtl","pageX","onMouseOver","calcAndShowHandle","initialPageX","attachMouseEvents","getResizeHandle","borderWidth","cancelEvent","onMouseMove","adjustHandle","detachMouseEvents","isNaN","newWidth_1","clientWidth","setTableColumnWidth","onMouseOverDisposer","clickIntoCurrentTd","getPosition","top_1","handle","offsetLeft","offsetWidth","height","offsetHeight","offsetParent","scrollLeft","offsetTop","scrollTop","document_2","BEGIN_TAG","END_TAG","EXTRACT_HTML_REGEX","minWidth","minHeight","selectionBorderColor","forcePreserveRatio","resizableImageSelector","startResize","img","getSelectedImage","startPageX","startPageY","pageY","startWidth","startHeight","clientHeight","doResize","finishResize","cursor","widthChange","heightChange","newWidth","isWest","newHeight","isNorth","ratio","resizeDiv","removeResizeDivIfAny","previous","removeResizeDiv","onDragStart","hideResizeHandle","dragStartDisposer","contentEditable","currentImg","showResizeHandle","event_2","event_3","extractHtml","createResizeDiv","selectImageAfterUnSelect","referenceNode","createComment","pointerEvents","comment","getElementsByTagName","console","warn","ShowCursorPosition_1","ShowFormatState_1","currentEditor_2","checked","featuresChanged","keys_1","editorOptions","alert","ShowCursorPosition","resultContainer","ShowFormatState","formatState"],"mappings":"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","file":"sample.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/publish/samplesite/scripts/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 69);\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar NodeBlockElement_1 = require(\"./blockElements/NodeBlockElement\");\r\nexports.NodeBlockElement = NodeBlockElement_1.default;\r\nvar getBlockElementAtNode_1 = require(\"./blockElements/getBlockElementAtNode\");\r\nexports.getBlockElementAtNode = getBlockElementAtNode_1.default;\r\nvar getFirstLastBlockElement_1 = require(\"./blockElements/getFirstLastBlockElement\");\r\nexports.getFirstBlockElement = getFirstLastBlockElement_1.getFirstBlockElement;\r\nexports.getFirstLastBlockElement = getFirstLastBlockElement_1.getFirstLastBlockElement;\r\nexports.getLastBlockElement = getFirstLastBlockElement_1.getLastBlockElement;\r\nvar StartEndBlockElement_1 = require(\"./blockElements/StartEndBlockElement\");\r\nexports.StartEndBlockElement = StartEndBlockElement_1.default;\r\nvar ContentTraverser_1 = require(\"./contentTraverser/ContentTraverser\");\r\nexports.ContentTraverser = ContentTraverser_1.default;\r\nvar PositionContentSearcher_1 = require(\"./contentTraverser/PositionContentSearcher\");\r\nexports.PositionContentSearcher = PositionContentSearcher_1.default;\r\nvar getLeafSibling_1 = require(\"./utils/getLeafSibling\");\r\nexports.getNextLeafSibling = getLeafSibling_1.getNextLeafSibling;\r\nexports.getPreviousLeafSibling = getLeafSibling_1.getPreviousLeafSibling;\r\nvar getLeafNode_1 = require(\"./utils/getLeafNode\");\r\nexports.getFirstLeafNode = getLeafNode_1.getFirstLeafNode;\r\nexports.getLastLeafNode = getLeafNode_1.getLastLeafNode;\r\nvar getInlineElementAtNode_1 = require(\"./inlineElements/getInlineElementAtNode\");\r\nexports.getInlineElementAtNode = getInlineElementAtNode_1.default;\r\nvar ImageInlineElement_1 = require(\"./inlineElements/ImageInlineElement\");\r\nexports.ImageInlineElement = ImageInlineElement_1.default;\r\nvar LinkInlineElement_1 = require(\"./inlineElements/LinkInlineElement\");\r\nexports.LinkInlineElement = LinkInlineElement_1.default;\r\nvar NodeInlineElement_1 = require(\"./inlineElements/NodeInlineElement\");\r\nexports.NodeInlineElement = NodeInlineElement_1.default;\r\nvar PartialInlineElement_1 = require(\"./inlineElements/PartialInlineElement\");\r\nexports.PartialInlineElement = PartialInlineElement_1.default;\r\nvar TextInlineElement_1 = require(\"./inlineElements/TextInlineElement\");\r\nexports.TextInlineElement = TextInlineElement_1.default;\r\nvar getInlineElementBeforeAfter_1 = require(\"./inlineElements/getInlineElementBeforeAfter\");\r\nexports.getInlineElementBefore = getInlineElementBeforeAfter_1.getInlineElementBefore;\r\nexports.getInlineElementAfter = getInlineElementBeforeAfter_1.getInlineElementAfter;\r\nvar applyTextStyle_1 = require(\"./utils/applyTextStyle\");\r\nexports.applyTextStyle = applyTextStyle_1.default;\r\nvar Browser_1 = require(\"./utils/Browser\");\r\nexports.Browser = Browser_1.default;\r\nexports.getBrowserInfo = Browser_1.getBrowserInfo;\r\nvar applyFormat_1 = require(\"./utils/applyFormat\");\r\nexports.applyFormat = applyFormat_1.default;\r\nvar changeElementTag_1 = require(\"./utils/changeElementTag\");\r\nexports.changeElementTag = changeElementTag_1.default;\r\nvar collapseNodes_1 = require(\"./utils/collapseNodes\");\r\nexports.collapseNodes = collapseNodes_1.default;\r\nvar contains_1 = require(\"./utils/contains\");\r\nexports.contains = contains_1.default;\r\nvar findClosestElementAncestor_1 = require(\"./utils/findClosestElementAncestor\");\r\nexports.findClosestElementAncestor = findClosestElementAncestor_1.default;\r\nvar fromHtml_1 = require(\"./utils/fromHtml\");\r\nexports.fromHtml = fromHtml_1.default;\r\nvar getComputedStyles_1 = require(\"./utils/getComputedStyles\");\r\nexports.getComputedStyles = getComputedStyles_1.default;\r\nexports.getComputedStyle = getComputedStyles_1.getComputedStyle;\r\nvar getTagOfNode_1 = require(\"./utils/getTagOfNode\");\r\nexports.getTagOfNode = getTagOfNode_1.default;\r\nvar isBlockElement_1 = require(\"./utils/isBlockElement\");\r\nexports.isBlockElement = isBlockElement_1.default;\r\nvar isNodeEmpty_1 = require(\"./utils/isNodeEmpty\");\r\nexports.isNodeEmpty = isNodeEmpty_1.default;\r\nvar isVoidHtmlElement_1 = require(\"./utils/isVoidHtmlElement\");\r\nexports.isVoidHtmlElement = isVoidHtmlElement_1.default;\r\nvar matchLink_1 = require(\"./utils/matchLink\");\r\nexports.matchLink = matchLink_1.default;\r\nvar matchWhiteSpaces_1 = require(\"./utils/matchWhiteSpaces\");\r\nexports.matchWhiteSpaces = matchWhiteSpaces_1.default;\r\nvar queryElements_1 = require(\"./utils/queryElements\");\r\nexports.queryElements = queryElements_1.default;\r\nvar splitParentNode_1 = require(\"./utils/splitParentNode\");\r\nexports.splitParentNode = splitParentNode_1.default;\r\nexports.splitBalancedNodeRange = splitParentNode_1.splitBalancedNodeRange;\r\nvar unwrap_1 = require(\"./utils/unwrap\");\r\nexports.unwrap = unwrap_1.default;\r\nvar wrap_1 = require(\"./utils/wrap\");\r\nexports.wrap = wrap_1.default;\r\nvar VTable_1 = require(\"./table/VTable\");\r\nexports.VTable = VTable_1.default;\r\nvar Position_1 = require(\"./selection/Position\");\r\nexports.Position = Position_1.default;\r\nvar createRange_1 = require(\"./selection/createRange\");\r\nexports.createRange = createRange_1.default;\r\nvar getPositionRect_1 = require(\"./selection/getPositionRect\");\r\nexports.getPositionRect = getPositionRect_1.default;\r\nvar isPositionAtBeginningOf_1 = require(\"./selection/isPositionAtBeginningOf\");\r\nexports.isPositionAtBeginningOf = isPositionAtBeginningOf_1.default;\r\nvar getSelectionPath_1 = require(\"./selection/getSelectionPath\");\r\nexports.getSelectionPath = getSelectionPath_1.default;\r\nexports.getRangeFromSelectionPath = getSelectionPath_1.getRangeFromSelectionPath;\r\n// Deprecated\r\nvar isTextualInlineElement_1 = require(\"./deprecated/isTextualInlineElement\");\r\nexports.isTextualInlineElement = isTextualInlineElement_1.default;\r\nvar wrapAll_1 = require(\"./deprecated/wrapAll\");\r\nexports.wrapAll = wrapAll_1.default;\r\nvar convertInlineCss_1 = require(\"./utils/convertInlineCss\");\r\nexports.convertInlineCss = convertInlineCss_1.default;\r\nvar sanitizeHtml_1 = require(\"./utils/sanitizeHtml\");\r\nexports.sanitizeHtml = sanitizeHtml_1.default;\r\nvar selectionMarker_1 = require(\"./deprecated/selectionMarker\");\r\nexports.markSelection = selectionMarker_1.markSelection;\r\nexports.removeMarker = selectionMarker_1.removeMarker;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction contains(container, contained, treatSameNodeAsContain) {\r\n    if (!container || !contained) {\r\n        return false;\r\n    }\r\n    if (treatSameNodeAsContain && container == contained) {\r\n        return true;\r\n    }\r\n    if (!(contained instanceof Node)) {\r\n        contained = contained && contained.commonAncestorContainer;\r\n        treatSameNodeAsContain = true;\r\n    }\r\n    if (contained && contained.nodeType == 3 /* Text */) {\r\n        contained = contained.parentNode;\r\n        treatSameNodeAsContain = true;\r\n    }\r\n    if (container.nodeType != 1 /* Element */) {\r\n        return !!treatSameNodeAsContain && container == contained;\r\n    }\r\n    return !!(treatSameNodeAsContain || container != contained) && container.contains(contained);\r\n}\r\nexports.default = contains;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar findClosestElementAncestor_1 = require(\"../utils/findClosestElementAncestor\");\r\nvar isNodeAfter_1 = require(\"../utils/isNodeAfter\");\r\n/**\r\n * Represent a position in DOM tree by the node and its offset index\r\n */\r\nvar Position = /** @class */ (function () {\r\n    function Position(nodeOrPosition, offsetOrPosType) {\r\n        if (nodeOrPosition.node) {\r\n            this.node = nodeOrPosition.node;\r\n            offsetOrPosType = nodeOrPosition.offset;\r\n        }\r\n        else {\r\n            this.node = nodeOrPosition;\r\n        }\r\n        switch (offsetOrPosType) {\r\n            case -2 /* Before */:\r\n                this.offset = getIndexOfNode(this.node);\r\n                this.node = this.node.parentNode;\r\n                this.isAtEnd = false;\r\n                break;\r\n            case -3 /* After */:\r\n                this.offset = getIndexOfNode(this.node) + 1;\r\n                this.isAtEnd = !this.node.nextSibling;\r\n                this.node = this.node.parentNode;\r\n                break;\r\n            case -1 /* End */:\r\n                this.offset = getEndOffset(this.node);\r\n                this.isAtEnd = true;\r\n                break;\r\n            default:\r\n                var endOffset = getEndOffset(this.node);\r\n                this.offset = Math.max(0, Math.min(offsetOrPosType, endOffset));\r\n                this.isAtEnd = offsetOrPosType > 0 && offsetOrPosType >= endOffset;\r\n                break;\r\n        }\r\n        this.element = findClosestElementAncestor_1.default(this.node);\r\n    }\r\n    /**\r\n     * Normalize this position to the leaf node, return the normalize result.\r\n     * If current position is already using leaf node, return this position object itself\r\n     */\r\n    Position.prototype.normalize = function () {\r\n        if (this.node.nodeType == 3 /* Text */ || !this.node.firstChild) {\r\n            return this;\r\n        }\r\n        var node = this.node;\r\n        var newOffset = this.isAtEnd\r\n            ? -1 /* End */\r\n            : this.offset;\r\n        while (node.nodeType == 1 /* Element */ && node.firstChild) {\r\n            node =\r\n                newOffset == 0 /* Begin */\r\n                    ? node.firstChild\r\n                    : newOffset == -1 /* End */\r\n                        ? node.lastChild\r\n                        : node.childNodes[newOffset];\r\n            newOffset = this.isAtEnd ? -1 /* End */ : 0 /* Begin */;\r\n        }\r\n        return new Position(node, newOffset);\r\n    };\r\n    /**\r\n     * Check if this position is equal to the given position\r\n     * @param position The position to check\r\n     */\r\n    Position.prototype.equalTo = function (position) {\r\n        return (position &&\r\n            (this == position ||\r\n                (this.node == position.node &&\r\n                    this.offset == position.offset &&\r\n                    this.isAtEnd == position.isAtEnd)));\r\n    };\r\n    /**\r\n     * Checks if this position is after the given position\r\n     */\r\n    Position.prototype.isAfter = function (position) {\r\n        return this.node == position.node\r\n            ? (this.isAtEnd && !position.isAtEnd) || this.offset > position.offset\r\n            : isNodeAfter_1.default(this.node, position.node);\r\n    };\r\n    /**\r\n     * Move this position with offset, returns a new position with a valid offset in the same node\r\n     * @param offset Offset to move with\r\n     */\r\n    Position.prototype.move = function (offset) {\r\n        return new Position(this.node, Math.max(this.offset + offset, 0));\r\n    };\r\n    /**\r\n     * Get start position of the given Range\r\n     * @param range The range to get position from\r\n     */\r\n    Position.getStart = function (range) {\r\n        return new Position(range.startContainer, range.startOffset);\r\n    };\r\n    /**\r\n     * Get end position of the given Range\r\n     * @param range The range to get position from\r\n     */\r\n    Position.getEnd = function (range) {\r\n        return new Position(range.endContainer, range.endOffset);\r\n    };\r\n    return Position;\r\n}());\r\nexports.default = Position;\r\nfunction getIndexOfNode(node) {\r\n    var i = 0;\r\n    while ((node = node.previousSibling)) {\r\n        i++;\r\n    }\r\n    return i;\r\n}\r\nfunction getEndOffset(node) {\r\n    if (node.nodeType == 3 /* Text */) {\r\n        return node.nodeValue.length;\r\n    }\r\n    else if (node.nodeType == 1 /* Element */) {\r\n        return node.childNodes.length;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CorePlugin_1 = require(\"./editor/CorePlugin\");\r\nexports.CorePlugin = CorePlugin_1.default;\r\nvar Editor_1 = require(\"./editor/Editor\");\r\nexports.Editor = Editor_1.default;\r\nvar Undo_1 = require(\"./undo/Undo\");\r\nexports.Undo = Undo_1.default;\r\nvar UndoSnapshots_1 = require(\"./undo/UndoSnapshots\");\r\nexports.UndoSnapshotsService = UndoSnapshots_1.default;\r\nvar BrowserData_1 = require(\"./deprecated/BrowserData\");\r\nexports.browserData = BrowserData_1.default;\r\nvar cacheGetEventData_1 = require(\"./eventApi/cacheGetEventData\");\r\nexports.cacheGetEventData = cacheGetEventData_1.default;\r\nvar clearEventDataCache_1 = require(\"./eventApi/clearEventDataCache\");\r\nexports.clearEventDataCache = clearEventDataCache_1.default;\r\nvar cacheGetContentSearcher_1 = require(\"./eventApi/cacheGetContentSearcher\");\r\nexports.cacheGetContentSearcher = cacheGetContentSearcher_1.cacheGetContentSearcher;\r\nexports.clearContentSearcherCache = cacheGetContentSearcher_1.clearContentSearcherCache;\r\nvar cacheGetElementAtCursor_1 = require(\"./eventApi/cacheGetElementAtCursor\");\r\nexports.cacheGetElementAtCursor = cacheGetElementAtCursor_1.default;\r\nvar snapshotUtils_1 = require(\"./deprecated/snapshotUtils\");\r\nexports.buildSnapshot = snapshotUtils_1.buildSnapshot;\r\nexports.restoreSnapshot = snapshotUtils_1.restoreSnapshot;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Get the html tag of a node, or empty if it is not an element\r\n * @param node The node to get tag of\r\n * @returns Tag name in upper case if the given node is an Element, or empty string otherwise\r\n */\r\nfunction getTagOfNode(node) {\r\n    return node && node.nodeType == 1 /* Element */ ? node.tagName.toUpperCase() : '';\r\n}\r\nexports.default = getTagOfNode;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Execute a document command\r\n * @param editor The editor instance\r\n * @param command The command to execute\r\n * @param addUndoSnapshotWhenCollapsed Optional, set to true to always add undo snapshot even current selection is collapsed.\r\n * Default value is false.\r\n * @param doWorkaroundForList Optional, set to true to do workaround for list in order to keep current format.\r\n * Default value is false.\r\n */\r\nfunction execCommand(editor, command) {\r\n    editor.focus();\r\n    var formatter = function () { return editor.getDocument().execCommand(command, false, null); };\r\n    var range = editor.getSelectionRange();\r\n    if (range && range.collapsed) {\r\n        editor.addUndoSnapshot();\r\n        formatter();\r\n    }\r\n    else {\r\n        editor.addUndoSnapshot(formatter, \"Format\" /* Format */);\r\n    }\r\n}\r\nexports.default = execCommand;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar changeFontSize_1 = require(\"./format/changeFontSize\");\r\nexports.changeFontSize = changeFontSize_1.default;\r\nexports.FONT_SIZES = changeFontSize_1.FONT_SIZES;\r\nvar clearFormat_1 = require(\"./format/clearFormat\");\r\nexports.clearFormat = clearFormat_1.default;\r\nvar createLink_1 = require(\"./format/createLink\");\r\nexports.createLink = createLink_1.default;\r\nvar getFormatState_1 = require(\"./format/getFormatState\");\r\nexports.getFormatState = getFormatState_1.default;\r\nvar insertImage_1 = require(\"./format/insertImage\");\r\nexports.insertImage = insertImage_1.default;\r\nvar insertTable_1 = require(\"./table/insertTable\");\r\nexports.insertTable = insertTable_1.default;\r\nvar editTable_1 = require(\"./table/editTable\");\r\nexports.editTable = editTable_1.default;\r\nvar formatTable_1 = require(\"./table/formatTable\");\r\nexports.formatTable = formatTable_1.default;\r\nvar removeLink_1 = require(\"./format/removeLink\");\r\nexports.removeLink = removeLink_1.default;\r\nvar replaceWithNode_1 = require(\"./format/replaceWithNode\");\r\nexports.replaceWithNode = replaceWithNode_1.default;\r\nvar setAlignment_1 = require(\"./format/setAlignment\");\r\nexports.setAlignment = setAlignment_1.default;\r\nvar setBackgroundColor_1 = require(\"./format/setBackgroundColor\");\r\nexports.setBackgroundColor = setBackgroundColor_1.default;\r\nvar setTextColor_1 = require(\"./format/setTextColor\");\r\nexports.setTextColor = setTextColor_1.default;\r\nvar setDirection_1 = require(\"./format/setDirection\");\r\nexports.setDirection = setDirection_1.default;\r\nvar setFontName_1 = require(\"./format/setFontName\");\r\nexports.setFontName = setFontName_1.default;\r\nvar setFontSize_1 = require(\"./format/setFontSize\");\r\nexports.setFontSize = setFontSize_1.default;\r\nvar setImageAltText_1 = require(\"./format/setImageAltText\");\r\nexports.setImageAltText = setImageAltText_1.default;\r\nvar setIndentation_1 = require(\"./format/setIndentation\");\r\nexports.setIndentation = setIndentation_1.default;\r\nvar toggleBold_1 = require(\"./format/toggleBold\");\r\nexports.toggleBold = toggleBold_1.default;\r\nvar toggleBullet_1 = require(\"./format/toggleBullet\");\r\nexports.toggleBullet = toggleBullet_1.default;\r\nvar toggleItalic_1 = require(\"./format/toggleItalic\");\r\nexports.toggleItalic = toggleItalic_1.default;\r\nvar toggleNumbering_1 = require(\"./format/toggleNumbering\");\r\nexports.toggleNumbering = toggleNumbering_1.default;\r\nvar toggleBlockQuote_1 = require(\"./format/toggleBlockQuote\");\r\nexports.toggleBlockQuote = toggleBlockQuote_1.default;\r\nvar toggleCodeBlock_1 = require(\"./format/toggleCodeBlock\");\r\nexports.toggleCodeBlock = toggleCodeBlock_1.default;\r\nvar toggleStrikethrough_1 = require(\"./format/toggleStrikethrough\");\r\nexports.toggleStrikethrough = toggleStrikethrough_1.default;\r\nvar toggleSubscript_1 = require(\"./format/toggleSubscript\");\r\nexports.toggleSubscript = toggleSubscript_1.default;\r\nvar toggleSuperscript_1 = require(\"./format/toggleSuperscript\");\r\nexports.toggleSuperscript = toggleSuperscript_1.default;\r\nvar toggleUnderline_1 = require(\"./format/toggleUnderline\");\r\nexports.toggleUnderline = toggleUnderline_1.default;\r\nvar toggleHeader_1 = require(\"./format/toggleHeader\");\r\nexports.toggleHeader = toggleHeader_1.default;\r\n// Deprecated\r\nvar cacheGetListState_1 = require(\"./deprecated/cacheGetListState\");\r\nexports.cacheGetListState = cacheGetListState_1.default;\r\nvar execFormatWithUndo_1 = require(\"./deprecated/execFormatWithUndo\");\r\nexports.execFormatWithUndo = execFormatWithUndo_1.default;\r\nvar CursorData_1 = require(\"./deprecated/CursorData\");\r\nexports.CursorData = CursorData_1.default;\r\nexports.cacheGetCursorEventData = CursorData_1.cacheGetCursorEventData;\r\nexports.clearCursorEventDataCache = CursorData_1.clearCursorEventDataCache;\r\nvar queryNodesWithSelection_1 = require(\"./deprecated/queryNodesWithSelection\");\r\nexports.queryNodesWithSelection = queryNodesWithSelection_1.default;\r\nvar replaceTextBeforeCursorWithNode_1 = require(\"./deprecated/replaceTextBeforeCursorWithNode\");\r\nexports.replaceTextBeforeCursorWithNode = replaceTextBeforeCursorWithNode_1.default;\r\nexports.validateAndGetRangeForTextBeforeCursor = replaceTextBeforeCursorWithNode_1.validateAndGetRangeForTextBeforeCursor;\r\nvar replaceRangeWithNode_1 = require(\"./deprecated/replaceRangeWithNode\");\r\nexports.replaceRangeWithNode = replaceRangeWithNode_1.default;\r\nvar getNodeAtCursor_1 = require(\"./deprecated/getNodeAtCursor\");\r\nexports.getNodeAtCursor = getNodeAtCursor_1.default;\r\nexports.cacheGetListElement = getNodeAtCursor_1.cacheGetListElement;\r\nexports.cacheGetNodeAtCursor = getNodeAtCursor_1.cacheGetNodeAtCursor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar isVoidHtmlElement_1 = require(\"../utils/isVoidHtmlElement\");\r\nvar Position_1 = require(\"./Position\");\r\nfunction createRange(start, end) {\r\n    if (!start) {\r\n        return null;\r\n    }\r\n    else if (start instanceof Node) {\r\n        end = new Position_1.default(end || start, -3 /* After */);\r\n        start = new Position_1.default(start, -2 /* Before */);\r\n    }\r\n    else {\r\n        end = end || start;\r\n    }\r\n    var range = start.node.ownerDocument.createRange();\r\n    start = getFocusablePosition(start);\r\n    end = getFocusablePosition(end);\r\n    range.setStart(start.node, start.offset);\r\n    range.setEnd(end.node, end.offset);\r\n    return range;\r\n}\r\nexports.default = createRange;\r\n/**\r\n * Convert to focusable position\r\n * If current node is a void element, we need to move up one level to put cursor outside void element\r\n */\r\nfunction getFocusablePosition(position) {\r\n    return position.node.nodeType == 1 /* Element */ && isVoidHtmlElement_1.default(position.node)\r\n        ? new Position_1.default(position.node, position.isAtEnd ? -3 /* After */ : -2 /* Before */)\r\n        : position;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar contains_1 = require(\"./contains\");\r\nvar shouldSkipNode_1 = require(\"./shouldSkipNode\");\r\n/**\r\n * This walks forwards/backwards DOM tree to get next meaningful node\r\n * @param rootNode Root node to scope the leaf sibling node\r\n * @param startNode current node to get sibling node from\r\n * @param isNext True to get next leaf sibling node, false to get previous leaf sibling node\r\n */\r\nfunction getLeafSibling(rootNode, startNode, isNext) {\r\n    var result = null;\r\n    var getSibling = isNext\r\n        ? function (node) { return node.nextSibling; }\r\n        : function (node) { return node.previousSibling; };\r\n    var getChild = isNext ? function (node) { return node.firstChild; } : function (node) { return node.lastChild; };\r\n    if (contains_1.default(rootNode, startNode)) {\r\n        var curNode = startNode;\r\n        var shouldContinue = true;\r\n        while (shouldContinue) {\r\n            // Find next/previous node, starting from next/previous sibling, then one level up to find next/previous sibling from parent\r\n            // till a non-null nextSibling/previousSibling is found or the ceiling is encountered (rootNode)\r\n            var parentNode = curNode.parentNode;\r\n            curNode = getSibling(curNode);\r\n            while (!curNode && parentNode != rootNode) {\r\n                curNode = getSibling(parentNode);\r\n                parentNode = parentNode.parentNode;\r\n            }\r\n            // Now traverse down to get first/last child\r\n            while (curNode && getChild(curNode)) {\r\n                curNode = getChild(curNode);\r\n            }\r\n            // Check special nodes (i.e. node that has a display:none etc.) and continue looping if so\r\n            shouldContinue = curNode && shouldSkipNode_1.default(curNode);\r\n            if (!shouldContinue) {\r\n                // Found a good leaf node, assign and exit\r\n                result = curNode;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexports.getLeafSibling = getLeafSibling;\r\n/**\r\n * This walks forwards DOM tree to get next meaningful node\r\n * @param rootNode Root node to scope the leaf sibling node\r\n * @param startNode current node to get sibling node from\r\n */\r\nfunction getNextLeafSibling(rootNode, startNode) {\r\n    return getLeafSibling(rootNode, startNode, true /*isNext*/);\r\n}\r\nexports.getNextLeafSibling = getNextLeafSibling;\r\n/**\r\n * This walks backwards DOM tree to get next meaningful node\r\n * @param rootNode Root node to scope the leaf sibling node\r\n * @param startNode current node to get sibling node from\r\n */\r\nfunction getPreviousLeafSibling(rootNode, startNode) {\r\n    return getLeafSibling(rootNode, startNode, false /*isNext*/);\r\n}\r\nexports.getPreviousLeafSibling = getPreviousLeafSibling;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HtmlSanitizer_1 = require(\"./sanitizer/HtmlSanitizer\");\r\nexports.HtmlSanitizer = HtmlSanitizer_1.default;\r\nvar htmlToDom_1 = require(\"./utils/htmlToDom\");\r\nexports.htmlToDom = htmlToDom_1.default;\r\nexports.splitWithFragment = htmlToDom_1.splitWithFragment;\r\nvar getInheritableStyles_1 = require(\"./utils/getInheritableStyles\");\r\nexports.getInheritableStyles = getInheritableStyles_1.default;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar collapseNodes_1 = require(\"../utils/collapseNodes\");\r\nvar contains_1 = require(\"../utils/contains\");\r\nvar getTagOfNode_1 = require(\"../utils/getTagOfNode\");\r\nvar isBlockElement_1 = require(\"../utils/isBlockElement\");\r\nvar NodeBlockElement_1 = require(\"./NodeBlockElement\");\r\nvar StartEndBlockElement_1 = require(\"./StartEndBlockElement\");\r\n/**\r\n * This produces a block element from a a node\r\n * It needs to account for various HTML structure. Examples:\r\n * 1) <root><div>abc</div></root>\r\n *   This is most common the case, user passes in a node pointing to abc, and get back a block representing <div>abc</div>\r\n * 2) <root><p><br></p></root>\r\n *   Common content for empty block, user passes node pointing to <br>, and get back a block representing <p><br></p>\r\n * 3) <root>abc</root>\r\n *   Not common, but does happen. It is still a block in user's view. User passes in abc, and get back a start-end block representing abc\r\n *   NOTE: abc could be just one node. However, since it is not a html block, it is more appropriate to use start-end block although they point to same node\r\n * 4) <root><div>abc<br>123</div></root>\r\n *   A bit tricky, but can happen when user use Ctrl+Enter which simply inserts a <BR> to create a link break. There're two blocks:\r\n *   block1: 1) abc<br> block2: 123\r\n * 5) <root><div>abc<div>123</div></div></root>\r\n *   Nesting div and there is text node in same level as a DIV. Two blocks: 1) abc 2) <div>123</div>\r\n * 6) <root><div>abc<span>123<br>456</span></div></root>\r\n *   This is really tricky. Essentially there is a <BR> in middle of a span breaking the span into two blocks;\r\n *   block1: abc<span>123<br> block2: 456\r\n * In summary, given any arbitary node (leaf), to identify the head and tail of the block, following rules need to be followed:\r\n * 1) to identify the head, it needs to crawl DOM tre left/up till a block node or BR is encountered\r\n * 2) same for identifying tail\r\n * 3) should also apply a block ceiling, meaning as it crawls up, it should stop at a block node\r\n * @param rootNode Root node of the scope, the block element will be inside of this node\r\n * @param node The node to get BlockElement start from\r\n */\r\nfunction getBlockElementAtNode(rootNode, node) {\r\n    if (!contains_1.default(rootNode, node)) {\r\n        return null;\r\n    }\r\n    // Identify the containing block. This serves as ceiling for traversing down below\r\n    // NOTE: this container block could be just the rootNode,\r\n    // which cannot be used to create block element. We will special case handle it later on\r\n    var containerBlockNode = StartEndBlockElement_1.default.getBlockContext(node);\r\n    if (containerBlockNode == node) {\r\n        return new NodeBlockElement_1.default(containerBlockNode);\r\n    }\r\n    // Find the head and leaf node in the block\r\n    var headNode = findHeadTailLeafNode(node, containerBlockNode, false /*isTail*/);\r\n    var tailNode = findHeadTailLeafNode(node, containerBlockNode, true /*isTail*/);\r\n    // At this point, we have the head and tail of a block, here are some examples and where head and tail point to\r\n    // 1) <root><div>hello<br></div></root>, head: hello, tail: <br>\r\n    // 2) <root><div>hello<span style=\"font-family: Arial\">world</span></div></root>, head: hello, tail: world\r\n    // Both are actually completely and exclusively wrapped in a parent div, and can be represented with a Node block\r\n    // So we shall try to collapse as much as we can to the nearest common ancester\r\n    var nodes = collapseNodes_1.default(rootNode, headNode, tailNode, false /*canSplitParent*/);\r\n    headNode = nodes[0];\r\n    tailNode = nodes[nodes.length - 1];\r\n    if (headNode.parentNode != tailNode.parentNode) {\r\n        // Un-Balanced start and end, create a start-end block\r\n        return new StartEndBlockElement_1.default(rootNode, headNode, tailNode);\r\n    }\r\n    else {\r\n        // Balanced start and end (point to same parent), need to see if further collapsing can be done\r\n        while (!headNode.previousSibling && !tailNode.nextSibling) {\r\n            var parentNode = headNode.parentNode;\r\n            if (parentNode == containerBlockNode) {\r\n                // Has reached the container block\r\n                if (containerBlockNode != rootNode) {\r\n                    // If the container block is not the root, use the container block\r\n                    headNode = tailNode = parentNode;\r\n                }\r\n                break;\r\n            }\r\n            else {\r\n                // Continue collapsing to parent\r\n                headNode = tailNode = parentNode;\r\n            }\r\n        }\r\n        // If head and tail are same and it is a block element, create NodeBlock, otherwise start-end block\r\n        return headNode == tailNode && isBlockElement_1.default(headNode)\r\n            ? new NodeBlockElement_1.default(headNode)\r\n            : new StartEndBlockElement_1.default(rootNode, headNode, tailNode);\r\n    }\r\n}\r\nexports.default = getBlockElementAtNode;\r\n/**\r\n * Given a node and container block, identify the first/last leaf node\r\n * A leaf node is defined as deepest first/last node in a block\r\n * i.e. <div><span style=\"font-family: Arial\">abc</span></div>, abc is the head leaf of the block\r\n * Often <br> or a child <div> is used to create a block. In that case, the leaf after the sibling div or br should be the head leaf\r\n * i.e. <div>123<br>abc</div>, abc is the head of a block because of a previous sibling <br>\r\n * i.e. <div><div>123</div>abc</div>, abc is also the head of a block because of a previous sibling <div>\r\n */\r\nfunction findHeadTailLeafNode(node, containerBlockNode, isTail) {\r\n    var result = node;\r\n    while (result) {\r\n        var sibling = node;\r\n        while (!(sibling = isTail ? node.nextSibling : node.previousSibling)) {\r\n            node = node.parentNode;\r\n            if (node == containerBlockNode) {\r\n                return result;\r\n            }\r\n        }\r\n        while (sibling) {\r\n            if (isBlockElement_1.default(sibling)) {\r\n                return result;\r\n            }\r\n            else if (getTagOfNode_1.default(sibling) == 'BR') {\r\n                return isTail ? sibling : result;\r\n            }\r\n            node = sibling;\r\n            sibling = isTail ? node.firstChild : node.lastChild;\r\n        }\r\n        result = node;\r\n    }\r\n    return result;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar applyTextStyle_1 = require(\"../utils/applyTextStyle\");\r\nvar isNodeAfter_1 = require(\"../utils/isNodeAfter\");\r\nvar Position_1 = require(\"../selection/Position\");\r\nvar positionUtils_1 = require(\"../deprecated/positionUtils\");\r\nvar positionUtils_2 = require(\"../deprecated/positionUtils\");\r\n/**\r\n * This presents an inline element that can be reprented by a single html node.\r\n * This serves as base for most inline element as it contains most implentation\r\n * of all operations that can happen on an inline element. Other sub inline elements mostly\r\n * just identify themself for a certain type\r\n */\r\nvar NodeInlineElement = /** @class */ (function () {\r\n    function NodeInlineElement(containerNode, parentBlock) {\r\n        this.containerNode = containerNode;\r\n        this.parentBlock = parentBlock;\r\n    }\r\n    /**\r\n     * The text content for this inline element\r\n     */\r\n    NodeInlineElement.prototype.getTextContent = function () {\r\n        // nodeValue is better way to retrieve content for a text. Others, just use textContent\r\n        return this.containerNode.nodeType == 3 /* Text */\r\n            ? this.containerNode.nodeValue\r\n            : this.containerNode.textContent;\r\n    };\r\n    /**\r\n     * Get the container node\r\n     */\r\n    NodeInlineElement.prototype.getContainerNode = function () {\r\n        return this.containerNode;\r\n    };\r\n    // Get the parent block\r\n    NodeInlineElement.prototype.getParentBlock = function () {\r\n        return this.parentBlock;\r\n    };\r\n    /**\r\n     * Get the start position of the inline element\r\n     */\r\n    NodeInlineElement.prototype.getStartPosition = function () {\r\n        // For a position, we always want it to point to a leaf node\r\n        // We should try to go get the lowest first child node from the container\r\n        return new Position_1.default(this.containerNode, 0).normalize();\r\n    };\r\n    /**\r\n     * Get the end position of the inline element\r\n     */\r\n    NodeInlineElement.prototype.getEndPosition = function () {\r\n        // For a position, we always want it to point to a leaf node\r\n        // We should try to go get the lowest last child node from the container\r\n        return new Position_1.default(this.containerNode, -1 /* End */).normalize();\r\n    };\r\n    /**\r\n     * Checks if this inline element is a textual inline element\r\n     */\r\n    NodeInlineElement.prototype.isTextualInlineElement = function () {\r\n        return this.containerNode && this.containerNode.nodeType == 3 /* Text */;\r\n    };\r\n    /**\r\n     * Checks if an inline element is after the current inline element\r\n     */\r\n    NodeInlineElement.prototype.isAfter = function (inlineElement) {\r\n        return inlineElement && isNodeAfter_1.default(this.containerNode, inlineElement.getContainerNode());\r\n    };\r\n    /**\r\n     * Checks if the given position is contained in the inline element\r\n     */\r\n    NodeInlineElement.prototype.contains = function (p) {\r\n        var start = this.getStartPosition();\r\n        var end = this.getEndPosition();\r\n        var pos = positionUtils_1.safeGetPosition(p);\r\n        return pos && pos.isAfter(start) && end.isAfter(pos);\r\n    };\r\n    /**\r\n     * Apply inline style to an inline element\r\n     */\r\n    NodeInlineElement.prototype.applyStyle = function (styler) {\r\n        applyTextStyle_1.default(this.containerNode, styler);\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Get the start point of the inline element\r\n     */\r\n    NodeInlineElement.prototype.getStartPoint = function () {\r\n        return positionUtils_2.toEditorPoint(this.getStartPosition());\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Get the end point of the inline element\r\n     */\r\n    NodeInlineElement.prototype.getEndPoint = function () {\r\n        return positionUtils_2.toEditorPoint(this.getEndPosition());\r\n    };\r\n    return NodeInlineElement;\r\n}());\r\nexports.default = NodeInlineElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar ZERO_WIDTH_SPACE = '\\u200B';\r\n/**\r\n * Apply inline style to current selection\r\n * @param editor The editor instance\r\n * @param callback The callback function to apply style\r\n */\r\nfunction applyInlineStyle(editor, callback) {\r\n    editor.focus();\r\n    var range = editor.getSelectionRange();\r\n    if (range && range.collapsed) {\r\n        var node = range.startContainer;\r\n        var isEmptySpan = roosterjs_editor_dom_1.getTagOfNode(node) == 'SPAN' &&\r\n            (!node.firstChild ||\r\n                (roosterjs_editor_dom_1.getTagOfNode(node.firstChild) == 'BR' && !node.firstChild.nextSibling));\r\n        if (isEmptySpan) {\r\n            editor.addUndoSnapshot();\r\n            callback(node);\r\n        }\r\n        else {\r\n            var isZWSNode = node &&\r\n                node.nodeType == 3 /* Text */ &&\r\n                node.nodeValue == ZERO_WIDTH_SPACE &&\r\n                roosterjs_editor_dom_1.getTagOfNode(node.parentNode) == 'SPAN';\r\n            if (!isZWSNode) {\r\n                editor.addUndoSnapshot();\r\n                // Create a new text node to hold the selection.\r\n                // Some content is needed to position selection into the span\r\n                // for here, we inject ZWS - zero width space\r\n                node = editor.getDocument().createTextNode(ZERO_WIDTH_SPACE);\r\n                range.insertNode(node);\r\n            }\r\n            roosterjs_editor_dom_1.applyTextStyle(node, callback);\r\n            editor.select(node, -1 /* End */);\r\n        }\r\n    }\r\n    else {\r\n        // This is start and end node that get the style. The start and end needs to be recorded so that selection\r\n        // can be re-applied post-applying style\r\n        editor.addUndoSnapshot(function () {\r\n            var firstNode;\r\n            var lastNode;\r\n            var contentTraverser = editor.getSelectionTraverser();\r\n            var inlineElement = contentTraverser && contentTraverser.currentInlineElement;\r\n            while (inlineElement) {\r\n                var nextInlineElement = contentTraverser.getNextInlineElement();\r\n                inlineElement.applyStyle(function (element) {\r\n                    callback(element);\r\n                    firstNode = firstNode || element;\r\n                    lastNode = element;\r\n                });\r\n                inlineElement = nextInlineElement;\r\n            }\r\n            if (firstNode && lastNode) {\r\n                editor.select(firstNode, -2 /* Before */, lastNode, -3 /* After */);\r\n            }\r\n        }, \"Format\" /* Format */);\r\n    }\r\n}\r\nexports.default = applyInlineStyle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getBlockElementAtNode_1 = require(\"../blockElements/getBlockElementAtNode\");\r\nvar getTagOfNode_1 = require(\"../utils/getTagOfNode\");\r\nvar ImageInlineElement_1 = require(\"./ImageInlineElement\");\r\nvar LinkInlineElement_1 = require(\"./LinkInlineElement\");\r\nvar NodeInlineElement_1 = require(\"./NodeInlineElement\");\r\nvar NodeInlineElement_2 = require(\"./NodeInlineElement\");\r\nfunction getInlineElementAtNode(parent, node) {\r\n    // An inline element has to be in a block element, get the block first and then resolve through the factory\r\n    var parentBlock = parent instanceof Node ? getBlockElementAtNode_1.default(parent, node) : parent;\r\n    return node && parentBlock && resolveInlineElement(node, parentBlock);\r\n}\r\nexports.default = getInlineElementAtNode;\r\n/**\r\n * Resolve an inline element by a leaf node\r\n * @param node The node to resolve from\r\n * @param parentBlock The parent block element\r\n */\r\nfunction resolveInlineElement(node, parentBlock) {\r\n    var nodeChain = [node];\r\n    for (var parent_1 = node.parentNode; parent_1 && parentBlock.contains(parent_1); parent_1 = parent_1.parentNode) {\r\n        nodeChain.push(parent_1);\r\n    }\r\n    var inlineElement;\r\n    for (var i = nodeChain.length - 1; i >= 0 && !inlineElement; i--) {\r\n        var currentNode = nodeChain[i];\r\n        var tag = getTagOfNode_1.default(currentNode);\r\n        if (tag == 'A') {\r\n            inlineElement = new LinkInlineElement_1.default(currentNode, parentBlock);\r\n        }\r\n        else if (tag == 'IMG') {\r\n            inlineElement = new ImageInlineElement_1.default(currentNode, parentBlock);\r\n        }\r\n        else if (currentNode.nodeType == 3 /* Text */) {\r\n            inlineElement = new NodeInlineElement_2.default(currentNode, parentBlock);\r\n        }\r\n    }\r\n    return inlineElement || new NodeInlineElement_1.default(node, parentBlock);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Checks if node1 is after node2\r\n * @param node1 The node to check if it is after another node\r\n * @param node2 The node to check if another node is after this one\r\n * @returns True if node1 is after node2, otherwise false\r\n */\r\nfunction isNodeAfter(node1, node2) {\r\n    return !!(node1 &&\r\n        node2 &&\r\n        (node2.compareDocumentPosition(node1) & 4 /* Following */) ==\r\n            4 /* Following */);\r\n}\r\nexports.default = isNodeAfter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Position_1 = require(\"../selection/Position\");\r\n/**\r\n * @deprecated Do not use\r\n */\r\nfunction toEditorPoint(position) {\r\n    return {\r\n        containerNode: position.node,\r\n        offset: position.offset == 0 && position.isAtEnd ? 1 : position.offset,\r\n    };\r\n}\r\nexports.toEditorPoint = toEditorPoint;\r\n/**\r\n * @deprecated Do not use\r\n */\r\nfunction safeGetPosition(p) {\r\n    return p && p.containerNode\r\n        ? new Position_1.default(p.containerNode, p.offset)\r\n        : p;\r\n}\r\nexports.safeGetPosition = safeGetPosition;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar isNodeAfter_1 = require(\"./isNodeAfter\");\r\n/**\r\n * Split parent node of the given node before/after the given node.\r\n * When a parent node contains [A,B,C] and pass B as the given node,\r\n * If split before, the new nodes will be [A][B,C] and returns [A];\r\n * otherwise, it will be [A,B][C] and returns [C].\r\n * @param node The node to split before/after\r\n * @param splitBefore Whether split before or after\r\n * @param removeEmptyNewNode If the new node is empty (even then only child is space or ZER_WIDTH_SPACE),\r\n * we remove it. @default false\r\n * @returns The new parent node\r\n */\r\nfunction splitParentNode(node, splitBefore) {\r\n    if (!node || !node.parentNode) {\r\n        return null;\r\n    }\r\n    var parentNode = node.parentNode;\r\n    var newParent = parentNode.cloneNode(false /*deep*/);\r\n    newParent.removeAttribute('id');\r\n    if (splitBefore) {\r\n        while (parentNode.firstChild && parentNode.firstChild != node) {\r\n            newParent.appendChild(parentNode.firstChild);\r\n        }\r\n    }\r\n    else {\r\n        while (node.nextSibling) {\r\n            newParent.appendChild(node.nextSibling);\r\n        }\r\n    }\r\n    // When the only child of new parent is ZERO_WIDTH_SPACE, we can still prevent keeping it by set removeEmptyNewNode to true\r\n    if (newParent.firstChild && newParent.innerHTML != '') {\r\n        parentNode.parentNode.insertBefore(newParent, splitBefore ? parentNode : parentNode.nextSibling);\r\n    }\r\n    else {\r\n        newParent = null;\r\n    }\r\n    return newParent;\r\n}\r\nexports.default = splitParentNode;\r\n/**\r\n * Split parent node by a balanced node range\r\n * @param nodes The nodes to split from. If only one node is passed, split it from all its siblings.\r\n * If two or nodes are passed, will split before the first one and after the last one, all other nodes will be ignored\r\n * @returns The parent node of the given node range if the given nodes are balanced, otherwise null\r\n */\r\nfunction splitBalancedNodeRange(nodes) {\r\n    var start = nodes instanceof Array ? nodes[0] : nodes;\r\n    var end = nodes instanceof Array ? nodes[nodes.length - 1] : nodes;\r\n    var parentNode = start && end && start.parentNode == end.parentNode ? start.parentNode : null;\r\n    if (parentNode) {\r\n        if (isNodeAfter_1.default(start, end)) {\r\n            var temp = end;\r\n            end = start;\r\n            start = temp;\r\n        }\r\n        splitParentNode(start, true /*splitBefore*/);\r\n        splitParentNode(end, false /*splitBefore*/);\r\n    }\r\n    return parentNode;\r\n}\r\nexports.splitBalancedNodeRange = splitBalancedNodeRange;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar fromHtml_1 = require(\"./fromHtml\");\r\nfunction wrap(nodes, wrapper) {\r\n    nodes = !nodes ? [] : nodes instanceof Node ? [nodes] : nodes;\r\n    if (nodes.length == 0 || !nodes[0]) {\r\n        return null;\r\n    }\r\n    if (!(wrapper instanceof Element)) {\r\n        var document_1 = nodes[0].ownerDocument;\r\n        wrapper = wrapper || 'div';\r\n        wrapper = /^\\w+$/.test(wrapper)\r\n            ? document_1.createElement(wrapper)\r\n            : fromHtml_1.default(wrapper, document_1)[0];\r\n    }\r\n    var parentNode = nodes[0].parentNode;\r\n    if (parentNode) {\r\n        parentNode.insertBefore(wrapper, nodes[0]);\r\n    }\r\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\r\n        var node = nodes_1[_i];\r\n        wrapper.appendChild(node);\r\n    }\r\n    return wrapper;\r\n}\r\nexports.default = wrap;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar applyTextStyle_1 = require(\"../utils/applyTextStyle\");\r\nvar createRange_1 = require(\"../selection/createRange\");\r\nvar Position_1 = require(\"../selection/Position\");\r\nvar getLeafSibling_1 = require(\"../utils/getLeafSibling\");\r\nvar positionUtils_1 = require(\"../deprecated/positionUtils\");\r\nvar positionUtils_2 = require(\"../deprecated/positionUtils\");\r\n/**\r\n * This is a special version of inline element that identifies a section of an inline element\r\n * We often have the need to cut an inline element in half and perform some operation only on half of an inline element\r\n * i.e. users select only some text of a text node and apply format, in that case, format has to happen on partial of an inline element\r\n * PartialInlineElement is implemented in a way that decorate another full inline element with its own override on methods like isAfter\r\n * It also offers some special methods that others don't have, i.e. nextInlineElement etc.\r\n */\r\nvar PartialInlineElement = /** @class */ (function () {\r\n    function PartialInlineElement(inlineElement, start, end) {\r\n        this.inlineElement = inlineElement;\r\n        this.start = positionUtils_1.safeGetPosition(start);\r\n        this.end = positionUtils_1.safeGetPosition(end);\r\n    }\r\n    /**\r\n     * Get the full inline element that this partial inline decorates\r\n     */\r\n    PartialInlineElement.prototype.getDecoratedInline = function () {\r\n        return this.inlineElement;\r\n    };\r\n    /**\r\n     * Gets the container node\r\n     */\r\n    PartialInlineElement.prototype.getContainerNode = function () {\r\n        return this.inlineElement.getContainerNode();\r\n    };\r\n    /**\r\n     * Gets the parent block\r\n     */\r\n    PartialInlineElement.prototype.getParentBlock = function () {\r\n        return this.inlineElement.getParentBlock();\r\n    };\r\n    /**\r\n     * Gets the text content\r\n     */\r\n    PartialInlineElement.prototype.getTextContent = function () {\r\n        var range = createRange_1.default(this.getStartPosition(), this.getEndPosition());\r\n        return range.toString();\r\n    };\r\n    /**\r\n     * Get start position of this inline element.\r\n     */\r\n    PartialInlineElement.prototype.getStartPosition = function () {\r\n        return this.start || this.inlineElement.getStartPosition();\r\n    };\r\n    /**\r\n     * Get end position of this inline element.\r\n     */\r\n    PartialInlineElement.prototype.getEndPosition = function () {\r\n        return this.end || this.inlineElement.getEndPosition();\r\n    };\r\n    Object.defineProperty(PartialInlineElement.prototype, \"nextInlineElement\", {\r\n        /**\r\n         * Get next partial inline element if it is not at the end boundary yet\r\n         */\r\n        get: function () {\r\n            return this.end && new PartialInlineElement(this.inlineElement, this.end, null);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PartialInlineElement.prototype, \"previousInlineElement\", {\r\n        /**\r\n         * Get previous partial inline element if it is not at the begin boundary yet\r\n         */\r\n        get: function () {\r\n            return this.start && new PartialInlineElement(this.inlineElement, null, this.start);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks if it contains a position\r\n     */\r\n    PartialInlineElement.prototype.contains = function (p) {\r\n        var pos = positionUtils_1.safeGetPosition(p);\r\n        return pos && pos.isAfter(this.getStartPosition()) && this.getEndPosition().isAfter(pos);\r\n    };\r\n    /**\r\n     * Checks if this inline element is a textual inline element\r\n     */\r\n    PartialInlineElement.prototype.isTextualInlineElement = function () {\r\n        return this.inlineElement && this.inlineElement.isTextualInlineElement();\r\n    };\r\n    /**\r\n     * Check if this inline element is after the other inline element\r\n     */\r\n    PartialInlineElement.prototype.isAfter = function (inlineElement) {\r\n        var thisStart = this.getStartPosition();\r\n        var otherEnd = inlineElement && inlineElement.getEndPosition();\r\n        return otherEnd && (thisStart.isAfter(otherEnd) || thisStart.equalTo(otherEnd));\r\n    };\r\n    /**\r\n     * apply style\r\n     */\r\n    PartialInlineElement.prototype.applyStyle = function (styler) {\r\n        var from = this.getStartPosition().normalize();\r\n        var to = this.getEndPosition().normalize();\r\n        var container = this.getContainerNode();\r\n        if (from.isAtEnd) {\r\n            var nextNode = getLeafSibling_1.getNextLeafSibling(container, from.node);\r\n            from = nextNode ? new Position_1.default(nextNode, 0 /* Begin */) : null;\r\n        }\r\n        if (to.offset == 0) {\r\n            var previousNode = getLeafSibling_1.getPreviousLeafSibling(container, to.node);\r\n            to = previousNode ? new Position_1.default(previousNode, -1 /* End */) : null;\r\n        }\r\n        applyTextStyle_1.default(container, styler, from, to);\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Gets the start point\r\n     */\r\n    PartialInlineElement.prototype.getStartPoint = function () {\r\n        return positionUtils_2.toEditorPoint(this.getStartPosition());\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Gets the end point\r\n     */\r\n    PartialInlineElement.prototype.getEndPoint = function () {\r\n        return positionUtils_2.toEditorPoint(this.getEndPosition());\r\n    };\r\n    return PartialInlineElement;\r\n}());\r\nexports.default = PartialInlineElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getInlineElementAtNode_1 = require(\"./getInlineElementAtNode\");\r\nvar PartialInlineElement_1 = require(\"./PartialInlineElement\");\r\nvar shouldSkipNode_1 = require(\"../utils/shouldSkipNode\");\r\nvar getLeafSibling_1 = require(\"../utils/getLeafSibling\");\r\n/**\r\n * Get inline element before a position\r\n * This is mostly used when we want to get the inline element before selection/cursor\r\n * There is a possible that the cursor is in middle of an inline element (i.e. mid of a text node)\r\n * in this case, we only want to return what is before cursor (a partial of an inline) to indicate\r\n * that we're in middle.\r\n * @param root Root node of current scope, use for create InlineElement\r\n * @param position The position to get InlineElement before\r\n */\r\nfunction getInlineElementBefore(root, position) {\r\n    return getInlineElementBeforeAfter(root, position, false /*isAfter*/);\r\n}\r\nexports.getInlineElementBefore = getInlineElementBefore;\r\n/**\r\n * Get inline element after a position\r\n * This is mostly used when we want to get the inline element after selection/cursor\r\n * There is a possible that the cursor is in middle of an inline element (i.e. mid of a text node)\r\n * in this case, we only want to return what is before cursor (a partial of an inline) to indicate\r\n * that we're in middle.\r\n * @param root Root node of current scope, use for create InlineElement\r\n * @param position The position to get InlineElement after\r\n */\r\nfunction getInlineElementAfter(root, position) {\r\n    return getInlineElementBeforeAfter(root, position, true /*isAfter*/);\r\n}\r\nexports.getInlineElementAfter = getInlineElementAfter;\r\nfunction getInlineElementBeforeAfter(root, position, isAfter) {\r\n    if (!root || !position || !position.node) {\r\n        return null;\r\n    }\r\n    position = position.normalize();\r\n    var node = position.node, offset = position.offset, isAtEnd = position.isAtEnd;\r\n    var isPartial = false;\r\n    if ((!isAfter && offset == 0 && !isAtEnd) || (isAfter && isAtEnd)) {\r\n        node = getLeafSibling_1.getLeafSibling(root, node, isAfter);\r\n    }\r\n    else if (node.nodeType == 3 /* Text */ &&\r\n        ((!isAfter && !isAtEnd) || (isAfter && offset > 0))) {\r\n        isPartial = true;\r\n    }\r\n    if (node && shouldSkipNode_1.default(node)) {\r\n        node = getLeafSibling_1.getLeafSibling(root, node, isAfter);\r\n    }\r\n    var inlineElement = getInlineElementAtNode_1.default(root, node);\r\n    if (inlineElement && (isPartial || inlineElement.contains(position))) {\r\n        inlineElement = isAfter\r\n            ? new PartialInlineElement_1.default(inlineElement, position, null)\r\n            : new PartialInlineElement_1.default(inlineElement, null, position);\r\n    }\r\n    return inlineElement;\r\n}\r\nexports.getInlineElementBeforeAfter = getInlineElementBeforeAfter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getInlineElementAtNode_1 = require(\"./getInlineElementAtNode\");\r\nvar PartialInlineElement_1 = require(\"./PartialInlineElement\");\r\nvar getLeafSibling_1 = require(\"../utils/getLeafSibling\");\r\nfunction getNextPreviousInlineElement(rootNode, current, isNext) {\r\n    if (!current) {\r\n        return null;\r\n    }\r\n    if (current instanceof PartialInlineElement_1.default) {\r\n        // if current is partial, get the the othe half of the inline unless it is no more\r\n        var result = isNext ? current.nextInlineElement : current.previousInlineElement;\r\n        if (result) {\r\n            return result;\r\n        }\r\n    }\r\n    // Get a leaf node after startNode and use that base to find next inline\r\n    var startNode = current.getContainerNode();\r\n    startNode = getLeafSibling_1.getLeafSibling(rootNode, startNode, isNext);\r\n    return getInlineElementAtNode_1.default(rootNode, startNode);\r\n}\r\nexports.default = getNextPreviousInlineElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar contains_1 = require(\"./contains\");\r\nvar splitParentNode_1 = require(\"./splitParentNode\");\r\n/**\r\n * Collapse nodes within the given start and end nodes to their common ascenstor node,\r\n * split parent nodes if necessary\r\n * @param root The root node of the scope\r\n * @param start The start node\r\n * @param end The end node\r\n * @param canSplitParent True to allow split parent node there are nodes before start or after end under the same parent\r\n * and the returned nodes will be all nodes from start trhough end after splitting\r\n * False to disallow split parent\r\n * @returns When cansplitParent is true, returns all node from start through end after splitting,\r\n * otherwise just return start and end\r\n */\r\nfunction collapseNodes(root, start, end, canSplitParent) {\r\n    if (!contains_1.default(root, start) || !contains_1.default(root, end)) {\r\n        return [];\r\n    }\r\n    start = collapse(root, start, end, true /*isStart*/, canSplitParent);\r\n    end = collapse(root, end, start, false /*isStart*/, canSplitParent);\r\n    if (contains_1.default(start, end, true /*treateSameNodeAsContain*/)) {\r\n        return [start];\r\n    }\r\n    else if (contains_1.default(end, start)) {\r\n        return [end];\r\n    }\r\n    else if (start.parentNode == end.parentNode) {\r\n        var nodes = [].slice.call(start.parentNode.childNodes);\r\n        var startIndex = nodes.indexOf(start);\r\n        var endIndex = nodes.indexOf(end);\r\n        return nodes.slice(startIndex, endIndex + 1);\r\n    }\r\n    else {\r\n        return [start, end];\r\n    }\r\n}\r\nexports.default = collapseNodes;\r\nfunction collapse(root, node, ref, isStart, canSplitParent) {\r\n    while (node.parentNode != root && !contains_1.default(node.parentNode, ref)) {\r\n        if ((isStart && node.previousSibling) || (!isStart && node.nextSibling)) {\r\n            if (!canSplitParent) {\r\n                break;\r\n            }\r\n            splitParentNode_1.default(node, isStart);\r\n        }\r\n        node = node.parentNode;\r\n    }\r\n    return node;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getTagOfNode_1 = require(\"./getTagOfNode\");\r\nvar BLOCK_ELEMENT_TAGS = 'ADDRESS,ARTICLE,ASIDE,BLOCKQUOTE,CANVAS,DD,DIV,DL,DT,FIELDSET,FIGCAPTION,FIGURE,FOOTER,FORM,H1,H2,H3,H4,H5,H6,HEADER,HR,LI,MAIN,NAV,NOSCRIPT,OL,OUTPUT,P,PRE,SECTION,TABLE,TD,TFOOT,UL,VIDEO'.split(',');\r\nvar BLOCK_DISPLAY_STYLES = ['block', 'list-item', 'table-cell'];\r\n/**\r\n * Checks if the node is a block like element. Block like element are usually those P, DIV, LI, TD etc.\r\n * @param node The node to check\r\n * @returns True if the node is a block element, otherwise false\r\n */\r\nfunction isBlockElement(node) {\r\n    var tag = getTagOfNode_1.default(node);\r\n    return !!(tag &&\r\n        (BLOCK_DISPLAY_STYLES.indexOf(node.style.display) >= 0 ||\r\n            BLOCK_ELEMENT_TAGS.indexOf(tag) >= 0));\r\n}\r\nexports.default = isBlockElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar contains_1 = require(\"./contains\");\r\n/**\r\n * Find closest element ancestor start from the given node which matches the given selector\r\n * @param node Find ancestor start from this node\r\n * @param root Root node where the search should stop at. The return value can never be this node\r\n * @param selector The expected selector. If null, return the first HTML Element found from start node\r\n * @returns An HTML element which matches the given selector. If the given start node matches the selector,\r\n * returns the given node\r\n */\r\nfunction findClosestElementAncestor(node, root, selector) {\r\n    node = !node ? null : node.nodeType == 1 /* Element */ ? node : node.parentNode;\r\n    var element = node && node.nodeType == 1 /* Element */ ? node : null;\r\n    if (element && selector) {\r\n        if (element.closest) {\r\n            element = element.closest(selector);\r\n        }\r\n        else {\r\n            while (element &&\r\n                element != root &&\r\n                !(element.matches || element.msMatchesSelector).call(element, selector)) {\r\n                element = element.parentElement;\r\n            }\r\n        }\r\n    }\r\n    return !root || contains_1.default(root, element) ? element : null;\r\n}\r\nexports.default = findClosestElementAncestor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getTagOfNode_1 = require(\"./getTagOfNode\");\r\nvar Position_1 = require(\"../selection/Position\");\r\nvar wrap_1 = require(\"./wrap\");\r\nvar getLeafSibling_1 = require(\"./getLeafSibling\");\r\nvar splitParentNode_1 = require(\"./splitParentNode\");\r\nfunction applyTextStyle(container, styler, from, to) {\r\n    if (from === void 0) { from = new Position_1.default(container, 0 /* Begin */).normalize(); }\r\n    if (to === void 0) { to = new Position_1.default(container, -1 /* End */).normalize(); }\r\n    var formatNodes = [];\r\n    while (from && to && to.isAfter(from)) {\r\n        var formatNode = from.node;\r\n        var parentTag = getTagOfNode_1.default(formatNode.parentNode);\r\n        // The code below modifies DOM. Need to get the next sibling first otherwise you won't be able to reliably get a good next sibling node\r\n        var nextNode = getLeafSibling_1.getNextLeafSibling(container, formatNode);\r\n        if (formatNode.nodeType == 3 /* Text */ && ['TR', 'TABLE'].indexOf(parentTag) < 0) {\r\n            if (formatNode == to.node && !to.isAtEnd) {\r\n                formatNode = splitTextNode(formatNode, to.offset, true /*returnFirstPart*/);\r\n            }\r\n            if (from.offset > 0) {\r\n                formatNode = splitTextNode(formatNode, from.offset, false /*returnFirstPart*/);\r\n            }\r\n            formatNodes.push(formatNode);\r\n        }\r\n        from = nextNode && new Position_1.default(nextNode, 0 /* Begin */);\r\n    }\r\n    if (formatNodes.length > 0) {\r\n        if (formatNodes.every(function (node) { return node.parentNode == formatNodes[0].parentNode; })) {\r\n            var newNode_1 = formatNodes.shift();\r\n            formatNodes.forEach(function (node) {\r\n                newNode_1.nodeValue += node.nodeValue;\r\n                node.parentNode.removeChild(node);\r\n            });\r\n            formatNodes = [newNode_1];\r\n        }\r\n        formatNodes.forEach(function (node) {\r\n            return styler(getTagOfNode_1.default(node.parentNode) == 'SPAN'\r\n                ? splitParentNode_1.splitBalancedNodeRange(node)\r\n                : wrap_1.default(node, 'span'));\r\n        });\r\n    }\r\n}\r\nexports.default = applyTextStyle;\r\nfunction splitTextNode(textNode, offset, returnFirstPart) {\r\n    var firstPart = textNode.nodeValue.substr(0, offset);\r\n    var secondPart = textNode.nodeValue.substr(offset);\r\n    var newNode = textNode.ownerDocument.createTextNode(returnFirstPart ? firstPart : secondPart);\r\n    textNode.nodeValue = returnFirstPart ? secondPart : firstPart;\r\n    textNode.parentNode.insertBefore(newNode, returnFirstPart ? textNode : textNode.nextSibling);\r\n    return newNode;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getComputedStyles_1 = require(\"./getComputedStyles\");\r\nvar CRLF = /^[\\r\\n]+$/gm;\r\n/**\r\n * Skip a node when any of following conditions are true\r\n * - it is neither Element nor Text\r\n * - it is a text node but is empty\r\n * - it is a text node but contains just CRLF (noisy text node that often comes in-between elements)\r\n * - has a display:none\r\n */\r\nfunction shouldSkipNode(node) {\r\n    if (node.nodeType == 3 /* Text */) {\r\n        return !node.nodeValue || node.textContent == '' || CRLF.test(node.nodeValue);\r\n    }\r\n    else if (node.nodeType == 1 /* Element */) {\r\n        return getComputedStyles_1.getComputedStyle(node, 'display') == 'none';\r\n    }\r\n    else {\r\n        return true;\r\n    }\r\n}\r\nexports.default = shouldSkipNode;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar findClosestElementAncestor_1 = require(\"./findClosestElementAncestor\");\r\n/**\r\n * Get computed styles of a node\r\n * @param node The node to get computed styles from\r\n * @param styleNames Names of style to get, can be a single name or an array.\r\n * Default value is font-family, font-size, color, background-color\r\n * @returns An array of the computed styles\r\n */\r\nfunction getComputedStyles(node, styleNames) {\r\n    if (styleNames === void 0) { styleNames = ['font-family', 'font-size', 'color', 'background-color']; }\r\n    var element = findClosestElementAncestor_1.default(node);\r\n    var result = [];\r\n    styleNames = styleNames instanceof Array ? styleNames : [styleNames];\r\n    if (element) {\r\n        var win = element.ownerDocument.defaultView || window;\r\n        var styles = win.getComputedStyle(element);\r\n        if (styles) {\r\n            for (var _i = 0, styleNames_1 = styleNames; _i < styleNames_1.length; _i++) {\r\n                var style = styleNames_1[_i];\r\n                var value = (styles.getPropertyValue(style) || '').toLowerCase();\r\n                value = style == 'font-size' ? px2Pt(value) : value;\r\n                result.push(value);\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexports.default = getComputedStyles;\r\n/**\r\n * A shortcut for getComputedStyles() when only one style is to be retrieved\r\n * @param node The node to get style from\r\n * @param styleName The style name\r\n * @returns The style value\r\n */\r\nfunction getComputedStyle(node, styleName) {\r\n    return getComputedStyles(node, styleName)[0] || '';\r\n}\r\nexports.getComputedStyle = getComputedStyle;\r\nfunction px2Pt(px) {\r\n    if (px && px.indexOf('px') == px.length - 2) {\r\n        // Edge may not handle the floating computing well which causes the calculated value is a little less than actual value\r\n        // So add 0.05 to fix it\r\n        return Math.round(parseFloat(px) * 75 + 0.05) / 100 + 'pt';\r\n    }\r\n    return px;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Gets the cached event data by cache key from event object if there is already one.\r\n * Otherwise, call getter function to create one, and cache it.\r\n * @param event The event object\r\n * @param key Cache key string, need to be unique\r\n * @param getter Getter function to get the object when it is not in cache yet\r\n */\r\nfunction cacheGetEventData(event, key, getter) {\r\n    var result = event && event.eventDataCache && event.eventDataCache.hasOwnProperty(key)\r\n        ? event.eventDataCache[key]\r\n        : getter();\r\n    if (event) {\r\n        event.eventDataCache = event.eventDataCache || {};\r\n        event.eventDataCache[key] = result;\r\n    }\r\n    return result;\r\n}\r\nexports.default = cacheGetEventData;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction replaceWithNode(editor, textOrRange, node, exactMatch, searcher) {\r\n    // Make sure the text and node is valid\r\n    if (!textOrRange || !node) {\r\n        return false;\r\n    }\r\n    var range;\r\n    if (typeof textOrRange == 'string') {\r\n        searcher = searcher || editor.getContentSearcherOfCursor();\r\n        range = searcher && searcher.getRangeFromText(textOrRange, exactMatch);\r\n    }\r\n    else {\r\n        range = textOrRange;\r\n    }\r\n    if (range) {\r\n        var backupRange = editor.getSelectionRange();\r\n        range.deleteContents();\r\n        range.insertNode(node);\r\n        if (exactMatch) {\r\n            editor.select(node, -3 /* After */);\r\n        }\r\n        else {\r\n            editor.select(backupRange);\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.default = replaceWithNode;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar TEMP_NODE_CLASS = 'ROOSTERJS_TEMP_NODE_FOR_LIST';\r\nvar TEMP_NODE_HTML = \"<img class=\\\"\" + TEMP_NODE_CLASS + \"\\\">\";\r\n/**\r\n * Browsers don't handle bullet/numbering list well, especially the formats when switching list statue\r\n * So we workaround it by always adding format to list element\r\n */\r\nfunction processList(editor, command) {\r\n    if (roosterjs_editor_dom_1.Browser.isChrome) {\r\n        workaroundForChrome(editor);\r\n    }\r\n    var currentNode = editor.getElementAtCursor();\r\n    var currentFormat = roosterjs_editor_dom_1.getComputedStyles(currentNode);\r\n    var existingList = editor.getElementAtCursor('OL,UL');\r\n    editor.getDocument().execCommand(command, false, null);\r\n    editor.queryElements('.' + TEMP_NODE_CLASS, function (node) { return editor.deleteNode(node); });\r\n    var newList = editor.getElementAtCursor('OL,UL');\r\n    if (newList == existingList) {\r\n        newList = null;\r\n    }\r\n    // If this is in a new number list, need to adjust the format of numbers according to its content\r\n    if (newList && roosterjs_editor_dom_1.getTagOfNode(newList) == 'OL') {\r\n        var LIs = [].slice.call(newList.childNodes).filter(function (node) { return roosterjs_editor_dom_1.getTagOfNode(node) == 'LI'; });\r\n        if (LIs.length == 1 && roosterjs_editor_dom_1.isNodeEmpty(LIs[0], true /*trim*/)) {\r\n            // When there's only one LI child element which has empty content, it means this LI is just created.\r\n            // We just format it with current format\r\n            applyListFormat(LIs[0], currentFormat);\r\n        }\r\n        else {\r\n            // Otherwise, apply the format of first child non-empty element (if any) to LI node\r\n            for (var _i = 0, LIs_1 = LIs; _i < LIs_1.length; _i++) {\r\n                var li = LIs_1[_i];\r\n                var formatNode = roosterjs_editor_dom_1.getFirstLeafNode(li);\r\n                if (formatNode) {\r\n                    applyListFormat(li, roosterjs_editor_dom_1.getComputedStyles(formatNode));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return newList;\r\n}\r\nexports.default = processList;\r\nfunction applyListFormat(node, formats) {\r\n    roosterjs_editor_dom_1.applyFormat(node, {\r\n        fontFamily: formats[0],\r\n        fontSize: formats[1],\r\n        textColor: formats[2],\r\n        backgroundColor: formats[3],\r\n    });\r\n}\r\nfunction workaroundForChrome(editor) {\r\n    var traverser = editor.getSelectionTraverser();\r\n    var block = traverser && traverser.currentBlockElement;\r\n    while (block) {\r\n        var container = block.getStartNode();\r\n        if (container && !roosterjs_editor_dom_1.isNodeEmpty(container)) {\r\n            // Add a temp <IMG> tag before all other nodes in the block to avoid Chrome remove existing format when toggle list\r\n            var tempNode = roosterjs_editor_dom_1.fromHtml(TEMP_NODE_HTML, editor.getDocument())[0];\r\n            if (roosterjs_editor_dom_1.isVoidHtmlElement(container) || !roosterjs_editor_dom_1.isBlockElement(container)) {\r\n                container.parentNode.insertBefore(tempNode, container);\r\n            }\r\n            else {\r\n                container.insertBefore(tempNode, container.firstChild);\r\n            }\r\n        }\r\n        block = traverser.getNextBlockElement();\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar editor;\r\nfunction getCurrentEditor() {\r\n    return editor;\r\n}\r\nexports.default = getCurrentEditor;\r\nfunction setCurrentEditor(newEditor) {\r\n    if (editor) {\r\n        editor.dispose();\r\n    }\r\n    editor = newEditor;\r\n}\r\nexports.setCurrentEditor = setCurrentEditor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar contains_1 = require(\"../utils/contains\");\r\nvar getNextPreviousInlineElement_1 = require(\"../inlineElements/getNextPreviousInlineElement\");\r\nvar isNodeAfter_1 = require(\"../utils/isNodeAfter\");\r\nvar getFirstLastInlineElement_1 = require(\"../inlineElements/getFirstLastInlineElement\");\r\n/**\r\n * This presents a content block that can be reprented by a single html block type element.\r\n * In most cases, it corresponds to an HTML block level element, i.e. P, DIV, LI, TD etc.\r\n */\r\nvar NodeBlockElement = /** @class */ (function () {\r\n    function NodeBlockElement(element) {\r\n        this.element = element;\r\n    }\r\n    /**\r\n     * Collapse this element to a single DOM element.\r\n     * If the content nodes are separated in different root nodes, wrap them to a single node\r\n     * If the content nodes are included in root node with other nodes, split root node\r\n     */\r\n    NodeBlockElement.prototype.collapseToSingleElement = function () {\r\n        return this.element;\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Get the text content in the block\r\n     */\r\n    NodeBlockElement.prototype.getTextContent = function () {\r\n        return this.element.textContent;\r\n    };\r\n    /**\r\n     * Get the start node of the block\r\n     * For NodeBlockElement, start and end essentially refers to same node\r\n     */\r\n    NodeBlockElement.prototype.getStartNode = function () {\r\n        return this.element;\r\n    };\r\n    /**\r\n     * Get the end node of the block\r\n     * For NodeBlockElement, start and end essentially refers to same node\r\n     */\r\n    NodeBlockElement.prototype.getEndNode = function () {\r\n        return this.element;\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Get all nodes represented in a Node array\r\n     */\r\n    NodeBlockElement.prototype.getContentNodes = function () {\r\n        return [this.element];\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Get the first inline element in the block\r\n     */\r\n    NodeBlockElement.prototype.getFirstInlineElement = function () {\r\n        if (!this.firstInline) {\r\n            this.firstInline = getFirstLastInlineElement_1.getFirstInlineElement(this.element);\r\n        }\r\n        return this.firstInline;\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Get the last inline element in the block\r\n     */\r\n    NodeBlockElement.prototype.getLastInlineElement = function () {\r\n        if (!this.lastInline) {\r\n            this.lastInline = getFirstLastInlineElement_1.getLastInlineElement(this.element);\r\n        }\r\n        return this.lastInline;\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Gets all inline in the block\r\n     */\r\n    NodeBlockElement.prototype.getInlineElements = function () {\r\n        var allInlines = [];\r\n        var startInline = this.getFirstInlineElement();\r\n        while (startInline) {\r\n            allInlines.push(startInline);\r\n            startInline = getNextPreviousInlineElement_1.default(this.element, startInline, true /*isNext*/);\r\n        }\r\n        return allInlines;\r\n    };\r\n    /**\r\n     * Checks if it refers to same block\r\n     */\r\n    NodeBlockElement.prototype.equals = function (blockElement) {\r\n        // Ideally there is only one unique way to generate a block so we only need to compare the startNode\r\n        return this.element == blockElement.getStartNode();\r\n    };\r\n    /**\r\n     * Checks if a block is after the current block\r\n     */\r\n    NodeBlockElement.prototype.isAfter = function (blockElement) {\r\n        // if the block's startNode is after current node endEnd, we say it is after\r\n        return isNodeAfter_1.default(this.element, blockElement.getEndNode());\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Checks if an inline element falls within the block\r\n     */\r\n    NodeBlockElement.prototype.isInBlock = function (inlineElement) {\r\n        return this.contains(inlineElement.getContainerNode());\r\n    };\r\n    /**\r\n     * Checks if a certain html node is within the block\r\n     */\r\n    NodeBlockElement.prototype.contains = function (node) {\r\n        return contains_1.default(this.element, node, true /*treatSameNodeAsContain*/);\r\n    };\r\n    return NodeBlockElement;\r\n}());\r\nexports.default = NodeBlockElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar collapseNodes_1 = require(\"../utils/collapseNodes\");\r\nvar contains_1 = require(\"../utils/contains\");\r\nvar createRange_1 = require(\"../selection/createRange\");\r\nvar getInlineElementAtNode_1 = require(\"../inlineElements/getInlineElementAtNode\");\r\nvar getNextPreviousInlineElement_1 = require(\"../inlineElements/getNextPreviousInlineElement\");\r\nvar isBlockElement_1 = require(\"../utils/isBlockElement\");\r\nvar isNodeAfter_1 = require(\"../utils/isNodeAfter\");\r\nvar wrap_1 = require(\"../utils/wrap\");\r\nvar splitParentNode_1 = require(\"../utils/splitParentNode\");\r\n/**\r\n * This reprents a block that is identified by a start and end node\r\n * This is for cases like <root>Hello<BR>World</root>\r\n * in that case, Hello<BR> is a block, World is another block\r\n * Such block cannot be represented by a NodeBlockElement since they don't chained up\r\n * to a single parent node, instead they have a start and end\r\n * This start and end must be in same sibling level and have same parent in DOM tree\r\n */\r\nvar StartEndBlockElement = /** @class */ (function () {\r\n    function StartEndBlockElement(rootNode, startNode, endNode) {\r\n        this.rootNode = rootNode;\r\n        this.startNode = startNode;\r\n        this.endNode = endNode;\r\n    }\r\n    StartEndBlockElement.getBlockContext = function (node) {\r\n        while (node && !isBlockElement_1.default(node)) {\r\n            node = node.parentNode;\r\n        }\r\n        return node;\r\n    };\r\n    /**\r\n     * Collapse this element to a single DOM element.\r\n     * If the content nodes are separated in different root nodes, wrap them to a single node\r\n     * If the content nodes are included in root node with other nodes, split root node\r\n     */\r\n    StartEndBlockElement.prototype.collapseToSingleElement = function () {\r\n        var nodes = collapseNodes_1.default(StartEndBlockElement.getBlockContext(this.startNode), this.startNode, this.endNode, true /*canSplitParent*/);\r\n        var blockContext = StartEndBlockElement.getBlockContext(this.startNode);\r\n        while (nodes[0] && nodes[0] != blockContext && nodes[0].parentNode != this.rootNode) {\r\n            nodes = [splitParentNode_1.splitBalancedNodeRange(nodes)];\r\n        }\r\n        return nodes.length == 1 && isBlockElement_1.default(nodes[0])\r\n            ? nodes[0]\r\n            : wrap_1.default(nodes);\r\n    };\r\n    /**\r\n     * Gets the start node\r\n     */\r\n    StartEndBlockElement.prototype.getStartNode = function () {\r\n        return this.startNode;\r\n    };\r\n    /**\r\n     * Gets the end node\r\n     */\r\n    StartEndBlockElement.prototype.getEndNode = function () {\r\n        return this.endNode;\r\n    };\r\n    /**\r\n     * Checks equals of two blocks\r\n     */\r\n    StartEndBlockElement.prototype.equals = function (blockElement) {\r\n        return (this.startNode == blockElement.getStartNode() &&\r\n            this.endNode == blockElement.getEndNode());\r\n    };\r\n    /**\r\n     * Checks if another block is after this current\r\n     */\r\n    StartEndBlockElement.prototype.isAfter = function (blockElement) {\r\n        return isNodeAfter_1.default(this.getStartNode(), blockElement.getEndNode());\r\n    };\r\n    /**\r\n     * Checks if an Html node is contained within the block\r\n     */\r\n    StartEndBlockElement.prototype.contains = function (node) {\r\n        return (contains_1.default(this.startNode, node, true /*treatSameNodeAsContain*/) ||\r\n            contains_1.default(this.endNode, node, true /*treatSameNodeAsContain*/) ||\r\n            (isNodeAfter_1.default(node, this.startNode) && isNodeAfter_1.default(this.endNode, node)));\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Gets the text content\r\n     */\r\n    StartEndBlockElement.prototype.getTextContent = function () {\r\n        var range = createRange_1.default(this.startNode, this.endNode);\r\n        return range.toString();\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Get all nodes represented in a Node array\r\n     * This only works for balanced node -- start and end is at same level\r\n     */\r\n    StartEndBlockElement.prototype.getContentNodes = function () {\r\n        return collapseNodes_1.default(StartEndBlockElement.getBlockContext(this.startNode), this.startNode, this.endNode, true /*canSplitParent*/);\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Gets first inline\r\n     */\r\n    StartEndBlockElement.prototype.getFirstInlineElement = function () {\r\n        if (!this.firstInline) {\r\n            this.firstInline = getInlineElementAtNode_1.default(this.rootNode, this.startNode);\r\n        }\r\n        return this.firstInline;\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Gets last inline\r\n     */\r\n    StartEndBlockElement.prototype.getLastInlineElement = function () {\r\n        if (!this.lastInline) {\r\n            this.lastInline = getInlineElementAtNode_1.default(this.rootNode, this.endNode);\r\n        }\r\n        return this.lastInline;\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Gets all inline in the block\r\n     */\r\n    StartEndBlockElement.prototype.getInlineElements = function () {\r\n        var allInlines = [];\r\n        var startInline = this.getFirstInlineElement();\r\n        while (startInline) {\r\n            allInlines.push(startInline);\r\n            startInline = getNextPreviousInlineElement_1.default(this.rootNode, startInline, true /*isNext*/);\r\n        }\r\n        return allInlines;\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Checks if an inline falls inside me\r\n     */\r\n    StartEndBlockElement.prototype.isInBlock = function (inlineElement) {\r\n        return this.contains(inlineElement.getContainerNode());\r\n    };\r\n    return StartEndBlockElement;\r\n}());\r\nexports.default = StartEndBlockElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getTagOfNode_1 = require(\"./getTagOfNode\");\r\n/**\r\n * HTML void elements\r\n * Per https://www.w3.org/TR/html/syntax.html#syntax-elements, cannot have child nodes\r\n * This regex is used when we move focus to very begin of editor. We should avoid putting focus inside\r\n * void elements so users don't accidently create child nodes in them\r\n */\r\nvar HTML_VOID_ELEMENTS = 'AREA,BASE,BR,COL,COMMAND,EMBED,HR,IMG,INPUT,KEYGEN,LINK,META,PARAM,SOURCE,TRACK,WBR'.split(',');\r\n/**\r\n * Check if the given node is html void element. Void element cannot have childen\r\n * @param node The node to check\r\n */\r\nfunction isVoidHtmlElement(node) {\r\n    return !!node && HTML_VOID_ELEMENTS.indexOf(getTagOfNode_1.default(node)) >= 0;\r\n}\r\nexports.default = isVoidHtmlElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Creates an HTML node array from html\r\n * @param html the html string to create HTML elements from\r\n * @param ownerDocument Owner document of the result HTML elements\r\n * @returns An HTML node array to represent the given html string\r\n */\r\nfunction fromHtml(html, ownerDocument) {\r\n    var element = ownerDocument.createElement('DIV');\r\n    element.innerHTML = html;\r\n    return [].slice.call(element.childNodes);\r\n}\r\nexports.default = fromHtml;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar NodeInlineElement_1 = require(\"./NodeInlineElement\");\r\n/**\r\n * This is an inline element representing an Html image\r\n */\r\nvar ImageInlineElement = /** @class */ (function (_super) {\r\n    __extends(ImageInlineElement, _super);\r\n    function ImageInlineElement(containerNode, parentBlock) {\r\n        return _super.call(this, containerNode, parentBlock) || this;\r\n    }\r\n    return ImageInlineElement;\r\n}(NodeInlineElement_1.default));\r\nexports.default = ImageInlineElement;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar NodeInlineElement_1 = require(\"./NodeInlineElement\");\r\n/**\r\n * This is inline element presenting an html hyperlink\r\n */\r\nvar LinkInlineElement = /** @class */ (function (_super) {\r\n    __extends(LinkInlineElement, _super);\r\n    function LinkInlineElement(containerNode, parentBlock) {\r\n        return _super.call(this, containerNode, parentBlock) || this;\r\n    }\r\n    return LinkInlineElement;\r\n}(NodeInlineElement_1.default));\r\nexports.default = LinkInlineElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getLeafNode_1 = require(\"../utils/getLeafNode\");\r\nvar getInlineElementAtNode_1 = require(\"./getInlineElementAtNode\");\r\n/**\r\n * Get the first inline element inside the given node\r\n */\r\nfunction getFirstInlineElement(rootNode) {\r\n    // getFirstLeafNode can return null for empty container\r\n    // do check null before passing on to get inline from the node\r\n    var node = getLeafNode_1.getFirstLeafNode(rootNode);\r\n    return node ? getInlineElementAtNode_1.default(rootNode, node) : null;\r\n}\r\nexports.getFirstInlineElement = getFirstInlineElement;\r\n/**\r\n * Get the last inline element inside the given node\r\n */\r\nfunction getLastInlineElement(rootNode) {\r\n    // getLastLeafNode can return null for empty container\r\n    // do check null before passing on to get inline from the node\r\n    var node = getLeafNode_1.getLastLeafNode(rootNode);\r\n    return node ? getInlineElementAtNode_1.default(rootNode, node) : null;\r\n}\r\nexports.getLastInlineElement = getLastInlineElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar shouldSkipNode_1 = require(\"./shouldSkipNode\");\r\nvar getLeafSibling_1 = require(\"./getLeafSibling\");\r\n/**\r\n * Get first/last leaf node of the given root node.\r\n * @param rootNode Root node to get leaf node from\r\n * @param isFirst True to get first leaf node, false to get last leaf node\r\n */\r\nfunction getLeafNode(rootNode, isFirst) {\r\n    var getChild = function (node) { return (isFirst ? node.firstChild : node.lastChild); };\r\n    var result = getChild(rootNode);\r\n    while (result && getChild(result)) {\r\n        result = getChild(result);\r\n    }\r\n    if (result && shouldSkipNode_1.default(result)) {\r\n        result = getLeafSibling_1.getLeafSibling(rootNode, result, isFirst);\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Get the first meaningful leaf node\r\n * @param rootNode Root node to get leaf node from\r\n */\r\nfunction getFirstLeafNode(rootNode) {\r\n    return getLeafNode(rootNode, true /*isFirst*/);\r\n}\r\nexports.getFirstLeafNode = getFirstLeafNode;\r\n/**\r\n * Get the last meaningful leaf node\r\n * @param rootNode Root node to get leaf node from\r\n */\r\nfunction getLastLeafNode(rootNode) {\r\n    return getLeafNode(rootNode, false /*isFirst*/);\r\n}\r\nexports.getLastLeafNode = getLastLeafNode;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getBlockElementAtNode_1 = require(\"./getBlockElementAtNode\");\r\n/**\r\n * Get the first/last BlockElement of under the root node.\r\n * If no suitable BlockElement found, returns null\r\n * @param rootNode The root node to get BlockElement from\r\n * @param isFirst True to get first BlockElement, false to get last BlockElement\r\n */\r\nfunction getFirstLastBlockElement(rootNode, isFirst) {\r\n    var node = rootNode;\r\n    do {\r\n        node = node && (isFirst ? node.firstChild : node.lastChild);\r\n    } while (node && node.firstChild);\r\n    return node && getBlockElementAtNode_1.default(rootNode, node);\r\n}\r\nexports.getFirstLastBlockElement = getFirstLastBlockElement;\r\n/**\r\n * Get the first BlockElement of under the root node.\r\n * If no suitable BlockElement found, returns null\r\n * @param rootNode The root node to get BlockElement from\r\n */\r\nfunction getFirstBlockElement(rootNode) {\r\n    return getFirstLastBlockElement(rootNode, true /*isFirst*/);\r\n}\r\nexports.getFirstBlockElement = getFirstBlockElement;\r\n/**\r\n * Get the last BlockElement of under the root node.\r\n * If no suitable BlockElement found, returns null\r\n * @param rootNode The root node to get BlockElement from\r\n */\r\nfunction getLastBlockElement(rootNode) {\r\n    return getFirstLastBlockElement(rootNode, false /*isFirst*/);\r\n}\r\nexports.getLastBlockElement = getLastBlockElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BodyScoper_1 = require(\"./BodyScoper\");\r\nvar EmptyInlineElement_1 = require(\"../inlineElements/EmptyInlineElement\");\r\nvar getBlockElementAtNode_1 = require(\"../blockElements/getBlockElementAtNode\");\r\nvar getNextPreviousInlineElement_1 = require(\"../inlineElements/getNextPreviousInlineElement\");\r\nvar SelectionBlockScoper_1 = require(\"./SelectionBlockScoper\");\r\nvar SelectionScoper_1 = require(\"./SelectionScoper\");\r\nvar getInlineElementBeforeAfter_1 = require(\"../inlineElements/getInlineElementBeforeAfter\");\r\nvar getLeafSibling_1 = require(\"../utils/getLeafSibling\");\r\n/**\r\n * The provides traversing of content inside editor.\r\n * There are two ways to traverse, block by block, or inline element by inline element\r\n * Block and inline traversing is independent from each other, meanning if you traverse block by block, it does not change\r\n * the current inline element position\r\n */\r\nvar ContentTraverser = /** @class */ (function () {\r\n    /**\r\n     * Create a content traverser for the whole body of given root node\r\n     * @param scoper Traversing scoper object to help scope the traversing\r\n     */\r\n    function ContentTraverser(scoper) {\r\n        this.scoper = scoper;\r\n    }\r\n    /**\r\n     * Create a content traverser for the whole body of given root node\r\n     * @param rootNode The root node to traverse in\r\n     */\r\n    ContentTraverser.createBodyTraverser = function (rootNode) {\r\n        return new ContentTraverser(new BodyScoper_1.default(rootNode));\r\n    };\r\n    /**\r\n     * Create a content traverser for the given selection\r\n     * @param rootNode The root node to traverse in\r\n     * @param range The selection range to scope the traversing\r\n     */\r\n    ContentTraverser.createSelectionTraverser = function (rootNode, range) {\r\n        return new ContentTraverser(new SelectionScoper_1.default(rootNode, range));\r\n    };\r\n    /**\r\n     * Create a content traverser for a block element which contains the given position\r\n     * @param rootNode The root node to traverse in\r\n     * @param position A position inside a block, traversing will be scoped within this block.\r\n     * If passing a range, the start position of this range will be used\r\n     * @param startFrom Start position of traversing. The value can be Begin, End, SelectionStart\r\n     */\r\n    ContentTraverser.createBlockTraverser = function (rootNode, position, start) {\r\n        if (start === void 0) { start = 2 /* SelectionStart */; }\r\n        return new ContentTraverser(new SelectionBlockScoper_1.default(rootNode, position, start));\r\n    };\r\n    Object.defineProperty(ContentTraverser.prototype, \"currentBlockElement\", {\r\n        /**\r\n         * Get current block\r\n         */\r\n        get: function () {\r\n            // Prepare currentBlock from the scoper\r\n            if (!this.currentBlock) {\r\n                this.currentBlock = this.scoper.getStartBlockElement();\r\n            }\r\n            return this.currentBlock;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Get next block element\r\n     */\r\n    ContentTraverser.prototype.getNextBlockElement = function () {\r\n        return this.getPreviousNextBlockElement(true /*isNext*/);\r\n    };\r\n    /**\r\n     * Get previous block element\r\n     */\r\n    ContentTraverser.prototype.getPreviousBlockElement = function () {\r\n        return this.getPreviousNextBlockElement(false /*isNext*/);\r\n    };\r\n    ContentTraverser.prototype.getPreviousNextBlockElement = function (isNext) {\r\n        var current = this.currentBlockElement;\r\n        var leaf = getLeafSibling_1.getLeafSibling(this.scoper.rootNode, isNext ? current.getEndNode() : current.getStartNode(), isNext);\r\n        var newBlock = leaf ? getBlockElementAtNode_1.default(this.scoper.rootNode, leaf) : null;\r\n        // Make sure this is right block:\r\n        // 1) the block is in scope per scoper\r\n        // 2) the block is after (for next) or before (for previous) the current block\r\n        // Then:\r\n        // 1) Re-position current block to newly found block\r\n        if (newBlock &&\r\n            this.scoper.isBlockInScope(newBlock) &&\r\n            ((isNext && newBlock.isAfter(current)) || (!isNext && current.isAfter(newBlock)))) {\r\n            this.currentBlock = newBlock;\r\n            return this.currentBlock;\r\n        }\r\n        return null;\r\n    };\r\n    Object.defineProperty(ContentTraverser.prototype, \"currentInlineElement\", {\r\n        /**\r\n         * Current inline element getter\r\n         */\r\n        get: function () {\r\n            // Retrieve a start inline from scoper\r\n            if (!this.currentInline) {\r\n                this.currentInline = this.scoper.getStartInlineElement();\r\n            }\r\n            return this.currentInline instanceof EmptyInlineElement_1.default ? null : this.currentInline;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Get next inline element\r\n     */\r\n    ContentTraverser.prototype.getNextInlineElement = function () {\r\n        return this.getPreviousNextInlineElement(true /*isNext*/);\r\n    };\r\n    /**\r\n     * Get previous inline element\r\n     */\r\n    ContentTraverser.prototype.getPreviousInlineElement = function () {\r\n        return this.getPreviousNextInlineElement(false /*isNext*/);\r\n    };\r\n    ContentTraverser.prototype.getPreviousNextInlineElement = function (isNext) {\r\n        var current = this.currentInlineElement || this.currentInline;\r\n        var newInline;\r\n        if (current instanceof EmptyInlineElement_1.default) {\r\n            newInline = getInlineElementBeforeAfter_1.getInlineElementBeforeAfter(this.scoper.rootNode, current.getStartPosition(), isNext);\r\n            if (newInline && !current.getParentBlock().isInBlock(newInline)) {\r\n                newInline = null;\r\n            }\r\n        }\r\n        else {\r\n            newInline = getNextPreviousInlineElement_1.default(this.scoper.rootNode, current, isNext);\r\n            newInline =\r\n                newInline &&\r\n                    current &&\r\n                    ((isNext && newInline.isAfter(current)) || (!isNext && current.isAfter(newInline)))\r\n                    ? newInline\r\n                    : null;\r\n        }\r\n        // For inline, we need to make sure:\r\n        // 1) it is really next/previous to current\r\n        // 2) pass on the new inline to this.scoper to do the triming and we still get back an inline\r\n        // Then\r\n        // 1) re-position current inline\r\n        if (newInline && (newInline = this.scoper.trimInlineElement(newInline))) {\r\n            this.currentInline = newInline;\r\n            return this.currentInline;\r\n        }\r\n        return null;\r\n    };\r\n    return ContentTraverser;\r\n}());\r\nexports.default = ContentTraverser;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar positionUtils_1 = require(\"../deprecated/positionUtils\");\r\n/**\r\n * Represents an empty InlineElement.\r\n * This is used for ContentTraverser internally only.\r\n * An empty InlineElement means current position is at the end of a tag so nothing is included inside this element\r\n */\r\nvar EmptyInlineElement = /** @class */ (function () {\r\n    function EmptyInlineElement(position, parentBlock) {\r\n        this.position = position;\r\n        this.parentBlock = parentBlock;\r\n    }\r\n    /**\r\n     * Get the text content of this inline element\r\n     */\r\n    EmptyInlineElement.prototype.getTextContent = function () {\r\n        return '';\r\n    };\r\n    /**\r\n     * Get the container node of this inline element\r\n     */\r\n    EmptyInlineElement.prototype.getContainerNode = function () {\r\n        return this.position.node;\r\n    };\r\n    /**\r\n     * Get the parent block element of this inline element\r\n     */\r\n    EmptyInlineElement.prototype.getParentBlock = function () {\r\n        return this.parentBlock;\r\n    };\r\n    /**\r\n     * Get the start position of this inline element\r\n     */\r\n    EmptyInlineElement.prototype.getStartPosition = function () {\r\n        return this.position;\r\n    };\r\n    /**\r\n     * Get the end position of this inline element\r\n     */\r\n    EmptyInlineElement.prototype.getEndPosition = function () {\r\n        return this.position;\r\n    };\r\n    /**\r\n     * Checks if the given inline element is after this inline element\r\n     */\r\n    EmptyInlineElement.prototype.isAfter = function (inlineElement) {\r\n        return inlineElement && this.position.isAfter(inlineElement.getEndPosition());\r\n    };\r\n    /**\r\n     * Checks if this inline element is a textual inline element\r\n     */\r\n    EmptyInlineElement.prototype.isTextualInlineElement = function () {\r\n        return false;\r\n    };\r\n    /**\r\n     * Checks if the given editor position is contained in this inline element\r\n     */\r\n    EmptyInlineElement.prototype.contains = function (position) {\r\n        return false;\r\n    };\r\n    /**\r\n     * Apply inline style to a region of an inline element.\r\n     */\r\n    EmptyInlineElement.prototype.applyStyle = function (styler) { };\r\n    /**\r\n     * @deprecated\r\n     * Get the start position of this inline element\r\n     */\r\n    EmptyInlineElement.prototype.getStartPoint = function () {\r\n        return positionUtils_1.toEditorPoint(this.position);\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Get the end position of this inline element\r\n     */\r\n    EmptyInlineElement.prototype.getEndPoint = function () {\r\n        return positionUtils_1.toEditorPoint(this.position);\r\n    };\r\n    return EmptyInlineElement;\r\n}());\r\nexports.default = EmptyInlineElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// White space matching regex. It matches following chars:\r\n// \\s: white space\r\n// \\u00A0: no-breaking white space\r\n// \\u200B: zero width space\r\n// \\u3000: full width space (which can come from JPN IME)\r\nvar WHITESPACE_REGEX = /[\\s\\u00A0\\u200B\\u3000]+([^\\s\\u00A0\\u200B\\u3000]*)$/i;\r\nfunction matchWhiteSpaces(source) {\r\n    return WHITESPACE_REGEX.exec(source);\r\n}\r\nexports.default = matchWhiteSpaces;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getTagOfNode_1 = require(\"./getTagOfNode\");\r\nvar VISIBLE_ELEMENT_TAGS = ['IMG'];\r\nvar VISIBLE_CHILD_ELEMENT_SELECTOR = ['TABLE', 'IMG', 'LI'].join(',');\r\nvar ZERO_WIDTH_SPACE = /\\u200b/g;\r\n/**\r\n * Check if a given node has no visible content\r\n * @param node The node to check\r\n * @param trimContent Whether trim the text content so that spaces will be treated as empty.\r\n * Default value is false\r\n * @returns True if there isn't any visible element inside node, otherwise false\r\n */\r\nfunction isNodeEmpty(node, trimContent) {\r\n    if (!node) {\r\n        return false;\r\n    }\r\n    else if (node.nodeType == 3 /* Text */) {\r\n        return trim(node.nodeValue, trimContent) == '';\r\n    }\r\n    else if (node.nodeType == 1 /* Element */) {\r\n        var element = node;\r\n        var textContent = trim(element.textContent, trimContent);\r\n        if (textContent != '' ||\r\n            VISIBLE_ELEMENT_TAGS.indexOf(getTagOfNode_1.default(element)) >= 0 ||\r\n            element.querySelectorAll(VISIBLE_CHILD_ELEMENT_SELECTOR)[0]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nexports.default = isNodeEmpty;\r\nfunction trim(s, trim) {\r\n    s = s.replace(ZERO_WIDTH_SPACE, '');\r\n    return trim ? s.trim() : s;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Query HTML elements in the container by a selector string\r\n * @param container Container element to query from\r\n * @param selector Selector string to query\r\n * @param forEachCallback An optional callback to be invoked on each node in query result\r\n * @param scope The scope of the query, default value is QueryScope.Body\r\n * @param range The selection range to query with. This is required when scope is not Body\r\n * @returns HTML Element array of the query result\r\n */\r\nfunction queryElements(container, selector, forEachCallback, scope, range) {\r\n    if (scope === void 0) { scope = 0 /* Body */; }\r\n    if (!container || !selector) {\r\n        return [];\r\n    }\r\n    var elements = [].slice.call(container.querySelectorAll(selector));\r\n    if (scope != 0 /* Body */ && range) {\r\n        elements = elements.filter(function (element) {\r\n            return isIntersectWithNodeRange(element, range, scope == 2 /* InSelection */);\r\n        });\r\n    }\r\n    if (forEachCallback) {\r\n        elements.forEach(forEachCallback);\r\n    }\r\n    return elements;\r\n}\r\nexports.default = queryElements;\r\nfunction isIntersectWithNodeRange(node, range, nodeContainedByRangeOnly) {\r\n    var startPosition = node.compareDocumentPosition(range.startContainer);\r\n    var endPosition = node.compareDocumentPosition(range.endContainer);\r\n    var targetPositions = [0 /* Same */, 8 /* Contains */];\r\n    if (!nodeContainedByRangeOnly) {\r\n        targetPositions.push(16 /* ContainedBy */);\r\n    }\r\n    return (checkPosition(startPosition, targetPositions) || // intersectStart\r\n        checkPosition(endPosition, targetPositions) || // intersectEnd\r\n        (checkPosition(startPosition, [2 /* Preceding */]) && // Contains\r\n            checkPosition(endPosition, [4 /* Following */]) &&\r\n            !checkPosition(endPosition, [16 /* ContainedBy */])));\r\n}\r\nfunction checkPosition(position, targets) {\r\n    return targets.some(function (target) {\r\n        return target == 0 /* Same */\r\n            ? position == 0 /* Same */\r\n            : (position & target) == target;\r\n    });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction nativeClone(source, existingObj) {\r\n    return Object.assign(existingObj || {}, source);\r\n}\r\nfunction customClone(source, existingObj) {\r\n    var result = existingObj || {};\r\n    if (source) {\r\n        for (var _i = 0, _a = Object.keys(source); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            result[key] = source[key];\r\n        }\r\n    }\r\n    return result;\r\n}\r\nvar cloneObject = Object.assign ? nativeClone : customClone;\r\nexports.default = cloneObject;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Inheritable CSS properties\r\n// Ref: https://www.w3.org/TR/CSS21/propidx.html\r\nvar INHERITABLE_PROPERTIES = ('border-collapse,border-spacing,caption-side,color,' +\r\n    'cursor,direction,empty-cells,font-family,font-size,font-style,font-variant,font-weight,' +\r\n    'font,letter-spacing,line-height,list-style-image,list-style-position,list-style-type,' +\r\n    'list-style,orphans,quotes,text-align,text-indent,text-transform,visibility,white-space,' +\r\n    'widows,word-spacing').split(',');\r\n/**\r\n * Get inheritable CSS style values from the given element\r\n * @param element The element to get style from\r\n */\r\nfunction getInheritableStyles(element) {\r\n    var win = element && element.ownerDocument && element.ownerDocument.defaultView;\r\n    var styles = win && win.getComputedStyle(element);\r\n    var result = {};\r\n    INHERITABLE_PROPERTIES.forEach(function (name) { return (result[name] = (styles && styles.getPropertyValue(name)) || ''); });\r\n    return result;\r\n}\r\nexports.default = getInheritableStyles;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar START_FRAGMENT = '<!--StartFragment-->';\r\nvar END_FRAGMENT = '<!--EndFragment-->';\r\n/**\r\n * Build DOM tree from the given HTML string\r\n * @param html Source HTML string\r\n * @param preserveFragmentOnly If there is fragment markup (<!--StartFragment--> and <!--EndFragment-->),\r\n * only preserve content between these markups\r\n * @param fragmentHandler An optional callback to do customized fragment handling\r\n */\r\nfunction htmlToDom(html, preserveFragmentOnly, fragmentHandler) {\r\n    var parser = new DOMParser();\r\n    var doc = parser.parseFromString(html || '', 'text/html');\r\n    if (doc && doc.body && doc.body.firstChild) {\r\n        // 1. Filter out html code outside of Fragment tags if need\r\n        if (preserveFragmentOnly) {\r\n            (fragmentHandler || defaultFragmentTrimmer)(doc, html);\r\n        }\r\n        return doc;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nexports.default = htmlToDom;\r\nfunction defaultFragmentTrimmer(doc, sourceHtml) {\r\n    var html = splitWithFragment(sourceHtml)[0];\r\n    doc.body.innerHTML = html;\r\n}\r\n/**\r\n * Split the HTML string using its fragment info\r\n * @param html Source html string\r\n * @returns [String within fragment, String before fragment, String after fragment]\r\n */\r\nfunction splitWithFragment(html) {\r\n    var startIndex = html.indexOf(START_FRAGMENT);\r\n    var endIndex = html.lastIndexOf(END_FRAGMENT);\r\n    if (startIndex >= 0 && endIndex >= 0 && endIndex >= startIndex + START_FRAGMENT.length) {\r\n        var before = html.substr(0, startIndex);\r\n        var after = html.substr(endIndex + END_FRAGMENT.length);\r\n        html = html.substring(startIndex + START_FRAGMENT.length, endIndex);\r\n        return [html, before, after];\r\n    }\r\n    else {\r\n        return [html, null, null];\r\n    }\r\n}\r\nexports.splitWithFragment = splitWithFragment;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar applyInlineStyle_1 = require(\"../utils/applyInlineStyle\");\r\n/**\r\n * Set background color at current selection\r\n * @param editor The editor instance\r\n * @param color The color string, can be any of the predefined color names (e.g, 'red')\r\n * or hexadecimal color string (e.g, '#FF0000') or rgb value (e.g, 'rgb(255, 0, 0)') supported by browser.\r\n * Currently there's no validation to the string, if the passed string is invalid, it won't take affect\r\n */\r\nfunction setBackgroundColor(editor, color) {\r\n    color = color.trim();\r\n    applyInlineStyle_1.default(editor, function (element) { return (element.style.backgroundColor = color); });\r\n}\r\nexports.default = setBackgroundColor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar applyInlineStyle_1 = require(\"../utils/applyInlineStyle\");\r\n/**\r\n * Set font name at selection\r\n * @param editor The editor instance\r\n * @param fontName The fontName string, should be a valid CSS font-family style.\r\n * Currently there's no validation to the string, if the passed string is invalid, it won't take affect\r\n */\r\nfunction setFontName(editor, fontName) {\r\n    fontName = fontName.trim();\r\n    // The browser provided execCommand creates a HTML <font> tag with face attribute. <font> is not HTML5 standard\r\n    // (http://www.w3schools.com/tags/tag_font.asp). Use applyInlineStyle which gives flexibility on applying inline style\r\n    // for here, we use CSS font-family style\r\n    applyInlineStyle_1.default(editor, function (element) { return (element.style.fontFamily = fontName); });\r\n}\r\nexports.default = setFontName;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar applyInlineStyle_1 = require(\"../utils/applyInlineStyle\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\n/**\r\n * Set font size at selection\r\n * @param editor The editor instance\r\n * @param fontSize The fontSize string, should be a valid CSS font-size style.\r\n * Currently there's no validation to the string, if the passed string is invalid, it won't take affect\r\n */\r\nfunction setFontSize(editor, fontSize) {\r\n    fontSize = fontSize.trim();\r\n    // The browser provided execCommand only accepts 1-7 point value. In addition, it uses HTML <font> tag with size attribute.\r\n    // <font> is not HTML5 standard (http://www.w3schools.com/tags/tag_font.asp). Use applyInlineStyle which gives flexibility on applying inline style\r\n    // for here, we use CSS font-size style\r\n    applyInlineStyle_1.default(editor, function (element) {\r\n        element.style.fontSize = fontSize;\r\n        var lineHeight = roosterjs_editor_dom_1.getComputedStyle(element, 'line-height');\r\n        if (lineHeight != 'normal') {\r\n            element.style.lineHeight = 'normal';\r\n        }\r\n    });\r\n}\r\nexports.default = setFontSize;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar applyInlineStyle_1 = require(\"../utils/applyInlineStyle\");\r\n/**\r\n * Set text color at selection\r\n * @param editor The editor instance\r\n * @param color The color string, can be any of the predefined color names (e.g, 'red')\r\n * or hexadecimal color string (e.g, '#FF0000') or rgb value (e.g, 'rgb(255, 0, 0)') supported by browser.\r\n * Currently there's no validation to the string, if the passed string is invalid, it won't take affect\r\n */\r\nfunction setTextColor(editor, color) {\r\n    color = color.trim();\r\n    applyInlineStyle_1.default(editor, function (element) { return (element.style.color = color); });\r\n}\r\nexports.default = setTextColor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar execCommand_1 = require(\"../utils/execCommand\");\r\n/**\r\n * Toggle bold at selection\r\n * If selection is collapsed, it will only affect the following input after caret\r\n * If selection contains only bold text, the bold style will be removed\r\n * If selection contains only normal text, bold style will be added to the whole selected text\r\n * If selection contains both bold and normal text, bold stle will be added to the whole selected text\r\n * @param editor The editor instance\r\n */\r\nfunction toggleBold(editor) {\r\n    execCommand_1.default(editor, \"bold\" /* Bold */);\r\n}\r\nexports.default = toggleBold;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar execCommand_1 = require(\"../utils/execCommand\");\r\n/**\r\n * Toggle italic at selection\r\n * If selection is collapsed, it will only affect the input after caret\r\n * If selection contains only italic text, the italic style will be removed\r\n * If selection contains only normal text, italic style will be added to the whole selected text\r\n * If selection contains both italic and normal text, italic stlye will be added to the whole selected text\r\n * @param editor The editor instance\r\n */\r\nfunction toggleItalic(editor) {\r\n    execCommand_1.default(editor, \"italic\" /* Italic */);\r\n}\r\nexports.default = toggleItalic;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar execCommand_1 = require(\"../utils/execCommand\");\r\n/**\r\n * Toggle underline at selection\r\n * If selection is collapsed, it will only affect the input after caret\r\n * If selection contains only underlined text, the underline style will be removed\r\n * If selection contains only normal text, underline style will be added to the whole selected text\r\n * If selection contains both underlined and normal text, the underline style will be added to the whole selected text\r\n * @param editor The editor instance\r\n */\r\nfunction toggleUnderline(editor) {\r\n    execCommand_1.default(editor, \"underline\" /* Underline */);\r\n}\r\nexports.default = toggleUnderline;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar KEY_BACKSPACE = 8;\r\n/**\r\n * Provides core editing feature for editor:\r\n * 1. AutoComplete\r\n * 2. Ensure typing under HTMLElement\r\n * 3. IME state\r\n */\r\nvar CorePlugin = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of Core plugin\r\n     * @param contentDiv The DIV HTML element which will be the container element of editor\r\n     * @param disableRestoreSelectionOnFocus Whether auto restore previous selection when focus to editor\r\n     */\r\n    function CorePlugin(contentDiv, disableRestoreSelectionOnFocus) {\r\n        var _this = this;\r\n        this.contentDiv = contentDiv;\r\n        this.disableRestoreSelectionOnFocus = disableRestoreSelectionOnFocus;\r\n        this.name = 'CorePlugin';\r\n        this.disposers = null;\r\n        this.onMouseDown = function () {\r\n            if (_this.editor && !_this.mouseUpEventListerAdded) {\r\n                _this.editor.getDocument().addEventListener('mouseup', _this.onMouseUp, true);\r\n                _this.mouseUpEventListerAdded = true;\r\n            }\r\n        };\r\n        this.onMouseUp = function (event) {\r\n            if (_this.editor) {\r\n                _this.removeMouseUpEventListener();\r\n                _this.editor.triggerEvent({\r\n                    eventType: 5 /* MouseUp */,\r\n                    rawEvent: event,\r\n                });\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * Initialize this plugin. This should only be called from Editor\r\n     * @param editor Editor instance\r\n     */\r\n    CorePlugin.prototype.initialize = function (editor) {\r\n        var _this = this;\r\n        this.editor = editor;\r\n        this.disposers = [\r\n            this.editor.addDomEventHandler('compositionstart', function () { return (_this.inIME = true); }),\r\n            this.editor.addDomEventHandler('compositionend', function (event) {\r\n                _this.inIME = false;\r\n                _this.editor.triggerEvent({\r\n                    eventType: 3 /* CompositionEnd */,\r\n                    rawEvent: event,\r\n                });\r\n            }),\r\n            this.editor.addDomEventHandler(roosterjs_editor_dom_1.Browser.isIEOrEdge ? 'beforedeactivate' : 'blur', function () {\r\n                return _this.editor.saveSelectionRange();\r\n            }),\r\n            this.editor.addDomEventHandler('mousedown', this.onMouseDown),\r\n            this.disableRestoreSelectionOnFocus\r\n                ? null\r\n                : this.editor.addDomEventHandler('focus', function () { return _this.editor.restoreSavedRange(); }),\r\n        ];\r\n    };\r\n    /**\r\n     * Dispose this plugin\r\n     */\r\n    CorePlugin.prototype.dispose = function () {\r\n        this.removeMouseUpEventListener();\r\n        if (this.disposers) {\r\n            this.disposers.forEach(function (disposer) { return disposer && disposer(); });\r\n            this.disposers = null;\r\n        }\r\n        this.editor = null;\r\n    };\r\n    /**\r\n     * Check if editor is in IME input sequence\r\n     * @returns True if editor is in IME input sequence, otherwise false\r\n     */\r\n    CorePlugin.prototype.isInIME = function () {\r\n        return this.inIME;\r\n    };\r\n    /**\r\n     * Perform an auto complete action in the callback, save a snapsnot of content before the action,\r\n     * and trigger ContentChangedEvent with the change source if specified\r\n     * @param callback The auto complete callback, return value will be used as data field of ContentChangedEvent\r\n     * @param changeSource Chagne source of ContentChangedEvent. If not passed, no ContentChangedEvent will be  triggered\r\n     */\r\n    CorePlugin.prototype.performAutoComplete = function (callback, changeSource) {\r\n        var _this = this;\r\n        this.editor.addUndoSnapshot(function (start, end, snapshot) {\r\n            var data = callback();\r\n            _this.autoCompleteInfo = {\r\n                snapshot: snapshot,\r\n                changeSource: changeSource,\r\n            };\r\n            return data;\r\n        }, changeSource);\r\n    };\r\n    /**\r\n     * Ensure we are typing in an HTML Element inside editor, and apply default format if current block is empty\r\n     * @param node Current node\r\n     * @returns A new position to select\r\n     */\r\n    CorePlugin.prototype.ensureTypeInElement = function (position) {\r\n        position = position.normalize();\r\n        var block = roosterjs_editor_dom_1.getBlockElementAtNode(this.contentDiv, position.node);\r\n        var formatNode;\r\n        if (!block) {\r\n            // Only reason we don't get the selection block is that we have an empty content div\r\n            // which can happen when users removes everything (i.e. select all and DEL, or backspace from very end to begin)\r\n            // The fix is to add a DIV wrapping, apply default format and move cursor over\r\n            var document_1 = this.editor.getDocument();\r\n            formatNode = roosterjs_editor_dom_1.fromHtml(roosterjs_editor_dom_1.Browser.isEdge ? '<div><span><br></span></div>' : '<div><br></div>', document_1)[0];\r\n            this.contentDiv.appendChild(formatNode);\r\n            // element points to a wrapping node we added \"<div><br></div>\". We should move the selection left to <br>\r\n            position = new roosterjs_editor_dom_1.Position(formatNode.firstChild, 0 /* Begin */);\r\n        }\r\n        else {\r\n            formatNode = block.collapseToSingleElement();\r\n            // if the block is empty, apply default format\r\n            // Otherwise, leave it as it is as we don't want to change the style for existing data\r\n            formatNode = formatNode && roosterjs_editor_dom_1.isNodeEmpty(formatNode) ? formatNode : null;\r\n        }\r\n        if (formatNode) {\r\n            roosterjs_editor_dom_1.applyFormat(formatNode, this.editor.getDefaultFormat());\r\n        }\r\n        return position;\r\n    };\r\n    /**\r\n     * Handle events triggered from editor\r\n     * @param event PluginEvent object\r\n     */\r\n    CorePlugin.prototype.onPluginEvent = function (event) {\r\n        switch (event.eventType) {\r\n            case 6 /* ContentChanged */:\r\n                if (this.autoCompleteInfo && this.autoCompleteInfo.changeSource != event.source) {\r\n                    this.onContentChanged();\r\n                }\r\n                break;\r\n            case 4 /* MouseDown */:\r\n                this.onContentChanged();\r\n                break;\r\n            case 0 /* KeyDown */:\r\n                this.onContentChanged(event.rawEvent);\r\n                break;\r\n            case 1 /* KeyPress */:\r\n                this.onKeyPress();\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Check if the plugin should handle the given event exclusively.\r\n     * Handle an event exclusively means other plugin will not receive this event in\r\n     * onPluginEvent method.\r\n     * If two plugins will return true in willHandleEventExclusively() for the same event,\r\n     * the final result depends on the order of the plugins are added into editor\r\n     * @param event The event to check\r\n     */\r\n    CorePlugin.prototype.willHandleEventExclusively = function (event) {\r\n        return (this.autoCompleteInfo &&\r\n            event.eventType == 0 /* KeyDown */ &&\r\n            event.rawEvent.which == KEY_BACKSPACE);\r\n    };\r\n    CorePlugin.prototype.onContentChanged = function (event) {\r\n        if (this.autoCompleteInfo) {\r\n            if (event && event.which == KEY_BACKSPACE) {\r\n                event.preventDefault();\r\n                this.editor.setContent(this.autoCompleteInfo.snapshot, false /*triggerContentChangedEvent*/);\r\n            }\r\n            this.autoCompleteInfo = null;\r\n        }\r\n    };\r\n    /**\r\n     * Check if user is typing right under the content div\r\n     * When typing goes directly under content div, many things can go wrong\r\n     * We fix it by wrapping it with a div and reposition cursor within the div\r\n     */\r\n    CorePlugin.prototype.onKeyPress = function () {\r\n        var range = this.editor.getSelectionRange();\r\n        if (range &&\r\n            range.collapsed &&\r\n            roosterjs_editor_dom_1.findClosestElementAncestor(range.startContainer) == this.contentDiv) {\r\n            var position = this.ensureTypeInElement(roosterjs_editor_dom_1.Position.getStart(range));\r\n            this.editor.select(position);\r\n        }\r\n    };\r\n    CorePlugin.prototype.removeMouseUpEventListener = function () {\r\n        if (this.mouseUpEventListerAdded) {\r\n            this.mouseUpEventListerAdded = false;\r\n            this.editor.getDocument().removeEventListener('mouseup', this.onMouseUp, true);\r\n        }\r\n    };\r\n    return CorePlugin;\r\n}());\r\nexports.default = CorePlugin;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar hasFocus = function (core) {\r\n    var activeElement = core.document.activeElement;\r\n    return (activeElement && roosterjs_editor_dom_1.contains(core.contentDiv, activeElement, true /*treatSameNodeAsContain*/));\r\n};\r\nexports.default = hasFocus;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar UndoSnapshots_1 = require(\"./UndoSnapshots\");\r\nvar KEY_BACKSPACE = 8;\r\nvar KEY_DELETE = 46;\r\nvar KEY_SPACE = 32;\r\nvar KEY_ENTER = 13;\r\nvar KEY_PAGEUP = 33;\r\nvar KEY_DOWN = 40;\r\n/**\r\n * Provides snapshot based undo service for Editor\r\n */\r\nvar Undo = /** @class */ (function () {\r\n    /**\r\n     * Create an instance of Undo\r\n     * @param preserveSnapshots True to preserve the snapshots after dispose, this allows\r\n     * this object to be reused when editor is disposed and created again\r\n     * @param maxBufferSize The max buffer size for snapshots. Default value is 10MB\r\n     */\r\n    function Undo(preserveSnapshots, maxBufferSize) {\r\n        if (maxBufferSize === void 0) { maxBufferSize = 1e7; }\r\n        var _this = this;\r\n        this.preserveSnapshots = preserveSnapshots;\r\n        this.maxBufferSize = maxBufferSize;\r\n        this.name = 'Undo';\r\n        this.onNativeEvent = function (e) {\r\n            _this.editor.runAsync(function () {\r\n                _this.addUndoSnapshot();\r\n                _this.editor.triggerContentChangedEvent(e.type == 'cut' ? \"Cut\" /* Cut */ : \"Drop\" /* Drop */);\r\n            });\r\n        };\r\n    }\r\n    /**\r\n     * Initialize this plugin. This should only be called from Editor\r\n     * @param editor Editor instance\r\n     */\r\n    Undo.prototype.initialize = function (editor) {\r\n        this.editor = editor;\r\n        this.onDropDisposer = this.editor.addDomEventHandler('drop', this.onNativeEvent);\r\n        this.onCutDisposer = this.editor.addDomEventHandler('cut', this.onNativeEvent);\r\n    };\r\n    /**\r\n     * Dispose this plugin\r\n     */\r\n    Undo.prototype.dispose = function () {\r\n        this.onDropDisposer();\r\n        this.onCutDisposer();\r\n        this.onDropDisposer = null;\r\n        this.onCutDisposer = null;\r\n        this.editor = null;\r\n        if (!this.preserveSnapshots) {\r\n            this.clear();\r\n        }\r\n    };\r\n    /**\r\n     * Handle events triggered from editor\r\n     * @param event PluginEvent object\r\n     */\r\n    Undo.prototype.onPluginEvent = function (event) {\r\n        // if editor is in IME, don't do anything\r\n        if (this.editor.isInIME()) {\r\n            return;\r\n        }\r\n        switch (event.eventType) {\r\n            case 10 /* EditorReady */:\r\n                this.addUndoSnapshot();\r\n                break;\r\n            case 0 /* KeyDown */:\r\n                this.onKeyDown(event.rawEvent);\r\n                break;\r\n            case 1 /* KeyPress */:\r\n                this.onKeyPress(event.rawEvent);\r\n                break;\r\n            case 3 /* CompositionEnd */:\r\n                this.clearRedoForInput();\r\n                break;\r\n            case 6 /* ContentChanged */:\r\n                this.onContentChanged(event);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Clear all existing undo snapshots\r\n     */\r\n    Undo.prototype.clear = function () {\r\n        this.undoSnapshots = null;\r\n        this.hasNewContent = false;\r\n    };\r\n    /**\r\n     * Restore an undo snapshot to editor\r\n     */\r\n    Undo.prototype.undo = function () {\r\n        if (this.hasNewContent) {\r\n            this.addUndoSnapshot();\r\n        }\r\n        this.restoreSnapshot(-1 /*previousSnapshot*/);\r\n    };\r\n    /**\r\n     * Restore a redo snapshot to editor\r\n     */\r\n    Undo.prototype.redo = function () {\r\n        this.restoreSnapshot(1 /*nextSnapshot*/);\r\n    };\r\n    /**\r\n     * Whether there is a snapshot for undo\r\n     */\r\n    Undo.prototype.canUndo = function () {\r\n        return this.hasNewContent || this.getSnapshotsManager().canMove(-1 /*previousSnapshot*/);\r\n    };\r\n    /**\r\n     * Whether there is a snapshot for redo\r\n     */\r\n    Undo.prototype.canRedo = function () {\r\n        return this.getSnapshotsManager().canMove(1 /*nextSnapshot*/);\r\n    };\r\n    /**\r\n     * Add an undo snapshot\r\n     */\r\n    Undo.prototype.addUndoSnapshot = function () {\r\n        var snapshot = this.getSnapshot();\r\n        this.getSnapshotsManager().addSnapshot(snapshot);\r\n        this.hasNewContent = false;\r\n        return snapshot;\r\n    };\r\n    Undo.prototype.getSnapshotsManager = function () {\r\n        if (!this.undoSnapshots) {\r\n            this.undoSnapshots = new UndoSnapshots_1.default(this.maxBufferSize);\r\n        }\r\n        return this.undoSnapshots;\r\n    };\r\n    Undo.prototype.restoreSnapshot = function (delta) {\r\n        var snapshot = this.getSnapshotsManager().move(delta);\r\n        if (snapshot != null) {\r\n            try {\r\n                this.isRestoring = true;\r\n                this.editor.setContent(snapshot);\r\n            }\r\n            finally {\r\n                this.isRestoring = false;\r\n            }\r\n        }\r\n    };\r\n    Undo.prototype.onKeyDown = function (evt) {\r\n        // Handle backspace/delete when there is a selection to take a snapshot\r\n        // since we want the state prior to deletion restorable\r\n        if (evt.which == KEY_BACKSPACE || evt.which == KEY_DELETE) {\r\n            var selectionRange = this.editor.getSelectionRange();\r\n            // Add snapshot when\r\n            // 1. Something has been selected (not collapsed), or\r\n            // 2. It has a different key code from the last keyDown event (to prevent adding too many snapshot when keeping press the same key), or\r\n            // 3. Ctrl/Meta key is pressed so that a whole word will be deleted\r\n            if (selectionRange &&\r\n                (!selectionRange.collapsed ||\r\n                    this.lastKeyPress != evt.which ||\r\n                    evt.ctrlKey ||\r\n                    evt.metaKey)) {\r\n                this.addUndoSnapshot();\r\n            }\r\n            // Since some content is deleted, always set hasNewContent to true so that we will take undo snapshot next time\r\n            this.hasNewContent = true;\r\n            this.lastKeyPress = evt.which;\r\n        }\r\n        else if (evt.which >= KEY_PAGEUP && evt.which <= KEY_DOWN) {\r\n            // PageUp, PageDown, Home, End, Left, Right, Up, Down\r\n            if (this.hasNewContent) {\r\n                this.addUndoSnapshot();\r\n            }\r\n            this.lastKeyPress = 0;\r\n        }\r\n    };\r\n    Undo.prototype.onKeyPress = function (evt) {\r\n        if (evt.metaKey) {\r\n            // if metaKey is pressed, simply return since no actual effect will be taken on the editor.\r\n            // this is to prevent changing hasNewContent to true when meta + v to paste on Safari.\r\n            return;\r\n        }\r\n        var shouldTakeUndo = false;\r\n        var selectionRange = this.editor.getSelectionRange();\r\n        if (selectionRange && !selectionRange.collapsed) {\r\n            // The selection will be removed, should take undo\r\n            shouldTakeUndo = true;\r\n        }\r\n        else if ((evt.which == KEY_SPACE && this.lastKeyPress != KEY_SPACE) ||\r\n            evt.which == KEY_ENTER) {\r\n            shouldTakeUndo = true;\r\n        }\r\n        if (shouldTakeUndo) {\r\n            this.addUndoSnapshot();\r\n            if (evt.which == KEY_ENTER) {\r\n                // Treat ENTER as new content so if there is no input after ENTER and undo,\r\n                // we restore the snapshot before ENTER\r\n                this.hasNewContent = true;\r\n            }\r\n        }\r\n        else {\r\n            this.clearRedoForInput();\r\n        }\r\n        this.lastKeyPress = evt.which;\r\n    };\r\n    Undo.prototype.onContentChanged = function (evt) {\r\n        if (!this.isRestoring) {\r\n            var currentSnapshot = this.getSnapshot();\r\n            if (evt.lastSnapshot != currentSnapshot) {\r\n                this.clearRedoForInput();\r\n            }\r\n        }\r\n    };\r\n    Undo.prototype.getSnapshot = function () {\r\n        return this.editor.getContent(false /*triggerExtractContentEvent*/, true /*markSelection*/);\r\n    };\r\n    Undo.prototype.clearRedoForInput = function () {\r\n        this.getSnapshotsManager().clearRedo();\r\n        this.lastKeyPress = 0;\r\n        this.hasNewContent = true;\r\n    };\r\n    return Undo;\r\n}());\r\nexports.default = Undo;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Max stack size that cannot be exceeded. When exceeded, old undo history will be dropped\r\n// to keep size under limit. This is kept at 10MB\r\nvar MAXSIZELIMIT = 10000000;\r\nvar UndoSnapshots = /** @class */ (function () {\r\n    function UndoSnapshots(maxSize) {\r\n        if (maxSize === void 0) { maxSize = MAXSIZELIMIT; }\r\n        this.maxSize = maxSize;\r\n        this.snapshots = [];\r\n        this.totalSize = 0;\r\n        this.currentIndex = -1;\r\n    }\r\n    UndoSnapshots.prototype.canMove = function (delta) {\r\n        var newIndex = this.currentIndex + delta;\r\n        return newIndex >= 0 && newIndex < this.snapshots.length;\r\n    };\r\n    UndoSnapshots.prototype.move = function (delta) {\r\n        if (this.canMove(delta)) {\r\n            this.currentIndex += delta;\r\n            return this.snapshots[this.currentIndex];\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    UndoSnapshots.prototype.addSnapshot = function (snapshot) {\r\n        if (this.currentIndex < 0 || snapshot != this.snapshots[this.currentIndex]) {\r\n            this.clearRedo();\r\n            this.snapshots.push(snapshot);\r\n            this.currentIndex++;\r\n            this.totalSize += snapshot.length;\r\n            var removeCount = 0;\r\n            while (removeCount < this.snapshots.length && this.totalSize > this.maxSize) {\r\n                this.totalSize -= this.snapshots[removeCount].length;\r\n                removeCount++;\r\n            }\r\n            if (removeCount > 0) {\r\n                this.snapshots.splice(0, removeCount);\r\n                this.currentIndex -= removeCount;\r\n            }\r\n        }\r\n    };\r\n    UndoSnapshots.prototype.clearRedo = function () {\r\n        if (this.canMove(1)) {\r\n            var removedSize = 0;\r\n            for (var i = this.currentIndex + 1; i < this.snapshots.length; i++) {\r\n                removedSize += this.snapshots[i].length;\r\n            }\r\n            this.snapshots.splice(this.currentIndex + 1);\r\n            this.totalSize -= removedSize;\r\n        }\r\n    };\r\n    return UndoSnapshots;\r\n}());\r\nexports.default = UndoSnapshots;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Clear a cached object by its key from an event object\r\n * @param event The event object\r\n * @param key The cache key\r\n */\r\nfunction clearEventDataCache(event, key) {\r\n    if (event && event.eventDataCache && event.eventDataCache.hasOwnProperty(key)) {\r\n        delete event.eventDataCache[key];\r\n    }\r\n}\r\nexports.default = clearEventDataCache;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\n/**\r\n * Format table\r\n * @param editor The editor which contains the table to format\r\n * @param format A TableFormat object contains format information we want to apply to the table\r\n * @param table The table to format. This is optional. When not passed, the current table (if any) will be formatted\r\n */\r\nfunction formatTable(editor, format, table) {\r\n    table = table || editor.getElementAtCursor('TABLE');\r\n    if (table) {\r\n        editor.addUndoSnapshot(function (start, end) {\r\n            var vtable = new roosterjs_editor_dom_1.VTable(table);\r\n            vtable.applyFormat(format);\r\n            vtable.writeBack();\r\n            editor.focus();\r\n            editor.select(start, end);\r\n        }, \"Format\" /* Format */);\r\n    }\r\n}\r\nexports.default = formatTable;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar ZERO_WIDTH_SPACE = '&#8203;';\r\nvar UNWRAPPABLE_NODES = 'LI,THEAD,TBODY,TR,TD,TH'.split(',');\r\nvar DEFAULT_STYLER = function (_) { };\r\n/**\r\n * Toggle a tag at selection, if selection already contains elements of such tag,\r\n * the elements will be untagge and other elements will take no affect\r\n * @param editor The editor instance\r\n * @param tag The tag name\r\n * @param styler (Optional) The styler for setting the style for the blockquote element\r\n * @param wrapFunction (Optional) The wrap function\r\n * @param unwrapFunction (Optional) The unwrap function\r\n */\r\nfunction toggleTagCore(editor, tag, styler, wrapFunction, unwrapFunction) {\r\n    if (wrapFunction === void 0) { wrapFunction = function (nodes) { return roosterjs_editor_dom_1.wrap(nodes, tag); }; }\r\n    if (unwrapFunction === void 0) { unwrapFunction = roosterjs_editor_dom_1.unwrap; }\r\n    editor.focus();\r\n    editor.addUndoSnapshot(function (start, end) {\r\n        var result;\r\n        var range = editor.getSelectionRange();\r\n        if (range &&\r\n            editor.queryElements(tag, 1 /* OnSelection */, unwrapFunction).length == 0) {\r\n            var startNode = roosterjs_editor_dom_1.Position.getStart(range).normalize().node;\r\n            var startBlock = editor.getBlockElementAtNode(startNode);\r\n            var endNode = roosterjs_editor_dom_1.Position.getEnd(range).normalize().node;\r\n            var endBlock = editor.getBlockElementAtNode(endNode);\r\n            var nodes = startBlock && endBlock\r\n                ? editor.collapseNodes(startBlock.getStartNode(), endBlock.getEndNode(), true /*canSplitParent*/)\r\n                : [];\r\n            if (nodes.length == 0) {\r\n                // Selection is collapsed and blockElement is null, we need to create an empty div.\r\n                // In case of IE and Edge, we insert ZWS to put cursor in the div, otherwise insert BR node.\r\n                nodes = roosterjs_editor_dom_1.fromHtml(\"<DIV>\" + (roosterjs_editor_dom_1.Browser.isIEOrEdge ? ZERO_WIDTH_SPACE : '<BR>') + \"</DIV>\", editor.getDocument());\r\n                editor.insertNode(nodes[0]);\r\n                editor.select(nodes[0], 0 /* Begin */);\r\n            }\r\n            else if (nodes.length == 1) {\r\n                var tag_1 = roosterjs_editor_dom_1.getTagOfNode(nodes[0]);\r\n                if (tag_1 == 'BR') {\r\n                    nodes = [roosterjs_editor_dom_1.wrap(nodes[0])];\r\n                }\r\n                else if (tag_1 == 'LI' || tag_1 == 'TD') {\r\n                    nodes = [].slice.call(nodes[0].childNodes);\r\n                }\r\n            }\r\n            else {\r\n                while (nodes[0] &&\r\n                    editor.contains(nodes[0].parentNode) &&\r\n                    nodes.some(function (node) { return UNWRAPPABLE_NODES.indexOf(roosterjs_editor_dom_1.getTagOfNode(node)) >= 0; })) {\r\n                    nodes = [roosterjs_editor_dom_1.splitBalancedNodeRange(nodes)];\r\n                }\r\n            }\r\n            result = wrapFunction(nodes);\r\n            (styler || DEFAULT_STYLER)(result);\r\n        }\r\n        if (!editor.select(start, end) && result) {\r\n            editor.select(result);\r\n        }\r\n        return result;\r\n    }, \"Format\" /* Format */);\r\n}\r\nexports.default = toggleTagCore;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_plugins_1 = require(\"roosterjs-editor-plugins\");\r\nvar roosterjs_plugin_image_resize_1 = require(\"roosterjs-plugin-image-resize\");\r\nvar defaultPluginsString = [\r\n    'var plugins = [',\r\n    '  new roosterPlugins.HyperLink(),',\r\n    '  new roosterPlugins.Paste(),',\r\n    '  new roosterPlugins.ContentEdit(),',\r\n    '];\\n',\r\n].join('\\n');\r\nfunction updateSampleCode(plugins, defaultFormat, features) {\r\n    updateHtmlSampleCode();\r\n    updateJsSampleCode(plugins, defaultFormat, features);\r\n}\r\nexports.default = updateSampleCode;\r\nfunction updateHtmlSampleCode() {\r\n    var htmlSampleCode = document.getElementById('htmlSample');\r\n    htmlSampleCode.innerHTML = '';\r\n    var node = document.createElement('h2');\r\n    node.innerHTML = 'Html Sample Code';\r\n    htmlSampleCode.appendChild(node);\r\n    var codeString = [\r\n        '<html>',\r\n        '   <body>',\r\n        '       <div id=\"editorDiv\" style=\"width: 500px; height: 300px; overflow: auto;',\r\n        '       border: solid 1px black\"></div>',\r\n        '       <script src=\"editor.js\"></script>',\r\n        '   </body>',\r\n        '</html>',\r\n    ].join('\\n');\r\n    htmlSampleCode.appendChild(createElementFromContent('htmlSampleCode', codeString));\r\n}\r\nfunction updateJsSampleCode(plugins, defaultFormat, features) {\r\n    var jsSampleCode = document.getElementById('jsSample');\r\n    jsSampleCode.innerHTML = '';\r\n    var node = document.createElement('h2');\r\n    node.innerHTML = 'JS Sample Code';\r\n    jsSampleCode.appendChild(node);\r\n    var startString = assembleRequireString(plugins, defaultFormat);\r\n    var pluginsString = assemblePluginsString(plugins, features);\r\n    var formatString = assembleFormatString(defaultFormat);\r\n    var optionsString = assembleOptionsString(pluginsString, formatString);\r\n    var endString = assembleEndString(optionsString);\r\n    var jsCodeString = startString +\r\n        pluginsString +\r\n        formatString +\r\n        optionsString +\r\n        endString;\r\n    jsSampleCode.appendChild(createElementFromContent('jsSampleCode', jsCodeString));\r\n}\r\n// Create an 'xmp' block so the code can be displayed as is\r\nfunction createElementFromContent(id, content) {\r\n    var node = document.createElement('xmp');\r\n    node.id = id;\r\n    document.body.insertBefore(node, document.body.childNodes[0]);\r\n    node.innerHTML = content;\r\n    return node;\r\n}\r\nfunction assemblePluginsString(plugins, features) {\r\n    if (plugins) {\r\n        var contentEditOptions_1 = '';\r\n        var pluginsString_1 = '';\r\n        if (features) {\r\n            pluginsString_1 += 'var options = roosterjsPlugins.getDefaultContentEditFeatures();\\n';\r\n            var defaultFeatures = roosterjs_editor_plugins_1.getDefaultContentEditFeatures();\r\n            for (var _i = 0, _a = Object.keys(defaultFeatures); _i < _a.length; _i++) {\r\n                var key = _a[_i];\r\n                if (key != 'smartOrderedListStyles' && features[key] != defaultFeatures[key]) {\r\n                    pluginsString_1 += 'options.' + key + ' = ' + (features[key] ? 'true' : 'false') + ';\\n';\r\n                }\r\n            }\r\n            contentEditOptions_1 += '  new roosterjsPlugins.ContentEdit(options),\\n';\r\n        }\r\n        else {\r\n            contentEditOptions_1 = '  new roosterjsPlugins.ContentEdit(),\\n';\r\n        }\r\n        pluginsString_1 += 'var plugins = [\\n';\r\n        plugins.forEach(function (plugin) {\r\n            if (plugin instanceof roosterjs_editor_plugins_1.Watermark) {\r\n                pluginsString_1 += \"  new roosterjsPlugins.Watermark('Type content here...'),\\n\";\r\n            }\r\n            else if (plugin instanceof roosterjs_plugin_image_resize_1.ImageResize) {\r\n                pluginsString_1 += '  new roosterjsImageResizePlugin.ImageResize(),\\n';\r\n            }\r\n            else if (plugin instanceof roosterjs_editor_plugins_1.HyperLink) {\r\n                pluginsString_1 += '  new roosterjsPlugins.HyperLink(),\\n';\r\n            }\r\n            else if (plugin instanceof roosterjs_editor_plugins_1.Paste) {\r\n                pluginsString_1 += '  new roosterjsPlugins.Paste(),\\n';\r\n            }\r\n            else if (plugin instanceof roosterjs_editor_plugins_1.ContentEdit) {\r\n                pluginsString_1 += contentEditOptions_1;\r\n            }\r\n            else if (plugin instanceof roosterjs_editor_plugins_1.TableResize) {\r\n                pluginsString_1 += '  new roosterjsPlugins.TableResize(),\\n';\r\n            }\r\n        });\r\n        pluginsString_1 += '];\\n';\r\n        if (pluginsString_1 != defaultPluginsString) {\r\n            return pluginsString_1;\r\n        }\r\n    }\r\n    return '';\r\n}\r\nfunction assembleFormatString(defaultFormat) {\r\n    if (!defaultFormat) {\r\n        return '';\r\n    }\r\n    var defaultFormatString = 'var defaultFormat = {\\n';\r\n    if (defaultFormat.bold) {\r\n        defaultFormatString += '  bold: true,\\n';\r\n    }\r\n    if (defaultFormat.italic) {\r\n        defaultFormatString += '  italic: true,\\n';\r\n    }\r\n    if (defaultFormat.underline) {\r\n        defaultFormatString += '  underline: true,\\n';\r\n    }\r\n    if (defaultFormat.textColor) {\r\n        defaultFormatString += \"  textColor: \\\"\" + defaultFormat.textColor + \"\\\",\\n\";\r\n    }\r\n    if (defaultFormat.fontFamily) {\r\n        defaultFormatString += \"  fontFamily: \\\"\" + defaultFormat.fontFamily + \"\\\",\\n\";\r\n    }\r\n    defaultFormatString += '};\\n';\r\n    return defaultFormatString;\r\n}\r\nfunction assembleRequireString(plugins, defaultFormat) {\r\n    //If there is no plugins or defaultFormat provided, require roosterjs package only\r\n    if (!plugins && !defaultFormat) {\r\n        return 'var roosterjs = require(\\'roosterjs\\');\\n';\r\n    }\r\n    var requireString = '';\r\n    //If there is image resize plugin, require the image resize plugin package\r\n    plugins.forEach(function (plugin) {\r\n        if (plugin instanceof roosterjs_plugin_image_resize_1.ImageResize) {\r\n            requireString = requireString.concat(\"var roosterjsImageResizePlugin = require('roosterjs-plugin-image-resize');\\n\");\r\n            return;\r\n        }\r\n    });\r\n    //If there are other plugins than image resize plugins, require roosterjs plugin package\r\n    if (plugins.length > 1) {\r\n        requireString = requireString.concat(\"var roosterjsPlugins = require('roosterjs-editor-plugins');\\n\");\r\n    }\r\n    requireString = requireString.concat(\"var roosterjsCore = require('roosterjs-editor-core');\\n\");\r\n    return requireString;\r\n}\r\nfunction assembleOptionsString(pluginsString, formatString) {\r\n    if (!pluginsString && !formatString) {\r\n        return '';\r\n    }\r\n    var optionsString = 'var options = {\\n';\r\n    if (pluginsString) {\r\n        optionsString = optionsString.concat('  plugins: plugins,\\n');\r\n    }\r\n    if (formatString) {\r\n        optionsString = optionsString.concat('  defaultFormat: defaultFormat,\\n');\r\n    }\r\n    optionsString = optionsString.concat('};\\n');\r\n    return optionsString;\r\n}\r\nfunction assembleEndString(optionsString) {\r\n    var endString = \"var editorDiv = document.getElementById('editorDiv');\\n\";\r\n    if (optionsString) {\r\n        endString = endString.concat('var editor = new roosterjsCore.Editor(editorDiv, options);');\r\n    }\r\n    else {\r\n        endString = endString.concat('var editor = roosterjs.createEditor(editorDiv);');\r\n    }\r\n    return endString;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DefaultShortcut_1 = require(\"./DefaultShortcut/DefaultShortcut\");\r\nexports.DefaultShortcut = DefaultShortcut_1.default;\r\nvar HyperLink_1 = require(\"./HyperLink/HyperLink\");\r\nexports.HyperLink = HyperLink_1.default;\r\nvar ContentEdit_1 = require(\"./ContentEdit/ContentEdit\");\r\nexports.ContentEdit = ContentEdit_1.default;\r\nvar Paste_1 = require(\"./Paste/Paste\");\r\nexports.Paste = Paste_1.default;\r\nvar ContentEditFeatures_1 = require(\"./ContentEdit/ContentEditFeatures\");\r\nexports.getDefaultContentEditFeatures = ContentEditFeatures_1.getDefaultContentEditFeatures;\r\nvar Watermark_1 = require(\"./Watermark/Watermark\");\r\nexports.Watermark = Watermark_1.default;\r\nvar TableResize_1 = require(\"./TableResize/TableResize\");\r\nexports.TableResize = TableResize_1.default;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Get default feature set of ContentEdit plugin\r\n */\r\nfunction getDefaultContentEditFeatures() {\r\n    return {\r\n        autoLink: true,\r\n        indentWhenTab: true,\r\n        outdentWhenShiftTab: true,\r\n        outdentWhenBackspaceOnEmptyFirstLine: true,\r\n        outdentWhenEnterOnEmptyLine: true,\r\n        mergeInNewLineWhenBackspaceOnFirstChar: false,\r\n        unquoteWhenBackspaceOnEmptyFirstLine: true,\r\n        unquoteWhenEnterOnEmptyLine: true,\r\n        autoBullet: true,\r\n        tabInTable: true,\r\n        upDownInTable: true,\r\n        defaultShortcut: true,\r\n        unlinkWhenBackspaceAfterLink: false,\r\n        smartOrderedList: false,\r\n        smartOrderedListStyles: ['lower-alpha', 'lower-roman', 'decimal'],\r\n    };\r\n}\r\nexports.getDefaultContentEditFeatures = getDefaultContentEditFeatures;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar ZERO_WIDTH_SPACE = '&#8203;';\r\n/**\r\n * Convert plain to HTML\r\n * @param text The plain text to convert\r\n * @returns HTML string to present the input text\r\n */\r\nfunction textToHtml(text) {\r\n    text = (text || '')\r\n        .replace(/&/g, '&amp;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;')\r\n        .replace(/'/g, '&#39;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/^ /gm, '&nbsp;')\r\n        .replace(/\\r/g, '');\r\n    var lines = text.split('\\n');\r\n    if (lines.length == 2) {\r\n        text = \"<span>\" + lines[0] + \"<br></span><span>\" + lines[1] + \"</span>\";\r\n    }\r\n    else if (lines.length > 2) {\r\n        text = '';\r\n        var lineEnd_1 = roosterjs_editor_dom_1.Browser.isIEOrEdge ? ZERO_WIDTH_SPACE : '<br>';\r\n        lines.forEach(function (line, i) {\r\n            if (i == 0) {\r\n                text += \"<span>\" + line + \"<br></span>\";\r\n            }\r\n            else if (i == lines.length - 1) {\r\n                text += \"<span>\" + line + \"</span>\";\r\n            }\r\n            else {\r\n                text += \"<div>\" + line + lineEnd_1 + \"</div>\";\r\n            }\r\n        });\r\n    }\r\n    text = text.replace(/\\s\\s/g, ' &nbsp;');\r\n    return text;\r\n}\r\nexports.default = textToHtml;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/** NodeId attribute */\r\nvar NODE_ID_ATTRIBUTE_NAME = 'NodeId';\r\n/** create an empty CustomData */\r\nfunction createCustomData() {\r\n    return {\r\n        dict: {},\r\n        nextNodeId: 1,\r\n    };\r\n}\r\nexports.createCustomData = createCustomData;\r\n/**\r\n * Sets the specified object data\r\n */\r\nfunction setObject(customData, element, key, value) {\r\n    // Get the id for the element\r\n    if (element.nodeType == 1 /* Element */) {\r\n        var id = getAndSetNodeId(customData, element);\r\n        if (id != '') {\r\n            // Get the values for the element\r\n            if (!customData.dict[id]) {\r\n                // First time dictionary creation\r\n                customData.dict[id] = {};\r\n            }\r\n            customData.dict[id][key] = value;\r\n        }\r\n    }\r\n}\r\nexports.setObject = setObject;\r\n/**\r\n * Reads the specified object data\r\n */\r\nfunction getObject(customData, element, key) {\r\n    if (element.nodeType == 1 /* Element */) {\r\n        var id = getAndSetNodeId(customData, element);\r\n        if (id != '') {\r\n            return customData.dict[id] && customData.dict[id][key];\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexports.getObject = getObject;\r\n/** Get the unique id for the specified node... */\r\nfunction getAndSetNodeId(customData, element) {\r\n    var id = element.getAttribute(NODE_ID_ATTRIBUTE_NAME);\r\n    if (!id) {\r\n        id = customData.nextNodeId.toString();\r\n        customData.nextNodeId++;\r\n        element.setAttribute(NODE_ID_ATTRIBUTE_NAME, id);\r\n    }\r\n    return id;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/** create an empty LevelLists */\r\nfunction createLevelLists() {\r\n    return {\r\n        listsMetadata: {},\r\n        currentUniqueListId: -1,\r\n    };\r\n}\r\nexports.createLevelLists = createLevelLists;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ImageResize_1 = require(\"./ImageResize\");\r\nexports.ImageResize = ImageResize_1.default;\r\nexports.ImageResizePlugin = ImageResize_1.ImageResizePlugin;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar initFormatBar_1 = require(\"./initFormatBar\");\r\nvar updateSampleCode_1 = require(\"./updateSampleCode\");\r\nvar initOptions_1 = require(\"./initOptions\");\r\nwindow.onload = function () {\r\n    initTabs();\r\n    initEditor();\r\n    initFormatBar_1.default();\r\n    initOptions_1.default();\r\n    updateSampleCode_1.default();\r\n    switchTab('quickstart');\r\n};\r\nfunction initTabs() {\r\n    document.getElementById('quickstartTab').addEventListener('click', function () {\r\n        switchTab('quickstart');\r\n    });\r\n    document.getElementById('optionsTab').addEventListener('click', function () {\r\n        switchTab('options');\r\n    });\r\n    document.getElementById('advanceTab').addEventListener('click', function () {\r\n        switchTab('advance');\r\n    });\r\n}\r\nfunction switchTab(name) {\r\n    document.getElementById('quickstartTab').className = name == 'quickstart' ? 'selected' : '';\r\n    document.getElementById('optionsTab').className = name == 'options' ? 'selected' : '';\r\n    document.getElementById('advanceTab').className = name == 'advance' ? 'selected' : '';\r\n    document.getElementById('options').className = name == 'options' ? 'tab selected' : 'tab';\r\n    document.getElementById('advance').className = name == 'advance' ? 'tab selected' : 'tab';\r\n    document.getElementById('sampleCodeContainer').style.display = name == 'advance' ? 'none' : '';\r\n    document.getElementById('snapshotContainer').style.display = name != 'advance' ? 'none' : '';\r\n}\r\nfunction initEditor() {\r\n    var editorArea = document.getElementById('editor');\r\n    editorArea.innerHTML = '';\r\n    initOptions_1.initEditorForOptions();\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_api_1 = require(\"roosterjs-editor-api\");\r\nvar currentEditor_1 = require(\"./currentEditor\");\r\nvar roosterjs_html_sanitizer_1 = require(\"roosterjs-html-sanitizer\");\r\nvar TABLE_FORMAT = [\r\n    createTableFormat('#FFF', '#FFF', '#ABABAB', '#ABABAB', '#ABABAB'),\r\n    createTableFormat('#FFF', '#FFF', null, '#92C0E0'),\r\n    createTableFormat('#C0E4FF', '#FFF'),\r\n    createTableFormat('#D8D8D8', '#FFF'),\r\n    createTableFormat('#D8D8D8', '#FFF', '#ABABAB', '#ABABAB', '#ABABAB'),\r\n    createTableFormat('#FFF', '#FFF'),\r\n];\r\nfunction createTableFormat(bgColorEven, bgColorOdd, topBorder, bottomBorder, verticalBorder) {\r\n    return {\r\n        bgColorEven: bgColorEven,\r\n        bgColorOdd: bgColorOdd,\r\n        topBorderColor: topBorder,\r\n        bottomBorderColor: bottomBorder,\r\n        verticalBorderColor: verticalBorder,\r\n    };\r\n}\r\nfunction initFormatBar() {\r\n    // Bold\r\n    document.getElementById('boldButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.toggleBold(currentEditor_1.default());\r\n    });\r\n    // Italic\r\n    document.getElementById('italicButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.toggleItalic(currentEditor_1.default());\r\n    });\r\n    // Underline\r\n    document.getElementById('underlineButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.toggleUnderline(currentEditor_1.default());\r\n    });\r\n    // Bullets\r\n    document.getElementById('bulletButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.toggleBullet(currentEditor_1.default());\r\n    });\r\n    // Numbering\r\n    document.getElementById('numberingButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.toggleNumbering(currentEditor_1.default());\r\n    });\r\n    // Blockquote\r\n    document.getElementById('blockquoteButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.toggleBlockQuote(currentEditor_1.default());\r\n    });\r\n    // Code\r\n    document.getElementById('codeButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.toggleCodeBlock(currentEditor_1.default());\r\n    });\r\n    // StrikeThrough\r\n    document.getElementById('strikeThroughButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.toggleStrikethrough(currentEditor_1.default());\r\n    });\r\n    // SuperScript\r\n    document.getElementById('superScriptButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.toggleSuperscript(currentEditor_1.default());\r\n    });\r\n    // SubScript\r\n    document.getElementById('subScriptButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.toggleSubscript(currentEditor_1.default());\r\n    });\r\n    // Insert link\r\n    document.getElementById('insertLink').addEventListener('click', function () {\r\n        var editor = currentEditor_1.default();\r\n        var range = editor.getSelectionRange();\r\n        var existingLink = editor.queryElements('a[href]', 1 /* OnSelection */)[0];\r\n        var url = window.prompt('Url', existingLink ? existingLink.href : 'http://');\r\n        var text = window.prompt('Text of link', existingLink ? existingLink.textContent : range.collapsed ? url : range.toString());\r\n        roosterjs_editor_api_1.createLink(editor, url, url, text);\r\n    });\r\n    // ClearFormat\r\n    document.getElementById('clearFormatButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.clearFormat(currentEditor_1.default());\r\n    });\r\n    // Edit table\r\n    document.getElementById('editTable').addEventListener('change', function () {\r\n        var select = document.getElementById('editTable');\r\n        var intValue = parseInt(select.value);\r\n        if (intValue >= 0) {\r\n            var operation = intValue;\r\n            roosterjs_editor_api_1.editTable(currentEditor_1.default(), operation);\r\n            select.value = '-1';\r\n        }\r\n    });\r\n    document.getElementById('formatTable').addEventListener('change', function () {\r\n        var select = document.getElementById('formatTable');\r\n        var intValue = parseInt(select.value);\r\n        if (intValue >= 0) {\r\n            roosterjs_editor_api_1.formatTable(currentEditor_1.default(), TABLE_FORMAT[intValue]);\r\n            select.value = '-1';\r\n        }\r\n    });\r\n    // Header\r\n    document.getElementById('header').addEventListener('change', function () {\r\n        var select = document.getElementById('header');\r\n        var level = parseInt(select.value);\r\n        roosterjs_editor_api_1.toggleHeader(currentEditor_1.default(), level);\r\n        select.value = '-1';\r\n    });\r\n    // Insert Table\r\n    document.getElementById('insertTable').addEventListener('click', function () {\r\n        var columns = Math.min(parseInt(window.prompt('How many columns?')), 10);\r\n        var rows = Math.min(parseInt(window.prompt('How many rows?')), 10);\r\n        if (columns > 0 && rows > 0) {\r\n            roosterjs_editor_api_1.insertTable(currentEditor_1.default(), columns, rows);\r\n        }\r\n    });\r\n    // Insert Image\r\n    document.getElementById('insertImage').addEventListener('click', function () {\r\n        document.getElementById('selectFile').click();\r\n    });\r\n    document.getElementById('selectFile').addEventListener('change', function () {\r\n        var input = document.getElementById('selectFile');\r\n        var file = input.files[0];\r\n        if (file) {\r\n            roosterjs_editor_api_1.insertImage(currentEditor_1.default(), file);\r\n            input.value = '';\r\n        }\r\n    });\r\n    // Indent\r\n    document.getElementById('indentButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.setIndentation(currentEditor_1.default(), 0 /* Increase */);\r\n    });\r\n    // Outdent\r\n    document.getElementById('outdentButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.setIndentation(currentEditor_1.default(), 1 /* Decrease */);\r\n    });\r\n    // AlignLeft\r\n    document.getElementById('alignLeftButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.setAlignment(currentEditor_1.default(), 0 /* Left */);\r\n    });\r\n    // AlignCenter\r\n    document.getElementById('alignCenterButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.setAlignment(currentEditor_1.default(), 1 /* Center */);\r\n    });\r\n    // AlignRight\r\n    document.getElementById('alignRightButton').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.setAlignment(currentEditor_1.default(), 2 /* Right */);\r\n    });\r\n    // LTR\r\n    document.getElementById('ltr').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.setDirection(currentEditor_1.default(), 0 /* LeftToRight */);\r\n    });\r\n    // RTL\r\n    document.getElementById('rtl').addEventListener('click', function () {\r\n        roosterjs_editor_api_1.setDirection(currentEditor_1.default(), 1 /* RightToLeft */);\r\n    });\r\n    // undo\r\n    document.getElementById('undoButton').addEventListener('click', function () {\r\n        var editor = currentEditor_1.default();\r\n        editor.focus();\r\n        editor.undo();\r\n    });\r\n    // redo\r\n    document.getElementById('redoButton').addEventListener('click', function () {\r\n        var editor = currentEditor_1.default();\r\n        editor.focus();\r\n        editor.redo();\r\n    });\r\n    // remove link\r\n    document.getElementById('removeLink').addEventListener('click', function () {\r\n        var editor = currentEditor_1.default();\r\n        editor.focus();\r\n        roosterjs_editor_api_1.removeLink(editor);\r\n    });\r\n    // font name\r\n    document.getElementById('fontNameButton').addEventListener('change', function () {\r\n        var editor = currentEditor_1.default();\r\n        var select = document.getElementById('fontNameButton');\r\n        var text = select.value;\r\n        if (text) {\r\n            roosterjs_editor_api_1.setFontName(editor, text);\r\n        }\r\n        select.value = '';\r\n    });\r\n    // font size\r\n    document.getElementById('fontSizeButton').addEventListener('change', function () {\r\n        var editor = currentEditor_1.default();\r\n        var select = document.getElementById('fontSizeButton');\r\n        var text = select.value;\r\n        if (text) {\r\n            roosterjs_editor_api_1.setFontSize(editor, text + 'pt');\r\n        }\r\n        select.value = '';\r\n    });\r\n    // text color\r\n    document.getElementById('textColorButton').addEventListener('change', function () {\r\n        var editor = currentEditor_1.default();\r\n        var select = document.getElementById('textColorButton');\r\n        var text = select.value;\r\n        if (text) {\r\n            roosterjs_editor_api_1.setTextColor(editor, text);\r\n        }\r\n        select.value = '';\r\n    });\r\n    // back color\r\n    document.getElementById('backColorButton').addEventListener('change', function () {\r\n        var editor = currentEditor_1.default();\r\n        var select = document.getElementById('backColorButton');\r\n        var text = select.value;\r\n        if (text) {\r\n            roosterjs_editor_api_1.setBackgroundColor(editor, text);\r\n        }\r\n        select.value = '';\r\n    });\r\n    // Sanitize HTML\r\n    document.getElementById('sanitizeHtmlButton').addEventListener('click', function () {\r\n        var editor = currentEditor_1.default();\r\n        var html = editor.getContent();\r\n        html = roosterjs_html_sanitizer_1.HtmlSanitizer.sanitizeHtml(html);\r\n        editor.setContent(html);\r\n    });\r\n}\r\nexports.default = initFormatBar;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar applyInlineStyle_1 = require(\"../utils/applyInlineStyle\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\n/**\r\n * Default font size sequence, in pt. Suggest editor UI use this sequence as your font size list,\r\n * So that when increase/decrease font size, the font size can match the sequence of your font size picker\r\n */\r\nexports.FONT_SIZES = [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72];\r\nvar MIN_FONT_SIZE = 1;\r\nvar MAX_FONT_SIZE = 1000;\r\n/**\r\n * Increase or decrease font size in selection\r\n * @param editor The editor instance\r\n * @param change Whether increase or decrease font size\r\n * @param fontSizes A sorted font size array, in pt. Default value is FONT_SIZES\r\n */\r\nfunction changeFontSize(editor, change, fontSizes) {\r\n    if (fontSizes === void 0) { fontSizes = exports.FONT_SIZES; }\r\n    var changeBase = change == 0 /* Increase */ ? 1 : -1;\r\n    applyInlineStyle_1.default(editor, function (element) {\r\n        var pt = parseFloat(roosterjs_editor_dom_1.getComputedStyle(element, 'font-size'));\r\n        element.style.fontSize = getNewFontSize(pt, changeBase, fontSizes) + 'pt';\r\n        var lineHeight = roosterjs_editor_dom_1.getComputedStyle(element, 'line-height');\r\n        if (lineHeight != 'normal') {\r\n            element.style.lineHeight = 'normal';\r\n        }\r\n    });\r\n}\r\nexports.default = changeFontSize;\r\nfunction getNewFontSize(pt, changeBase, fontSizes) {\r\n    pt = changeBase == 1 ? Math.floor(pt) : Math.ceil(pt);\r\n    var last = fontSizes[fontSizes.length - 1];\r\n    if (pt <= fontSizes[0]) {\r\n        pt = Math.max(pt + changeBase, MIN_FONT_SIZE);\r\n    }\r\n    else if (pt > last || (pt == last && changeBase == 1)) {\r\n        pt = pt / 10;\r\n        pt = changeBase == 1 ? Math.floor(pt) : Math.ceil(pt);\r\n        pt = Math.min(Math.max((pt + changeBase) * 10, last), MAX_FONT_SIZE);\r\n    }\r\n    else if (changeBase == 1) {\r\n        for (var i = 0; i < fontSizes.length; i++) {\r\n            if (pt < fontSizes[i]) {\r\n                pt = fontSizes[i];\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        for (var i = fontSizes.length - 1; i >= 0; i--) {\r\n            if (pt > fontSizes[i]) {\r\n                pt = fontSizes[i];\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return pt;\r\n}\r\nexports.getNewFontSize = getNewFontSize;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar contains_1 = require(\"../utils/contains\");\r\nvar getFirstLastBlockElement_1 = require(\"../blockElements/getFirstLastBlockElement\");\r\nvar getFirstLastInlineElement_1 = require(\"../inlineElements/getFirstLastInlineElement\");\r\n/**\r\n * provides scoper for traversing the entire editor body starting from the beginning\r\n */\r\nvar BodyScoper = /** @class */ (function () {\r\n    /**\r\n     * Construct a new instance of BodyScoper class\r\n     * @param rootNode Root node of the body\r\n     */\r\n    function BodyScoper(rootNode) {\r\n        this.rootNode = rootNode;\r\n    }\r\n    /**\r\n     * Get the start block element\r\n     */\r\n    BodyScoper.prototype.getStartBlockElement = function () {\r\n        return getFirstLastBlockElement_1.getFirstBlockElement(this.rootNode);\r\n    };\r\n    /**\r\n     * Get the start inline element\r\n     */\r\n    BodyScoper.prototype.getStartInlineElement = function () {\r\n        return getFirstLastInlineElement_1.getFirstInlineElement(this.rootNode);\r\n    };\r\n    /**\r\n     * Since the scope is global, all blocks under the root node are in scope\r\n     */\r\n    BodyScoper.prototype.isBlockInScope = function (blockElement) {\r\n        return contains_1.default(this.rootNode, blockElement.getStartNode());\r\n    };\r\n    /**\r\n     * Since we're at body scope, inline elements never need to be trimmed\r\n     */\r\n    BodyScoper.prototype.trimInlineElement = function (inlineElement) {\r\n        return inlineElement;\r\n    };\r\n    return BodyScoper;\r\n}());\r\nexports.default = BodyScoper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EmptyInlineElement_1 = require(\"../inlineElements/EmptyInlineElement\");\r\nvar getBlockElementAtNode_1 = require(\"../blockElements/getBlockElementAtNode\");\r\nvar Position_1 = require(\"../selection/Position\");\r\nvar getInlineElementBeforeAfter_1 = require(\"../inlineElements/getInlineElementBeforeAfter\");\r\n/**\r\n * This provides traversing content in a selection start block\r\n * This is commonly used for those cursor context sensitive plugin,\r\n * they want to know text being typed at cursor\r\n * This provides a scope for parsing from cursor position up to begin of the selection block\r\n */\r\nvar SelectionBlockScoper = /** @class */ (function () {\r\n    /**\r\n     * Create a new instance of SelectionBlockScoper class\r\n     * @param rootNode The root node of the whole scope\r\n     * @param position Position of the selection start\r\n     * @param startFrom Where to start, can be Begin, End, SelectionStart\r\n     */\r\n    function SelectionBlockScoper(rootNode, position, startFrom) {\r\n        this.rootNode = rootNode;\r\n        this.startFrom = startFrom;\r\n        position = position instanceof Range ? Position_1.default.getStart(position) : position;\r\n        this.position = position.normalize();\r\n        this.block = getBlockElementAtNode_1.default(this.rootNode, this.position.node);\r\n    }\r\n    /**\r\n     * Get the start block element\r\n     */\r\n    SelectionBlockScoper.prototype.getStartBlockElement = function () {\r\n        return this.block;\r\n    };\r\n    /**\r\n     * Get the start inline element\r\n     * The start inline refers to inline before the selection start\r\n     *  The reason why we choose the one before rather after is, when cursor is at the end of a paragragh,\r\n     * the one after likely will point to inline in next paragragh which may be null if the cursor is at bottom of editor\r\n     */\r\n    SelectionBlockScoper.prototype.getStartInlineElement = function () {\r\n        if (this.block) {\r\n            switch (this.startFrom) {\r\n                case 0 /* Begin */:\r\n                    return this.block.getFirstInlineElement();\r\n                case 1 /* End */:\r\n                    return this.block.getLastInlineElement();\r\n                case 2 /* SelectionStart */:\r\n                    // Get the inline before selection start point, and ensure it falls in the selection block\r\n                    var startInline = getInlineElementBeforeAfter_1.getInlineElementAfter(this.rootNode, this.position);\r\n                    return startInline && this.block.isInBlock(startInline)\r\n                        ? startInline\r\n                        : new EmptyInlineElement_1.default(this.position, this.block);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Check if the given block element is in current scope\r\n     * @param blockElement The block element to check\r\n     */\r\n    SelectionBlockScoper.prototype.isBlockInScope = function (blockElement) {\r\n        return this.block && blockElement ? this.block.equals(blockElement) : false;\r\n    };\r\n    /**\r\n     * Trim the incoming inline element, and return an inline element\r\n     * This just tests and return the inline element if it is in block\r\n     * This is a block scoper, which is not like selection scoper where it may cut an inline element in half\r\n     * A block scoper does not cut an inline in half\r\n     */\r\n    SelectionBlockScoper.prototype.trimInlineElement = function (inlineElement) {\r\n        return this.block && inlineElement && this.block.isInBlock(inlineElement)\r\n            ? inlineElement\r\n            : null;\r\n    };\r\n    return SelectionBlockScoper;\r\n}());\r\nexports.default = SelectionBlockScoper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getBlockElementAtNode_1 = require(\"../blockElements/getBlockElementAtNode\");\r\nvar PartialInlineElement_1 = require(\"../inlineElements/PartialInlineElement\");\r\nvar Position_1 = require(\"../selection/Position\");\r\nvar getInlineElementBeforeAfter_1 = require(\"../inlineElements/getInlineElementBeforeAfter\");\r\n/**\r\n * This is selection scoper that provide a start inline as the start of the selection\r\n * and checks if a block falls in the selection (isBlockInScope)\r\n * last trimInlineElement to trim any inline element to return a partial that falls in the selection\r\n */\r\nvar SelectionScoper = /** @class */ (function () {\r\n    /**\r\n     * Create a new instance of SelectionScoper class\r\n     * @param rootNode The root node of the content\r\n     * @param range The selection range to scope to\r\n     */\r\n    function SelectionScoper(rootNode, range) {\r\n        this.rootNode = rootNode;\r\n        this.start = Position_1.default.getStart(range).normalize();\r\n        this.end = Position_1.default.getEnd(range).normalize();\r\n    }\r\n    /**\r\n     * Provide a start block as the first block after the cursor\r\n     */\r\n    SelectionScoper.prototype.getStartBlockElement = function () {\r\n        if (!this.startBlock) {\r\n            this.startBlock = getBlockElementAtNode_1.default(this.rootNode, this.start.node);\r\n        }\r\n        return this.startBlock;\r\n    };\r\n    /**\r\n     * Provide a start inline as the first inline after the cursor\r\n     */\r\n    SelectionScoper.prototype.getStartInlineElement = function () {\r\n        if (!this.startInline) {\r\n            this.startInline = this.trimInlineElement(getInlineElementBeforeAfter_1.getInlineElementAfter(this.rootNode, this.start));\r\n        }\r\n        return this.startInline;\r\n    };\r\n    /**\r\n     * Checks if a block completely falls in the selection\r\n     * @param block The BlockElement to check\r\n     */\r\n    SelectionScoper.prototype.isBlockInScope = function (block) {\r\n        if (!block) {\r\n            return false;\r\n        }\r\n        var inScope = false;\r\n        var selStartBlock = this.getStartBlockElement();\r\n        if (this.start.equalTo(this.end)) {\r\n            inScope = selStartBlock && selStartBlock.equals(block);\r\n        }\r\n        else {\r\n            var selEndBlock = getBlockElementAtNode_1.default(this.rootNode, this.end.node);\r\n            // There are three cases that are considered as \"block in scope\"\r\n            // 1) The start of selection falls on the block\r\n            // 2) The end of selection falls on the block\r\n            // 3) the block falls in-between selection start and end\r\n            inScope =\r\n                selStartBlock &&\r\n                    selEndBlock &&\r\n                    (block.equals(selStartBlock) ||\r\n                        block.equals(selEndBlock) ||\r\n                        (block.isAfter(selStartBlock) && selEndBlock.isAfter(block)));\r\n        }\r\n        return inScope;\r\n    };\r\n    /**\r\n     * Trim an incoming inline. If it falls completely outside selection, return null\r\n     * otherwise return a partial that represents the portion that falls in the selection\r\n     * @param inline The InlineElement to check\r\n     */\r\n    SelectionScoper.prototype.trimInlineElement = function (inline) {\r\n        if (!inline || this.start.equalTo(this.end)) {\r\n            return null;\r\n        }\r\n        // Temp code. Will be changed to using InlineElement.getStart/EndPosition() soon\r\n        var start = inline.getStartPosition();\r\n        var end = inline.getEndPosition();\r\n        if (start.isAfter(this.end) || this.start.isAfter(end)) {\r\n            return null;\r\n        }\r\n        var startPartial = false;\r\n        var endPartial = false;\r\n        if (this.start.isAfter(start)) {\r\n            start = this.start;\r\n            startPartial = true;\r\n        }\r\n        if (end.isAfter(this.end)) {\r\n            end = this.end;\r\n            endPartial = true;\r\n        }\r\n        return start.isAfter(end) || start.equalTo(end)\r\n            ? null\r\n            : startPartial || endPartial\r\n                ? new PartialInlineElement_1.default(inline, startPartial && start, endPartial && end)\r\n                : inline;\r\n    };\r\n    return SelectionScoper;\r\n}());\r\nexports.default = SelectionScoper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ContentTraverser_1 = require(\"./ContentTraverser\");\r\nvar createRange_1 = require(\"../selection/createRange\");\r\nvar matchWhiteSpaces_1 = require(\"../utils/matchWhiteSpaces\");\r\n/**\r\n * The class that helps search content around a position\r\n */\r\nvar PositionContentSearcher = /** @class */ (function () {\r\n    /**\r\n     * Create a new CursorData instance\r\n     * @param rootNode Root node of the whole scope\r\n     * @param position Start position\r\n     */\r\n    function PositionContentSearcher(rootNode, position) {\r\n        this.rootNode = rootNode;\r\n        this.position = position;\r\n        // The cached text before position that has been read so far\r\n        this.text = '';\r\n        // All inline elements before position that have been read so far\r\n        this.inlineElements = [];\r\n    }\r\n    /**\r\n     * Get the word before position. The word is determined by scanning backwards till the first white space, the portion\r\n     * between position and the white space is the word before position\r\n     * @returns The word before position\r\n     */\r\n    PositionContentSearcher.prototype.getWordBefore = function () {\r\n        var _this = this;\r\n        if (!this.word) {\r\n            this.traverse(function () { return _this.word; });\r\n        }\r\n        return this.word;\r\n    };\r\n    /**\r\n     * Get the inline element before position\r\n     * @returns The inlineElement before position\r\n     */\r\n    PositionContentSearcher.prototype.getInlineElementBefore = function () {\r\n        if (!this.inlineBefore) {\r\n            this.traverse(null);\r\n        }\r\n        return this.inlineBefore;\r\n    };\r\n    /**\r\n     * Get the inline element after position\r\n     * @returns The inline element after position\r\n     */\r\n    PositionContentSearcher.prototype.getInlineElementAfter = function () {\r\n        if (!this.inlineAfter) {\r\n            this.inlineAfter = ContentTraverser_1.default.createBlockTraverser(this.rootNode, this.position).currentInlineElement;\r\n        }\r\n        return this.inlineAfter;\r\n    };\r\n    /**\r\n     * Get X number of chars before position\r\n     * The actual returned chars may be less than what is requested.\r\n     * @param length The length of string user want to get, the string always ends at the position,\r\n     * so this length determins the start position of the string\r\n     * @returns The actual string we get as a sub string, or the whole string before position when\r\n     * there is not enough chars in the string\r\n     */\r\n    PositionContentSearcher.prototype.getSubStringBefore = function (length) {\r\n        var _this = this;\r\n        if (this.text.length < length) {\r\n            this.traverse(function () { return _this.text.length >= length; });\r\n        }\r\n        return this.text.substr(Math.max(0, this.text.length - length));\r\n    };\r\n    /**\r\n     * Try to get a range matches the given text before the position\r\n     * @param text The text to match against\r\n     * @param exactMatch Whether it is an exact match\r\n     * @returns The range for the matched text, null if unable to find a match\r\n     */\r\n    PositionContentSearcher.prototype.getRangeFromText = function (text, exactMatch) {\r\n        if (!text) {\r\n            return null;\r\n        }\r\n        var startPosition;\r\n        var endPosition;\r\n        var textIndex = text.length - 1;\r\n        this.forEachTextInlineElement(function (textInline) {\r\n            var nodeContent = textInline.getTextContent() || '';\r\n            var nodeIndex = nodeContent.length - 1;\r\n            for (; nodeIndex >= 0 && textIndex >= 0; nodeIndex--) {\r\n                if (text.charCodeAt(textIndex) == nodeContent.charCodeAt(nodeIndex)) {\r\n                    textIndex--;\r\n                    // on first time when end is matched, set the end of range\r\n                    if (!endPosition) {\r\n                        endPosition = textInline.getStartPosition().move(nodeIndex + 1);\r\n                    }\r\n                }\r\n                else if (exactMatch || endPosition) {\r\n                    // Mismatch found when exact match or end already match, so return since matching failed\r\n                    return true;\r\n                }\r\n            }\r\n            // when textIndex == -1, we have a successful complete match\r\n            if (textIndex == -1) {\r\n                startPosition = textInline.getStartPosition().move(nodeIndex + 1);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return startPosition && endPosition && createRange_1.default(startPosition, endPosition);\r\n    };\r\n    /**\r\n     * Get text section before position till stop condition is met.\r\n     * This offers consumers to retrieve text section by section\r\n     * The section essentially is just an inline element which has Container element\r\n     * so that the consumer can remember it for anchoring popup or verification purpose\r\n     * when position moves out of context etc.\r\n     * @param stopFunc The callback stop function\r\n     */\r\n    PositionContentSearcher.prototype.forEachTextInlineElement = function (callback) {\r\n        // We cache all text sections read so far\r\n        // Every time when you ask for textSection, we start with the cached first\r\n        // and resort to further reading once we exhausted with the cache\r\n        if (!this.inlineElements.some(callback)) {\r\n            this.traverse(callback);\r\n        }\r\n    };\r\n    /**\r\n     * Get first non textual inline element before position\r\n     * @returns First non textutal inline element before position or null if no such element exists\r\n     */\r\n    PositionContentSearcher.prototype.getNearestNonTextInlineElement = function () {\r\n        var _this = this;\r\n        if (!this.nearestNonTextInlineElement) {\r\n            this.traverse(function () { return _this.nearestNonTextInlineElement; });\r\n        }\r\n        return this.nearestNonTextInlineElement;\r\n    };\r\n    /**\r\n     * Continue traversing backward till stop condition is met or begin of block is reached\r\n     */\r\n    PositionContentSearcher.prototype.traverse = function (callback) {\r\n        this.traverser =\r\n            this.traverser || ContentTraverser_1.default.createBlockTraverser(this.rootNode, this.position);\r\n        if (!this.traverser || this.traversingComplete) {\r\n            return;\r\n        }\r\n        var previousInline = this.traverser.getPreviousInlineElement();\r\n        while (!this.traversingComplete) {\r\n            this.inlineBefore = this.inlineBefore || previousInline;\r\n            if (previousInline && previousInline.isTextualInlineElement()) {\r\n                var textContent = previousInline.getTextContent();\r\n                // build the word before position if it is not built yet\r\n                if (!this.word) {\r\n                    // Match on the white space, the portion after space is on the index of 1 of the matched result\r\n                    // (index at 0 is whole match result, index at 1 is the word)\r\n                    var matches = matchWhiteSpaces_1.default(textContent);\r\n                    if (matches && matches.length == 2) {\r\n                        this.word = matches[1] + this.text;\r\n                    }\r\n                }\r\n                this.text = textContent + this.text;\r\n                this.inlineElements.push(previousInline);\r\n                // Check if stop condition is met\r\n                if (callback && callback(previousInline)) {\r\n                    break;\r\n                }\r\n            }\r\n            else {\r\n                this.nearestNonTextInlineElement = previousInline;\r\n                this.traversingComplete = true;\r\n                if (!this.word) {\r\n                    // if parsing is done, whatever we get so far in this.cachedText should also be in this.cachedWordBeforeCursor\r\n                    this.word = this.text;\r\n                }\r\n                // When a non-textual inline element, or null is seen, we consider parsing complete\r\n                // TODO: we may need to change this if there is a future need to parse beyond text, i.e.\r\n                // we have aaa @someone bbb<position>, and we want to read the text before @someone\r\n                break;\r\n            }\r\n            previousInline = this.traverser.getPreviousInlineElement();\r\n        }\r\n    };\r\n    return PositionContentSearcher;\r\n}());\r\nexports.default = PositionContentSearcher;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar NodeInlineElement_1 = require(\"./NodeInlineElement\");\r\n// This refers to an inline element that represents a text node\r\nvar TextInlineElement = /** @class */ (function (_super) {\r\n    __extends(TextInlineElement, _super);\r\n    function TextInlineElement(containerNode, parentBlock) {\r\n        return _super.call(this, containerNode, parentBlock) || this;\r\n    }\r\n    return TextInlineElement;\r\n}(NodeInlineElement_1.default));\r\nexports.default = TextInlineElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Get current browser information from user agent string\r\n * @param userAgent The userAgent string of a browser\r\n * @param appVersion The appVersion string of a browser\r\n * @returns The BrowserInfo object calculated from the given userAgent and appVersion\r\n */\r\nfunction getBrowserInfo(userAgent, appVersion) {\r\n    // checks whether the browser is running in IE\r\n    // IE11 will use rv in UA instead of MSIE. Unfortunately Firefox also uses this. We should also look for \"Trident\" to confirm this.\r\n    // There have been cases where companies using older version of IE and custom UserAgents have broken this logic (e.g. IE 10 and KellyServices)\r\n    // therefore we should check that the Trident/rv combo is not just from an older IE browser\r\n    var isIE11OrGreater = userAgent.indexOf('rv:') != -1 && userAgent.indexOf('Trident') != -1;\r\n    var isIE = userAgent.indexOf('MSIE') != -1 || isIE11OrGreater;\r\n    // IE11+ may also have 'Chrome', 'Firefox' and 'Safari' in user agent. But it will have 'trident' as well\r\n    var isChrome = false;\r\n    var isFirefox = false;\r\n    var isSafari = false;\r\n    var isEdge = false;\r\n    var isWebKit = userAgent.indexOf('WebKit') != -1;\r\n    if (!isIE) {\r\n        isChrome = userAgent.indexOf('Chrome') != -1;\r\n        isFirefox = userAgent.indexOf('Firefox') != -1;\r\n        if (userAgent.indexOf('Safari') != -1) {\r\n            // Android and Chrome have Safari in the user string\r\n            isSafari = userAgent.indexOf('Chrome') == -1 && userAgent.indexOf('Android') == -1;\r\n        }\r\n        // Sample Edge UA: Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.10121\r\n        isEdge = userAgent.indexOf('Edge') != -1;\r\n        // When it is edge, it should not be chrome or firefox. and it is also not webkit\r\n        if (isEdge) {\r\n            isWebKit = isChrome = isFirefox = false;\r\n        }\r\n    }\r\n    var isMac = appVersion.indexOf('Mac') != -1;\r\n    var isWin = appVersion.indexOf('Win') != -1 || appVersion.indexOf('NT') != -1;\r\n    return {\r\n        isMac: isMac,\r\n        isWin: isWin,\r\n        isWebKit: isWebKit,\r\n        isIE: isIE,\r\n        isIE11OrGreater: isIE11OrGreater,\r\n        isSafari: isSafari,\r\n        isChrome: isChrome,\r\n        isFirefox: isFirefox,\r\n        isEdge: isEdge,\r\n        isIEOrEdge: isIE || isEdge,\r\n    };\r\n}\r\nexports.getBrowserInfo = getBrowserInfo;\r\nvar Browser = window\r\n    ? getBrowserInfo(window.navigator.userAgent, window.navigator.appVersion)\r\n    : {};\r\nexports.default = Browser;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Apply format to an HTML element\r\n * @param element The HTML element to apply format to\r\n * @param format The format to apply\r\n */\r\nfunction applyFormat(element, format) {\r\n    if (format) {\r\n        var elementStyle = element.style;\r\n        var fontFamily = format.fontFamily, fontSize = format.fontSize, textColor = format.textColor, backgroundColor = format.backgroundColor, bold = format.bold, italic = format.italic, underline = format.underline;\r\n        if (fontFamily) {\r\n            elementStyle.fontFamily = fontFamily;\r\n        }\r\n        if (fontSize) {\r\n            elementStyle.fontSize = fontSize;\r\n        }\r\n        if (textColor) {\r\n            elementStyle.color = textColor;\r\n        }\r\n        if (backgroundColor) {\r\n            elementStyle.backgroundColor = backgroundColor;\r\n        }\r\n        if (bold) {\r\n            elementStyle.fontWeight = 'bold';\r\n        }\r\n        if (italic) {\r\n            elementStyle.fontStyle = 'italic';\r\n        }\r\n        if (underline) {\r\n            elementStyle.textDecoration = 'underline';\r\n        }\r\n    }\r\n}\r\nexports.default = applyFormat;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getComputedStyles_1 = require(\"./getComputedStyles\");\r\nvar getTagOfNode_1 = require(\"./getTagOfNode\");\r\nfunction changeElementTag(element, newTag) {\r\n    var _a;\r\n    if (!element || !newTag) {\r\n        return null;\r\n    }\r\n    var newElement = element.ownerDocument.createElement(newTag);\r\n    for (var i = 0; i < element.attributes.length; i++) {\r\n        var attr = element.attributes[i];\r\n        newElement.setAttribute(attr.name, attr.value);\r\n    }\r\n    while (element.firstChild) {\r\n        newElement.appendChild(element.firstChild);\r\n    }\r\n    if (getTagOfNode_1.default(element) == 'P' || getTagOfNode_1.default(newElement) == 'P') {\r\n        _a = getComputedStyles_1.default(element, [\r\n            'margin-top',\r\n            'margin-bottom',\r\n        ]), newElement.style.marginTop = _a[0], newElement.style.marginBottom = _a[1];\r\n    }\r\n    if (element.parentNode) {\r\n        element.parentNode.replaceChild(newElement, element);\r\n    }\r\n    return newElement;\r\n}\r\nexports.default = changeElementTag;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// http exclude matching regex\r\n// invalid URL example (in paricular on IE and Edge):\r\n// - http://www.bing.com%00, %00 before ? (question mark) is considered invalid. IE/Edge throws invalid argument exception\r\n// - http://www.bing.com%1, %1 is invalid\r\n// - http://www.bing.com%g, %g is invalid (IE and Edge expects a two hex value after a %)\r\n// - http://www.bing.com%, % as ending is invalid (IE and Edge expects a two hex value after a %)\r\n// All above % cases if they're after ? (question mark) is then considered valid again\r\n// Similar for @, it needs to be after / (forward slash), or ? (question mark). Otherwise IE/Edge will throw security exception\r\n// - http://www.bing.com@name, @name before ? (question mark) is considered invalid\r\n// - http://www.bing.com/@name, is valid sine it is after / (forward slash)\r\n// - http://www.bing.com?@name, is also valid sinve it is after ? (question mark)\r\n// The regex below is essentially a break down of:\r\n// ^[^?]+%[^0-9a-f]+ => to exclude URL like www.bing.com%%\r\n// ^[^?]+%[0-9a-f][^0-9a-f]+ => to exclude URL like www.bing.com%1\r\n// ^[^?]+%00 => to exclude URL like www.bing.com%00\r\n// ^[^?]+%$ => to exclude URL like www.bing.com%\r\n// ^https?:\\/\\/[^?\\/]+@ => to exclude URL like http://www.bing.com@name\r\n// ^www\\.[^?\\/]+@ => to exclude URL like www.bing.com@name\r\n// , => to exclude url like www.bing,,com\r\nvar httpExcludeRegEx = /^[^?]+%[^0-9a-f]+|^[^?]+%[0-9a-f][^0-9a-f]+|^[^?]+%00|^[^?]+%$|^https?:\\/\\/[^?\\/]+@|^www\\.[^?\\/]+@/i;\r\n// via https://tools.ietf.org/html/rfc1035 Page 7\r\nvar labelRegEx = '[a-z0-9](?:[a-z0-9-]*[a-z0-9])?'; // We're using case insensitive regexes below so don't bother including A-Z\r\nvar domainNameRegEx = \"(?:\" + labelRegEx + \"\\\\.)*\" + labelRegEx;\r\nvar domainPortRegEx = domainNameRegEx + \"(?:\\\\:[0-9]+)?\";\r\nvar domainPortWithUrlRegEx = domainPortRegEx + \"(?:[\\\\/\\\\?]\\\\S*)?\";\r\nvar linkMatchRules = {\r\n    http: {\r\n        match: new RegExp(\"^(?:microsoft-edge:)?http:\\\\/\\\\/\" + domainPortWithUrlRegEx + \"|www\\\\.\" + domainPortWithUrlRegEx, 'i'),\r\n        except: httpExcludeRegEx,\r\n        normalizeUrl: function (url) {\r\n            return new RegExp('^(?:microsoft-edge:)?http:\\\\/\\\\/', 'i').test(url) ? url : 'http://' + url;\r\n        },\r\n    },\r\n    https: {\r\n        match: new RegExp(\"^(?:microsoft-edge:)?https:\\\\/\\\\/\" + domainPortWithUrlRegEx, 'i'),\r\n        except: httpExcludeRegEx,\r\n    },\r\n    mailto: { match: new RegExp('^mailto:\\\\S+@\\\\S+\\\\.\\\\S+', 'i') },\r\n    notes: { match: new RegExp('^notes:\\\\/\\\\/\\\\S+', 'i') },\r\n    file: { match: new RegExp('^file:\\\\/\\\\/\\\\/?\\\\S+', 'i') },\r\n    unc: { match: new RegExp('^\\\\\\\\\\\\\\\\\\\\S+', 'i') },\r\n    ftp: {\r\n        match: new RegExp(\"^ftp:\\\\/\\\\/\" + domainPortWithUrlRegEx + \"|ftp\\\\.\" + domainPortWithUrlRegEx, 'i'),\r\n        normalizeUrl: function (url) { return (new RegExp('^ftp:\\\\/\\\\/', 'i').test(url) ? url : 'ftp://' + url); },\r\n    },\r\n    news: { match: new RegExp(\"^news:(\\\\/\\\\/)?\" + domainPortWithUrlRegEx, 'i') },\r\n    telnet: { match: new RegExp(\"^telnet:(\\\\/\\\\/)?\" + domainPortWithUrlRegEx, 'i') },\r\n    gopher: { match: new RegExp(\"^gopher:\\\\/\\\\/\" + domainPortWithUrlRegEx, 'i') },\r\n    wais: { match: new RegExp(\"^wais:(\\\\/\\\\/)?\" + domainPortWithUrlRegEx, 'i') },\r\n};\r\n/**\r\n * Try to match a given string with link match rules, return matched link\r\n * @param url Input url to match\r\n * @param option Link match option, exact or partial. If it is exact match, we need\r\n * to check the length of matched link and url\r\n * @param rules Optional link match rules, if not passed, only the default link match\r\n * rules will be applied\r\n * @returns The matched link data, or null if no match found.\r\n * The link data includes an original url and a normalized url\r\n */\r\nfunction matchLink(url) {\r\n    if (url) {\r\n        for (var _i = 0, _a = Object.keys(linkMatchRules); _i < _a.length; _i++) {\r\n            var schema = _a[_i];\r\n            var rule = linkMatchRules[schema];\r\n            var matches = url.match(rule.match);\r\n            if (matches && matches[0] == url && (!rule.except || !rule.except.test(url))) {\r\n                return {\r\n                    scheme: schema,\r\n                    originalUrl: url,\r\n                    normalizedUrl: rule.normalizeUrl ? rule.normalizeUrl(url) : url,\r\n                };\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexports.default = matchLink;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Removes the node and keep all children in place, return the parentNode where the children are attached\r\n * @param node the node to remove\r\n */\r\nfunction unwrap(node) {\r\n    // Unwrap requires a parentNode\r\n    var parentNode = node ? node.parentNode : null;\r\n    if (!parentNode) {\r\n        return null;\r\n    }\r\n    while (node.firstChild) {\r\n        parentNode.insertBefore(node.firstChild, node);\r\n    }\r\n    parentNode.removeChild(node);\r\n    return parentNode;\r\n}\r\nexports.default = unwrap;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * A virtual table class, represent an HTML table, by expand all merged cells to each separated cells\r\n */\r\nvar VTable = /** @class */ (function () {\r\n    /**\r\n     * Create a new instance of VTable object using HTML TABLE or TD node\r\n     * @param node The HTML Table or TD node\r\n     */\r\n    function VTable(node) {\r\n        var _this = this;\r\n        this.trs = [];\r\n        this.table = node instanceof HTMLTableElement ? node : getTableFromTd(node);\r\n        if (this.table) {\r\n            var currentTd_1 = node instanceof HTMLTableElement ? null : node;\r\n            var trs = [].slice.call(this.table.rows);\r\n            this.cells = trs.map(function (row) { return []; });\r\n            trs.forEach(function (tr, rowIndex) {\r\n                _this.trs[rowIndex % 2] = tr;\r\n                for (var sourceCol = 0, targetCol = 0; sourceCol < tr.cells.length; sourceCol++) {\r\n                    // Skip the cells which already initialized\r\n                    for (; _this.cells[rowIndex][targetCol]; targetCol++) { }\r\n                    var td = tr.cells[sourceCol];\r\n                    if (td == currentTd_1) {\r\n                        _this.col = targetCol;\r\n                        _this.row = rowIndex;\r\n                    }\r\n                    for (var colSpan = 0; colSpan < td.colSpan; colSpan++, targetCol++) {\r\n                        for (var rowSpan = 0; rowSpan < td.rowSpan; rowSpan++) {\r\n                            _this.cells[rowIndex + rowSpan][targetCol] = {\r\n                                td: colSpan + rowSpan == 0 ? td : null,\r\n                                spanLeft: colSpan > 0,\r\n                                spanAbove: rowSpan > 0,\r\n                            };\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Write the virtual table back to DOM tree to represent the change of VTable\r\n     */\r\n    VTable.prototype.writeBack = function () {\r\n        var _this = this;\r\n        if (this.cells) {\r\n            moveChildren(this.table);\r\n            this.cells.forEach(function (row, r) {\r\n                var tr = cloneNode(_this.trs[r % 2] || _this.trs[0]);\r\n                _this.table.appendChild(tr);\r\n                row.forEach(function (cell, c) {\r\n                    if (cell.td) {\r\n                        _this.recalcSpans(r, c);\r\n                        tr.appendChild(cell.td);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        else if (this.table) {\r\n            this.table.parentNode.removeChild(this.table);\r\n        }\r\n    };\r\n    /**\r\n     * Apply the given table format to this virtual table\r\n     * @param format Table format to apply\r\n     */\r\n    VTable.prototype.applyFormat = function (format) {\r\n        if (!format || !this.table) {\r\n            return;\r\n        }\r\n        this.table.style.borderCollapse = 'collapse';\r\n        this.trs[0].style.backgroundColor = format.bgColorOdd || 'transparent';\r\n        if (this.trs[1]) {\r\n            this.trs[1].style.backgroundColor = format.bgColorEven || 'transparent';\r\n        }\r\n        this.cells.forEach(function (row) {\r\n            return row.filter(function (cell) { return cell.td; }).forEach(function (cell) {\r\n                cell.td.style.borderTop = getBorderStyle(format.topBorderColor);\r\n                cell.td.style.borderBottom = getBorderStyle(format.bottomBorderColor);\r\n                cell.td.style.borderLeft = getBorderStyle(format.verticalBorderColor);\r\n                cell.td.style.borderRight = getBorderStyle(format.verticalBorderColor);\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Edit table with given operation.\r\n     * @param operation Table operation\r\n     */\r\n    VTable.prototype.edit = function (operation) {\r\n        var _this = this;\r\n        if (!this.table) {\r\n            return;\r\n        }\r\n        var currentRow = this.cells[this.row];\r\n        var currentCell = currentRow[this.col];\r\n        switch (operation) {\r\n            case 0 /* InsertAbove */:\r\n                this.cells.splice(this.row, 0, currentRow.map(cloneCell));\r\n                break;\r\n            case 1 /* InsertBelow */:\r\n                var newRow_1 = this.row + this.countSpanAbove(this.row, this.col);\r\n                this.cells.splice(newRow_1, 0, this.cells[newRow_1 - 1].map(function (cell, colIndex) {\r\n                    var nextCell = _this.getCell(newRow_1, colIndex);\r\n                    if (nextCell.spanAbove) {\r\n                        return cloneCell(nextCell);\r\n                    }\r\n                    else if (cell.spanLeft) {\r\n                        var newCell = cloneCell(cell);\r\n                        newCell.spanAbove = false;\r\n                        return newCell;\r\n                    }\r\n                    else {\r\n                        return {\r\n                            td: cloneNode(_this.getTd(_this.row, colIndex)),\r\n                        };\r\n                    }\r\n                }));\r\n                break;\r\n            case 2 /* InsertLeft */:\r\n                this.forEachCellOfCurrentColumn(function (cell, row) {\r\n                    row.splice(_this.col, 0, cloneCell(cell));\r\n                });\r\n                break;\r\n            case 3 /* InsertRight */:\r\n                var newCol_1 = this.col + this.countSpanLeft(this.row, this.col);\r\n                this.forEachCellOfColumn(newCol_1 - 1, function (cell, row, i) {\r\n                    var nextCell = _this.getCell(i, newCol_1);\r\n                    var newCell;\r\n                    if (nextCell.spanLeft) {\r\n                        newCell = cloneCell(nextCell);\r\n                    }\r\n                    else if (cell.spanAbove) {\r\n                        newCell = cloneCell(cell);\r\n                        newCell.spanLeft = false;\r\n                    }\r\n                    else {\r\n                        newCell = {\r\n                            td: cloneNode(_this.getTd(i, _this.col)),\r\n                        };\r\n                    }\r\n                    row.splice(newCol_1, 0, newCell);\r\n                });\r\n                break;\r\n            case 6 /* DeleteRow */:\r\n                this.forEachCellOfCurrentRow(function (cell, i) {\r\n                    var nextCell = _this.getCell(_this.row + 1, i);\r\n                    if (cell.td && cell.td.rowSpan > 1 && nextCell.spanAbove) {\r\n                        nextCell.td = cell.td;\r\n                    }\r\n                });\r\n                this.cells.splice(this.row, 1);\r\n                break;\r\n            case 5 /* DeleteColumn */:\r\n                this.forEachCellOfCurrentColumn(function (cell, row, i) {\r\n                    var nextCell = _this.getCell(i, _this.col + 1);\r\n                    if (cell.td && cell.td.colSpan > 1 && nextCell.spanLeft) {\r\n                        nextCell.td = cell.td;\r\n                    }\r\n                    row.splice(_this.col, 1);\r\n                });\r\n                break;\r\n            case 7 /* MergeAbove */:\r\n            case 8 /* MergeBelow */:\r\n                var rowStep = operation == 7 /* MergeAbove */ ? -1 : 1;\r\n                for (var rowIndex = this.row + rowStep; rowIndex >= 0 && rowIndex < this.cells.length; rowIndex += rowStep) {\r\n                    var cell = this.getCell(rowIndex, this.col);\r\n                    if (cell.td && !cell.spanAbove) {\r\n                        var aboveCell = rowIndex < this.row ? cell : currentCell;\r\n                        var belowCell = rowIndex < this.row ? currentCell : cell;\r\n                        if (aboveCell.td.colSpan == belowCell.td.colSpan) {\r\n                            moveChildren(belowCell.td, aboveCell.td);\r\n                            belowCell.td = null;\r\n                            belowCell.spanAbove = true;\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n            case 9 /* MergeLeft */:\r\n            case 10 /* MergeRight */:\r\n                var colStep = operation == 9 /* MergeLeft */ ? -1 : 1;\r\n                for (var colIndex = this.col + colStep; colIndex >= 0 && colIndex < this.cells[this.row].length; colIndex += colStep) {\r\n                    var cell = this.getCell(this.row, colIndex);\r\n                    if (cell.td && !cell.spanLeft) {\r\n                        var leftCell = colIndex < this.col ? cell : currentCell;\r\n                        var rightCell = colIndex < this.col ? currentCell : cell;\r\n                        if (leftCell.td.rowSpan == rightCell.td.rowSpan) {\r\n                            moveChildren(rightCell.td, leftCell.td);\r\n                            rightCell.td = null;\r\n                            rightCell.spanLeft = true;\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n            case 4 /* DeleteTable */:\r\n                this.cells = null;\r\n                break;\r\n            case 12 /* SplitVertically */:\r\n                if (currentCell.td.rowSpan > 1) {\r\n                    this.getCell(this.row + 1, this.col).td = cloneNode(currentCell.td);\r\n                }\r\n                else {\r\n                    var splitRow = currentRow.map(function (cell) {\r\n                        return {\r\n                            td: cell == currentCell ? cloneNode(cell.td) : null,\r\n                            spanAbove: cell != currentCell,\r\n                            spanLeft: cell.spanLeft,\r\n                        };\r\n                    });\r\n                    this.cells.splice(this.row + 1, 0, splitRow);\r\n                }\r\n                break;\r\n            case 11 /* SplitHorizontally */:\r\n                if (currentCell.td.colSpan > 1) {\r\n                    this.getCell(this.row, this.col + 1).td = cloneNode(currentCell.td);\r\n                }\r\n                else {\r\n                    this.forEachCellOfCurrentColumn(function (cell, row) {\r\n                        row.splice(_this.col + 1, 0, {\r\n                            td: row == currentRow ? cloneNode(cell.td) : null,\r\n                            spanAbove: cell.spanAbove,\r\n                            spanLeft: row != currentRow,\r\n                        });\r\n                    });\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Loop each cell of current column and invoke a callback function\r\n     * @param callback The callback function to invoke\r\n     */\r\n    VTable.prototype.forEachCellOfCurrentColumn = function (callback) {\r\n        this.forEachCellOfColumn(this.col, callback);\r\n    };\r\n    /**\r\n     * Loop each cell of current row and invoke a callback function\r\n     * @param callback The callback function to invoke\r\n     */\r\n    VTable.prototype.forEachCellOfCurrentRow = function (callback) {\r\n        this.forEachCellOfRow(this.row, callback);\r\n    };\r\n    /**\r\n     * Get a table cell using its row and column index. This function will always return an object\r\n     * even if the given indexes don't exist in table.\r\n     * @param row The row index\r\n     * @param col The column index\r\n     */\r\n    VTable.prototype.getCell = function (row, col) {\r\n        return (this.cells && this.cells[row] && this.cells[row][col]) || {};\r\n    };\r\n    /**\r\n     * Get current HTML table cell object. If the current table cell is a virtual expanded cell, return its root cell\r\n     */\r\n    VTable.prototype.getCurrentTd = function () {\r\n        return this.getTd(this.row, this.col);\r\n    };\r\n    VTable.prototype.getTd = function (row, col) {\r\n        if (this.cells) {\r\n            row = Math.min(this.cells.length - 1, row);\r\n            col = Math.min(this.cells[row].length - 1, col);\r\n            while (row >= 0 && col >= 0) {\r\n                var cell = this.getCell(row, col);\r\n                if (cell.td) {\r\n                    return cell.td;\r\n                }\r\n                else if (cell.spanLeft) {\r\n                    col--;\r\n                }\r\n                else if (cell.spanAbove) {\r\n                    row--;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    VTable.prototype.forEachCellOfColumn = function (col, callback) {\r\n        for (var i = 0; i < this.cells.length; i++) {\r\n            callback(this.getCell(i, col), this.cells[i], i);\r\n        }\r\n    };\r\n    VTable.prototype.forEachCellOfRow = function (row, callback) {\r\n        for (var i = 0; i < this.cells[row].length; i++) {\r\n            callback(this.getCell(row, i), i);\r\n        }\r\n    };\r\n    VTable.prototype.recalcSpans = function (row, col) {\r\n        var td = this.getCell(row, col).td;\r\n        if (td) {\r\n            td.colSpan = this.countSpanLeft(row, col);\r\n            td.rowSpan = this.countSpanAbove(row, col);\r\n            if (td.colSpan == 1) {\r\n                td.removeAttribute('colSpan');\r\n            }\r\n            if (td.rowSpan == 1) {\r\n                td.removeAttribute('rowSpan');\r\n            }\r\n        }\r\n    };\r\n    VTable.prototype.countSpanLeft = function (row, col) {\r\n        var result = 1;\r\n        for (var i = col + 1; i < this.cells[row].length; i++) {\r\n            var cell = this.getCell(row, i);\r\n            if (cell.td || !cell.spanLeft) {\r\n                break;\r\n            }\r\n            result++;\r\n        }\r\n        return result;\r\n    };\r\n    VTable.prototype.countSpanAbove = function (row, col) {\r\n        var result = 1;\r\n        for (var i = row + 1; i < this.cells.length; i++) {\r\n            var cell = this.getCell(i, col);\r\n            if (cell.td || !cell.spanAbove) {\r\n                break;\r\n            }\r\n            result++;\r\n        }\r\n        return result;\r\n    };\r\n    return VTable;\r\n}());\r\nexports.default = VTable;\r\nfunction getTableFromTd(td) {\r\n    var result = td;\r\n    for (; result && result.tagName != 'TABLE'; result = result.parentElement) { }\r\n    return result;\r\n}\r\nfunction getBorderStyle(style) {\r\n    return 'solid 1px ' + (style || 'transparent');\r\n}\r\n/**\r\n * Clone a table cell\r\n * @param cell The cell to clone\r\n */\r\nfunction cloneCell(cell) {\r\n    return {\r\n        td: cloneNode(cell.td),\r\n        spanAbove: cell.spanAbove,\r\n        spanLeft: cell.spanLeft,\r\n    };\r\n}\r\n/**\r\n * Clone a node without its children.\r\n * @param node The node to clone\r\n */\r\nfunction cloneNode(node) {\r\n    var newNode = node ? node.cloneNode(false /*deep*/) : null;\r\n    if (newNode && newNode instanceof HTMLTableCellElement) {\r\n        newNode.removeAttribute('id');\r\n        if (!newNode.firstChild) {\r\n            newNode.appendChild(node.ownerDocument.createElement('br'));\r\n        }\r\n    }\r\n    return newNode;\r\n}\r\n/**\r\n * Move all children from one node to another\r\n * @param fromNode The source node to move children from\r\n * @param toNode Target node. If not passed, children nodes of source node will be removed\r\n */\r\nfunction moveChildren(fromNode, toNode) {\r\n    while (fromNode.firstChild) {\r\n        if (toNode) {\r\n            toNode.appendChild(fromNode.firstChild);\r\n        }\r\n        else {\r\n            fromNode.removeChild(fromNode.firstChild);\r\n        }\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar createRange_1 = require(\"./createRange\");\r\n/**\r\n * Get bounding rect of this position\r\n * @param position The positioin to get rect from\r\n */\r\nfunction getPositionRect(position) {\r\n    if (!position) {\r\n        return null;\r\n    }\r\n    var range = createRange_1.default(position);\r\n    // 1) try to get rect using range.getBoundingClientRect()\r\n    var rect = range.getBoundingClientRect && normalizeRect(range.getBoundingClientRect());\r\n    if (rect) {\r\n        return rect;\r\n    }\r\n    // 2) try to get rect using range.getClientRects\r\n    position = position.normalize();\r\n    var rects = range.getClientRects && range.getClientRects();\r\n    rect = rects && rects.length == 1 && normalizeRect(rects[0]);\r\n    if (rect) {\r\n        return rect;\r\n    }\r\n    // 3) if node is text node, try inserting a SPAN and get the rect of SPAN for others\r\n    if (position.node.nodeType == 3 /* Text */) {\r\n        var span = document.createElement('SPAN');\r\n        span.innerHTML = '\\u200b';\r\n        range = createRange_1.default(position);\r\n        range.insertNode(span);\r\n        rect = span.getBoundingClientRect && normalizeRect(span.getBoundingClientRect());\r\n        span.parentNode.removeChild(span);\r\n        if (rect) {\r\n            return rect;\r\n        }\r\n    }\r\n    // 4) try getBoundingClientRect on element\r\n    var element = position.element;\r\n    if (element && element.getBoundingClientRect) {\r\n        rect = normalizeRect(element.getBoundingClientRect());\r\n        if (rect) {\r\n            return rect;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexports.default = getPositionRect;\r\nfunction normalizeRect(clientRect) {\r\n    // A ClientRect of all 0 is possible. i.e. chrome returns a ClientRect of 0 when the cursor is on an empty p\r\n    // We validate that and only return a rect when the passed in ClientRect is valid\r\n    var _a = clientRect || {}, left = _a.left, right = _a.right, top = _a.top, bottom = _a.bottom;\r\n    return left + right + top + bottom > 0\r\n        ? {\r\n            left: Math.round(left),\r\n            right: Math.round(right),\r\n            top: Math.round(top),\r\n            bottom: Math.round(bottom),\r\n        }\r\n        : null;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar contains_1 = require(\"../utils/contains\");\r\nvar isNodeEmpty_1 = require(\"../utils/isNodeEmpty\");\r\n/**\r\n * Check if this position is at beginning of the given node.\r\n * This will return true if all nodes between the beginning of target node and the position are empty.\r\n * @param position The position to check\r\n * @param targetNode The node to check\r\n * @returns True if position is at beginning of the node, otherwise false\r\n */\r\nfunction isPositionAtBeginningOf(position, targetNode) {\r\n    if (position) {\r\n        var _a = position.normalize(), node = _a.node, offset = _a.offset;\r\n        if (offset == 0) {\r\n            while (contains_1.default(targetNode, node) && areAllPrevousNodesEmpty(node)) {\r\n                node = node.parentNode;\r\n            }\r\n            return node == targetNode;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexports.default = isPositionAtBeginningOf;\r\nfunction areAllPrevousNodesEmpty(node) {\r\n    while (node.previousSibling) {\r\n        node = node.previousSibling;\r\n        if (!isNodeEmpty_1.default(node)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar contains_1 = require(\"../utils/contains\");\r\nvar createRange_1 = require(\"./createRange\");\r\nvar Position_1 = require(\"./Position\");\r\n/**\r\n * Get path of the given selection range related to the given rootNode\r\n * @param rootNode The root node where the path start from\r\n * @param range The range of selection\r\n */\r\nfunction getSelectionPath(rootNode, range) {\r\n    if (!range) {\r\n        return null;\r\n    }\r\n    var selectionPath = {\r\n        start: getPositionPath(Position_1.default.getStart(range), rootNode),\r\n        end: getPositionPath(Position_1.default.getEnd(range), rootNode),\r\n    };\r\n    return selectionPath;\r\n}\r\nexports.default = getSelectionPath;\r\n/**\r\n * Get range from the given selection path\r\n * @param rootNode Root node of the selection path\r\n * @param path The selection path which contains start and end position path\r\n */\r\nfunction getRangeFromSelectionPath(rootNode, path) {\r\n    var start = getPositionFromPath(rootNode, path.start);\r\n    var end = getPositionFromPath(rootNode, path.end);\r\n    return createRange_1.default(start, end);\r\n}\r\nexports.getRangeFromSelectionPath = getRangeFromSelectionPath;\r\nfunction getPositionFromPath(node, path) {\r\n    if (!node || !path) {\r\n        return null;\r\n    }\r\n    // Iterate with a for loop to avoid mutating the passed in element path stack\r\n    // or needing to copy it.\r\n    var offset;\r\n    for (var i = 0; i < path.length; i++) {\r\n        offset = path[i];\r\n        if (i < path.length - 1 &&\r\n            node &&\r\n            node.nodeType == 1 /* Element */ &&\r\n            node.childNodes.length > offset) {\r\n            node = node.childNodes[offset];\r\n        }\r\n        else {\r\n            break;\r\n        }\r\n    }\r\n    return new Position_1.default(node, offset);\r\n}\r\n/**\r\n * Get the path of the node relative to rootNode.\r\n * The path of the node is an array of integer indecies into the childNodes of the given node.\r\n *\r\n * The node path will be what the node path will be on a _normalized_ dom\r\n * (e.g. empty text nodes will be ignored and adjacent text nodes will be concatenated)\r\n *\r\n * @param rootNode the node the path will be relative to\r\n * @param position the position to get indexes from. Follows the same semantics\r\n * as selectionRange (if node is of type Text, it is an offset into the text of that node.\r\n * If node is of type Element, it is the index of a child in that Element node.)\r\n */\r\nfunction getPositionPath(position, rootNode) {\r\n    if (!position || !rootNode) {\r\n        return [];\r\n    }\r\n    var node = position.node, offset = position.offset;\r\n    var result = [];\r\n    var parent;\r\n    if (!contains_1.default(rootNode, node, true)) {\r\n        return [];\r\n    }\r\n    if (node.nodeType == 3 /* Text */) {\r\n        parent = node.parentNode;\r\n        while (node.previousSibling && node.previousSibling.nodeType == 3 /* Text */) {\r\n            offset += node.previousSibling.nodeValue.length;\r\n            node = node.previousSibling;\r\n        }\r\n        result.unshift(offset);\r\n    }\r\n    else {\r\n        parent = node;\r\n        node = node.childNodes[offset];\r\n    }\r\n    do {\r\n        offset = 0;\r\n        var isPreviousText = false;\r\n        for (var c = parent.firstChild; c && c != node; c = c.nextSibling) {\r\n            if (c.nodeType == 3 /* Text */) {\r\n                if (c.nodeValue.length == 0 || isPreviousText) {\r\n                    continue;\r\n                }\r\n                isPreviousText = true;\r\n            }\r\n            else {\r\n                isPreviousText = false;\r\n            }\r\n            offset++;\r\n        }\r\n        result.unshift(offset);\r\n        node = parent;\r\n        parent = parent.parentNode;\r\n    } while (node && node != rootNode);\r\n    return result;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * @deprecated Use inlineElement.isTextualInlineElement() instead\r\n */\r\nfunction isTextualInlineElement(inlineElement) {\r\n    return inlineElement && inlineElement.isTextualInlineElement();\r\n}\r\nexports.default = isTextualInlineElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar wrap_1 = require(\"../utils/wrap\");\r\n/**\r\n * @deprecated Use wrap() instead\r\n */\r\nfunction wrapAll(nodes, htmlFragment) {\r\n    if (htmlFragment === void 0) { htmlFragment = '<div></div>'; }\r\n    return wrap_1.default(nodes, htmlFragment);\r\n}\r\nexports.default = wrapAll;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_html_sanitizer_1 = require(\"roosterjs-html-sanitizer\");\r\n/**\r\n * @deprecated Use HtmlSanitizer.convertInlineCss from roosterjs-html-sanitizer package instead\r\n * Convert global CSS to inline CSS and remove the global CSS\r\n * @param html The source HTML string\r\n * @param additionalStyleNodes Optional additional style nodes\r\n */\r\nvar convertInlineCss = roosterjs_html_sanitizer_1.HtmlSanitizer.convertInlineCss;\r\nexports.default = convertInlineCss;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar cloneObject_1 = require(\"../utils/cloneObject\");\r\nvar getInheritableStyles_1 = require(\"../utils/getInheritableStyles\");\r\nvar htmlToDom_1 = require(\"../utils/htmlToDom\");\r\nvar getAllowedValues_1 = require(\"../utils/getAllowedValues\");\r\nvar HtmlSanitizer = /** @class */ (function () {\r\n    function HtmlSanitizer(options) {\r\n        options = options || {};\r\n        this.elementCallbacks = cloneObject_1.default(options.elementCallbacks);\r\n        this.styleCallbacks = getAllowedValues_1.getStyleCallbacks(options.styleCallbacks);\r\n        this.attributeCallbacks = cloneObject_1.default(options.attributeCallbacks);\r\n        this.allowedTags = getAllowedValues_1.getAllowedTags(options.additionalAllowedTags);\r\n        this.allowedAttributes = getAllowedValues_1.getAllowedAttributes(options.additionalAllowAttributes);\r\n        this.defaultStyleValues = getAllowedValues_1.getDefaultStyleValues(options.additionalDefaultStyleValues);\r\n        this.additionalGlobalStyleNodes = options.additionalGlobalStyleNodes || [];\r\n        this.allowPreserveWhiteSpace = options.allowPreserveWhiteSpace;\r\n    }\r\n    /**\r\n     * Convert global CSS to inline CSS if any\r\n     * @param html HTML source\r\n     * @param additionalStyleNodes (Optional) additional HTML STYLE elements used as global CSS\r\n     */\r\n    HtmlSanitizer.convertInlineCss = function (html, additionalStyleNodes) {\r\n        var sanitizer = new HtmlSanitizer({\r\n            additionalGlobalStyleNodes: additionalStyleNodes,\r\n        });\r\n        return sanitizer.exec(html, true /*convertCssOnly*/);\r\n    };\r\n    /**\r\n     * Sanitize HTML string, remove any unuseful HTML node/attribute/CSS.\r\n     * @param html HTML source string\r\n     * @param options Options used for this sanitizing process\r\n     */\r\n    HtmlSanitizer.sanitizeHtml = function (html, options) {\r\n        options = options || {};\r\n        var sanitizer = new HtmlSanitizer(options);\r\n        var currentStyles = options.currentElementOrStyle instanceof HTMLElement\r\n            ? getInheritableStyles_1.default(options.currentElementOrStyle)\r\n            : options.currentElementOrStyle;\r\n        return sanitizer.exec(html, options.convertCssOnly, options.preserveFragmentOnly, currentStyles);\r\n    };\r\n    /**\r\n     * Sanitize HTML string\r\n     * This function will do the following work:\r\n     * 1. Convert global CSS into inline CSS\r\n     * 2. Remove dangerous HTML tags and attributes\r\n     * 3. Remove useless CSS properties\r\n     * @param html The input HTML\r\n     * @param convertInlineCssOnly Whether only convert inline css and skip html content sanitizing\r\n     * @param preserveFragmentOnly If set to true, only preserve the html content between <!--StartFragment--> and <!--Endfragment-->\r\n     * @param currentStyles Current inheritable CSS styles\r\n     */\r\n    HtmlSanitizer.prototype.exec = function (html, convertCssOnly, preserveFragmentOnly, currentStyles) {\r\n        var doc = htmlToDom_1.default(html, preserveFragmentOnly);\r\n        if (doc) {\r\n            this.convertGlobalCssToInlineCss(doc);\r\n            if (!convertCssOnly) {\r\n                this.sanitize(doc.body, currentStyles);\r\n            }\r\n        }\r\n        return (doc && doc.body && doc.body.innerHTML) || '';\r\n    };\r\n    HtmlSanitizer.prototype.sanitize = function (rootNode, currentStyles) {\r\n        if (!rootNode) {\r\n            return '';\r\n        }\r\n        currentStyles = cloneObject_1.default(currentStyles, getInheritableStyles_1.default(null));\r\n        this.processNode(rootNode, currentStyles, {});\r\n    };\r\n    HtmlSanitizer.prototype.convertGlobalCssToInlineCss = function (rootNode) {\r\n        var styleNodes = toArray(rootNode.querySelectorAll('style'));\r\n        var styleSheets = this.additionalGlobalStyleNodes\r\n            .reverse()\r\n            .map(function (node) { return node.sheet; })\r\n            .concat(styleNodes.map(function (node) { return node.sheet; }).reverse());\r\n        for (var _i = 0, styleSheets_1 = styleSheets; _i < styleSheets_1.length; _i++) {\r\n            var styleSheet = styleSheets_1[_i];\r\n            var _loop_1 = function (j) {\r\n                // Skip any none-style rule, i.e. @page\r\n                var styleRule = styleSheet.cssRules[j];\r\n                var text = styleRule && styleRule.style ? styleRule.style.cssText : null;\r\n                if (styleRule.type != CSSRule.STYLE_RULE || !text || !styleRule.selectorText) {\r\n                    return \"continue\";\r\n                }\r\n                // Make sure the selector is not empty\r\n                for (var _i = 0, _a = styleRule.selectorText.split(','); _i < _a.length; _i++) {\r\n                    var selector = _a[_i];\r\n                    if (!selector || !selector.trim() || selector.indexOf(':') >= 0) {\r\n                        continue;\r\n                    }\r\n                    var nodes = toArray(rootNode.querySelectorAll(selector));\r\n                    // Always put existing styles after so that they have higher priority\r\n                    // Which means if both global style and inline style apply to the same element,\r\n                    // inline style will have higher priority\r\n                    nodes.forEach(function (node) {\r\n                        return node.setAttribute('style', text + (node.getAttribute('style') || ''));\r\n                    });\r\n                }\r\n            };\r\n            for (var j = styleSheet.cssRules.length - 1; j >= 0; j--) {\r\n                _loop_1(j);\r\n            }\r\n        }\r\n        styleNodes.forEach(function (node) {\r\n            if (node.parentNode) {\r\n                node.parentNode.removeChild(node);\r\n            }\r\n        });\r\n    };\r\n    HtmlSanitizer.prototype.processNode = function (node, currentStyle, context) {\r\n        var nodeType = node.nodeType;\r\n        var isElement = nodeType == Node.ELEMENT_NODE;\r\n        var isText = nodeType == Node.TEXT_NODE;\r\n        var element = node;\r\n        var tag = isElement ? element.tagName.toUpperCase() : '';\r\n        if ((isElement && !this.allowElement(element, tag, context)) ||\r\n            (isText && /^[\\r\\n]*$/g.test(node.nodeValue)) ||\r\n            (!isElement && !isText)) {\r\n            node.parentNode.removeChild(node);\r\n        }\r\n        else if (isText &&\r\n            !this.allowPreserveWhiteSpace &&\r\n            currentStyle['white-space'] == 'pre') {\r\n            node.nodeValue = node.nodeValue.replace(/^ /gm, '\\u00A0').replace(/ {2}/g, ' \\u00A0');\r\n        }\r\n        else if (isElement) {\r\n            var thisStyle = cloneObject_1.default(currentStyle);\r\n            this.processAttributes(element, context);\r\n            this.processCss(element, tag, thisStyle, context);\r\n            var child = element.firstChild;\r\n            var next = void 0;\r\n            for (; child; child = next) {\r\n                next = child.nextSibling;\r\n                this.processNode(child, thisStyle, context);\r\n            }\r\n        }\r\n    };\r\n    HtmlSanitizer.prototype.processCss = function (element, tag, thisStyle, context) {\r\n        var _this = this;\r\n        var styleNode = element.getAttributeNode('style');\r\n        if (!styleNode) {\r\n            return;\r\n        }\r\n        var source = styleNode.value.split(';');\r\n        var result = source.filter(function (style) {\r\n            var pair;\r\n            if (!style || style.trim() == '' || (pair = style.split(':')).length != 2) {\r\n                return false;\r\n            }\r\n            var name = pair[0].trim().toLowerCase();\r\n            var value = pair[1].trim().toLowerCase();\r\n            var callback = _this.styleCallbacks[name];\r\n            var isInheritable = thisStyle[name] != undefined;\r\n            var keep = (!callback || callback(value, element, context)) &&\r\n                value != 'inherit' &&\r\n                value.indexOf('expression') < 0 &&\r\n                name.substr(0, 1) != '-' &&\r\n                _this.defaultStyleValues[name] != value &&\r\n                ((isInheritable && value != thisStyle[name]) ||\r\n                    (!isInheritable && value != 'initial' && value != 'normal'));\r\n            if (keep && isInheritable) {\r\n                thisStyle[name] = value;\r\n            }\r\n            return keep && (_this.allowPreserveWhiteSpace || name != 'white-space');\r\n        });\r\n        if (source.length != result.length) {\r\n            if (result.length > 0) {\r\n                element.setAttribute('style', result.map(function (s) { return s.trim(); }).join('; '));\r\n            }\r\n            else {\r\n                element.removeAttribute('style');\r\n            }\r\n        }\r\n    };\r\n    HtmlSanitizer.prototype.processAttributes = function (element, context) {\r\n        for (var i = element.attributes.length - 1; i >= 0; i--) {\r\n            var attribute = element.attributes[i];\r\n            var name_1 = attribute.name.toLowerCase().trim();\r\n            var value = attribute.value;\r\n            var callback = this.attributeCallbacks[name_1];\r\n            if (callback) {\r\n                value = callback(value, element, context);\r\n            }\r\n            else if (this.allowedAttributes.indexOf(name_1) < 0) {\r\n                value = null;\r\n            }\r\n            if (value === null ||\r\n                value === undefined ||\r\n                value.toLowerCase().indexOf('script:') >= 0) {\r\n                element.removeAttribute(name_1);\r\n            }\r\n            else {\r\n                attribute.value = value;\r\n            }\r\n        }\r\n    };\r\n    HtmlSanitizer.prototype.allowElement = function (element, tag, context) {\r\n        var callback = this.elementCallbacks[tag];\r\n        return callback\r\n            ? callback(element, context)\r\n            : this.allowedTags.indexOf(tag) >= 0 || tag.indexOf(':') > 0;\r\n    };\r\n    return HtmlSanitizer;\r\n}());\r\nexports.default = HtmlSanitizer;\r\nfunction toArray(list) {\r\n    return [].slice.call(list);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar cloneObject_1 = require(\"./cloneObject\");\r\nvar ALLOWED_HTML_TAGS = ('BODY,H1,H2,H3,H4,H5,H6,FORM,P,BR,NOBR,HR,ACRONYM,ABBR,ADDRESS,B,' +\r\n    'BDI,BDO,BIG,BLOCKQUOTE,CENTER,CITE,CODE,DEL,DFN,EM,FONT,I,INS,KBD,MARK,METER,PRE,PROGRESS,' +\r\n    'Q,RP,RT,RUBY,S,SAMP,SMALL,STRIKE,STRONG,SUB,SUP,TEMPLATE,TIME,TT,U,VAR,WBR,XMP,INPUT,TEXTAREA,' +\r\n    'BUTTON,SELECT,OPTGROUP,OPTION,LABEL,FIELDSET,LEGEND,DATALIST,OUTPUT,IMG,MAP,AREA,CANVAS,FIGCAPTION,' +\r\n    'FIGURE,PICTURE,A,NAV,UL,OL,LI,DIR,UL,DL,DT,DD,MENU,MENUITEM,TABLE,CAPTION,TH,TR,TD,THEAD,TBODY,' +\r\n    'TFOOT,COL,COLGROUP,DIV,SPAN,HEADER,FOOTER,MAIN,SECTION,ARTICLE,ASIDE,DETAILS,DIALOG,SUMMARY,DATA').split(',');\r\nvar ALLOWED_HTML_ATTRIBUTES = ('accept,align,alt,checked,cite,color,cols,colspan,contextmenu,' +\r\n    'coords,datetime,default,dir,dirname,disabled,download,face,headers,height,hidden,high,href,' +\r\n    'hreflang,ismap,kind,label,lang,list,low,max,maxlength,media,min,multiple,open,optimum,pattern,' +\r\n    'placeholder,readonly,rel,required,reversed,rows,rowspan,scope,selected,shape,size,sizes,span,' +\r\n    'spellcheck,src,srclang,srcset,start,step,style,tabindex,target,title,translate,type,usemap,value,' +\r\n    'width,wrap').split(',');\r\nvar DEFAULT_STYLE_VALUES = {\r\n    'background-color': 'transparent',\r\n    'border-bottom-color': 'rgb(0, 0, 0)',\r\n    'border-bottom-style': 'none',\r\n    'border-bottom-width': '0px',\r\n    'border-image-outset': '0',\r\n    'border-image-repeat': 'stretch',\r\n    'border-image-slice': '100%',\r\n    'border-image-source': 'none',\r\n    'border-image-width': '1',\r\n    'border-left-color': 'rgb(0, 0, 0)',\r\n    'border-left-style': 'none',\r\n    'border-left-width': '0px',\r\n    'border-right-color': 'rgb(0, 0, 0)',\r\n    'border-right-style': 'none',\r\n    'border-right-width': '0px',\r\n    'border-top-color': 'rgb(0, 0, 0)',\r\n    'border-top-style': 'none',\r\n    'border-top-width': '0px',\r\n    'outline-color': 'transparent',\r\n    'outline-style': 'none',\r\n    'outline-width': '0px',\r\n    overflow: 'visible',\r\n    'text-decoration': 'none',\r\n    '-webkit-text-stroke-width': '0px',\r\n    'word-wrap': 'break-word',\r\n    'margin-left': '0px',\r\n    'margin-right': '0px',\r\n    padding: '0px',\r\n    'padding-top': '0px',\r\n    'padding-left': '0px',\r\n    'padding-right': '0px',\r\n    'padding-bottom': '0px',\r\n    border: '0px',\r\n    'border-top': '0px',\r\n    'border-left': '0px',\r\n    'border-right': '0px',\r\n    'border-bottom': '0px',\r\n    'vertical-align': 'baseline',\r\n    float: 'none',\r\n};\r\nfunction getAllowedTags(additionalTags) {\r\n    return unique(ALLOWED_HTML_TAGS.concat(additionalTags || [])).map(function (tag) { return tag.toUpperCase(); });\r\n}\r\nexports.getAllowedTags = getAllowedTags;\r\nfunction getAllowedAttributes(additionalAttributes) {\r\n    return unique(ALLOWED_HTML_ATTRIBUTES.concat(additionalAttributes || [])).map(function (attr) {\r\n        return attr.toLocaleLowerCase();\r\n    });\r\n}\r\nexports.getAllowedAttributes = getAllowedAttributes;\r\nfunction getDefaultStyleValues(additionalDefaultStyles) {\r\n    var result = cloneObject_1.default(DEFAULT_STYLE_VALUES);\r\n    if (additionalDefaultStyles) {\r\n        Object.keys(additionalDefaultStyles).forEach(function (name) {\r\n            var value = additionalDefaultStyles[name];\r\n            if (value !== null && value !== undefined) {\r\n                result[name] = value;\r\n            }\r\n            else {\r\n                delete result[name];\r\n            }\r\n        });\r\n    }\r\n    return result;\r\n}\r\nexports.getDefaultStyleValues = getDefaultStyleValues;\r\nfunction getStyleCallbacks(callbacks) {\r\n    var result = cloneObject_1.default(callbacks);\r\n    result.position = result.position || removeValue;\r\n    result.width = result.width || removeWidthForLiAndDiv;\r\n    return result;\r\n}\r\nexports.getStyleCallbacks = getStyleCallbacks;\r\nfunction removeValue() {\r\n    return null;\r\n}\r\nfunction removeWidthForLiAndDiv(value, element) {\r\n    var tag = element.tagName;\r\n    return !(tag == 'LI' || tag == 'DIV');\r\n}\r\nfunction unique(array) {\r\n    return array.filter(function (value, index, self) { return self.indexOf(value) == index; });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_html_sanitizer_1 = require(\"roosterjs-html-sanitizer\");\r\n/**\r\n * @deprecated Use HtmlSanitizer.sanitizeHtml from roosterjs-html-sanitizer instead\r\n * Sanitize HTML string\r\n * This function will do the following work:\r\n * 1. Convert global CSS into inline CSS\r\n * 2. Remove dangerous HTML tags and attributes\r\n * 3. Remove useless CSS properties\r\n * @param html The input HTML\r\n * @param additionalStyleNodes additional style nodes for inline css converting\r\n * @param convertInlineCssOnly Whether only convert inline css and skip html content sanitizing\r\n * @param propertyCallbacks A callback function map to handle HTML properties\r\n * @param preserveFragmentOnly If set to true, only preserve the html content between <!--StartFragment--> and <!--Endfragment-->\r\n */\r\nfunction sanitizeHtml(html, additionalStyleNodes, convertInlineCssOnly, propertyCallbacks, preserveFragmentOnly, currentStyle) {\r\n    return roosterjs_html_sanitizer_1.HtmlSanitizer.sanitizeHtml(html, {\r\n        additionalGlobalStyleNodes: additionalStyleNodes,\r\n        convertCssOnly: convertInlineCssOnly,\r\n        attributeCallbacks: propertyCallbacks,\r\n        currentElementOrStyle: currentStyle,\r\n        preserveFragmentOnly: preserveFragmentOnly,\r\n    });\r\n}\r\nexports.default = sanitizeHtml;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar createRange_1 = require(\"../selection/createRange\");\r\nvar Position_1 = require(\"../selection/Position\");\r\nvar queryElements_1 = require(\"../utils/queryElements\");\r\nvar OFFSET_1_ATTRIBUTE = 'data-offset1';\r\nvar OFFSET_2_ATTRIBUTE = 'data-offset2';\r\nvar CURSOR_START = 'cursor-start';\r\nvar CURSOR_END = 'cursor-end';\r\nvar CURSOR_SINGLE = 'cursor-single';\r\nvar CURSOR_MARK_SELECTOR = \"SPAN#\" + CURSOR_START + \",SPAN#\" + CURSOR_END + \",SPAN#\" + CURSOR_SINGLE;\r\n/**\r\n * @deprecated\r\n * Insert selection marker element into content, so that after doing some modification,\r\n * we can still restore the selection as long as the selection marker is still there\r\n * @param container Container HTML element to query selection markers from\r\n * @param rawRange Current selection range\r\n * @param useInlineMarker Inline marker will be inserted at the position where current selection is,\r\n * so that even some content is changed, we can still still restore the selection. But this can cause\r\n * adjacent text nodes to be created. If we are sure the content won't be changed and we don't want to\r\n * create adjacent text nodes, set this parameter to false. This usually happens for undo/redo.\r\n * @returns True if selection markers are added, otherwise false.\r\n */\r\nfunction markSelection(container, range, useInlineMarker) {\r\n    if (!range || queryElements_1.default(container, CURSOR_MARK_SELECTOR).length > 0) {\r\n        return false;\r\n    }\r\n    var start = Position_1.default.getStart(range).normalize();\r\n    var end = Position_1.default.getEnd(range).normalize();\r\n    if (start.equalTo(end) || (!useInlineMarker && start.node == end.node)) {\r\n        insertMarker(CURSOR_SINGLE, useInlineMarker, start, end);\r\n    }\r\n    else {\r\n        insertMarker(CURSOR_END, useInlineMarker, end);\r\n        insertMarker(CURSOR_START, useInlineMarker, start);\r\n    }\r\n    return true;\r\n}\r\nexports.markSelection = markSelection;\r\n/**\r\n * @deprecated\r\n * If there is selection marker in content, convert into back to a selection range and remove the markers,\r\n * otherwise no op.\r\n * @param container Container HTML element to query selection markers from\r\n * @param retrieveSelectionRange Whether retrieve selection range from the markers if any\r\n * @returns The selection range converted from makers, or null if no valid marker found.\r\n */\r\nfunction removeMarker(container, retrieveSelectionRange) {\r\n    var start;\r\n    var end;\r\n    var range;\r\n    var markers = queryElements_1.default(container, CURSOR_MARK_SELECTOR, retrieveSelectionRange\r\n        ? function (marker) {\r\n            switch (marker.id) {\r\n                case CURSOR_START:\r\n                    start = safeCreatePosition(marker, OFFSET_1_ATTRIBUTE);\r\n                    break;\r\n                case CURSOR_END:\r\n                    end = safeCreatePosition(marker, OFFSET_1_ATTRIBUTE);\r\n                    break;\r\n                case CURSOR_SINGLE:\r\n                    start = safeCreatePosition(marker, OFFSET_1_ATTRIBUTE);\r\n                    end = safeCreatePosition(marker, OFFSET_2_ATTRIBUTE);\r\n                    break;\r\n            }\r\n        }\r\n        : null);\r\n    if (start && end && markers.length <= 2) {\r\n        range = createRange_1.default(start, end);\r\n    }\r\n    markers.forEach(function (marker) { return marker.parentNode && marker.parentNode.removeChild(marker); });\r\n    return range;\r\n}\r\nexports.removeMarker = removeMarker;\r\nfunction safeCreatePosition(marker, attrName) {\r\n    var node = marker.nextSibling;\r\n    var offset = parseInt(marker.getAttribute(attrName)) || 0;\r\n    return node ? new Position_1.default(node, offset) : new Position_1.default(marker, -3 /* After */);\r\n}\r\nfunction insertMarker(type, useInlineMarker, pos1, pos2) {\r\n    var node = pos1.node;\r\n    var marker = node.ownerDocument.createElement('SPAN');\r\n    var offset = getRestorableOffset(pos1);\r\n    marker.id = type;\r\n    marker.setAttribute(OFFSET_1_ATTRIBUTE, useInlineMarker ? '0' : '' + offset);\r\n    marker.setAttribute(OFFSET_2_ATTRIBUTE, useInlineMarker || !pos2 ? '0' : '' + getRestorableOffset(pos2));\r\n    if (!useInlineMarker || offset == 0) {\r\n        node.parentNode.insertBefore(marker, node);\r\n    }\r\n    else if (pos1.isAtEnd) {\r\n        node.parentNode.insertBefore(marker, node.nextSibling);\r\n    }\r\n    else {\r\n        var range = node.ownerDocument.createRange();\r\n        range.setStart(node, offset);\r\n        range.collapse(true /* toStart */);\r\n        range.insertNode(marker);\r\n    }\r\n}\r\nfunction getRestorableOffset(position) {\r\n    return position.offset == 0 && position.isAtEnd ? 1 : position.offset;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar execCommand_1 = require(\"../utils/execCommand\");\r\nvar setBackgroundColor_1 = require(\"./setBackgroundColor\");\r\nvar setFontName_1 = require(\"./setFontName\");\r\nvar setFontSize_1 = require(\"./setFontSize\");\r\nvar setTextColor_1 = require(\"./setTextColor\");\r\nvar toggleBold_1 = require(\"./toggleBold\");\r\nvar toggleItalic_1 = require(\"./toggleItalic\");\r\nvar toggleUnderline_1 = require(\"./toggleUnderline\");\r\nvar STYLES_TO_REMOVE = ['font', 'text-decoration', 'color', 'background'];\r\n/**\r\n * Clear the format in current selection, after cleaning, the format will be\r\n * changed to default format. The format that get cleaned include B/I/U/font name/\r\n * font size/text color/background color/align left/align right/align center/superscript/subscript\r\n * @param editor The editor instance\r\n */\r\nfunction clearFormat(editor) {\r\n    editor.focus();\r\n    editor.addUndoSnapshot(function () {\r\n        execCommand_1.default(editor, \"removeFormat\" /* RemoveFormat */);\r\n        editor.queryElements('[class]', 1 /* OnSelection */, function (node) {\r\n            return node.removeAttribute('class');\r\n        });\r\n        var defaultFormat = editor.getDefaultFormat();\r\n        var isDefaultFormatEmpty = Object.keys(defaultFormat).length === 0;\r\n        editor.queryElements('[style]', 2 /* InSelection */, function (node) {\r\n            STYLES_TO_REMOVE.forEach(function (style) { return node.style.removeProperty(style); });\r\n            // when default format is empty, keep the HTML minimum by removing style attribute if there's no style\r\n            // (note: because default format is empty, we're not adding style back in)\r\n            if (isDefaultFormatEmpty && node.getAttribute('style') === '') {\r\n                node.removeAttribute('style');\r\n            }\r\n        });\r\n        if (!isDefaultFormatEmpty) {\r\n            if (defaultFormat.fontFamily) {\r\n                setFontName_1.default(editor, defaultFormat.fontFamily);\r\n            }\r\n            if (defaultFormat.fontSize) {\r\n                setFontSize_1.default(editor, defaultFormat.fontSize);\r\n            }\r\n            if (defaultFormat.textColor) {\r\n                setTextColor_1.default(editor, defaultFormat.textColor);\r\n            }\r\n            if (defaultFormat.backgroundColor) {\r\n                setBackgroundColor_1.default(editor, defaultFormat.backgroundColor);\r\n            }\r\n            if (defaultFormat.bold) {\r\n                toggleBold_1.default(editor);\r\n            }\r\n            if (defaultFormat.italic) {\r\n                toggleItalic_1.default(editor);\r\n            }\r\n            if (defaultFormat.underline) {\r\n                toggleUnderline_1.default(editor);\r\n            }\r\n        }\r\n    }, \"Format\" /* Format */);\r\n}\r\nexports.default = clearFormat;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\n// Regex matching Uri scheme\r\nvar URI_REGEX = /^[a-zA-Z]+:/i;\r\n// Regex matching begin of email address\r\nvar MAILTO_REGEX = /^[\\w.%+-]+@/i;\r\n// Regex matching begin of ftp, i.e. ftp.microsoft.com\r\nvar FTP_REGEX = /^ftp\\./i;\r\nvar TEMP_TITLE = 'istemptitle';\r\nfunction applyLinkPrefix(url) {\r\n    if (!url) {\r\n        return url;\r\n    }\r\n    // Add link prefix per rule:\r\n    // (a) if the url always starts with a URI scheme, leave it as it is\r\n    // (b) if the url is an email address, xxx@... add mailto: prefix\r\n    // (c) if the url starts with ftp., add ftp:// prefix\r\n    // (d) rest, add http:// prefix\r\n    var prefix = '';\r\n    if (url.search(URI_REGEX) < 0) {\r\n        if (url.search(MAILTO_REGEX) == 0) {\r\n            prefix = 'mailto:';\r\n        }\r\n        else if (url.search(FTP_REGEX) == 0) {\r\n            prefix = 'ftp://';\r\n        }\r\n        else {\r\n            // fallback to http://\r\n            prefix = 'http://';\r\n        }\r\n    }\r\n    return prefix + url;\r\n}\r\n/**\r\n * Insert a hyperlink at cursor.\r\n * When there is a selection, hyperlink will be applied to the selection,\r\n * otherwise a hyperlink will be inserted to the cursor position.\r\n * @param editor Editor object\r\n * @param link Link address, can be http(s), mailto, notes, file, unc, ftp, news, telnet, gopher, wais.\r\n * When protocol is not specified, a best matched protocol will be predicted.\r\n * @param altText Optional alt text of the link, will be shown when hover on the link\r\n * @param displayText Optional display text for the link.\r\n * If specified, the display text of link will be replaced with this text.\r\n * If not specified and there wasn't a link, the link url will be used as display text.\r\n */\r\nfunction createLink(editor, link, altText, displayText) {\r\n    editor.focus();\r\n    var url = link ? link.trim() : '';\r\n    if (url) {\r\n        var linkData = roosterjs_editor_dom_1.matchLink(url);\r\n        // matchLink can match most links, but not all, i.e. if you pass link a link as \"abc\", it won't match\r\n        // we know in that case, users will want to insert a link like http://abc\r\n        // so we have separate logic in applyLinkPrefix to add link prefix depending on the format of the link\r\n        // i.e. if the link starts with something like abc@xxx, we will add mailto: prefix\r\n        // if the link starts with ftp.xxx, we will add ftp:// link. For more, see applyLinkPrefix\r\n        var normalizedUrl_1 = linkData ? linkData.normalizedUrl : applyLinkPrefix(url);\r\n        var originalUrl_1 = linkData ? linkData.originalUrl : url;\r\n        editor.addUndoSnapshot(function () {\r\n            var range = editor.getSelectionRange();\r\n            var anchor = null;\r\n            if (range && range.collapsed) {\r\n                anchor = getAnchorNodeAtCursor(editor);\r\n                // If there is already a link, just change its href\r\n                if (anchor) {\r\n                    anchor.href = normalizedUrl_1;\r\n                    // Change text content if it is specified\r\n                    updateAnchorDisplayText(anchor, displayText);\r\n                }\r\n                else {\r\n                    anchor = editor.getDocument().createElement('A');\r\n                    anchor.textContent = displayText || originalUrl_1;\r\n                    anchor.href = normalizedUrl_1;\r\n                    editor.insertNode(anchor);\r\n                }\r\n            }\r\n            else {\r\n                // the selection is not collapsed, use browser execCommand\r\n                editor.getDocument().execCommand(\"createLink\" /* CreateLink */, false, normalizedUrl_1);\r\n                anchor = getAnchorNodeAtCursor(editor);\r\n                updateAnchorDisplayText(anchor, displayText);\r\n            }\r\n            if (altText && anchor) {\r\n                // Hack: Ideally this should be done by HyperLink plugin.\r\n                // We make a hack here since we don't have an event to notify HyperLink plugin\r\n                // before we apply the link.\r\n                anchor.removeAttribute(TEMP_TITLE);\r\n                anchor.title = altText;\r\n            }\r\n            return anchor;\r\n        }, \"CreateLink\" /* CreateLink */);\r\n    }\r\n}\r\nexports.default = createLink;\r\nfunction getAnchorNodeAtCursor(editor) {\r\n    return editor.queryElements('a[href]', 1 /* OnSelection */)[0];\r\n}\r\nfunction updateAnchorDisplayText(anchor, displayText) {\r\n    if (displayText && anchor.textContent != displayText) {\r\n        anchor.textContent = displayText;\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_core_1 = require(\"roosterjs-editor-core\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\n/**\r\n * Get format state at cursor\r\n * A format state is a collection of all format related states, e.g.,\r\n * bold, italic, underline, font name, font size, etc.\r\n * @param editor The editor\r\n * @param (Optional) The plugin event, it stores the event cached data for looking up.\r\n * In this function the event cache is used to get list state and header level. If not passed,\r\n * it will query the node within selection to get the info\r\n * @returns The format state at cursor\r\n */\r\nfunction getFormatState(editor, event) {\r\n    var range = editor.getSelectionRange();\r\n    var node = range && roosterjs_editor_dom_1.Position.getStart(range).normalize().node;\r\n    var styles = node ? roosterjs_editor_dom_1.getComputedStyles(node) : [];\r\n    var listTag = roosterjs_editor_dom_1.getTagOfNode(roosterjs_editor_core_1.cacheGetElementAtCursor(editor, event, 'OL,UL'));\r\n    var headerTag = roosterjs_editor_dom_1.getTagOfNode(roosterjs_editor_core_1.cacheGetElementAtCursor(editor, event, 'H1,H2,H3,H4,H5,H6'));\r\n    var document = editor.getDocument();\r\n    return {\r\n        fontName: styles[0],\r\n        fontSize: styles[1],\r\n        textColor: styles[2],\r\n        backgroundColor: styles[3],\r\n        isBold: document.queryCommandState(\"bold\" /* Bold */),\r\n        isItalic: document.queryCommandState(\"italic\" /* Italic */),\r\n        isUnderline: document.queryCommandState(\"underline\" /* Underline */),\r\n        isStrikeThrough: document.queryCommandState(\"strikeThrough\" /* StrikeThrough */),\r\n        isSubscript: document.queryCommandState(\"subscript\" /* Subscript */),\r\n        isSuperscript: document.queryCommandState(\"superscript\" /* Superscript */),\r\n        isBullet: listTag == 'UL',\r\n        isNumbering: listTag == 'OL',\r\n        headerLevel: (headerTag && parseInt(headerTag[1])) || 0,\r\n        canUnlink: !!editor.queryElements('a[href]', 1 /* OnSelection */)[0],\r\n        canAddImageAltText: !!editor.queryElements('img', 1 /* OnSelection */)[0],\r\n        isBlockQuote: !!editor.queryElements('blockquote', 1 /* OnSelection */)[0],\r\n        canUndo: editor.canUndo(),\r\n        canRedo: editor.canRedo(),\r\n    };\r\n}\r\nexports.default = getFormatState;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar createEditorCore_1 = require(\"./createEditorCore\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar roosterjs_editor_dom_2 = require(\"roosterjs-editor-dom\");\r\n/**\r\n * RoosterJs core editor class\r\n */\r\nvar Editor = /** @class */ (function () {\r\n    //#region Lifecycle\r\n    /**\r\n     * Creates an instance of Editor\r\n     * @param contentDiv The DIV HTML element which will be the container element of editor\r\n     * @param options An optional options object to customize the editor\r\n     */\r\n    function Editor(contentDiv, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        // 1. Make sure all parameters are valid\r\n        if (roosterjs_editor_dom_2.getTagOfNode(contentDiv) != 'DIV') {\r\n            throw new Error('contentDiv must be an HTML DIV element');\r\n        }\r\n        // 2. Store options values to local variables\r\n        this.core = createEditorCore_1.default(contentDiv, options);\r\n        // 3. Initialize plugins\r\n        this.core.plugins.forEach(function (plugin) { return plugin.initialize(_this); });\r\n        // 4. Ensure initial content and its format\r\n        this.setContent(options.initialContent || contentDiv.innerHTML || '');\r\n        // 5. Create event handler to bind DOM events\r\n        this.eventDisposers = [\r\n            this.core.api.attachDomEvent(this.core, 'keypress', 1 /* KeyPress */),\r\n            this.core.api.attachDomEvent(this.core, 'keydown', 0 /* KeyDown */),\r\n            this.core.api.attachDomEvent(this.core, 'keyup', 2 /* KeyUp */),\r\n            this.core.api.attachDomEvent(this.core, 'mousedown', 4 /* MouseDown */),\r\n        ];\r\n        // 6. Make the container editable and set its selection styles\r\n        if (!options.omitContentEditableAttributeChanges && !contentDiv.isContentEditable) {\r\n            contentDiv.setAttribute('contenteditable', 'true');\r\n            var styles = contentDiv.style;\r\n            styles.userSelect = styles.msUserSelect = styles.webkitUserSelect = 'text';\r\n            this.contenteditableChanged = true;\r\n        }\r\n        // 7. Disable these operations for firefox since its behavior is usually wrong\r\n        // Catch any possible exception since this should not block the initialization of editor\r\n        try {\r\n            this.core.document.execCommand(\"enableObjectResizing\" /* EnableObjectResizing */, false, (false));\r\n            this.core.document.execCommand(\"enableInlineTableEditing\" /* EnableInlineTableEditing */, false, false);\r\n        }\r\n        catch (e) { }\r\n        // 8. Let plugins know that we are ready\r\n        this.triggerEvent({\r\n            eventType: 10 /* EditorReady */,\r\n        }, true /*broadcast*/);\r\n        // 9. Before give editor to user, make sure there is at least one DIV element to accept typing\r\n        this.core.corePlugin.ensureTypeInElement(new roosterjs_editor_dom_2.Position(contentDiv, 0 /* Begin */));\r\n    }\r\n    /**\r\n     * Dispose this editor, dispose all plugins and custom data\r\n     */\r\n    Editor.prototype.dispose = function () {\r\n        this.triggerEvent({\r\n            eventType: 11 /* BeforeDispose */,\r\n        }, true /*broadcast*/);\r\n        this.core.plugins.forEach(function (plugin) { return plugin.dispose(); });\r\n        this.eventDisposers.forEach(function (disposer) { return disposer(); });\r\n        this.eventDisposers = null;\r\n        for (var _i = 0, _a = Object.keys(this.core.customData); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var data = this.core.customData[key];\r\n            if (data && data.disposer) {\r\n                data.disposer(data.value);\r\n            }\r\n            delete this.core.customData[key];\r\n        }\r\n        if (this.contenteditableChanged) {\r\n            var styles = this.core.contentDiv.style;\r\n            styles.userSelect = styles.msUserSelect = styles.webkitUserSelect = '';\r\n            this.core.contentDiv.removeAttribute('contenteditable');\r\n        }\r\n        this.core = null;\r\n    };\r\n    /**\r\n     * Get whether this editor is disposed\r\n     * @returns True if editor is disposed, otherwise false\r\n     */\r\n    Editor.prototype.isDisposed = function () {\r\n        return !this.core;\r\n    };\r\n    //#endregion\r\n    //#region Node API\r\n    /**\r\n     * Insert node into editor\r\n     * @param node The node to insert\r\n     * @param option Insert options. Default value is:\r\n     *  position: ContentPosition.SelectionStart\r\n     *  updateCursor: true\r\n     *  replaceSelection: true\r\n     *  insertOnNewLine: false\r\n     * @returns true if node is inserted. Otherwise false\r\n     */\r\n    Editor.prototype.insertNode = function (node, option) {\r\n        return node ? this.core.api.insertNode(this.core, node, option) : false;\r\n    };\r\n    /**\r\n     * Delete a node from editor content\r\n     * @param node The node to delete\r\n     * @returns true if node is deleted. Otherwise false\r\n     */\r\n    Editor.prototype.deleteNode = function (node) {\r\n        // Only remove the node when it falls within editor\r\n        if (node && this.contains(node)) {\r\n            node.parentNode.removeChild(node);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Replace a node in editor content with another node\r\n     * @param existingNode The existing node to be replaced\r\n     * @param new node to replace to\r\n     * @returns true if node is replaced. Otherwise false\r\n     */\r\n    Editor.prototype.replaceNode = function (existingNode, toNode) {\r\n        // Only replace the node when it falls within editor\r\n        if (existingNode && toNode && this.contains(existingNode)) {\r\n            existingNode.parentNode.replaceChild(toNode, existingNode);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Get InlineElement at given node\r\n     * @param node The node to create InlineElement\r\n     * @returns The InlineElement result\r\n     */\r\n    Editor.prototype.getInlineElementAtNode = function (node) {\r\n        return roosterjs_editor_dom_2.getInlineElementAtNode(this.core.contentDiv, node);\r\n    };\r\n    /**\r\n     * Get BlockElement at given node\r\n     * @param node The node to create InlineElement\r\n     * @returns The BlockElement result\r\n     */\r\n    Editor.prototype.getBlockElementAtNode = function (node) {\r\n        return roosterjs_editor_dom_2.getBlockElementAtNode(this.core.contentDiv, node);\r\n    };\r\n    Editor.prototype.contains = function (arg) {\r\n        return roosterjs_editor_dom_2.contains(this.core.contentDiv, arg);\r\n    };\r\n    Editor.prototype.queryElements = function (selector, scopeOrCallback, callback) {\r\n        if (scopeOrCallback === void 0) { scopeOrCallback = 0 /* Body */; }\r\n        var scope = scopeOrCallback instanceof Function ? 0 /* Body */ : scopeOrCallback;\r\n        callback = scopeOrCallback instanceof Function ? scopeOrCallback : callback;\r\n        var range = scope == 0 /* Body */ ? null : this.getSelectionRange();\r\n        return roosterjs_editor_dom_2.queryElements(this.core.contentDiv, selector, callback, scope, range);\r\n    };\r\n    /**\r\n     * Collapse nodes within the given start and end nodes to their common ascenstor node,\r\n     * split parent nodes if necessary\r\n     * @param start The start node\r\n     * @param end The end node\r\n     * @param canSplitParent True to allow split parent node there are nodes before start or after end under the same parent\r\n     * and the returned nodes will be all nodes from start trhough end after splitting\r\n     * False to disallow split parent\r\n     * @returns When cansplitParent is true, returns all node from start through end after splitting,\r\n     * otherwise just return start and end\r\n     */\r\n    Editor.prototype.collapseNodes = function (start, end, canSplitParent) {\r\n        return roosterjs_editor_dom_2.collapseNodes(this.core.contentDiv, start, end, canSplitParent);\r\n    };\r\n    //#endregion\r\n    //#region Content API\r\n    /**\r\n     * Check whether the editor contains any visible content\r\n     * @param trim Whether trime the content string before check. Default is false\r\n     * @returns True if there's no visible content, otherwise false\r\n     */\r\n    Editor.prototype.isEmpty = function (trim) {\r\n        return roosterjs_editor_dom_2.isNodeEmpty(this.core.contentDiv, trim);\r\n    };\r\n    /**\r\n     * Get current editor content as HTML string\r\n     * @param triggerExtractContentEvent Whether trigger ExtractContent event to all plugins\r\n     * before return. Use this parameter to remove any temporary content added by plugins.\r\n     * @param includeSelectionMarker Set to true if need include selection marker inside the content.\r\n     * When restore this content, editor will set the selection to the position marked by these markers\r\n     * @returns HTML string representing current editor content\r\n     */\r\n    Editor.prototype.getContent = function (triggerExtractContentEvent, includeSelectionMarker) {\r\n        if (triggerExtractContentEvent === void 0) { triggerExtractContentEvent = true; }\r\n        if (includeSelectionMarker === void 0) { includeSelectionMarker = false; }\r\n        var contentDiv = this.core.contentDiv;\r\n        var content = contentDiv.innerHTML;\r\n        var selectionPath;\r\n        if (includeSelectionMarker &&\r\n            (selectionPath = roosterjs_editor_dom_1.getSelectionPath(contentDiv, this.getSelectionRange()))) {\r\n            content += \"<!--\" + JSON.stringify(selectionPath) + \"-->\";\r\n        }\r\n        if (triggerExtractContentEvent) {\r\n            var extractContentEvent = {\r\n                eventType: 7 /* ExtractContent */,\r\n                content: content,\r\n            };\r\n            this.triggerEvent(extractContentEvent, true /*broadcast*/);\r\n            content = extractContentEvent.content;\r\n        }\r\n        return content;\r\n    };\r\n    /**\r\n     * Get plain text content inside editor\r\n     * @returns The text content inside editor\r\n     */\r\n    Editor.prototype.getTextContent = function () {\r\n        return this.core.contentDiv.innerText;\r\n    };\r\n    /**\r\n     * Set HTML content to this editor. All existing content will be replaced. A ContentChanged event will be triggered\r\n     * @param content HTML content to set in\r\n     * @param triggerContentChangedEvent True to trigger a ContentChanged event. Default value is true\r\n     */\r\n    Editor.prototype.setContent = function (content, triggerContentChangedEvent) {\r\n        if (triggerContentChangedEvent === void 0) { triggerContentChangedEvent = true; }\r\n        var contentDiv = this.core.contentDiv;\r\n        if (contentDiv.innerHTML != content) {\r\n            contentDiv.innerHTML = content || '';\r\n            var pathComment = contentDiv.lastChild;\r\n            if (pathComment && pathComment.nodeType == 8 /* Comment */) {\r\n                try {\r\n                    var path = JSON.parse(pathComment.nodeValue);\r\n                    this.deleteNode(pathComment);\r\n                    var range = roosterjs_editor_dom_1.getRangeFromSelectionPath(contentDiv, path);\r\n                    this.select(range);\r\n                }\r\n                catch (_a) { }\r\n            }\r\n            if (triggerContentChangedEvent) {\r\n                this.triggerContentChangedEvent();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Insert HTML content into editor\r\n     * @param HTML content to insert\r\n     * @param option Insert options. Default value is:\r\n     *  position: ContentPosition.SelectionStart\r\n     *  updateCursor: true\r\n     *  replaceSelection: true\r\n     *  insertOnNewLine: false\r\n     */\r\n    Editor.prototype.insertContent = function (content, option) {\r\n        if (content) {\r\n            var allNodes = roosterjs_editor_dom_2.fromHtml(content, this.core.document);\r\n            // If it is to insert on new line, and there are more than one node in the collection, wrap all nodes with\r\n            // a parent DIV before calling insertNode on each top level sub node. Otherwise, every sub node may get wrapped\r\n            // separately to show up on its own line\r\n            if (option && option.insertOnNewLine && allNodes.length > 0) {\r\n                allNodes = [roosterjs_editor_dom_2.wrap(allNodes)];\r\n            }\r\n            for (var i = 0; i < allNodes.length; i++) {\r\n                this.insertNode(allNodes[i], option);\r\n            }\r\n        }\r\n    };\r\n    //#endregion\r\n    //#region Focus and Selection\r\n    /**\r\n     * Get current selection range from Editor.\r\n     * It does a live pull on the selection, if nothing retrieved, return whatever we have in cache.\r\n     * @returns current selection range, or null if editor never got focus before\r\n     */\r\n    Editor.prototype.getSelectionRange = function () {\r\n        return this.core.api.getSelectionRange(this.core, true /*tryGetFromCache*/);\r\n    };\r\n    /**\r\n     * Check if focus is in editor now\r\n     * @returns true if focus is in editor, otherwise false\r\n     */\r\n    Editor.prototype.hasFocus = function () {\r\n        return this.core.api.hasFocus(this.core);\r\n    };\r\n    /**\r\n     * Focus to this editor, the selection was restored to where it was before, no unexpected scroll.\r\n     */\r\n    Editor.prototype.focus = function () {\r\n        this.core.api.focus(this.core);\r\n    };\r\n    Editor.prototype.select = function (arg1, arg2, arg3, arg4) {\r\n        return this.core.api.select(this.core, arg1, arg2, arg3, arg4);\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * Insert selection marker element into content, so that after doing some modification,\r\n     * we can still restore the selection as long as the selection marker is still there\r\n     * @returns The return value of callback\r\n     */\r\n    Editor.prototype.runWithSelectionMarker = function (callback, useInlineMarker) {\r\n        var selectionMarked = roosterjs_editor_dom_2.markSelection(this.core.contentDiv, this.getSelectionRange(), useInlineMarker);\r\n        try {\r\n            return callback && callback();\r\n        }\r\n        finally {\r\n            if (selectionMarked) {\r\n                // In safari the selection will be lost after inserting markers, so need to restore it\r\n                // For other browsers we just need to delete markers here\r\n                this.select(roosterjs_editor_dom_2.removeMarker(this.core.contentDiv, roosterjs_editor_dom_2.Browser.isSafari || roosterjs_editor_dom_2.Browser.isChrome /*applySelection*/));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Save the current selection in editor so that when focus again, the selection can be restored\r\n     */\r\n    Editor.prototype.saveSelectionRange = function () {\r\n        this.core.cachedSelectionRange = this.core.api.getSelectionRange(this.core, false /*tryGetFromCache*/);\r\n    };\r\n    /**\r\n     * Restore the saved selection range and clear it\r\n     */\r\n    Editor.prototype.restoreSavedRange = function () {\r\n        this.select(this.core.cachedSelectionRange);\r\n        this.core.cachedSelectionRange = null;\r\n    };\r\n    /**\r\n     * Get current focused position. Return null if editor doesn't have focus at this time.\r\n     */\r\n    Editor.prototype.getFocusedPosition = function () {\r\n        var sel = this.getSelection();\r\n        if (this.contains(sel && sel.focusNode)) {\r\n            return new roosterjs_editor_dom_2.Position(sel.focusNode, sel.focusOffset);\r\n        }\r\n        var range = this.getSelectionRange();\r\n        if (range) {\r\n            return roosterjs_editor_dom_2.Position.getStart(range);\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Get a rect representing the location of the cursor.\r\n     * @returns a Rect object representing cursor location\r\n     */\r\n    Editor.prototype.getCursorRect = function () {\r\n        var position = this.getFocusedPosition();\r\n        return position && roosterjs_editor_dom_2.getPositionRect(position);\r\n    };\r\n    /**\r\n     * Get an HTML element from current cursor position.\r\n     * When expectedTags is not specified, return value is the current node (if it is HTML element)\r\n     * or its parent node (if current node is a Text node).\r\n     * When expectedTags is specified, return value is the first anscestor of current node which has\r\n     * one of the expected tags.\r\n     * If no element found within editor by the given tag, return null.\r\n     * @param selector Optional, an HTML selector to find HTML element with.\r\n     * @param startFrom Start search from this node. If not specified, start from current focused position\r\n     */\r\n    Editor.prototype.getElementAtCursor = function (selector, startFrom) {\r\n        if (!startFrom) {\r\n            var position = this.getFocusedPosition();\r\n            startFrom = position && position.node;\r\n        }\r\n        return startFrom && roosterjs_editor_dom_2.findClosestElementAncestor(startFrom, this.core.contentDiv, selector);\r\n    };\r\n    //#endregion\r\n    //#region EVENT API\r\n    /**\r\n     * Add a custom DOM event handler to handle events not handled by roosterjs.\r\n     * Caller need to take the responsibility to dispose the handler properly\r\n     * @param eventName DOM event name to handle\r\n     * @param handler Handler callback\r\n     * @returns A dispose function. Call the function to dispose this event handler\r\n     */\r\n    Editor.prototype.addDomEventHandler = function (eventName, handler) {\r\n        return this.core.api.attachDomEvent(this.core, eventName, null /*pluginEventType*/, handler);\r\n    };\r\n    /**\r\n     * Trigger an event to be dispatched to all plugins\r\n     * @param pluginEvent The event object to trigger\r\n     * @param broadcast indicates if the event needs to be dispatched to all plugins\r\n     * True means to all, false means to allow exclusive handling from one plugin unless no one wants that\r\n     */\r\n    Editor.prototype.triggerEvent = function (pluginEvent, broadcast) {\r\n        if (broadcast === void 0) { broadcast = true; }\r\n        this.core.api.triggerEvent(this.core, pluginEvent, broadcast);\r\n    };\r\n    /**\r\n     * Trigger a ContentChangedEvent\r\n     * @param source Source of this event, by default is 'SetContent'\r\n     * @param data additional data for this event\r\n     */\r\n    Editor.prototype.triggerContentChangedEvent = function (source, data) {\r\n        if (source === void 0) { source = \"SetContent\" /* SetContent */; }\r\n        this.triggerEvent({\r\n            eventType: 6 /* ContentChanged */,\r\n            source: source,\r\n            data: data,\r\n        });\r\n    };\r\n    //#endregion\r\n    //#region Undo API\r\n    /**\r\n     * Undo last edit operation\r\n     */\r\n    Editor.prototype.undo = function () {\r\n        this.focus();\r\n        this.core.undo.undo();\r\n    };\r\n    /**\r\n     * Redo next edit operation\r\n     */\r\n    Editor.prototype.redo = function () {\r\n        this.focus();\r\n        this.core.undo.redo();\r\n    };\r\n    /**\r\n     * Add undo snapshot, and execute a format callback function, then add another undo snapshot, then trigger\r\n     * ContentChangedEvent with given change source.\r\n     * If this function is called nested, undo snapshot will only be added in the outside one\r\n     * @param callback The callback function to perform formatting, returns a data object which will be used as\r\n     * the data field in ContentChangedEvent if changeSource is not null.\r\n     * @param changeSource The change source to use when fire ContentChangedEvent. When the value is not null,\r\n     * a ContentChangedEvent will be fired with change source equal to this value\r\n     */\r\n    Editor.prototype.addUndoSnapshot = function (callback, changeSource) {\r\n        this.core.api.editWithUndo(this.core, callback, changeSource);\r\n    };\r\n    /**\r\n     * Perform an auto complete action in the callback, save a snapsnot of content before the action,\r\n     * and trigger ContentChangedEvent with the change source if specified\r\n     * @param callback The auto complete callback, return value will be used as data field of ContentChangedEvent\r\n     * @param changeSource Chagne source of ContentChangedEvent. If not passed, no ContentChangedEvent will be  triggered\r\n     */\r\n    Editor.prototype.performAutoComplete = function (callback, changeSource) {\r\n        this.core.corePlugin.performAutoComplete(callback, changeSource);\r\n    };\r\n    /**\r\n     * Whether there is an available undo snapshot\r\n     */\r\n    Editor.prototype.canUndo = function () {\r\n        return this.core.undo.canUndo();\r\n    };\r\n    /**\r\n     * Whether there is an available redo snapshot\r\n     */\r\n    Editor.prototype.canRedo = function () {\r\n        return this.core.undo.canRedo();\r\n    };\r\n    //#endregion\r\n    //#region Misc\r\n    /**\r\n     * Get document which contains this editor\r\n     * @returns The HTML document which contains this editor\r\n     */\r\n    Editor.prototype.getDocument = function () {\r\n        return this.core.document;\r\n    };\r\n    /**\r\n     * Get custom data related to this editor\r\n     * @param key Key of the custom data\r\n     * @param getter Getter function. If custom data for the given key doesn't exist,\r\n     * call this function to get one and store it.\r\n     * @param disposer An optional disposer function to dispose this custom data when\r\n     * dispose editor.\r\n     */\r\n    Editor.prototype.getCustomData = function (key, getter, disposer) {\r\n        return this.core.api.getCustomData(this.core, key, getter, disposer);\r\n    };\r\n    /**\r\n     * Check if editor is in IME input sequence\r\n     * @returns True if editor is in IME input sequence, otherwise false\r\n     */\r\n    Editor.prototype.isInIME = function () {\r\n        return this.core.corePlugin.isInIME();\r\n    };\r\n    /**\r\n     * Get default format of this editor\r\n     * @returns Default format object of this editor\r\n     */\r\n    Editor.prototype.getDefaultFormat = function () {\r\n        return this.core.defaultFormat;\r\n    };\r\n    /**\r\n     * Get a content traverser for the whole editor\r\n     */\r\n    Editor.prototype.getBodyTraverser = function () {\r\n        return roosterjs_editor_dom_2.ContentTraverser.createBodyTraverser(this.core.contentDiv);\r\n    };\r\n    /**\r\n     * Get a content traverser for current selection\r\n     */\r\n    Editor.prototype.getSelectionTraverser = function () {\r\n        var range = this.getSelectionRange();\r\n        return (range &&\r\n            roosterjs_editor_dom_2.ContentTraverser.createSelectionTraverser(this.core.contentDiv, this.getSelectionRange()));\r\n    };\r\n    /**\r\n     * Get a content traverser for current block element start from specified position\r\n     * @param startFrom Start position of the traverser. Default value is ContentPosition.SelectionStart\r\n     */\r\n    Editor.prototype.getBlockTraverser = function (startFrom) {\r\n        if (startFrom === void 0) { startFrom = 2 /* SelectionStart */; }\r\n        var range = this.getSelectionRange();\r\n        return (range && roosterjs_editor_dom_2.ContentTraverser.createBlockTraverser(this.core.contentDiv, range, startFrom));\r\n    };\r\n    /**\r\n     * Get a text traverser of current selection\r\n     */\r\n    Editor.prototype.getContentSearcherOfCursor = function () {\r\n        var range = this.getSelectionRange();\r\n        return range && new roosterjs_editor_dom_2.PositionContentSearcher(this.core.contentDiv, roosterjs_editor_dom_2.Position.getStart(range));\r\n    };\r\n    /**\r\n     * Run a callback function asynchronously\r\n     * @param callback The callback function to run\r\n     */\r\n    Editor.prototype.runAsync = function (callback) {\r\n        var _this = this;\r\n        var win = this.core.contentDiv.ownerDocument.defaultView || window;\r\n        win.requestAnimationFrame(function () {\r\n            if (!_this.isDisposed() && callback) {\r\n                callback();\r\n            }\r\n        });\r\n    };\r\n    //#endregion\r\n    //#region Deprecated methods\r\n    /**\r\n     * @deprecated Use queryElements instead\r\n     */\r\n    Editor.prototype.queryContent = function (selector) {\r\n        return this.core.contentDiv.querySelectorAll(selector);\r\n    };\r\n    /**\r\n     * Get current selection\r\n     * @return current selection object\r\n     */\r\n    Editor.prototype.getSelection = function () {\r\n        return this.core.document.defaultView.getSelection();\r\n    };\r\n    /**\r\n     * @deprecated Use select() instead\r\n     * Update selection in editor\r\n     * @param selectionRange The selection range to update to\r\n     * @returns true if selection range is updated. Otherwise false.\r\n     */\r\n    Editor.prototype.updateSelection = function (selectionRange) {\r\n        return this.select(selectionRange);\r\n    };\r\n    /**\r\n     * @deprecated Use editWithUndo() instead\r\n     */\r\n    Editor.prototype.runWithoutAddingUndoSnapshot = function (callback) {\r\n        try {\r\n            this.core.currentUndoSnapshot = this.getContent(false, true);\r\n            callback();\r\n        }\r\n        finally {\r\n            this.core.currentUndoSnapshot = null;\r\n        }\r\n    };\r\n    /**\r\n     * @deprecated Use getBodyTraverser, getSelectionTraverser, getBlockTraverser instead\r\n     */\r\n    Editor.prototype.getContentTraverser = function (scope, position) {\r\n        if (position === void 0) { position = 2 /* SelectionStart */; }\r\n        switch (scope) {\r\n            case 0 /* Block */:\r\n                return this.getBlockTraverser(position);\r\n            case 1 /* Selection */:\r\n                return this.getSelectionTraverser();\r\n            case 2 /* Body */:\r\n                return this.getBodyTraverser();\r\n        }\r\n        return null;\r\n    };\r\n    return Editor;\r\n}());\r\nexports.default = Editor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar attachDomEvent_1 = require(\"../coreAPI/attachDomEvent\");\r\nvar CorePlugin_1 = require(\"./CorePlugin\");\r\nvar editWithUndo_1 = require(\"../coreAPI/editWithUndo\");\r\nvar focus_1 = require(\"../coreAPI/focus\");\r\nvar getCustomData_1 = require(\"../coreAPI/getCustomData\");\r\nvar getSelectionRange_1 = require(\"../coreAPI/getSelectionRange\");\r\nvar hasFocus_1 = require(\"../coreAPI/hasFocus\");\r\nvar insertNode_1 = require(\"../coreAPI/insertNode\");\r\nvar select_1 = require(\"../coreAPI/select\");\r\nvar triggerEvent_1 = require(\"../coreAPI/triggerEvent\");\r\nvar Undo_1 = require(\"../undo/Undo\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nfunction createEditorCore(contentDiv, options) {\r\n    var undo = options.undo || new Undo_1.default();\r\n    var corePlugin = new CorePlugin_1.default(contentDiv, options.disableRestoreSelectionOnFocus);\r\n    return {\r\n        contentDiv: contentDiv,\r\n        document: contentDiv.ownerDocument,\r\n        defaultFormat: calcDefaultFormat(contentDiv, options.defaultFormat),\r\n        corePlugin: corePlugin,\r\n        undo: undo,\r\n        currentUndoSnapshot: null,\r\n        customData: {},\r\n        cachedSelectionRange: null,\r\n        plugins: [corePlugin].concat((options.plugins || []), [undo]).filter(function (plugin) { return !!plugin; }),\r\n        api: createCoreApiMap(options.coreApiOverride),\r\n        defaultApi: createCoreApiMap(),\r\n    };\r\n}\r\nexports.default = createEditorCore;\r\nfunction calcDefaultFormat(node, baseFormat) {\r\n    if (baseFormat && Object.keys(baseFormat).length === 0) {\r\n        return {};\r\n    }\r\n    baseFormat = baseFormat || {};\r\n    var styles = roosterjs_editor_dom_1.getComputedStyles(node);\r\n    return {\r\n        fontFamily: baseFormat.fontFamily || styles[0],\r\n        fontSize: baseFormat.fontSize || styles[1],\r\n        textColor: baseFormat.textColor || styles[2],\r\n        backgroundColor: baseFormat.backgroundColor || '',\r\n        bold: baseFormat.bold,\r\n        italic: baseFormat.italic,\r\n        underline: baseFormat.underline,\r\n    };\r\n}\r\nfunction createCoreApiMap(map) {\r\n    map = map || {};\r\n    return {\r\n        attachDomEvent: map.attachDomEvent || attachDomEvent_1.default,\r\n        editWithUndo: map.editWithUndo || editWithUndo_1.default,\r\n        focus: map.focus || focus_1.default,\r\n        getCustomData: map.getCustomData || getCustomData_1.default,\r\n        getSelectionRange: map.getSelectionRange || getSelectionRange_1.default,\r\n        hasFocus: map.hasFocus || hasFocus_1.default,\r\n        insertNode: map.insertNode || insertNode_1.default,\r\n        select: map.select || select_1.default,\r\n        triggerEvent: map.triggerEvent || triggerEvent_1.default,\r\n    };\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar attachDomEvent = function (core, eventName, pluginEventType, beforeDispatch) {\r\n    var onEvent = function (event) {\r\n        if (beforeDispatch) {\r\n            beforeDispatch(event);\r\n        }\r\n        if (pluginEventType != null) {\r\n            core.api.triggerEvent(core, {\r\n                eventType: pluginEventType,\r\n                rawEvent: event,\r\n            }, false /*broadcast*/);\r\n        }\r\n    };\r\n    core.contentDiv.addEventListener(eventName, onEvent);\r\n    return function () {\r\n        core.contentDiv.removeEventListener(eventName, onEvent);\r\n    };\r\n};\r\nexports.default = attachDomEvent;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar editWithUndo = function (core, callback, changeSource) {\r\n    var isNested = core.currentUndoSnapshot !== null;\r\n    var data;\r\n    var currentSnapshot;\r\n    if (!isNested) {\r\n        core.currentUndoSnapshot = core.undo.addUndoSnapshot();\r\n    }\r\n    try {\r\n        if (callback) {\r\n            var range = core.api.getSelectionRange(core, true /*tryGetFromCache*/);\r\n            data = callback(range && roosterjs_editor_dom_1.Position.getStart(range).normalize(), range && roosterjs_editor_dom_1.Position.getEnd(range).normalize(), core.currentUndoSnapshot);\r\n            if (!isNested) {\r\n                currentSnapshot = core.undo.addUndoSnapshot();\r\n            }\r\n        }\r\n    }\r\n    finally {\r\n        if (!isNested) {\r\n            core.currentUndoSnapshot = null;\r\n        }\r\n    }\r\n    if (callback && changeSource) {\r\n        var event_1 = {\r\n            eventType: 6 /* ContentChanged */,\r\n            source: changeSource,\r\n            lastSnapshot: currentSnapshot,\r\n            data: data,\r\n        };\r\n        core.api.triggerEvent(core, event_1, true /*broadcast*/);\r\n    }\r\n};\r\nexports.default = editWithUndo;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar focus = function (core) {\r\n    if (!core.api.hasFocus(core) || !core.api.getSelectionRange(core, false /*tryGetFromCache*/)) {\r\n        // Focus (document.activeElement indicates) and selection are mostly in sync, but could be out of sync in some extreme cases.\r\n        // i.e. if you programmatically change window selection to point to a non-focusable DOM element (i.e. tabindex=-1 etc.).\r\n        // On Chrome/Firefox, it does not change document.activeElement. On Edge/IE, it change document.activeElement to be body\r\n        // Although on Chrome/Firefox, document.activeElement points to editor, you cannot really type which we don't want (no cursor).\r\n        // So here we always do a live selection pull on DOM and make it point in Editor. The pitfall is, the cursor could be reset\r\n        // to very begin to of editor since we don't really have last saved selection (created on blur which does not fire in this case).\r\n        // It should be better than the case you cannot type\r\n        if (!core.cachedSelectionRange || !core.api.select(core, core.cachedSelectionRange)) {\r\n            var node = roosterjs_editor_dom_1.getFirstLeafNode(core.contentDiv) || core.contentDiv;\r\n            core.api.select(core, node, 0 /* Begin */);\r\n        }\r\n    }\r\n    // remember to clear cachedSelectionRange\r\n    core.cachedSelectionRange = null;\r\n    // This is more a fallback to ensure editor gets focus if it didn't manage to move focus to editor\r\n    if (!core.api.hasFocus(core)) {\r\n        core.contentDiv.focus();\r\n    }\r\n};\r\nexports.default = focus;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getCustomData = function (core, key, getter, disposer) {\r\n    return (core.customData[key] = core.customData[key] || {\r\n        value: getter(),\r\n        disposer: disposer,\r\n    }).value;\r\n};\r\nexports.default = getCustomData;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar getSelectionRange = function (core, tryGetFromCache) {\r\n    var result = null;\r\n    if (!tryGetFromCache || core.api.hasFocus(core)) {\r\n        var selection = core.document.defaultView.getSelection();\r\n        if (selection && selection.rangeCount > 0) {\r\n            var range = selection.getRangeAt(0);\r\n            if (roosterjs_editor_dom_1.contains(core.contentDiv, range)) {\r\n                result = range;\r\n            }\r\n        }\r\n    }\r\n    if (!result && tryGetFromCache) {\r\n        result = core.cachedSelectionRange;\r\n    }\r\n    return result;\r\n};\r\nexports.default = getSelectionRange;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar insertNode = function (core, node, option) {\r\n    var position = option ? option.position : 2 /* SelectionStart */;\r\n    var updateCursor = option ? option.updateCursor : true;\r\n    var replaceSelection = option ? option.replaceSelection : true;\r\n    var insertOnNewLine = option ? option.insertOnNewLine : false;\r\n    var contentDiv = core.contentDiv;\r\n    if (updateCursor) {\r\n        core.api.focus(core);\r\n    }\r\n    switch (position) {\r\n        case 0 /* Begin */:\r\n        case 1 /* End */:\r\n            var isBegin = position == 0 /* Begin */;\r\n            var block = roosterjs_editor_dom_1.getFirstLastBlockElement(contentDiv, isBegin);\r\n            var insertedNode = void 0;\r\n            if (block) {\r\n                var refNode = isBegin ? block.getStartNode() : block.getEndNode();\r\n                var refParentNode = refNode.parentNode;\r\n                if (insertOnNewLine ||\r\n                    refNode.nodeType == 3 /* Text */ ||\r\n                    roosterjs_editor_dom_1.isVoidHtmlElement(refNode)) {\r\n                    // For insert on new line, or refNode is text or void html element (HR, BR etc.)\r\n                    // which cannot have children, i.e. <div>hello<br>world</div>. 'hello', 'world' are the\r\n                    // first and last node. Insert before 'hello' or after 'world', but still inside DIV\r\n                    insertedNode = refParentNode.insertBefore(node, isBegin ? refNode : refNode.nextSibling);\r\n                }\r\n                else {\r\n                    // if the refNode can have child, use appendChild (which is like to insert as first/last child)\r\n                    // i.e. <div>hello</div>, the content will be inserted before/after hello\r\n                    insertedNode = refNode.insertBefore(node, isBegin ? refNode.firstChild : null);\r\n                }\r\n            }\r\n            else {\r\n                // No first block, this can happen when editor is empty. Use appendChild to insert the content in contentDiv\r\n                insertedNode = contentDiv.appendChild(node);\r\n            }\r\n            // Final check to see if the inserted node is a block. If not block and the ask is to insert on new line,\r\n            // add a DIV wrapping\r\n            if (insertedNode && insertOnNewLine && !roosterjs_editor_dom_1.isBlockElement(insertedNode)) {\r\n                roosterjs_editor_dom_1.wrap(insertedNode);\r\n            }\r\n            break;\r\n        case 2 /* SelectionStart */:\r\n            var range = core.api.getSelectionRange(core, true /*tryGetFromCache*/);\r\n            if (range) {\r\n                // if to replace the selection and the selection is not collapsed, remove the the content at selection first\r\n                if (replaceSelection && !range.collapsed) {\r\n                    range.deleteContents();\r\n                }\r\n                // Create a clone (backup) for the selection first as we may need to restore to it later\r\n                var clonedRange = range.cloneRange();\r\n                var position_1 = roosterjs_editor_dom_1.Position.getStart(range).normalize();\r\n                var blockElement = roosterjs_editor_dom_1.getBlockElementAtNode(contentDiv, position_1.node);\r\n                if (blockElement) {\r\n                    var endNode = blockElement.getEndNode();\r\n                    if (insertOnNewLine) {\r\n                        // Adjust the insertion point\r\n                        // option.insertOnNewLine means to insert on a block after the selection, not really right at the selection\r\n                        // This is commonly used when users want to insert signature. They could place cursor somewhere mid of a line\r\n                        // and insert signature, they actually want signature to be inserted the line after the selection\r\n                        range.setEndAfter(endNode);\r\n                        range.collapse(false /*toStart*/);\r\n                    }\r\n                    else {\r\n                        range = preprocessNode(core, range, node, endNode);\r\n                    }\r\n                }\r\n                var nodeForCursor = node.nodeType == 11 /* DocumentFragment */ ? node.lastChild : node;\r\n                range.insertNode(node);\r\n                if (updateCursor && nodeForCursor) {\r\n                    core.api.select(core, new roosterjs_editor_dom_1.Position(nodeForCursor, -3 /* After */).normalize());\r\n                }\r\n                else {\r\n                    core.api.select(core, clonedRange);\r\n                }\r\n            }\r\n            break;\r\n        case 3 /* Outside */:\r\n            core.contentDiv.parentNode.insertBefore(node, contentDiv.nextSibling);\r\n            break;\r\n    }\r\n    return true;\r\n};\r\nexports.default = insertNode;\r\nfunction preprocessNode(core, range, nodeToInsert, currentNode) {\r\n    var rootNodeToInsert = nodeToInsert;\r\n    if (rootNodeToInsert.nodeType == 11 /* DocumentFragment */) {\r\n        var rootNodes = [].slice.call(rootNodeToInsert.childNodes).filter(function (n) { return roosterjs_editor_dom_1.getTagOfNode(n) != 'BR'; });\r\n        rootNodeToInsert = rootNodes.length == 1 ? rootNodes[0] : null;\r\n    }\r\n    var tag = roosterjs_editor_dom_1.getTagOfNode(rootNodeToInsert);\r\n    if ((tag == 'OL' || tag == 'UL') && roosterjs_editor_dom_1.getTagOfNode(rootNodeToInsert.firstChild) == 'LI') {\r\n        var shouldInsertListAsText = !rootNodeToInsert.firstChild.nextSibling &&\r\n            roosterjs_editor_dom_1.getTagOfNode(rootNodeToInsert.nextSibling) != 'BR';\r\n        if (roosterjs_editor_dom_1.getTagOfNode(rootNodeToInsert.nextSibling) == 'BR' && rootNodeToInsert.parentNode) {\r\n            rootNodeToInsert.parentNode.removeChild(rootNodeToInsert.nextSibling);\r\n        }\r\n        if (shouldInsertListAsText) {\r\n            roosterjs_editor_dom_1.unwrap(rootNodeToInsert.firstChild);\r\n            roosterjs_editor_dom_1.unwrap(rootNodeToInsert);\r\n        }\r\n        else {\r\n            var listNode = currentNode;\r\n            while (roosterjs_editor_dom_1.getTagOfNode(listNode.parentNode) != tag &&\r\n                roosterjs_editor_dom_1.contains(core.contentDiv, listNode)) {\r\n                listNode = listNode.parentNode;\r\n            }\r\n            if (roosterjs_editor_dom_1.getTagOfNode(listNode.parentNode) == tag) {\r\n                if (roosterjs_editor_dom_1.isNodeEmpty(listNode) ||\r\n                    roosterjs_editor_dom_1.isPositionAtBeginningOf(roosterjs_editor_dom_1.Position.getStart(range), listNode)) {\r\n                    range.setEndBefore(listNode);\r\n                }\r\n                else {\r\n                    range.setEndAfter(listNode);\r\n                }\r\n                range.collapse(false /*toStart*/);\r\n                roosterjs_editor_dom_1.unwrap(rootNodeToInsert);\r\n            }\r\n        }\r\n    }\r\n    if (roosterjs_editor_dom_1.getTagOfNode(currentNode) == 'P') {\r\n        // Insert into a P tag may cause issues when the inserted content contains any block element.\r\n        // Change P tag to DIV to make sure it works well\r\n        var start = roosterjs_editor_dom_1.Position.getStart(range).normalize();\r\n        var end = roosterjs_editor_dom_1.Position.getEnd(range).normalize();\r\n        var div = roosterjs_editor_dom_1.changeElementTag(currentNode, 'div');\r\n        var newRange = roosterjs_editor_dom_1.createRange(start, end);\r\n        if (start.node != div && end.node != div && roosterjs_editor_dom_1.contains(core.contentDiv, newRange)) {\r\n            range = newRange;\r\n        }\r\n    }\r\n    if (roosterjs_editor_dom_1.isVoidHtmlElement(range.endContainer)) {\r\n        range.setEndBefore(range.endContainer);\r\n    }\r\n    return range;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar hasFocus_1 = require(\"./hasFocus\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar select = function (core, arg1, arg2, arg3, arg4) {\r\n    var range;\r\n    if (!arg1) {\r\n        return false;\r\n    }\r\n    else if (arg1 instanceof Range) {\r\n        range = arg1;\r\n    }\r\n    else {\r\n        if (arg1.node) {\r\n            range = roosterjs_editor_dom_1.createRange(new roosterjs_editor_dom_1.Position(arg1), arg2 && arg2.node ? new roosterjs_editor_dom_1.Position(arg2) : null);\r\n        }\r\n        else if (arg1 instanceof Node) {\r\n            var start = void 0;\r\n            var end = void 0;\r\n            if (arg2 == undefined) {\r\n                start = new roosterjs_editor_dom_1.Position(arg1, -2 /* Before */);\r\n                end = new roosterjs_editor_dom_1.Position(arg1, -3 /* After */);\r\n            }\r\n            else {\r\n                start = new roosterjs_editor_dom_1.Position(arg1, arg2);\r\n                end =\r\n                    arg3 instanceof Node\r\n                        ? new roosterjs_editor_dom_1.Position(arg3, arg4)\r\n                        : null;\r\n            }\r\n            range = roosterjs_editor_dom_1.createRange(start, end);\r\n        }\r\n    }\r\n    if (roosterjs_editor_dom_1.contains(core.contentDiv, range)) {\r\n        var selection = core.document.defaultView.getSelection();\r\n        if (selection) {\r\n            var needAddRange = true;\r\n            if (selection.rangeCount > 0) {\r\n                // Workaround IE exception 800a025e\r\n                try {\r\n                    // Do not remove/add range if current selection is the same with target range\r\n                    // Without this check, execCommand() may fail in Edge since we changed the selection\r\n                    var currentRange = roosterjs_editor_dom_1.Browser.isEdge && selection.rangeCount == 1\r\n                        ? selection.getRangeAt(0)\r\n                        : null;\r\n                    if (currentRange &&\r\n                        currentRange.startContainer == range.startContainer &&\r\n                        currentRange.startOffset == range.startOffset &&\r\n                        currentRange.endContainer == range.endContainer &&\r\n                        currentRange.endOffset == range.endOffset) {\r\n                        needAddRange = false;\r\n                    }\r\n                    else {\r\n                        selection.removeAllRanges();\r\n                    }\r\n                }\r\n                catch (e) { }\r\n            }\r\n            if (needAddRange) {\r\n                selection.addRange(range);\r\n            }\r\n            if (!hasFocus_1.default(core)) {\r\n                core.cachedSelectionRange = range;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\nexports.default = select;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar triggerEvent = function (core, pluginEvent, broadcast) {\r\n    if (broadcast || !core.plugins.some(function (plugin) { return handledExclusively(pluginEvent, plugin); })) {\r\n        core.plugins.forEach(function (plugin) {\r\n            if (plugin.onPluginEvent) {\r\n                plugin.onPluginEvent(pluginEvent);\r\n            }\r\n        });\r\n    }\r\n};\r\nfunction handledExclusively(event, plugin) {\r\n    if (plugin.onPluginEvent &&\r\n        plugin.willHandleEventExclusively &&\r\n        plugin.willHandleEventExclusively(event)) {\r\n        plugin.onPluginEvent(event);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.default = triggerEvent;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\n/**\r\n * @deprecated\r\n */\r\nvar browserData = roosterjs_editor_dom_1.Browser;\r\nvar getBrowserData = roosterjs_editor_dom_1.getBrowserInfo;\r\nexports.getBrowserData = getBrowserData;\r\nexports.default = browserData;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar cacheGetEventData_1 = require(\"./cacheGetEventData\");\r\nvar clearEventDataCache_1 = require(\"./clearEventDataCache\");\r\nvar CONTENTSEARCHER_KEY = 'CONTENTSEARCHER';\r\n/**\r\n * Try get existing PositionContentSearcher from an event. If there isn't one, create a new one from editor.\r\n * @param event The plugin event, it stores the event cached data for looking up.\r\n * If passed as null, we will create a new PositionContentSearcher\r\n * @param editor The editor instance\r\n * @returns The PositionContentSearcher object\r\n */\r\nfunction cacheGetContentSearcher(event, editor) {\r\n    return cacheGetEventData_1.default(event, CONTENTSEARCHER_KEY, function () { return editor.getContentSearcherOfCursor(); });\r\n}\r\nexports.cacheGetContentSearcher = cacheGetContentSearcher;\r\n/**\r\n * Clear the PositionContentSearcher in a plugin event.\r\n * This is called when the content is changed\r\n * @param event The plugin event\r\n */\r\nfunction clearContentSearcherCache(event) {\r\n    clearEventDataCache_1.default(event, CONTENTSEARCHER_KEY);\r\n}\r\nexports.clearContentSearcherCache = clearContentSearcherCache;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar cacheGetEventData_1 = require(\"./cacheGetEventData\");\r\nvar CACHE_KEY_PREFIX = 'GET_ELEMENT_AT_CURSOR_';\r\n/**\r\n * Get an HTML element at cursor from event cache if it exists.\r\n * If an selector is specified, return the nearest ancestor of current node\r\n * which matches the selector, or null if no match found in editor.\r\n * @param editor The editor instance\r\n * @param event Event object to get cached object from\r\n * @param selector The expected selector. If null, return the element at cursor\r\n * @returns The element at cursor or the nearest ancestor with the tag name is specified\r\n */\r\nfunction cacheGetElementAtCursor(editor, event, selector) {\r\n    return cacheGetEventData_1.default(event, CACHE_KEY_PREFIX + selector, function () {\r\n        return editor.getElementAtCursor(selector);\r\n    });\r\n}\r\nexports.default = cacheGetElementAtCursor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * @deprecated Use Editor.getContent(false, true) instead\r\n * Build undo snapshot\r\n */\r\nfunction buildSnapshot(editor) {\r\n    return editor.getContent(false /*triggerExtractContentEvent*/, true /*markSelection*/);\r\n}\r\nexports.buildSnapshot = buildSnapshot;\r\n/**\r\n * @deprecated Use Editor.setContent() instead\r\n * Restore a snapshot\r\n */\r\nfunction restoreSnapshot(editor, snapshot) {\r\n    editor.setContent(snapshot);\r\n}\r\nexports.restoreSnapshot = restoreSnapshot;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Insert an image to editor at current selection\r\n * @param editor The editor instance\r\n * @param imageFile The image file. There are at least 3 ways to obtain the file object:\r\n * From local file, from clipboard data, from drag-and-drop\r\n */\r\nfunction insertImage(editor, imageFile) {\r\n    var reader = new FileReader();\r\n    reader.onload = function (event) {\r\n        if (!editor.isDisposed()) {\r\n            editor.addUndoSnapshot(function () {\r\n                var image = editor.getDocument().createElement('img');\r\n                image.src = event.target.result;\r\n                image.style.maxWidth = '100%';\r\n                editor.insertNode(image);\r\n            }, \"Format\" /* Format */);\r\n        }\r\n    };\r\n    reader.readAsDataURL(imageFile);\r\n}\r\nexports.default = insertImage;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar formatTable_1 = require(\"./formatTable\");\r\n/**\r\n * Insert table into editor at current selection\r\n * @param editor The editor instance\r\n * @param columns Number of columns in table, it also controls the default table cell width:\r\n * if columns <= 4, width = 120px; if columns <= 6, width = 100px; else width = 70px\r\n * @param rows Number of rows in table\r\n * @param format (Optional) The table format. If not passed, the default format will be applied:\r\n * background color: #FFF; border color: #ABABAB\r\n */\r\nfunction insertTable(editor, columns, rows, format) {\r\n    var document = editor.getDocument();\r\n    var fragment = document.createDocumentFragment();\r\n    var table = document.createElement('table');\r\n    fragment.appendChild(table);\r\n    table.cellSpacing = '0';\r\n    table.cellPadding = '1';\r\n    for (var i = 0; i < rows; i++) {\r\n        var tr = document.createElement('tr');\r\n        table.appendChild(tr);\r\n        for (var j = 0; j < columns; j++) {\r\n            var td = document.createElement('td');\r\n            tr.appendChild(td);\r\n            td.appendChild(document.createElement('br'));\r\n            td.style.width = getTableCellWidth(columns);\r\n        }\r\n    }\r\n    editor.focus();\r\n    editor.addUndoSnapshot(function () {\r\n        editor.insertNode(fragment);\r\n        formatTable_1.default(editor, format || {\r\n            bgColorEven: '#FFF',\r\n            bgColorOdd: '#FFF',\r\n            topBorderColor: '#ABABAB',\r\n            bottomBorderColor: '#ABABAB',\r\n            verticalBorderColor: '#ABABAB',\r\n        }, table);\r\n        editor.runAsync(function () { return editor.select(table, -3 /* After */); });\r\n    }, \"Format\" /* Format */);\r\n}\r\nexports.default = insertTable;\r\nfunction getTableCellWidth(columns) {\r\n    if (columns <= 4) {\r\n        return '120px';\r\n    }\r\n    else if (columns <= 6) {\r\n        return '100px';\r\n    }\r\n    else {\r\n        return '70px';\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\n/**\r\n * Edit table with given operation. If there is no table at cursor then no op.\r\n * @param editor The editor instance\r\n * @param operation Table operation\r\n */\r\nfunction editTable(editor, operation) {\r\n    var td = editor.getElementAtCursor('TD,TH');\r\n    if (td) {\r\n        editor.addUndoSnapshot(function (start, end) {\r\n            var vtable = new roosterjs_editor_dom_1.VTable(td);\r\n            vtable.edit(operation);\r\n            vtable.writeBack();\r\n            editor.focus();\r\n            if (!editor.select(start, end)) {\r\n                editor.select(editor.contains(td) ? td : vtable.getCurrentTd());\r\n            }\r\n        }, \"Format\" /* Format */);\r\n    }\r\n}\r\nexports.default = editTable;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\n/**\r\n * Remove link at selection. If no links at selection, do nothing.\r\n * If selection contains multiple links, all of the link styles will be removed.\r\n * If only part of a link is selected, the whole link style will be removed.\r\n * @param editor The editor instance\r\n */\r\nfunction removeLink(editor) {\r\n    editor.focus();\r\n    editor.addUndoSnapshot(function (start, end) {\r\n        editor.queryElements('a[href]', 1 /* OnSelection */, roosterjs_editor_dom_1.unwrap);\r\n        editor.select(start, end);\r\n    }, \"Format\" /* Format */);\r\n}\r\nexports.default = removeLink;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar execCommand_1 = require(\"../utils/execCommand\");\r\n/**\r\n * Set content alignment\r\n * @param editor The editor instance\r\n * @param alignment The alignment option:\r\n * Alignment.Center, Alignment.Left, Alignment.Right\r\n */\r\nfunction setAlignment(editor, alignment) {\r\n    var command = \"justifyLeft\" /* JustifyLeft */;\r\n    var align = 'left';\r\n    if (alignment == 1 /* Center */) {\r\n        command = \"justifyCenter\" /* JustifyCenter */;\r\n        align = 'center';\r\n    }\r\n    else if (alignment == 2 /* Right */) {\r\n        command = \"justifyRight\" /* JustifyRight */;\r\n        align = 'right';\r\n    }\r\n    editor.addUndoSnapshot(function () {\r\n        execCommand_1.default(editor, command);\r\n        editor.queryElements('[align]', 1 /* OnSelection */, function (node) { return (node.style.textAlign = align); });\r\n    }, \"Format\" /* Format */);\r\n}\r\nexports.default = setAlignment;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Change direction for the blocks/paragraph at selection\r\n * @param editor The editor instance\r\n * @param direction The direction option:\r\n * Direction.LeftToRight refers to 'ltr', Direction.RightToLeft refers to 'rtl'\r\n */\r\nfunction setDirection(editor, direction) {\r\n    editor.focus();\r\n    var blockElements = [];\r\n    var contentTraverser = editor.getSelectionTraverser();\r\n    var startBlock = contentTraverser && contentTraverser.currentBlockElement;\r\n    while (startBlock) {\r\n        blockElements.push(startBlock);\r\n        startBlock = contentTraverser.getNextBlockElement();\r\n    }\r\n    if (blockElements.length > 0) {\r\n        editor.addUndoSnapshot(function (start, end) {\r\n            for (var _i = 0, blockElements_1 = blockElements; _i < blockElements_1.length; _i++) {\r\n                var block = blockElements_1[_i];\r\n                var node = block.collapseToSingleElement();\r\n                node.setAttribute('dir', direction == 0 /* LeftToRight */ ? 'ltr' : 'rtl');\r\n                node.style.textAlign = direction == 0 /* LeftToRight */ ? 'left' : 'right';\r\n            }\r\n            editor.select(start, end);\r\n        }, \"Format\" /* Format */);\r\n    }\r\n}\r\nexports.default = setDirection;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Set image alt text for all selected images at selection. If no images is contained\r\n * in selection, do nothing.\r\n * The alt attribute provides alternative information for an image if a user for some reason\r\n * cannot view it (because of slow connection, an error in the src attribute, or if the user\r\n * uses a screen reader). See https://www.w3schools.com/tags/att_img_alt.asp\r\n * @param editor The editor instance\r\n * @param altText The image alt text\r\n */\r\nfunction setImageAltText(editor, altText) {\r\n    editor.focus();\r\n    editor.addUndoSnapshot(function () {\r\n        editor.queryElements('img', 1 /* OnSelection */, function (node) {\r\n            return node.setAttribute('alt', altText);\r\n        });\r\n    }, \"Format\" /* Format */);\r\n}\r\nexports.default = setImageAltText;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar processList_1 = require(\"../utils/processList\");\r\n/**\r\n * Set indentation at selection\r\n * If selection contains bullet/numbering list, increase/decrease indentation will\r\n * increase/decrease the list level by one.\r\n * @param editor The editor instance\r\n * @param indentation The indentation option:\r\n * Indentation.Increase to increase indentation or Indentation.Decrease to decrease indentation\r\n */\r\nfunction setIndentation(editor, indentation) {\r\n    var command = indentation == 0 /* Increase */ ? \"indent\" /* Indent */ : \"outdent\" /* Outdent */;\r\n    editor.addUndoSnapshot(function () {\r\n        editor.focus();\r\n        var listNode = editor.getElementAtCursor('OL,UL');\r\n        var newNode;\r\n        if (listNode) {\r\n            // There is already list node, setIndentation() will increase/decrease the list level,\r\n            // so we need to process the list when change indentation\r\n            newNode = processList_1.default(editor, command);\r\n        }\r\n        else {\r\n            // No existing list node, browser will create <Blockquote> node for indentation.\r\n            // We need to set top and bottom margin to 0 to avoid unnecessary spaces\r\n            editor.getDocument().execCommand(command, false, null);\r\n            editor.queryElements('BLOCKQUOTE', 1 /* OnSelection */, function (node) {\r\n                newNode = newNode || node;\r\n                node.style.marginTop = '0px';\r\n                node.style.marginBottom = '0px';\r\n            });\r\n        }\r\n        return newNode;\r\n    }, \"Format\" /* Format */);\r\n}\r\nexports.default = setIndentation;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar processList_1 = require(\"../utils/processList\");\r\n/**\r\n * Toggle bullet at selection\r\n * If selection contains bullet in deep level, toggle bullet will decrease the bullet level by one\r\n * If selection contains number list, toggle bullet will convert the number list into bullet list\r\n * If selection contains both bullet/numbering and normal text, the behavior is decided by corresponding\r\n * browser execCommand API\r\n * @param editor The editor instance\r\n */\r\nfunction toggleBullet(editor) {\r\n    editor.focus();\r\n    editor.addUndoSnapshot(function () { return processList_1.default(editor, \"insertUnorderedList\" /* InsertUnorderedList */); }, \"Format\" /* Format */);\r\n}\r\nexports.default = toggleBullet;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar processList_1 = require(\"../utils/processList\");\r\n/**\r\n * Toggle numbering at selection\r\n * If selection contains numbering in deep level, toggle numbering will decrease the numbering level by one\r\n * If selection contains bullet list, toggle numbering will convert the bullet list into number list\r\n * If selection contains both bullet/numbering and normal text, the behavior is decided by corresponding\r\n * realization of browser execCommand API\r\n * @param editor The editor instance\r\n */\r\nfunction toggleNumbering(editor) {\r\n    editor.focus();\r\n    editor.addUndoSnapshot(function () { return processList_1.default(editor, \"insertOrderedList\" /* InsertOrderedList */); }, \"Format\" /* Format */);\r\n}\r\nexports.default = toggleNumbering;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar toggleTagCore_1 = require(\"../utils/toggleTagCore\");\r\nvar BLOCKQUOTE_TAG = 'blockquote';\r\nvar DEFAULT_STYLER = function (element) {\r\n    element.style.borderLeft = '3px solid';\r\n    element.style.borderColor = '#C8C8C8';\r\n    element.style.paddingLeft = '10px';\r\n    element.style.color = '#666666';\r\n};\r\n/**\r\n * Toggle blockquote at selection, if selection already contains any blockquoted elements,\r\n * the blockquoted elements will be unblockquoted and other elements will take no affect\r\n * @param editor The editor instance\r\n * @param styler (Optional) The custom styler for setting the style for the blockquote element\r\n */\r\nfunction toggleBlockQuote(editor, styler) {\r\n    toggleTagCore_1.default(editor, BLOCKQUOTE_TAG, styler || DEFAULT_STYLER);\r\n}\r\nexports.default = toggleBlockQuote;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar toggleTagCore_1 = require(\"../utils/toggleTagCore\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar PRE_TAG = 'pre';\r\nvar CODE_TAG = 'code';\r\nvar CODE_NODE_TAG = 'CODE';\r\n/**\r\n * Toggle code block at selection, if selection already contains any code blocked elements,\r\n * the code block elements will be no longer be code blocked and other elements will take no affect\r\n * @param editor The editor instance\r\n * @param styler (Optional) The custom styler for setting the style for the code block element\r\n */\r\nfunction toggleCodeBlock(editor, styler) {\r\n    toggleTagCore_1.default(editor, PRE_TAG, styler, wrapFunction, unwrapFunction);\r\n}\r\nexports.default = toggleCodeBlock;\r\nfunction wrapFunction(nodes) {\r\n    var codeBlock = roosterjs_editor_dom_1.wrap(nodes, CODE_TAG);\r\n    return roosterjs_editor_dom_1.wrap(codeBlock, PRE_TAG);\r\n}\r\nfunction unwrapFunction(node) {\r\n    if (!node) {\r\n        return null;\r\n    }\r\n    var firstChild = node.childNodes[0];\r\n    if (node.childNodes.length == 1 && roosterjs_editor_dom_1.getTagOfNode(firstChild) == CODE_NODE_TAG) {\r\n        roosterjs_editor_dom_1.unwrap(firstChild);\r\n    }\r\n    return roosterjs_editor_dom_1.unwrap(node);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar execCommand_1 = require(\"../utils/execCommand\");\r\n/**\r\n * Toggle strikethrough at selection\r\n * If selection is collapsed, it will only affect the input after caret\r\n * If selection contains only strikethrough text, the strikethrough style will be removed\r\n * If selection contains only normal text, strikethrough style will be added to the whole selected text\r\n * If selection contains both strikethrough and normal text, strikethrough stlye will be added to the whole selected text\r\n * @param editor The editor instance\r\n */\r\nfunction toggleStrikethrough(editor) {\r\n    execCommand_1.default(editor, \"strikeThrough\" /* StrikeThrough */);\r\n}\r\nexports.default = toggleStrikethrough;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar execCommand_1 = require(\"../utils/execCommand\");\r\n/**\r\n * Toggle subscript at selection\r\n * If selection is collapsed, it will only affect the input after caret\r\n * If selection contains only subscript text, the subscript style will be removed\r\n * If selection contains only normal text, subscript style will be added to the whole selected text\r\n * If selection contains both subscript and normal text, the subscript style will be removed from whole selected text\r\n * If selection contains any superscript text, the behavior is determined by corresponding realization of browser\r\n * execCommand API\r\n * @param editor The editor instance\r\n */\r\nfunction toggleSubscript(editor) {\r\n    execCommand_1.default(editor, \"subscript\" /* Subscript */);\r\n}\r\nexports.default = toggleSubscript;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar execCommand_1 = require(\"../utils/execCommand\");\r\n/**\r\n * Toggle superscript at selection\r\n * If selection is collapsed, it will only affect the input after caret\r\n * If selection contains only superscript text, the superscript style will be removed\r\n * If selection contains only normal text, superscript style will be added to the whole selected text\r\n * If selection contains both superscript and normal text, the superscript style will be removed from whole selected text\r\n * If selection contains any subscript text, the behavior is determined by corresponding realization of browser\r\n * execCommand API\r\n * @param editor The editor instance\r\n */\r\nfunction toggleSuperscript(editor) {\r\n    execCommand_1.default(editor, \"superscript\" /* Superscript */);\r\n}\r\nexports.default = toggleSuperscript;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\n/**\r\n * Toggle header at selection\r\n * @param editor The editor instance\r\n * @param level The header level, can be a number from 0 to 6, in which 1 ~ 6 refers to\r\n * the HTML header element <H1> to <H6>, 0 means no header\r\n * if passed in param is outside the range, will be rounded to nearest number in the range\r\n */\r\nfunction toggleHeader(editor, level) {\r\n    level = Math.min(Math.max(Math.round(level), 0), 6);\r\n    editor.addUndoSnapshot(function () {\r\n        editor.focus();\r\n        var wrapped = false;\r\n        editor.queryElements('H1,H2,H3,H4,H5,H6', 1 /* OnSelection */, function (header) {\r\n            if (!wrapped) {\r\n                editor.getDocument().execCommand(\"formatBlock\" /* FormatBlock */, false, '<DIV>');\r\n                wrapped = true;\r\n            }\r\n            var div = editor.getDocument().createElement('div');\r\n            while (header.firstChild) {\r\n                div.appendChild(header.firstChild);\r\n            }\r\n            editor.replaceNode(header, div);\r\n        });\r\n        if (level > 0) {\r\n            var traverser = editor.getSelectionTraverser();\r\n            var inlineElement = traverser ? traverser.currentInlineElement : null;\r\n            while (inlineElement) {\r\n                var element = roosterjs_editor_dom_1.findClosestElementAncestor(inlineElement.getContainerNode());\r\n                if (element) {\r\n                    element.style.fontSize = '';\r\n                }\r\n                inlineElement = traverser.getNextInlineElement();\r\n            }\r\n            editor.getDocument().execCommand(\"formatBlock\" /* FormatBlock */, false, \"<H\" + level + \">\");\r\n        }\r\n    }, \"Format\" /* Format */);\r\n}\r\nexports.default = toggleHeader;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_core_1 = require(\"roosterjs-editor-core\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\n/**\r\n * @deprecated use cacheGetElementAtCursor('OL,UL') instead\r\n * Get the list state at selection\r\n * The list state refers to the HTML elements <OL> or <UL>\r\n * @param editor The editor instance\r\n * @param event (Optional) The plugin event, it stores the event cached data for looking up.\r\n * If not passed, we will query the first <LI> node in selection and return the list state of its direct parent\r\n * @returns The list state. ListState.Numbering indicates <OL>, ListState.Bullets indicates <UL>,\r\n * ListState.None indicates no <OL> or <UL> elements found at current selection\r\n */\r\nfunction cacheGetListState(editor, event) {\r\n    var element = roosterjs_editor_core_1.cacheGetElementAtCursor(editor, event, 'OL, UL');\r\n    var tag = roosterjs_editor_dom_1.getTagOfNode(element);\r\n    return tag == 'OL' ? 2 /* Numbering */ : tag == 'UL' ? 1 /* Bullets */ : 0 /* None */;\r\n}\r\nexports.default = cacheGetListState;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * @deprecated Use Editor.editWithUndo() instead\r\n */\r\nfunction execFormatWithUndo(editor, formatter, preserveSelection) {\r\n    editor.addUndoSnapshot(function (start, end) {\r\n        var startPoint = {\r\n            containerNode: start.node,\r\n            offset: start.offset,\r\n        };\r\n        var endPoint = {\r\n            containerNode: end.node,\r\n            offset: end.offset,\r\n        };\r\n        var node = formatter(startPoint, endPoint);\r\n        if (preserveSelection &&\r\n            !editor.select(startPoint.containerNode, startPoint.offset, endPoint.containerNode, endPoint.offset) &&\r\n            node instanceof Node) {\r\n            editor.select(node);\r\n        }\r\n    });\r\n}\r\nexports.default = execFormatWithUndo;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_core_1 = require(\"roosterjs-editor-core\");\r\nvar EVENTDATACACHE_CURSORDATA = 'CURSORDATA';\r\n/**\r\n * @deprecated Use PositionContentSearcher instead\r\n */\r\nvar CursorData = /** @class */ (function () {\r\n    /**\r\n     * Create a new CursorData instance\r\n     * @param editor The editor instance\r\n     */\r\n    function CursorData(editor) {\r\n        this.searcher = editor.getContentSearcherOfCursor();\r\n    }\r\n    CursorData.prototype.getContentSearcher = function () {\r\n        return this.searcher;\r\n    };\r\n    Object.defineProperty(CursorData.prototype, \"wordBeforeCursor\", {\r\n        /**\r\n         * Get the word before cursor. The word is determined by scanning backwards till the first white space, the portion\r\n         * between cursor and the white space is the word before cursor\r\n         * @returns The word before cursor\r\n         */\r\n        get: function () {\r\n            return this.searcher.getWordBefore();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CursorData.prototype, \"inlineElementBeforeCursor\", {\r\n        /**\r\n         * Get the inline element before cursor\r\n         * @returns The inlineElement before cursor\r\n         */\r\n        get: function () {\r\n            return this.searcher.getInlineElementBefore();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CursorData.prototype, \"inlineElementAfterCursor\", {\r\n        /**\r\n         * Get the inline element after cursor\r\n         * @returns The inline element after cursor\r\n         */\r\n        get: function () {\r\n            return this.searcher.getInlineElementAfter();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Get X number of chars before cursor\r\n     * The actual returned chars may be less than what is requested. e.g, length of text before cursor is less then X\r\n     * @param numChars The X number of chars user want to get\r\n     * @returns The actual chars we get as a string\r\n     */\r\n    CursorData.prototype.getXCharsBeforeCursor = function (numChars) {\r\n        return this.searcher.getSubStringBefore(numChars);\r\n    };\r\n    /**\r\n     * Get text section before cursor till stop condition is met.\r\n     * This offers consumers to retrieve text section by section\r\n     * The section essentially is just an inline element which has Container element\r\n     * so that the consumer can remember it for anchoring popup or verification purpose\r\n     * when cursor moves out of context etc.\r\n     * @param stopFunc The callback stop function\r\n     */\r\n    CursorData.prototype.getTextSectionBeforeCursorTill = function (stopFunc) {\r\n        return this.searcher.forEachTextInlineElement(stopFunc);\r\n    };\r\n    /**\r\n     * Get first non textual inline element before cursor\r\n     * @returns First non textutal inline element before cursor or null if no such element exists\r\n     */\r\n    CursorData.prototype.getFirstNonTextInlineBeforeCursor = function () {\r\n        return this.searcher.getNearestNonTextInlineElement();\r\n    };\r\n    return CursorData;\r\n}());\r\nexports.default = CursorData;\r\n/**\r\n * Read CursorData from plugin event cache. If not, create one\r\n * @param event The plugin event, it stores the event cached data for looking up.\r\n * If passed as null, we will create a new cursor data\r\n * @param editor The editor instance\r\n * @returns The cursor data\r\n */\r\nfunction cacheGetCursorEventData(event, editor) {\r\n    return roosterjs_editor_core_1.cacheGetEventData(event, EVENTDATACACHE_CURSORDATA, function () { return new CursorData(editor); });\r\n}\r\nexports.cacheGetCursorEventData = cacheGetCursorEventData;\r\n/**\r\n * Clear the cursor data in a plugin event.\r\n * This is called when the cursor data is changed, e.g, the text is replace with HyperLink\r\n * @param event The plugin event\r\n */\r\nfunction clearCursorEventDataCache(event) {\r\n    roosterjs_editor_core_1.clearEventDataCache(event, EVENTDATACACHE_CURSORDATA);\r\n}\r\nexports.clearCursorEventDataCache = clearCursorEventDataCache;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * @deprecated Use Editor.queryElements() instead\r\n * Query nodes intersected with current selection using a selector\r\n * @param editor The editor\r\n * @param selector The selector to query\r\n * @param nodeContainedByRangeOnly When set to true, only return the nodes contained by current selection. Default value is false\r\n * @param forEachCallback An optional callback to be invoked on each node in query result\r\n * @returns The nodes intersected with current selection, returns an empty array if no result is found\r\n */\r\nfunction queryNodesWithSelection(editor, selector, nodeContainedByRangeOnly, forEachCallback) {\r\n    return editor.queryElements(selector, nodeContainedByRangeOnly ? 2 /* InSelection */ : 1 /* OnSelection */, forEachCallback);\r\n}\r\nexports.default = queryNodesWithSelection;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar replaceWithNode_1 = require(\"../format/replaceWithNode\");\r\n/**\r\n * @deprecated Use PositionContentSearcher.getRangeFromText() instead\r\n * Validate the text matches what's before the cursor, and return the range for it\r\n * @param editor The editor instance\r\n * @param text The text to match against\r\n * @param exactMatch Whether it is an exact match\r\n * @param cursorData The cursor data\r\n * @returns The range for the matched text, null if unable to find a match\r\n */\r\nfunction validateAndGetRangeForTextBeforeCursor(editor, text, exactMatch, cursorData) {\r\n    if (!text || text.length == 0) {\r\n        return;\r\n    }\r\n    var searcher = cursorData\r\n        ? cursorData.getContentSearcher()\r\n        : editor.getContentSearcherOfCursor();\r\n    return searcher.getRangeFromText(text, exactMatch);\r\n}\r\nexports.validateAndGetRangeForTextBeforeCursor = validateAndGetRangeForTextBeforeCursor;\r\n/**\r\n * @deprecated\r\n * Replace text before cursor with a node\r\n * @param editor The editor instance\r\n * @param text The text for matching. We will try to match the text with the text before cursor\r\n * @param node The node to replace the text with\r\n * @param exactMatch exactMatch is to match exactly, i.e.\r\n * In auto linkification, users could type URL followed by some punctuation and hit space. The auto link will kick in on space,\r\n * at the moment, what is before cursor could be \"<URL>,\", however, only \"<URL>\" makes the link. by setting exactMatch = false, it does not match\r\n * from right before cursor, but can scan through till first same char is seen. On the other hand if set exactMatch = true, it starts the match right\r\n * before cursor.\r\n * @param cursorData The Cursor data of current selection\r\n */\r\nfunction replaceTextBeforeCursorWithNode(editor, text, node, exactMatch, cursorData) {\r\n    return replaceWithNode_1.default(editor, text, node, exactMatch, cursorData && cursorData.getContentSearcher());\r\n}\r\nexports.default = replaceTextBeforeCursorWithNode;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar replaceWithNode_1 = require(\"../format/replaceWithNode\");\r\n/**\r\n * @deprecated Use replaceWithNode instead\r\n * Replace the specified range with a node\r\n * @param editor The editor instance\r\n * @param range The range in which content needs to be replaced\r\n * @param node The node to be inserted\r\n * @param exactMatch exactMatch is to match exactly\r\n * @returns True if we complete the replacement, false otherwise\r\n */\r\nfunction replaceRangeWithNode(editor, range, node, exactMatch) {\r\n    return replaceWithNode_1.default(editor, range, node, exactMatch);\r\n}\r\nexports.default = replaceRangeWithNode;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_core_1 = require(\"roosterjs-editor-core\");\r\n/**\r\n * @deprecated Use editor.findElementByTag()\r\n * Get the node at selection. If an expectedTag is specified, return the nearest ancestor of current node\r\n * which matches the tag name, or null if no match found in editor.\r\n * @param editor The editor instance\r\n * @param expectedTags The expected tag names. If null, return the element at cursor\r\n * @param startNode If specified, use this node as start node to search instead of current node\r\n * @returns The node at cursor or the nearest ancestor with the tag name is specified\r\n */\r\nfunction getNodeAtCursor(editor, expectedTags, startNode) {\r\n    var selector = expectedTags instanceof Array ? expectedTags.join(',') : expectedTags;\r\n    return editor.getElementAtCursor(selector, startNode);\r\n}\r\nexports.default = getNodeAtCursor;\r\n/**\r\n * @deprecated Use cacheGetElementAtCursor instead\r\n * Get the node at selection from event cache if it exists.\r\n * If an expectedTag is specified, return the nearest ancestor of current node\r\n * which matches the tag name, or null if no match found in editor.\r\n * @param editor The editor instance\r\n * @param event Event object to get cached object from\r\n * @param expectedTags The expected tag names. If null, return the element at cursor\r\n * @returns The element at cursor or the nearest ancestor with the tag name is specified\r\n */\r\nfunction cacheGetNodeAtCursor(editor, event, expectedTags) {\r\n    var selector = expectedTags instanceof Array ? expectedTags.join(',') : expectedTags;\r\n    return roosterjs_editor_core_1.cacheGetEventData(event, 'GET_NODE_AT_CURSOR_' + selector, function () {\r\n        return getNodeAtCursor(editor, expectedTags);\r\n    });\r\n}\r\nexports.cacheGetNodeAtCursor = cacheGetNodeAtCursor;\r\n/**\r\n * @deprecated Use cacheGetElementAtCursor instead\r\n */\r\nfunction cacheGetListElement(editor, event) {\r\n    return roosterjs_editor_core_1.cacheGetElementAtCursor(editor, event, 'LI');\r\n}\r\nexports.cacheGetListElement = cacheGetListElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * @deprecated Use ContentEdit plugin with fature DefaultShortcut instead\r\n */\r\nvar DefaultShortcut = /** @class */ (function () {\r\n    function DefaultShortcut() {\r\n    }\r\n    /**\r\n     * Initialize this plugin\r\n     * @param editor The editor instance\r\n     */\r\n    DefaultShortcut.prototype.initialize = function (editor) { };\r\n    /**\r\n     * Dispose this plugin\r\n     */\r\n    DefaultShortcut.prototype.dispose = function () { };\r\n    return DefaultShortcut;\r\n}());\r\nexports.default = DefaultShortcut;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar TEMP_TITLE = 'istemptitle';\r\nvar TEMP_TITLE_REGEX = new RegExp(\"<a\\\\s+([^>]*\\\\s+)?(title|\" + TEMP_TITLE + \")=\\\"[^\\\"]*\\\"\\\\s*([^>]*)\\\\s+(title|\" + TEMP_TITLE + \")=\\\"[^\\\"]*\\\"(\\\\s+[^>]*)?>\", 'gm');\r\n/**\r\n * An editor plugin that show a tooltip for existing link\r\n */\r\nvar HyperLink = /** @class */ (function () {\r\n    /**\r\n     * Create a new instance of HyperLink class\r\n     * @param getTooltipCallback A callback function to get tooltip text for an existing hyperlink.\r\n     * Default value is to return the href itself. If null, there will be no tooltip text.\r\n     * @param target (Optional) Target window name for hyperlink. If null, will use \"_blank\"\r\n     * @param linkMatchRules (Optional) Rules for matching hyperlink. If null, will use defaultLinkMatchRules\r\n     */\r\n    function HyperLink(getTooltipCallback, target) {\r\n        if (getTooltipCallback === void 0) { getTooltipCallback = function (href) { return href; }; }\r\n        var _this = this;\r\n        this.getTooltipCallback = getTooltipCallback;\r\n        this.target = target;\r\n        this.resetAnchor = function (a) {\r\n            try {\r\n                if (a.getAttribute(TEMP_TITLE)) {\r\n                    a.removeAttribute(TEMP_TITLE);\r\n                    a.removeAttribute('title');\r\n                }\r\n                a.removeEventListener('mouseup', _this.onClickLink);\r\n            }\r\n            catch (e) { }\r\n        };\r\n        this.processLink = function (a) {\r\n            if (!a.title && _this.getTooltipCallback) {\r\n                a.setAttribute(TEMP_TITLE, 'true');\r\n                a.title = _this.getTooltipCallback(_this.tryGetHref(a));\r\n            }\r\n            a.addEventListener('mouseup', _this.onClickLink);\r\n        };\r\n        this.onClickLink = function (keyboardEvent) {\r\n            var href;\r\n            if (!roosterjs_editor_dom_1.Browser.isFirefox &&\r\n                (href = _this.tryGetHref(keyboardEvent.srcElement)) &&\r\n                (roosterjs_editor_dom_1.Browser.isMac ? keyboardEvent.metaKey : keyboardEvent.ctrlKey)) {\r\n                var target = _this.target || '_blank';\r\n                var window_1 = _this.editor.getDocument().defaultView;\r\n                try {\r\n                    window_1.open(href, target);\r\n                }\r\n                catch (_a) { }\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * Initialize this plugin\r\n     * @param editor The editor instance\r\n     */\r\n    HyperLink.prototype.initialize = function (editor) {\r\n        this.editor = editor;\r\n    };\r\n    /**\r\n     * Dispose this plugin\r\n     */\r\n    HyperLink.prototype.dispose = function () {\r\n        this.editor.queryElements('a[href]', this.resetAnchor);\r\n        this.editor = null;\r\n    };\r\n    /**\r\n     * Handle plugin events\r\n     * @param event The event object\r\n     */\r\n    HyperLink.prototype.onPluginEvent = function (event) {\r\n        switch (event.eventType) {\r\n            case 10 /* EditorReady */:\r\n                this.editor.queryElements('a[href]', this.processLink);\r\n                break;\r\n            case 6 /* ContentChanged */:\r\n                if (event.source == \"CreateLink\" /* CreateLink */) {\r\n                    this.resetAnchor(event.data);\r\n                }\r\n                var anchors = this.editor.queryElements('a[href]');\r\n                if (anchors.length > 0) {\r\n                    // 1. Cache existing snapshot\r\n                    var snapshotBeforeProcessLink = this.getSnapshot();\r\n                    // 2. Process links\r\n                    anchors.forEach(this.processLink);\r\n                    // 3. See if cached snapshot is the same with lastSnapshot\r\n                    // Same snapshot means content isn't changed by other plugins,\r\n                    // Then we can overwrite the sanpshot here to avoid Undo plugin\r\n                    // adding undo snapshot for the link title attribute change\r\n                    if (snapshotBeforeProcessLink == event.lastSnapshot) {\r\n                        // Overwrite last snapshot to suppress undo for the temp properties\r\n                        event.lastSnapshot = this.editor.getContent(false, true);\r\n                    }\r\n                }\r\n                break;\r\n            case 7 /* ExtractContent */:\r\n                event.content = this.removeTempTooltip(event.content);\r\n                break;\r\n        }\r\n    };\r\n    HyperLink.prototype.getSnapshot = function () {\r\n        return this.editor.getContent(false /*triggerContentChangedEvent*/, true /*addSelectionMarker*/);\r\n    };\r\n    HyperLink.prototype.removeTempTooltip = function (content) {\r\n        return content.replace(TEMP_TITLE_REGEX, function () {\r\n            var groups = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                groups[_i] = arguments[_i];\r\n            }\r\n            var firstValue = groups[1] == null ? '' : groups[1].trim();\r\n            var secondValue = groups[3] == null ? '' : groups[3].trim();\r\n            var thirdValue = groups[5] == null ? '' : groups[5].trim();\r\n            // possible values (* is space, x, y, z are the first, second, and third value respectively):\r\n            // *** (no values) << empty case\r\n            // x** (first value only)\r\n            // *x* (second value only)\r\n            // **x (third value only)\r\n            // x*y* (first and second)\r\n            // x**z (first and third) << double spaces\r\n            // *y*z (second and third)\r\n            // x*y*z (all)\r\n            if (firstValue.length === 0 &&\r\n                secondValue.length === 0 &&\r\n                thirdValue.length === 0) {\r\n                return '<a>';\r\n            }\r\n            var result;\r\n            if (secondValue.length === 0) {\r\n                result = firstValue + \" \" + thirdValue;\r\n            }\r\n            else {\r\n                result = firstValue + \" \" + secondValue + \" \" + thirdValue;\r\n            }\r\n            return \"<a \" + result.trim() + \">\";\r\n        });\r\n    };\r\n    /**\r\n     * Try get href from an anchor element\r\n     * The reason this is put in a try-catch is that\r\n     * it has been seen that accessing href may throw an exception, in particular on IE/Edge\r\n     */\r\n    HyperLink.prototype.tryGetHref = function (element) {\r\n        var href = null;\r\n        try {\r\n            do {\r\n                if (element.tagName == 'A') {\r\n                    href = element.href;\r\n                    break;\r\n                }\r\n                element = element.parentElement;\r\n            } while (this.editor.contains(element));\r\n        }\r\n        catch (error) {\r\n            // Not do anything for the moment\r\n        }\r\n        return href;\r\n    };\r\n    return HyperLink;\r\n}());\r\nexports.default = HyperLink;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar autoLinkFeatures_1 = require(\"./features/autoLinkFeatures\");\r\nvar shortcutFeatures_1 = require(\"./features/shortcutFeatures\");\r\nvar tableFeatures_1 = require(\"./features/tableFeatures\");\r\nvar ContentEditFeatures_1 = require(\"./ContentEditFeatures\");\r\nvar listFeatures_1 = require(\"./features/listFeatures\");\r\nvar quoteFeatures_1 = require(\"./features/quoteFeatures\");\r\n/**\r\n * An editor plugin to handle content edit event.\r\n * The following cases are included:\r\n * 1. Auto increase/decrease indentation on Tab, Shift+tab\r\n * 2. Enter, Backspace on empty list item\r\n * 3. Enter, Backspace on empty blockquote line\r\n * 4. Auto bullet/numbering\r\n * 5. Auto link\r\n * 6. Tab in table\r\n * 7. Up/Down in table\r\n * 8. Manage list style\r\n */\r\nvar ContentEdit = /** @class */ (function () {\r\n    /**\r\n     * Create instance of ContentEdit plugin\r\n     * @param features An optional feature set to determine which features the plugin should provide\r\n     */\r\n    function ContentEdit(featureSet) {\r\n        this.featureSet = featureSet;\r\n        this.featureMap = {};\r\n    }\r\n    /**\r\n     * Initialize this plugin\r\n     * @param editor The editor instance\r\n     */\r\n    ContentEdit.prototype.initialize = function (editor) {\r\n        var _this = this;\r\n        this.editor = editor;\r\n        var featureSet = this.featureSet || ContentEditFeatures_1.getDefaultContentEditFeatures();\r\n        [\r\n            listFeatures_1.IndentWhenTab,\r\n            listFeatures_1.OutdentWhenShiftTab,\r\n            listFeatures_1.OutdentWhenBackOn1stEmptyLine,\r\n            listFeatures_1.OutdentWhenEnterOnEmptyLine,\r\n            listFeatures_1.MergeInNewLine,\r\n            quoteFeatures_1.UnquoteWhenBackOnEmpty1stLine,\r\n            quoteFeatures_1.UnquoteWhenEnterOnEmptyLine,\r\n            tableFeatures_1.TabInTable,\r\n            tableFeatures_1.UpDownInTable,\r\n            listFeatures_1.AutoBullet,\r\n            autoLinkFeatures_1.AutoLink,\r\n            autoLinkFeatures_1.UnlinkWhenBackspaceAfterLink,\r\n            shortcutFeatures_1.DefaultShortcut,\r\n            listFeatures_1.getSmartOrderedList(featureSet.smartOrderedListStyles),\r\n        ]\r\n            .filter(function (feature) { return featureSet[feature.featureFlag]; })\r\n            .forEach(function (feature) {\r\n            if (feature.initialize) {\r\n                feature.initialize(_this.editor);\r\n            }\r\n            feature.keys.forEach(function (key) {\r\n                var array = _this.featureMap[key] || [];\r\n                array.push(feature);\r\n                _this.featureMap[key] = array;\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Dispose this plugin\r\n     */\r\n    ContentEdit.prototype.dispose = function () {\r\n        this.editor = null;\r\n    };\r\n    /**\r\n     * Check whether the event should be handled exclusively by this plugin\r\n     */\r\n    ContentEdit.prototype.willHandleEventExclusively = function (event) {\r\n        this.findFeature(event);\r\n        return !!this.currentFeature;\r\n    };\r\n    /**\r\n     * Handle the event\r\n     */\r\n    ContentEdit.prototype.onPluginEvent = function (event) {\r\n        // ContentChangedEvent will be broadcast so we won't see it in willHandleEventExclusively(),\r\n        // we need to check it again here\r\n        if (!this.currentFeature && event.eventType == 6 /* ContentChanged */) {\r\n            this.findFeature(event);\r\n        }\r\n        if (this.currentFeature) {\r\n            var feature = this.currentFeature;\r\n            this.currentFeature = null;\r\n            feature.handleEvent(event, this.editor);\r\n        }\r\n    };\r\n    ContentEdit.prototype.findFeature = function (event) {\r\n        var _this = this;\r\n        var hasFunctionKey = false;\r\n        var features;\r\n        if (event.eventType == 0 /* KeyDown */) {\r\n            var rawEvent = event.rawEvent;\r\n            hasFunctionKey = rawEvent.ctrlKey || rawEvent.altKey || rawEvent.metaKey;\r\n            features = this.featureMap[rawEvent.which];\r\n        }\r\n        else if (event.eventType == 6 /* ContentChanged */) {\r\n            features = this.featureMap[2048 /* CONTENTCHANGED */];\r\n        }\r\n        this.currentFeature =\r\n            features &&\r\n                features.filter(function (feature) {\r\n                    return (feature.allowFunctionKeys || !hasFunctionKey) &&\r\n                        feature.shouldHandleEvent(event, _this.editor);\r\n                })[0];\r\n    };\r\n    return ContentEdit;\r\n}());\r\nexports.default = ContentEdit;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar roosterjs_editor_api_1 = require(\"roosterjs-editor-api\");\r\nvar roosterjs_editor_core_1 = require(\"roosterjs-editor-core\");\r\n// When user type, they may end a link with a puncatuation, i.e. www.bing.com;\r\n// we need to trim off the trailing puncatuation before turning it to link match\r\nvar TRAILING_PUNCTUATION_REGEX = /[.+=\\s:;\"',>]+$/i;\r\nvar MINIMUM_LENGTH = 5;\r\nexports.AutoLink = {\r\n    keys: [13 /* ENTER */, 32 /* SPACE */, 2048 /* CONTENTCHANGED */],\r\n    initialize: function (editor) {\r\n        return roosterjs_editor_dom_1.Browser.isIE &&\r\n            editor.getDocument().execCommand('AutoUrlDetect', false, false);\r\n    },\r\n    shouldHandleEvent: cacheGetLinkData,\r\n    handleEvent: autoLink,\r\n    featureFlag: 'autoLink',\r\n};\r\nexports.UnlinkWhenBackspaceAfterLink = {\r\n    keys: [8 /* BACKSPACE */],\r\n    shouldHandleEvent: hasLinkBeforeCursor,\r\n    handleEvent: function (event, editor) {\r\n        event.rawEvent.preventDefault();\r\n        roosterjs_editor_api_1.removeLink(editor);\r\n    },\r\n    featureFlag: 'unlinkWhenBackspaceAfterLink',\r\n};\r\nfunction cacheGetLinkData(event, editor) {\r\n    return event.eventType == 0 /* KeyDown */ ||\r\n        (event.eventType == 6 /* ContentChanged */ && event.source == \"Paste\" /* Paste */)\r\n        ? roosterjs_editor_core_1.cacheGetEventData(event, 'LINK_DATA', function () {\r\n            var searcher = roosterjs_editor_core_1.cacheGetContentSearcher(event, editor);\r\n            var word = searcher && searcher.getWordBefore();\r\n            if (word && word.length > MINIMUM_LENGTH) {\r\n                // Check for trailing punctuation\r\n                var trailingPunctuations = word.match(TRAILING_PUNCTUATION_REGEX);\r\n                var trailingPunctuation = (trailingPunctuations || [])[0] || '';\r\n                var candidate_1 = word.substring(0, word.length - trailingPunctuation.length);\r\n                // Do special handling for ')', '}', ']'\r\n                ['()', '{}', '[]'].forEach(function (str) {\r\n                    if (candidate_1[candidate_1.length - 1] == str[1] &&\r\n                        candidate_1.indexOf(str[0]) < 0) {\r\n                        candidate_1 = candidate_1.substr(0, candidate_1.length - 1);\r\n                    }\r\n                });\r\n                // Match and replace in editor\r\n                return roosterjs_editor_dom_1.matchLink(candidate_1);\r\n            }\r\n            return null;\r\n        })\r\n        : null;\r\n}\r\nfunction hasLinkBeforeCursor(event, editor) {\r\n    var contentSearcher = roosterjs_editor_core_1.cacheGetContentSearcher(event, editor);\r\n    var inline = contentSearcher.getInlineElementBefore();\r\n    return inline instanceof roosterjs_editor_dom_1.LinkInlineElement;\r\n}\r\nfunction autoLink(event, editor) {\r\n    var searcher = roosterjs_editor_core_1.cacheGetContentSearcher(event, editor);\r\n    var anchor = editor.getDocument().createElement('a');\r\n    var linkData = cacheGetLinkData(event, editor);\r\n    anchor.textContent = linkData.originalUrl;\r\n    anchor.href = linkData.normalizedUrl;\r\n    editor.runAsync(function () {\r\n        editor.performAutoComplete(function () {\r\n            roosterjs_editor_api_1.replaceWithNode(editor, linkData.originalUrl, anchor, false /* exactMatch */, searcher);\r\n            // The content at cursor has changed. Should also clear the cursor data cache\r\n            roosterjs_editor_core_1.clearContentSearcherCache(event);\r\n            return anchor;\r\n        }, \"AutoLink\" /* AutoLink */);\r\n    });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar roosterjs_editor_core_1 = require(\"roosterjs-editor-core\");\r\nvar roosterjs_editor_api_1 = require(\"roosterjs-editor-api\");\r\nfunction createCommand(winKey, macKey, action) {\r\n    return {\r\n        winKey: winKey,\r\n        macKey: macKey,\r\n        action: action,\r\n    };\r\n}\r\nvar commands = [\r\n    createCommand(256 /* Ctrl */ | 66 /* B */, 512 /* Meta */ | 66 /* B */, roosterjs_editor_api_1.toggleBold),\r\n    createCommand(256 /* Ctrl */ | 73 /* I */, 512 /* Meta */ | 73 /* I */, roosterjs_editor_api_1.toggleItalic),\r\n    createCommand(256 /* Ctrl */ | 85 /* U */, 512 /* Meta */ | 85 /* U */, roosterjs_editor_api_1.toggleUnderline),\r\n    createCommand(256 /* Ctrl */ | 90 /* Z */, 512 /* Meta */ | 90 /* Z */, function (editor) { return editor.undo(); }),\r\n    createCommand(256 /* Ctrl */ | 89 /* Y */, 512 /* Meta */ | 1024 /* Shift */ | 90 /* Z */, function (editor) { return editor.redo(); }),\r\n    createCommand(256 /* Ctrl */ | 190 /* PERIOD */, 512 /* Meta */ | 190 /* PERIOD */, roosterjs_editor_api_1.toggleBullet),\r\n    createCommand(256 /* Ctrl */ | 191 /* FORWARDSLASH */, 512 /* Meta */ | 191 /* FORWARDSLASH */, roosterjs_editor_api_1.toggleNumbering),\r\n    createCommand(256 /* Ctrl */ | 1024 /* Shift */ | 190 /* PERIOD */, 512 /* Meta */ | 1024 /* Shift */ | 190 /* PERIOD */, function (editor) { return roosterjs_editor_api_1.changeFontSize(editor, 0 /* Increase */); }),\r\n    createCommand(256 /* Ctrl */ | 1024 /* Shift */ | 188 /* COMMA */, 512 /* Meta */ | 1024 /* Shift */ | 188 /* COMMA */, function (editor) { return roosterjs_editor_api_1.changeFontSize(editor, 1 /* Decrease */); }),\r\n];\r\nexports.DefaultShortcut = {\r\n    allowFunctionKeys: true,\r\n    keys: [66 /* B */, 73 /* I */, 85 /* U */, 89 /* Y */, 90 /* Z */, 188 /* COMMA */, 190 /* PERIOD */, 191 /* FORWARDSLASH */],\r\n    shouldHandleEvent: cacheGetCommand,\r\n    handleEvent: function (event, editor) {\r\n        var command = cacheGetCommand(event);\r\n        if (command) {\r\n            command.action(editor);\r\n            event.rawEvent.preventDefault();\r\n            event.rawEvent.stopPropagation();\r\n        }\r\n    },\r\n    featureFlag: 'defaultShortcut',\r\n};\r\nfunction cacheGetCommand(event) {\r\n    return roosterjs_editor_core_1.cacheGetEventData(event, 'DEFAULT_SHORT_COMMAND', function () {\r\n        var e = event.rawEvent;\r\n        var key = \r\n        // Need to check ALT key to be false since in some language (e.g. Polski) uses AltGr to input some special charactors\r\n        // In that case, ctrlKey and altKey are both true in Edge, but we should not trigger any shortcut function here\r\n        event.eventType == 0 /* KeyDown */ && !e.altKey\r\n            ? e.which |\r\n                (e.metaKey && 512 /* Meta */) |\r\n                (e.shiftKey && 1024 /* Shift */) |\r\n                (e.ctrlKey && 256 /* Ctrl */)\r\n            : 0;\r\n        return key && commands.filter(function (cmd) { return (roosterjs_editor_dom_1.Browser.isMac ? cmd.macKey : cmd.winKey) == key; })[0];\r\n    });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_core_1 = require(\"roosterjs-editor-core\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nexports.TabInTable = {\r\n    keys: [9 /* TAB */],\r\n    shouldHandleEvent: cacheGetTableCell,\r\n    handleEvent: function (event, editor) {\r\n        var shift = event.rawEvent.shiftKey;\r\n        var td = cacheGetTableCell(event, editor);\r\n        for (var vtable = new roosterjs_editor_dom_1.VTable(td), step = shift ? -1 : 1, row = vtable.row, col = vtable.col + step;; col += step) {\r\n            if (col < 0 || col >= vtable.cells[row].length) {\r\n                row += step;\r\n                if (row < 0 || row >= vtable.cells.length) {\r\n                    editor.select(vtable.table, shift ? -2 /* Before */ : -3 /* After */);\r\n                    break;\r\n                }\r\n                col = shift ? vtable.cells[row].length - 1 : 0;\r\n            }\r\n            var cell = vtable.getCell(row, col);\r\n            if (cell.td) {\r\n                editor.select(cell.td, 0 /* Begin */);\r\n                break;\r\n            }\r\n        }\r\n        event.rawEvent.preventDefault();\r\n    },\r\n    featureFlag: 'tabInTable',\r\n};\r\nexports.UpDownInTable = {\r\n    keys: [38 /* UP */, 40 /* DOWN */],\r\n    shouldHandleEvent: cacheGetTableCell,\r\n    handleEvent: function (event, editor) {\r\n        var td = cacheGetTableCell(event, editor);\r\n        var vtable = new roosterjs_editor_dom_1.VTable(td);\r\n        var isUp = event.rawEvent.which == 38 /* UP */;\r\n        var step = isUp ? -1 : 1;\r\n        var targetTd = null;\r\n        for (var row = vtable.row; row >= 0 && row < vtable.cells.length; row += step) {\r\n            var cell = vtable.getCell(row, vtable.col);\r\n            if (cell.td && cell.td != td) {\r\n                targetTd = cell.td;\r\n                break;\r\n            }\r\n        }\r\n        editor.runAsync(function () {\r\n            var newContainer = editor.getElementAtCursor();\r\n            if (roosterjs_editor_dom_1.contains(vtable.table, newContainer) &&\r\n                !roosterjs_editor_dom_1.contains(td, newContainer, true /*treatSameNodeAsContain*/)) {\r\n                if (targetTd) {\r\n                    editor.select(targetTd, 0 /* Begin */);\r\n                }\r\n                else {\r\n                    editor.select(vtable.table, isUp ? -2 /* Before */ : -3 /* After */);\r\n                }\r\n            }\r\n        });\r\n    },\r\n    featureFlag: 'upDownInTable',\r\n};\r\nfunction cacheGetTableCell(event, editor) {\r\n    var firstTd = roosterjs_editor_core_1.cacheGetElementAtCursor(editor, event, 'TD,TH,LI');\r\n    return roosterjs_editor_dom_1.getTagOfNode(firstTd) == 'LI' ? null : firstTd;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_core_1 = require(\"roosterjs-editor-core\");\r\nvar roosterjs_editor_api_1 = require(\"roosterjs-editor-api\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nexports.IndentWhenTab = {\r\n    keys: [9 /* TAB */],\r\n    shouldHandleEvent: function (event, editor) {\r\n        return !event.rawEvent.shiftKey && cacheGetListElement(event, editor);\r\n    },\r\n    handleEvent: function (event, editor) {\r\n        roosterjs_editor_api_1.setIndentation(editor, 0 /* Increase */);\r\n        event.rawEvent.preventDefault();\r\n    },\r\n    featureFlag: 'indentWhenTab',\r\n};\r\nexports.OutdentWhenShiftTab = {\r\n    keys: [9 /* TAB */],\r\n    shouldHandleEvent: function (event, editor) {\r\n        return event.rawEvent.shiftKey && cacheGetListElement(event, editor);\r\n    },\r\n    handleEvent: function (event, editor) {\r\n        roosterjs_editor_api_1.setIndentation(editor, 1 /* Decrease */);\r\n        event.rawEvent.preventDefault();\r\n    },\r\n    featureFlag: 'outdentWhenShiftTab',\r\n};\r\nexports.MergeInNewLine = {\r\n    keys: [8 /* BACKSPACE */],\r\n    shouldHandleEvent: function (event, editor) {\r\n        var li = roosterjs_editor_core_1.cacheGetElementAtCursor(editor, event, 'LI');\r\n        var range = editor.getSelectionRange();\r\n        return li && range && roosterjs_editor_dom_1.isPositionAtBeginningOf(roosterjs_editor_dom_1.Position.getStart(range), li);\r\n    },\r\n    handleEvent: function (event, editor) {\r\n        var li = roosterjs_editor_core_1.cacheGetElementAtCursor(editor, event, 'LI');\r\n        if (li.previousSibling) {\r\n            editor.runAsync(function () {\r\n                var br = editor.getDocument().createElement('BR');\r\n                editor.insertNode(br);\r\n                editor.select(br, -3 /* After */);\r\n            });\r\n        }\r\n        else {\r\n            toggleListAndPreventDefault(event, editor);\r\n        }\r\n    },\r\n    featureFlag: 'mergeInNewLineWhenBackspaceOnFirstChar',\r\n};\r\nexports.OutdentWhenBackOn1stEmptyLine = {\r\n    keys: [8 /* BACKSPACE */],\r\n    shouldHandleEvent: function (event, editor) {\r\n        var li = roosterjs_editor_core_1.cacheGetElementAtCursor(editor, event, 'LI');\r\n        return li && roosterjs_editor_dom_1.isNodeEmpty(li) && !li.previousSibling;\r\n    },\r\n    handleEvent: toggleListAndPreventDefault,\r\n    featureFlag: 'outdentWhenBackspaceOnEmptyFirstLine',\r\n};\r\nexports.OutdentWhenEnterOnEmptyLine = {\r\n    keys: [13 /* ENTER */],\r\n    shouldHandleEvent: function (event, editor) {\r\n        var li = roosterjs_editor_core_1.cacheGetElementAtCursor(editor, event, 'LI');\r\n        return !event.rawEvent.shiftKey && li && roosterjs_editor_dom_1.isNodeEmpty(li);\r\n    },\r\n    handleEvent: function (event, editor) {\r\n        editor.performAutoComplete(function () { return toggleListAndPreventDefault(event, editor); });\r\n    },\r\n    featureFlag: 'outdentWhenEnterOnEmptyLine',\r\n};\r\nexports.AutoBullet = {\r\n    keys: [32 /* SPACE */],\r\n    shouldHandleEvent: function (event, editor) {\r\n        if (!cacheGetListElement(event, editor)) {\r\n            var searcher = roosterjs_editor_core_1.cacheGetContentSearcher(event, editor);\r\n            var textBeforeCursor = searcher.getSubStringBefore(3);\r\n            // Auto list is triggered if:\r\n            // 1. Text before cursor exactly mathces '*', '-' or '1.'\r\n            // 2. There's no non-text inline entities before cursor\r\n            return (['*', '-', '1.'].indexOf(textBeforeCursor) >= 0 &&\r\n                !searcher.getNearestNonTextInlineElement());\r\n        }\r\n        return false;\r\n    },\r\n    handleEvent: function (event, editor) {\r\n        editor.runAsync(function () {\r\n            editor.performAutoComplete(function () {\r\n                var searcher = editor.getContentSearcherOfCursor();\r\n                var textBeforeCursor = searcher.getSubStringBefore(3);\r\n                var rangeToDelete = searcher.getRangeFromText(textBeforeCursor, true /*exactMatch*/);\r\n                if (rangeToDelete) {\r\n                    rangeToDelete.deleteContents();\r\n                }\r\n                // If not explicitly insert br, Chrome/Safari/IE will operate on the previous line\r\n                var tempBr = editor.getDocument().createElement('BR');\r\n                if (roosterjs_editor_dom_1.Browser.isChrome || roosterjs_editor_dom_1.Browser.isSafari || roosterjs_editor_dom_1.Browser.isIE11OrGreater) {\r\n                    editor.insertNode(tempBr);\r\n                }\r\n                if (textBeforeCursor.indexOf('1.') == 0) {\r\n                    roosterjs_editor_api_1.toggleNumbering(editor);\r\n                }\r\n                else {\r\n                    roosterjs_editor_api_1.toggleBullet(editor);\r\n                }\r\n                editor.deleteNode(tempBr);\r\n            });\r\n        });\r\n    },\r\n    featureFlag: 'autoBullet',\r\n};\r\nfunction getSmartOrderedList(styleList) {\r\n    return {\r\n        keys: [2048 /* CONTENTCHANGED */],\r\n        shouldHandleEvent: function (event, editor) { return event.data instanceof HTMLOListElement; },\r\n        handleEvent: function (event, editor) {\r\n            var ol = event.data;\r\n            var parentOl = editor.getElementAtCursor('OL', ol.parentNode);\r\n            if (parentOl) {\r\n                // The style list must has at least one value. If no value is passed in, fallback to decimal\r\n                var styles = styleList && styleList.length > 0 ? styleList : ['decimal'];\r\n                ol.style.listStyle =\r\n                    styles[(styles.indexOf(parentOl.style.listStyle) + 1) % styles.length];\r\n            }\r\n        },\r\n        featureFlag: 'smartOrderedList',\r\n    };\r\n}\r\nexports.getSmartOrderedList = getSmartOrderedList;\r\nfunction toggleListAndPreventDefault(event, editor) {\r\n    var listInfo = cacheGetListElement(event, editor);\r\n    if (listInfo) {\r\n        var listElement = listInfo[0];\r\n        var tag = roosterjs_editor_dom_1.getTagOfNode(listElement);\r\n        if (tag == 'UL') {\r\n            roosterjs_editor_api_1.toggleBullet(editor);\r\n        }\r\n        else if (tag == 'OL') {\r\n            roosterjs_editor_api_1.toggleNumbering(editor);\r\n        }\r\n        editor.focus();\r\n        event.rawEvent.preventDefault();\r\n    }\r\n}\r\nfunction cacheGetListElement(event, editor) {\r\n    var li = roosterjs_editor_core_1.cacheGetElementAtCursor(editor, event, 'LI,TABLE');\r\n    var listElement = li && roosterjs_editor_dom_1.getTagOfNode(li) == 'LI' && editor.getElementAtCursor('UL,OL', li);\r\n    return listElement ? [listElement, li] : null;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_core_1 = require(\"roosterjs-editor-core\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar QUOTE_TAG = 'BLOCKQUOTE';\r\nexports.UnquoteWhenBackOnEmpty1stLine = {\r\n    keys: [8 /* BACKSPACE */],\r\n    shouldHandleEvent: function (event, editor) {\r\n        var childOfQuote = cacheGetQuoteChild(event, editor);\r\n        return childOfQuote && roosterjs_editor_dom_1.isNodeEmpty(childOfQuote) && !childOfQuote.previousSibling;\r\n    },\r\n    handleEvent: splitQuote,\r\n    featureFlag: 'unquoteWhenBackspaceOnEmptyFirstLine',\r\n};\r\nexports.UnquoteWhenEnterOnEmptyLine = {\r\n    keys: [13 /* ENTER */],\r\n    shouldHandleEvent: function (event, editor) {\r\n        var childOfQuote = cacheGetQuoteChild(event, editor);\r\n        var shift = event.rawEvent.shiftKey;\r\n        return !shift && childOfQuote && roosterjs_editor_dom_1.isNodeEmpty(childOfQuote);\r\n    },\r\n    handleEvent: function (event, editor) { return editor.performAutoComplete(function () { return splitQuote(event, editor); }); },\r\n    featureFlag: 'unquoteWhenEnterOnEmptyLine',\r\n};\r\nfunction cacheGetQuoteChild(event, editor) {\r\n    return roosterjs_editor_core_1.cacheGetEventData(event, 'QUOTE_CHILD', function () {\r\n        var node = editor.getElementAtCursor();\r\n        if (roosterjs_editor_dom_1.getTagOfNode(node) == QUOTE_TAG) {\r\n            return node.firstChild;\r\n        }\r\n        while (editor.contains(node) && roosterjs_editor_dom_1.getTagOfNode(node.parentNode) != QUOTE_TAG) {\r\n            node = node.parentNode;\r\n        }\r\n        return node && roosterjs_editor_dom_1.getTagOfNode(node.parentNode) == QUOTE_TAG ? node : null;\r\n    });\r\n}\r\nfunction splitQuote(event, editor) {\r\n    editor.addUndoSnapshot(function () {\r\n        var childOfQuote = cacheGetQuoteChild(event, editor);\r\n        var parent = roosterjs_editor_dom_1.splitBalancedNodeRange(childOfQuote);\r\n        roosterjs_editor_dom_1.unwrap(parent);\r\n        editor.select(childOfQuote, 0 /* Begin */);\r\n    });\r\n    event.rawEvent.preventDefault();\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar buildClipboardData_1 = require(\"./buildClipboardData\");\r\nvar fragmentHandler_1 = require(\"./fragmentHandler\");\r\nvar textToHtml_1 = require(\"./textToHtml\");\r\nvar roosterjs_editor_api_1 = require(\"roosterjs-editor-api\");\r\nvar roosterjs_html_sanitizer_1 = require(\"roosterjs-html-sanitizer\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\n/**\r\n * Paste plugin, handles onPaste event and paste content into editor\r\n */\r\nvar Paste = /** @class */ (function () {\r\n    /**\r\n     * Create an instance of Paste\r\n     * @param deprecated Deprecated parameter only used for compatibility with old code\r\n     * @param attributeCallbacks A set of callbacks to help handle html attribute during sanitization\r\n     */\r\n    function Paste(deprecated, attributeCallbacks) {\r\n        var _this = this;\r\n        this.onPaste = function (event) {\r\n            buildClipboardData_1.default(event, _this.editor, function (clipboardData) {\r\n                var doc = roosterjs_html_sanitizer_1.htmlToDom(clipboardData.html, true /*preserveFragmentOnly*/, fragmentHandler_1.default);\r\n                if (doc && doc.body) {\r\n                    _this.sanitizer.convertGlobalCssToInlineCss(doc);\r\n                    var range = _this.editor.getSelectionRange();\r\n                    var element = range && roosterjs_editor_dom_1.Position.getStart(range).normalize().element;\r\n                    var currentStyles = roosterjs_html_sanitizer_1.getInheritableStyles(element);\r\n                    _this.sanitizer.sanitize(doc.body, currentStyles);\r\n                    clipboardData.html = doc.body.innerHTML;\r\n                }\r\n                _this.pasteOriginal(clipboardData);\r\n            });\r\n        };\r\n        this.sanitizer = new roosterjs_html_sanitizer_1.HtmlSanitizer({\r\n            attributeCallbacks: attributeCallbacks,\r\n        });\r\n    }\r\n    Paste.prototype.initialize = function (editor) {\r\n        this.editor = editor;\r\n        this.pasteDisposer = editor.addDomEventHandler('paste', this.onPaste);\r\n    };\r\n    Paste.prototype.dispose = function () {\r\n        this.pasteDisposer();\r\n        this.pasteDisposer = null;\r\n        this.editor = null;\r\n    };\r\n    /**\r\n     * Paste into editor using passed in clipboardData with original format\r\n     * @param clipboardData The clipboardData to paste\r\n     */\r\n    Paste.prototype.pasteOriginal = function (clipboardData) {\r\n        this.paste(clipboardData, this.detectPasteOption(clipboardData));\r\n    };\r\n    /**\r\n     * Paste plain text into editor using passed in clipboardData\r\n     * @param clipboardData The clipboardData to paste\r\n     */\r\n    Paste.prototype.pasteText = function (clipboardData) {\r\n        this.paste(clipboardData, 1 /* PasteText */);\r\n    };\r\n    /**\r\n     * Paste into editor using passed in clipboardData with curent format\r\n     * @param clipboardData The clipboardData to paste\r\n     */\r\n    Paste.prototype.pasteAndMergeFormat = function (clipboardData) {\r\n        this.paste(clipboardData, this.detectPasteOption(clipboardData), true /*mergeFormat*/);\r\n    };\r\n    Paste.prototype.detectPasteOption = function (clipboardData) {\r\n        return clipboardData.text || !clipboardData.image\r\n            ? 0 /* PasteHtml */\r\n            : 2 /* PasteImage */;\r\n    };\r\n    Paste.prototype.paste = function (clipboardData, pasteOption, mergeCurrentFormat) {\r\n        var document = this.editor.getDocument();\r\n        var fragment = document.createDocumentFragment();\r\n        if (pasteOption == 0 /* PasteHtml */) {\r\n            var html = clipboardData.html;\r\n            var nodes = roosterjs_editor_dom_1.fromHtml(html, document);\r\n            for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\r\n                var node = nodes_1[_i];\r\n                if (mergeCurrentFormat) {\r\n                    this.applyTextFormat(node, clipboardData.originalFormat);\r\n                }\r\n                fragment.appendChild(node);\r\n            }\r\n        }\r\n        var event = {\r\n            eventType: 8 /* BeforePaste */,\r\n            clipboardData: clipboardData,\r\n            fragment: fragment,\r\n            pasteOption: pasteOption,\r\n        };\r\n        this.editor.triggerEvent(event, true /*broadcast*/);\r\n        this.internalPaste(event);\r\n    };\r\n    Paste.prototype.internalPaste = function (event) {\r\n        var _this = this;\r\n        var clipboardData = event.clipboardData, fragment = event.fragment, pasteOption = event.pasteOption;\r\n        this.editor.focus();\r\n        this.editor.addUndoSnapshot(function () {\r\n            if (clipboardData.snapshotBeforePaste == null) {\r\n                clipboardData.snapshotBeforePaste = _this.editor.getContent(false /*triggerExtractContentEvent*/, true /*markSelection*/);\r\n            }\r\n            else {\r\n                _this.editor.setContent(clipboardData.snapshotBeforePaste);\r\n            }\r\n            switch (pasteOption) {\r\n                case 0 /* PasteHtml */:\r\n                    _this.editor.insertNode(fragment);\r\n                    break;\r\n                case 1 /* PasteText */:\r\n                    var html = textToHtml_1.default(clipboardData.text);\r\n                    _this.editor.insertContent(html);\r\n                    break;\r\n                case 2 /* PasteImage */:\r\n                    roosterjs_editor_api_1.insertImage(_this.editor, clipboardData.image);\r\n                    break;\r\n            }\r\n            return clipboardData;\r\n        }, \"Paste\" /* Paste */);\r\n    };\r\n    Paste.prototype.applyTextFormat = function (node, format) {\r\n        var leaf = roosterjs_editor_dom_1.getFirstLeafNode(node);\r\n        var parents = [];\r\n        while (leaf) {\r\n            if (leaf.nodeType == 3 /* Text */ &&\r\n                leaf.parentNode &&\r\n                parents.indexOf(leaf.parentNode) < 0) {\r\n                parents.push(leaf.parentNode);\r\n            }\r\n            leaf = roosterjs_editor_dom_1.getNextLeafSibling(node, leaf);\r\n        }\r\n        for (var _i = 0, parents_1 = parents; _i < parents_1.length; _i++) {\r\n            var parent_1 = parents_1[_i];\r\n            roosterjs_editor_dom_1.applyFormat(parent_1, format);\r\n        }\r\n    };\r\n    return Paste;\r\n}());\r\nexports.default = Paste;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar textToHtml_1 = require(\"./textToHtml\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar roosterjs_editor_api_1 = require(\"roosterjs-editor-api\");\r\nvar CONTAINER_HTML = '<div contenteditable style=\"width: 1px; height: 1px; overflow: hidden; position: fixed; top: 0; left; 0; -webkit-user-select: text\"></div>';\r\n// HTML header to indicate where is the HTML content started from.\r\n// Sample header:\r\n// Version:0.9\r\n// StartHTML:71\r\n// EndHTML:170\r\n// StartFragment:140\r\n// EndFragment:160\r\n// StartSelection:140\r\n// EndSelection:160\r\nvar CLIPBOARD_HTML_HEADER_REGEX = /^Version:[0-9\\.]+\\s+StartHTML:\\s*([0-9]+)\\s+EndHTML:\\s*([0-9]+)\\s+/i;\r\n/**\r\n * Build ClipboardData from a paste event\r\n * @param event The paste event\r\n * @param editor The editor\r\n * @param callback Callback function when data is ready\r\n */\r\nfunction buildClipboardData(event, editor, callback) {\r\n    var dataTransfer = event.clipboardData || editor.getDocument().defaultView.clipboardData;\r\n    var types = dataTransfer.types ? [].slice.call(dataTransfer.types) : [];\r\n    var text = dataTransfer.getData('text');\r\n    var retrieveHtmlCallback = function (html) {\r\n        if (roosterjs_editor_dom_1.Browser.isEdge) {\r\n            html = workaroundForEdge(html);\r\n        }\r\n        callback({\r\n            snapshotBeforePaste: null,\r\n            originalFormat: getCurrentFormat(editor),\r\n            types: types,\r\n            image: getImage(dataTransfer),\r\n            text: text,\r\n            html: html || textToHtml_1.default(text || ''),\r\n        });\r\n    };\r\n    if (event.clipboardData && event.clipboardData.items) {\r\n        directRetrieveHtml(event, retrieveHtmlCallback);\r\n    }\r\n    else {\r\n        retrieveHtmlViaTempDiv(editor, retrieveHtmlCallback);\r\n    }\r\n}\r\nexports.default = buildClipboardData;\r\nfunction getCurrentFormat(editor) {\r\n    var format = roosterjs_editor_api_1.getFormatState(editor);\r\n    return format\r\n        ? {\r\n            fontFamily: format.fontName,\r\n            fontSize: format.fontSize,\r\n            textColor: format.textColor,\r\n            backgroundColor: format.backgroundColor,\r\n            bold: format.isBold,\r\n            italic: format.isItalic,\r\n            underline: format.isUnderline,\r\n        }\r\n        : {};\r\n}\r\nfunction getImage(dataTransfer) {\r\n    // Chrome, Firefox, Edge support dataTransfer.items\r\n    var fileCount = dataTransfer.items ? dataTransfer.items.length : 0;\r\n    for (var i = 0; i < fileCount; i++) {\r\n        var item = dataTransfer.items[i];\r\n        if (item.type && item.type.indexOf('image/') == 0) {\r\n            return item.getAsFile();\r\n        }\r\n    }\r\n    // IE, Safari support dataTransfer.files\r\n    fileCount = dataTransfer.files ? dataTransfer.files.length : 0;\r\n    for (var i = 0; i < fileCount; i++) {\r\n        var file = dataTransfer.files.item(i);\r\n        if (file.type && file.type.indexOf('image/') == 0) {\r\n            return file;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction directRetrieveHtml(event, callback) {\r\n    event.preventDefault();\r\n    var items = event.clipboardData.items;\r\n    for (var i = 0; i < items.length; i++) {\r\n        var item = items[i];\r\n        if (item.type && item.type.indexOf('text/html') == 0) {\r\n            item.getAsString(callback);\r\n            return;\r\n        }\r\n    }\r\n    callback(null);\r\n}\r\nfunction retrieveHtmlViaTempDiv(editor, callback) {\r\n    // cache original selection range in editor\r\n    var originalSelectionRange = editor.getSelectionRange();\r\n    var tempDiv = getTempDivForPaste(editor);\r\n    tempDiv.focus();\r\n    editor.runAsync(function () {\r\n        // restore original selection range in editor\r\n        editor.select(originalSelectionRange);\r\n        callback(tempDiv.innerHTML);\r\n        tempDiv.style.display = 'none';\r\n        tempDiv.innerHTML = '';\r\n    });\r\n}\r\nfunction getTempDivForPaste(editor) {\r\n    var tempDiv = editor.getCustomData('PasteDiv', function () {\r\n        var pasteDiv = roosterjs_editor_dom_1.fromHtml(CONTAINER_HTML, editor.getDocument())[0];\r\n        editor.insertNode(pasteDiv, {\r\n            position: 3 /* Outside */,\r\n            updateCursor: false,\r\n            replaceSelection: false,\r\n            insertOnNewLine: false,\r\n        });\r\n        return pasteDiv;\r\n    }, function (pasteDiv) {\r\n        pasteDiv.parentNode.removeChild(pasteDiv);\r\n    });\r\n    tempDiv.style.display = '';\r\n    return tempDiv;\r\n}\r\n/**\r\n * Edge sometimes doesn't remove the headers, which cause we paste more things then expected.\r\n * So we need to remove it in our code\r\n * @param html The HTML string got from clipboard\r\n */\r\nfunction workaroundForEdge(html) {\r\n    var headerValues = CLIPBOARD_HTML_HEADER_REGEX.exec(html);\r\n    if (headerValues && headerValues.length == 3) {\r\n        var start = parseInt(headerValues[1]);\r\n        var end = parseInt(headerValues[2]);\r\n        if (start > 0 && end > start) {\r\n            html = html.substring(start, end);\r\n        }\r\n    }\r\n    return html;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar convertPastedContentFromExcel_1 = require(\"./excelConverter/convertPastedContentFromExcel\");\r\nvar convertPastedContentFromWord_1 = require(\"./wordConverter/convertPastedContentFromWord\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar roosterjs_html_sanitizer_1 = require(\"roosterjs-html-sanitizer\");\r\nvar WORD_ATTRIBUTE_NAME = 'xmlns:w';\r\nvar WORD_ATTRIBUTE_VALUE = 'urn:schemas-microsoft-com:office:word';\r\nvar EXCEL_ATTRIBUTE_NAME = 'xmlns:x';\r\nvar EXCEL_ATTRIBUTE_VALUE = 'urn:schemas-microsoft-com:office:excel';\r\nvar LAST_TD_END_REGEX = /<\\/\\s*td\\s*>((?!<\\/\\s*tr\\s*>)[\\s\\S])*$/i;\r\nvar LAST_TR_END_REGEX = /<\\/\\s*tr\\s*>((?!<\\/\\s*table\\s*>)[\\s\\S])*$/i;\r\nvar LAST_TR_REGEX = /<tr[^>]*>[^<]*/i;\r\nvar LAST_TABLE_REGEX = /<table[^>]*>[^<]*/i;\r\nfunction fragmentHandler(doc, source) {\r\n    var _a = roosterjs_html_sanitizer_1.splitWithFragment(source), html = _a[0], before = _a[1];\r\n    var firstNode = doc && doc.body && doc.querySelector('html');\r\n    if (roosterjs_editor_dom_1.getTagOfNode(firstNode) == 'HTML') {\r\n        if (firstNode.getAttribute(WORD_ATTRIBUTE_NAME) == WORD_ATTRIBUTE_VALUE) {\r\n            doc.body.innerHTML = html;\r\n            convertPastedContentFromWord_1.default(doc);\r\n        }\r\n        else if (firstNode.getAttribute(EXCEL_ATTRIBUTE_NAME) == EXCEL_ATTRIBUTE_VALUE) {\r\n            if (html.match(LAST_TD_END_REGEX)) {\r\n                var trMatch = before.match(LAST_TR_REGEX);\r\n                var tr = trMatch ? trMatch[0] : '<TR>';\r\n                html = tr + html + '</TR>';\r\n            }\r\n            if (html.match(LAST_TR_END_REGEX)) {\r\n                var tableMatch = before.match(LAST_TABLE_REGEX);\r\n                var table = tableMatch ? tableMatch[0] : '<TABLE>';\r\n                html = table + html + '</TABLE>';\r\n            }\r\n            doc.body.innerHTML = html;\r\n            convertPastedContentFromExcel_1.default(doc);\r\n        }\r\n    }\r\n}\r\nexports.default = fragmentHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_html_sanitizer_1 = require(\"roosterjs-html-sanitizer\");\r\nfunction convertPastedContentFromExcel(doc) {\r\n    var sanitizer = new roosterjs_html_sanitizer_1.HtmlSanitizer({\r\n        styleCallbacks: {\r\n            border: function (value, element) { return value != 'none' || element.style.border != 'none'; },\r\n        },\r\n        additionalAllowAttributes: ['class'],\r\n    });\r\n    sanitizer.sanitize(doc.body);\r\n    var styleNode = doc.createElement('style');\r\n    doc.body.appendChild(styleNode);\r\n    styleNode.innerHTML = 'td {border: solid 1px #d4d4d4}';\r\n    sanitizer.convertGlobalCssToInlineCss(doc);\r\n}\r\nexports.default = convertPastedContentFromExcel;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar wordConverter_1 = require(\"./wordConverter\");\r\nvar WordConverterArguments_1 = require(\"./WordConverterArguments\");\r\nvar roosterjs_html_sanitizer_1 = require(\"roosterjs-html-sanitizer\");\r\nvar converterUtils_1 = require(\"./converterUtils\");\r\n/** Converts all the Word generated list items in the specified node into standard HTML UL and OL tags */\r\nfunction convertPastedContentFromWord(doc) {\r\n    var _a;\r\n    var sanitizer = new roosterjs_html_sanitizer_1.HtmlSanitizer({\r\n        elementCallbacks: (_a = {},\r\n            _a['O:P'] = function () { return false; },\r\n            _a),\r\n        additionalAllowAttributes: ['class'],\r\n    });\r\n    sanitizer.sanitize(doc.body);\r\n    var wordConverter = wordConverter_1.createWordConverter();\r\n    // First find all the nodes that we need to check for list item information\r\n    // This call will return all the p and header elements under the root node.. These are the elements that\r\n    // Word uses a list items, so we'll only process them and avoid walking the whole tree.\r\n    var elements = doc.querySelectorAll('p');\r\n    if (elements.length > 0) {\r\n        wordConverter.wordConverterArgs = WordConverterArguments_1.createWordConverterArguments(elements);\r\n        if (converterUtils_1.processNodesDiscovery(wordConverter)) {\r\n            converterUtils_1.processNodeConvert(wordConverter);\r\n        }\r\n    }\r\n}\r\nexports.default = convertPastedContentFromWord;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CustomData_1 = require(\"./CustomData\");\r\n/** create an empty WordConverter */\r\nfunction createWordConverter() {\r\n    return {\r\n        nextUniqueId: 1,\r\n        numBulletsConverted: 0,\r\n        numNumberedConverted: 0,\r\n        wordConverterArgs: null,\r\n        customData: CustomData_1.createCustomData(),\r\n    };\r\n}\r\nexports.createWordConverter = createWordConverter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar LevelLists_1 = require(\"./LevelLists\");\r\n/** create an empty WordConverterArguments */\r\nfunction createWordConverterArguments(nodes) {\r\n    return {\r\n        nodes: nodes,\r\n        currentIndex: 0,\r\n        lists: {},\r\n        listItems: [],\r\n        currentListIdsByLevels: [LevelLists_1.createLevelLists()],\r\n        lastProcessedItem: null,\r\n    };\r\n}\r\nexports.createWordConverterArguments = createWordConverterArguments;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar LevelLists_1 = require(\"./LevelLists\");\r\nvar CustomData_1 = require(\"./CustomData\");\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\n/** Word list metadata style name */\r\nvar LOOKUP_DEPTH = 5;\r\n/** Name for the word list id property in the custom data */\r\nvar UNIQUE_LIST_ID_CUSTOM_DATA = 'UniqueListId';\r\n/** Word list metadata style name */\r\nvar MSO_LIST_STYLE_NAME = 'mso-list';\r\n/** Regular expression to match line breaks */\r\nvar LINE_BREAKS = /[\\n|\\r]/gi;\r\n/**\r\n * Handles the pass 1: Discovery\r\n * During discovery, we'll parse the metadata out of the elements and store it in the list items dictionary.\r\n * We'll detect cases where the list items for a particular ordered list are not next to each other. Word does these\r\n * for numbered headers, and we don't want to convert those, because the numbering would be completely wrong.\r\n */\r\nfunction processNodesDiscovery(wordConverter) {\r\n    var args = wordConverter.wordConverterArgs;\r\n    while (args.currentIndex < args.nodes.length) {\r\n        var node = args.nodes.item(args.currentIndex);\r\n        // Try to get the list metadata for the specified node\r\n        var itemMetadata = getListItemMetadata(node);\r\n        if (itemMetadata) {\r\n            var levelInfo = args.currentListIdsByLevels[itemMetadata.level - 1] || LevelLists_1.createLevelLists();\r\n            args.currentListIdsByLevels[itemMetadata.level - 1] = levelInfo;\r\n            // We need to drop some list information if this is not an item next to another\r\n            if (args.lastProcessedItem && getRealPreviousSibling(node) != args.lastProcessedItem) {\r\n                // This list item is not next to the previous one. This means that there is some content in between them\r\n                // so we need to reset our list of list ids per level\r\n                resetCurrentLists(args);\r\n            }\r\n            // Get the list metadata for the list that will hold this item\r\n            var listMetadata = levelInfo.listsMetadata[itemMetadata.wordListId];\r\n            if (!listMetadata) {\r\n                // Get the first item fake bullet.. This will be used later to check what is the right type of list\r\n                var firstFakeBullet = getFakeBulletText(node, LOOKUP_DEPTH);\r\n                // This is a the first item of a list.. We'll create the list metadata using the information\r\n                // we already have from this first item\r\n                listMetadata = {\r\n                    numberOfItems: 0,\r\n                    uniqueListId: wordConverter.nextUniqueId++,\r\n                    firstFakeBullet: firstFakeBullet,\r\n                    // If the bullet we got is emtpy or not found, we ignore the list out.. this means\r\n                    // that this is not an item we need to convert of that the format doesn't match what\r\n                    // we are expecting\r\n                    ignore: !firstFakeBullet || firstFakeBullet.length == 0,\r\n                    // We'll use the first fake bullet to try to figure out which type of list we create. If this list has a second\r\n                    // item, we'll perform a better comparasion, but for one item lists, this will be check that will determine the list type\r\n                    tagName: getFakeBulletTagName(firstFakeBullet),\r\n                };\r\n                levelInfo.listsMetadata[itemMetadata.wordListId] = listMetadata;\r\n                args.lists[listMetadata.uniqueListId.toString()] = listMetadata;\r\n            }\r\n            else if (!listMetadata.ignore && listMetadata.numberOfItems == 1) {\r\n                // This is the second item we've seen for this list.. we'll compare the 2 fake bullet\r\n                // items we have an decide if we create ordered or unordered lists based on this.\r\n                // This is the best way we can do this since we cannot read the metadata that Word\r\n                // puts in the head of the HTML...\r\n                var secondFakeBullet = getFakeBulletText(node, LOOKUP_DEPTH);\r\n                listMetadata.tagName =\r\n                    listMetadata.firstFakeBullet == secondFakeBullet ? 'UL' : 'OL';\r\n            }\r\n            // Set the unique id to the list\r\n            itemMetadata.uniqueListId = listMetadata.uniqueListId;\r\n            // Check if we need to ignore this list... we'll either know already that we need to ignore\r\n            // it, or we'll know it because the previous list items are not next to this one\r\n            if (listMetadata.ignore ||\r\n                (listMetadata.tagName == 'OL' &&\r\n                    listMetadata.numberOfItems > 0 &&\r\n                    levelInfo.currentUniqueListId != itemMetadata.uniqueListId)) {\r\n                // We need to ignore this item... and we also need to forget about the lists that\r\n                // are not at the root level\r\n                listMetadata.ignore = true;\r\n                args.currentListIdsByLevels[0].currentUniqueListId = -1;\r\n                args.currentListIdsByLevels = args.currentListIdsByLevels.slice(0, 1);\r\n            }\r\n            else {\r\n                // This is an item we don't need to ignore... If added lists deep under this one before\r\n                // we'll drop their ids from the list of ids per level.. this is because this list item\r\n                // breaks the deeper lists.\r\n                if (args.currentListIdsByLevels.length > itemMetadata.level) {\r\n                    args.currentListIdsByLevels = args.currentListIdsByLevels.slice(0, itemMetadata.level);\r\n                }\r\n                levelInfo.currentUniqueListId = itemMetadata.uniqueListId;\r\n                // Add the list item into the list of items to be processed\r\n                args.listItems.push(itemMetadata);\r\n                listMetadata.numberOfItems++;\r\n            }\r\n            args.lastProcessedItem = node;\r\n        }\r\n        else {\r\n            // Here, we know that this is not a list item, but we'll want to check if it is one \"no bullet\" list items...\r\n            // these can be created by creating a bullet and hitting delete on it it... The content will continue to be indented, but there will\r\n            // be no bullet and the list will continue correctly after that. Visually, it looks like the previous item has multiple lines, but\r\n            // the HTML generated has multiple paragraphs with the same class. We'll merge these when we find them, so the logic doesn't skips\r\n            // the list conversion thinking that the list items are not together...\r\n            var last = args.lastProcessedItem;\r\n            if (last &&\r\n                getRealPreviousSibling(node) == last &&\r\n                node.tagName == last.tagName &&\r\n                node.className == last.className) {\r\n                // Add 2 line breaks and move all the nodes to the last item\r\n                last.appendChild(last.ownerDocument.createElement('br'));\r\n                last.appendChild(last.ownerDocument.createElement('br'));\r\n                while (node.firstChild != null) {\r\n                    last.appendChild(node.firstChild);\r\n                }\r\n                // Remove the item that we don't need anymore\r\n                node.parentNode.removeChild(node);\r\n            }\r\n        }\r\n        // Move to the next element are return true if more elements need to be processed\r\n        args.currentIndex++;\r\n    }\r\n    return args.listItems.length > 0;\r\n}\r\nexports.processNodesDiscovery = processNodesDiscovery;\r\n/**\r\n * Handles the pass 2: Conversion\r\n * During conversion, we'll go over the elements that belong to a list that we've marked as a list to convert, and we'll perform the\r\n * conversion needed\r\n */\r\nfunction processNodeConvert(wordConverter) {\r\n    var args = wordConverter.wordConverterArgs;\r\n    args.currentIndex = 0;\r\n    while (args.currentIndex < args.listItems.length) {\r\n        var metadata = args.listItems[args.currentIndex];\r\n        var node = metadata.originalNode;\r\n        var listMetadata = args.lists[metadata.uniqueListId.toString()];\r\n        if (!listMetadata.ignore) {\r\n            // We have a list item that we need to convert, get or create the list\r\n            // that hold this item out\r\n            var list = getOrCreateListForNode(wordConverter, node, metadata, listMetadata);\r\n            if (list) {\r\n                // Clean the element out.. this call gets rid of the fake bullet and unneeded nodes\r\n                cleanupListIgnore(node, LOOKUP_DEPTH);\r\n                // Create a new list item and transfer the children\r\n                var li = node.ownerDocument.createElement('LI');\r\n                while (node.firstChild) {\r\n                    li.appendChild(node.firstChild);\r\n                }\r\n                // Append the list item into the list\r\n                list.appendChild(li);\r\n                // Remove the node we just converted\r\n                node.parentNode.removeChild(node);\r\n                if (listMetadata.tagName == 'UL') {\r\n                    wordConverter.numBulletsConverted++;\r\n                }\r\n                else {\r\n                    wordConverter.numNumberedConverted++;\r\n                }\r\n            }\r\n        }\r\n        args.currentIndex++;\r\n    }\r\n    return wordConverter.numBulletsConverted > 0 || wordConverter.numNumberedConverted > 0;\r\n}\r\nexports.processNodeConvert = processNodeConvert;\r\n/**\r\n * Gets or creates the list (UL or OL) that holds this item out based on the\r\n * items content and the specified metadata\r\n */\r\nfunction getOrCreateListForNode(wordConverter, node, metadata, listMetadata) {\r\n    // First get the last list next to this node under the specified level. This code\r\n    // path will return the list or will create lists if needed\r\n    var list = recurringGetOrCreateListAtNode(node, metadata.level, listMetadata);\r\n    // Here use the unique list ID to detect if we have the right list...\r\n    // it is possible to have 2 different lists next to each other with different formats, so\r\n    // we want to detect this an create separate lists for those cases\r\n    var listId = CustomData_1.getObject(wordConverter.customData, list, UNIQUE_LIST_ID_CUSTOM_DATA);\r\n    // If we have a list with and ID, but the ID is different than the ID for this list item, this\r\n    // is a completely new list, so we'll append a new list for that\r\n    if ((listId && listId != metadata.uniqueListId) || (!listId && list.firstChild)) {\r\n        var newList = node.ownerDocument.createElement(listMetadata.tagName);\r\n        list.parentNode.insertBefore(newList, list.nextSibling);\r\n        list = newList;\r\n    }\r\n    // Set the list id into the custom data\r\n    CustomData_1.setObject(wordConverter.customData, list, UNIQUE_LIST_ID_CUSTOM_DATA, metadata.uniqueListId);\r\n    // This call will convert the list if needed to the right type of list required. This can happen\r\n    // on the cases where the first list item for this list is located after a deeper list. for that\r\n    // case, we will have created a UL for it, and we may need to convert it\r\n    return convertListIfNeeded(wordConverter, list, listMetadata);\r\n}\r\n/**\r\n * Converts the list between UL and OL if needed, by using the fake bullet and\r\n * information already stored in the list itself\r\n */\r\nfunction convertListIfNeeded(wordConverter, list, listMetadata) {\r\n    // Check if we need to convert the list out\r\n    if (listMetadata.tagName != roosterjs_editor_dom_1.getTagOfNode(list)) {\r\n        // We have the wrong list type.. convert it, set the id again and tranfer all the childs\r\n        var newList = list.ownerDocument.createElement(listMetadata.tagName);\r\n        CustomData_1.setObject(wordConverter.customData, newList, UNIQUE_LIST_ID_CUSTOM_DATA, CustomData_1.getObject(wordConverter.customData, list, UNIQUE_LIST_ID_CUSTOM_DATA));\r\n        while (list.firstChild) {\r\n            newList.appendChild(list.firstChild);\r\n        }\r\n        list.parentNode.insertBefore(newList, list);\r\n        list.parentNode.removeChild(list);\r\n        list = newList;\r\n    }\r\n    return list;\r\n}\r\n/**\r\n * Gets or creates the specified list\r\n */\r\nfunction recurringGetOrCreateListAtNode(node, level, listMetadata) {\r\n    var parent = null;\r\n    var possibleList;\r\n    if (level == 1) {\r\n        // Root case, we'll check if the list is the previous sibling of the node\r\n        possibleList = getRealPreviousSibling(node);\r\n    }\r\n    else {\r\n        // If we get here, we are looking for level 2 or deeper... get the upper list\r\n        // and check if the last element is a list\r\n        parent = recurringGetOrCreateListAtNode(node, level - 1, null);\r\n        possibleList = parent.lastChild;\r\n    }\r\n    // Check the element that we got and verify that it is a list\r\n    if (possibleList && possibleList.nodeType == 1 /* Element */) {\r\n        var tag = roosterjs_editor_dom_1.getTagOfNode(possibleList);\r\n        if (tag == 'UL' || tag == 'OL') {\r\n            // We have a list.. use it\r\n            return possibleList;\r\n        }\r\n    }\r\n    // If we get here, it means we don't have a list and we need to create one\r\n    // this code path will always create new lists as UL lists\r\n    var newList = node.ownerDocument.createElement(listMetadata ? listMetadata.tagName : 'UL');\r\n    if (level == 1) {\r\n        // For level 1, we'll insert the list beofre the node\r\n        node.parentNode.insertBefore(newList, node);\r\n    }\r\n    else {\r\n        // Any level 2 or above, we insert the list as the last\r\n        // child of the upper level list\r\n        parent.appendChild(newList);\r\n    }\r\n    return newList;\r\n}\r\n/**\r\n * Cleans up the node children by removing the childs marked as mso-list: Ignore.\r\n * This nodes hold the fake bullet information that Word puts in and when\r\n * conversion is happening, we want to get rid of these elements\r\n */\r\nfunction cleanupListIgnore(node, levels) {\r\n    var nodesToRemove = [];\r\n    for (var child = node.firstChild; child; child = child.nextSibling) {\r\n        // Clean up the item internally first if we need to based on the number of levels\r\n        if (child.nodeType == 1 /* Element */ && levels > 1) {\r\n            cleanupListIgnore(child, levels - 1);\r\n        }\r\n        // Try to convert word comments into ignore elements if we haven't done so for this element\r\n        child = fixWordListComments(child, true /*removeComments*/);\r\n        // Check if we can remove this item out\r\n        if (isEmptySpan(child) || isIgnoreNode(child)) {\r\n            nodesToRemove.push(child);\r\n        }\r\n    }\r\n    nodesToRemove.forEach(function (child) { return node.removeChild(child); });\r\n}\r\n/**\r\n * Reads the word list metadada out of the specified node. If the node\r\n * is not a Word list item, it returns null.\r\n */\r\nfunction getListItemMetadata(node) {\r\n    if (node.nodeType == 1 /* Element */) {\r\n        var listatt = getStyleValue(node, MSO_LIST_STYLE_NAME);\r\n        if (listatt && listatt.length > 0) {\r\n            try {\r\n                // Word mso-list property holds 3 space separated values in the following format: lst1 level1 lfo0\r\n                // Where:\r\n                // (0) List identified for the metadata in the <head> of the document. We cannot read the <head> metada\r\n                // (1) Level of the list. This also maps to the <head> metadata that we cannot read, but\r\n                // for almost all cases, it maps to the list identation (or level). We'll use it as the\r\n                // list indentation value\r\n                // (2) Contains a specific list identifier.\r\n                // Example value: \"l0 level1 lfo1\"\r\n                var listprops = listatt.split(' ');\r\n                if (listprops.length == 3) {\r\n                    return {\r\n                        level: parseInt(listprops[1].substr('level'.length)),\r\n                        wordListId: listatt,\r\n                        originalNode: node,\r\n                        uniqueListId: 0,\r\n                    };\r\n                }\r\n            }\r\n            catch (e) { }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction isFakeBullet(fakeBullet) {\r\n    return ['o', '', '', '-'].indexOf(fakeBullet) >= 0;\r\n}\r\n/** Given a fake bullet text, returns the type of list that should be used for it */\r\nfunction getFakeBulletTagName(fakeBullet) {\r\n    return isFakeBullet(fakeBullet) ? 'UL' : 'OL';\r\n}\r\n/**\r\n * Finds the fake bullet text out of the specified node and returns it. For images, it will return\r\n * a bullet string. If not found, it returns null...\r\n */\r\nfunction getFakeBulletText(node, levels) {\r\n    // Word uses the following format for their bullets:\r\n    // <p style=\"mso-list:l1 level1 lfo2\">\r\n    // <span style=\"...\">\r\n    // <span style=\"mso-list:Ignore\">1.<span style=\"...\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span>\r\n    // </span>\r\n    // Content here...\r\n    // </p>\r\n    //\r\n    // Basically, we need to locate the mso-list:Ignore SPAN, which holds either one text or image node. That\r\n    // text or image node will be the fake bullet we are looking for\r\n    var result = null;\r\n    var child = node.firstChild;\r\n    while (!result && child) {\r\n        // First, check if we need to convert the Word list comments into real elements\r\n        child = fixWordListComments(child, true /*removeComments*/);\r\n        // Check if this is the node that holds the fake bullets (mso-list: Ignore)\r\n        if (isIgnoreNode(child)) {\r\n            // Yes... this is the node that holds either the text or image data\r\n            result = child.textContent.trim();\r\n            // This is the case for image case\r\n            if (result.length == 0) {\r\n                result = 'o';\r\n            }\r\n        }\r\n        else if (child.nodeType == 1 /* Element */ && levels > 1) {\r\n            // If this is an element and we are not in the last level, try to get the fake bullet\r\n            // out of the child\r\n            result = getFakeBulletText(child, levels - 1);\r\n        }\r\n        child = child.nextSibling;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * If the specified element is a Word List comments, this code verifies and fixes\r\n * the markup when needed to ensure that Chrome bullet conversions work as expected\r\n * -----\r\n * We'll convert <!--[if !supportLists]--> and <!--[endif]--> comments into\r\n * <span style=\"mso-list:Ignore\"></span>... Chrome has a bug where it drops the\r\n * styles of the span, but we'll use these comments to recreate them out\r\n */\r\nfunction fixWordListComments(child, removeComments) {\r\n    if (child.nodeType == 8 /* Comment */) {\r\n        var value = child.data;\r\n        if (value && value.trim().toLowerCase() == '[if !supportlists]') {\r\n            // We have a list ignore start, find the end.. We know is not more than\r\n            // 3 nodes away, so we'll optimize our checks\r\n            var nextElement = child;\r\n            var endComment = null;\r\n            for (var j = 0; j < 4; j++) {\r\n                nextElement = getRealNextSibling(nextElement);\r\n                if (!nextElement) {\r\n                    break;\r\n                }\r\n                if (nextElement.nodeType == 8 /* Comment */) {\r\n                    value = nextElement.data;\r\n                    if (value && value.trim().toLowerCase() == '[endif]') {\r\n                        endComment = nextElement;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            // if we found the end node, wrap everything out\r\n            if (endComment) {\r\n                var newSpan = child.ownerDocument.createElement('span');\r\n                newSpan.setAttribute('style', 'mso-list: ignore');\r\n                nextElement = getRealNextSibling(child);\r\n                while (nextElement != endComment) {\r\n                    nextElement = nextElement.nextSibling;\r\n                    newSpan.appendChild(nextElement.previousSibling);\r\n                }\r\n                // Insert the element out and use that one as the current child\r\n                endComment.parentNode.insertBefore(newSpan, endComment);\r\n                // Remove the comments out if the call specified it out\r\n                if (removeComments) {\r\n                    child.parentNode.removeChild(child);\r\n                    endComment.parentNode.removeChild(endComment);\r\n                }\r\n                // Last, make sure we return the new element out instead of the comment\r\n                child = newSpan;\r\n            }\r\n        }\r\n    }\r\n    return child;\r\n}\r\n/** Finds the real previous sibling, ignoring emtpy text nodes */\r\nfunction getRealPreviousSibling(node) {\r\n    var prevSibling = node;\r\n    do {\r\n        prevSibling = prevSibling.previousSibling;\r\n    } while (prevSibling && isEmptyTextNode(prevSibling));\r\n    return prevSibling;\r\n}\r\n/** Finds the real next sibling, ignoring empty text nodes */\r\nfunction getRealNextSibling(node) {\r\n    var nextSibling = node;\r\n    do {\r\n        nextSibling = nextSibling.nextSibling;\r\n    } while (nextSibling && isEmptyTextNode(nextSibling));\r\n    return nextSibling;\r\n}\r\n/**\r\n * Checks if the specified node is marked as a mso-list: Ignore. These\r\n * nodes need to be ignored when a list item is converted into standard\r\n * HTML lists\r\n */\r\nfunction isIgnoreNode(node) {\r\n    if (node.nodeType == 1 /* Element */) {\r\n        var listatt = getStyleValue(node, MSO_LIST_STYLE_NAME);\r\n        if (listatt && listatt.length > 0 && listatt.trim().toLowerCase() == 'ignore') {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/** Checks if the specified node is an empty span. */\r\nfunction isEmptySpan(node) {\r\n    return roosterjs_editor_dom_1.getTagOfNode(node) == 'SPAN' && !node.firstChild;\r\n}\r\n/** Reads the specified style value from the node */\r\nfunction getStyleValue(node, styleName) {\r\n    // Word uses non-standard names for the metadata that puts in the style of the element...\r\n    // Most browsers will not provide the information for those unstandard values throug the node.style\r\n    // property, so the only reliable way to read them is to get the attribute directly and do\r\n    // the required parsing..\r\n    var textStyle = node.getAttribute('style');\r\n    if (textStyle && textStyle.length > 0 && textStyle.indexOf(styleName) >= 0) {\r\n        // Split all the CSS name: value pairs\r\n        var inStyles = textStyle.split(';');\r\n        for (var i = 0; i < inStyles.length; i++) {\r\n            // Split the name and value\r\n            var nvpair = inStyles[i].split(':');\r\n            if (nvpair.length == 2 && nvpair[0].trim() == styleName) {\r\n                return nvpair[1].trim();\r\n            }\r\n        }\r\n    }\r\n    // As a backup mechanism, we'll still try to get the value from the style object\r\n    // Dictionary styles = (Dictionary)(object)node.Style;\r\n    // return (string)styles[styleName];\r\n    return null;\r\n}\r\n/** Checks if the node is an empty text node that can be ignored */\r\nfunction isEmptyTextNode(node) {\r\n    // No node is empty\r\n    if (!node) {\r\n        return true;\r\n    }\r\n    // Empty text node is empty\r\n    if (node.nodeType == 3 /* Text */) {\r\n        var value = node.nodeValue;\r\n        value = value.replace(LINE_BREAKS, '');\r\n        return value.trim().length == 0;\r\n    }\r\n    // Span or Font with an empty child node is empty\r\n    var tagName = roosterjs_editor_dom_1.getTagOfNode(node);\r\n    if (node.firstChild == node.lastChild && (tagName == 'SPAN' || tagName == 'FONT')) {\r\n        return isEmptyTextNode(node.firstChild);\r\n    }\r\n    // If not found, then this is not empty\r\n    return false;\r\n}\r\n/** Resets the list */\r\nfunction resetCurrentLists(args) {\r\n    for (var i = 0; i < args.currentListIdsByLevels.length; i++) {\r\n        var ll = args.currentListIdsByLevels[i];\r\n        if (ll) {\r\n            ll.currentUniqueListId = -1;\r\n        }\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar WATERMARK_SPAN_ID = '_rooster_watermarkSpan';\r\nvar WATERMARK_REGEX = new RegExp(\"<span[^>]*id=['\\\"]?\" + WATERMARK_SPAN_ID + \"['\\\"]?[^>]*>[^<]*</span>\", 'ig');\r\n/**\r\n * A watermark plugin to manage watermark string for roosterjs\r\n */\r\nvar Watermark = /** @class */ (function () {\r\n    /**\r\n     * Create an instance of Watermark plugin\r\n     * @param watermark The watermark string\r\n     */\r\n    function Watermark(watermark, format) {\r\n        var _this = this;\r\n        this.watermark = watermark;\r\n        this.format = format;\r\n        this.handleWatermark = function () {\r\n            _this.showHideWatermark(false /*ignoreCachedState*/);\r\n        };\r\n        this.format = this.format || {\r\n            fontSize: '14px',\r\n            textColor: '#aaa',\r\n        };\r\n    }\r\n    Watermark.prototype.initialize = function (editor) {\r\n        this.editor = editor;\r\n        this.showHideWatermark(false /*ignoreCachedState*/);\r\n        this.focusDisposer = this.editor.addDomEventHandler('focus', this.handleWatermark);\r\n        this.blurDisposer = this.editor.addDomEventHandler('blur', this.handleWatermark);\r\n    };\r\n    Watermark.prototype.dispose = function () {\r\n        this.focusDisposer();\r\n        this.blurDisposer();\r\n        this.focusDisposer = null;\r\n        this.blurDisposer = null;\r\n        this.hideWatermark();\r\n        this.editor = null;\r\n    };\r\n    Watermark.prototype.onPluginEvent = function (event) {\r\n        if (event.eventType == 6 /* ContentChanged */) {\r\n            // When content is changed from setContent() API, current cached state\r\n            // may not be accurate, so we ignore it\r\n            this.showHideWatermark(event.source == \"SetContent\" /* SetContent */);\r\n        }\r\n        else if (event.eventType == 7 /* ExtractContent */ && this.isWatermarkShowing) {\r\n            this.removeWartermarkFromHtml(event);\r\n        }\r\n    };\r\n    Watermark.prototype.showHideWatermark = function (ignoreCachedState) {\r\n        if (this.editor.hasFocus() && (ignoreCachedState || this.isWatermarkShowing)) {\r\n            this.hideWatermark();\r\n            this.editor.focus();\r\n        }\r\n        else if (!this.editor.hasFocus() &&\r\n            (ignoreCachedState || !this.isWatermarkShowing) &&\r\n            this.editor.isEmpty(true /*trim*/)) {\r\n            this.showWatermark();\r\n        }\r\n    };\r\n    Watermark.prototype.showWatermark = function () {\r\n        var document = this.editor.getDocument();\r\n        var watermarkNode = roosterjs_editor_dom_1.wrap(document.createTextNode(this.watermark), \"<span id=\\\"\" + WATERMARK_SPAN_ID + \"\\\"></span>\");\r\n        roosterjs_editor_dom_1.applyFormat(watermarkNode, this.format);\r\n        this.editor.insertNode(watermarkNode, {\r\n            position: 0 /* Begin */,\r\n            updateCursor: false,\r\n            replaceSelection: false,\r\n            insertOnNewLine: false,\r\n        });\r\n        this.isWatermarkShowing = true;\r\n    };\r\n    Watermark.prototype.hideWatermark = function () {\r\n        var _this = this;\r\n        this.editor.queryElements(\"span[id=\\\"\" + WATERMARK_SPAN_ID + \"\\\"]\", function (span) {\r\n            return _this.editor.deleteNode(span);\r\n        });\r\n        this.isWatermarkShowing = false;\r\n    };\r\n    Watermark.prototype.removeWartermarkFromHtml = function (event) {\r\n        var content = event.content;\r\n        content = content.replace(WATERMARK_REGEX, '');\r\n        event.content = content;\r\n    };\r\n    return Watermark;\r\n}());\r\nexports.default = Watermark;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar TABLE_RESIZE_HANDLE_KEY = 'TABLE_RESIZE_HANDLE';\r\nvar HANDLE_WIDTH = 6;\r\nvar CONTAINER_HTML = \"<div style=\\\"position: fixed; cursor: col-resize; width: \" + HANDLE_WIDTH + \"px; border: solid 0 #C6C6C6;\\\"></div>\";\r\nvar TableResize = /** @class */ (function () {\r\n    function TableResize(isRtl) {\r\n        var _this = this;\r\n        this.pageX = -1;\r\n        this.onMouseOver = function (e) {\r\n            var node = (e.srcElement || e.target);\r\n            if (_this.pageX < 0 &&\r\n                node &&\r\n                (node.tagName == 'TD' || node.tagName == 'TH') &&\r\n                node != _this.td) {\r\n                _this.td = node;\r\n                _this.calcAndShowHandle();\r\n            }\r\n        };\r\n        this.onMouseDown = function (e) {\r\n            if (!_this.editor || _this.editor.isDisposed()) {\r\n                return;\r\n            }\r\n            _this.pageX = e.pageX;\r\n            _this.initialPageX = e.pageX;\r\n            _this.attachMouseEvents();\r\n            var handle = _this.getResizeHandle();\r\n            handle.style.borderWidth = '0 1px';\r\n            _this.cancelEvent(e);\r\n        };\r\n        this.onMouseMove = function (e) {\r\n            _this.adjustHandle(e.pageX);\r\n            _this.cancelEvent(e);\r\n        };\r\n        this.onMouseUp = function (e) {\r\n            _this.detachMouseEvents();\r\n            var handle = _this.getResizeHandle();\r\n            handle.style.borderWidth = '0';\r\n            var table = _this.editor.getElementAtCursor('TABLE', _this.td);\r\n            var cellPadding = parseInt(table.cellPadding);\r\n            cellPadding = isNaN(cellPadding) ? 0 : cellPadding;\r\n            if (e.pageX != _this.initialPageX) {\r\n                var newWidth_1 = _this.td.clientWidth -\r\n                    cellPadding * 2 +\r\n                    (e.pageX - _this.initialPageX) * (_this.isRtl(table) ? -1 : 1);\r\n                _this.editor.addUndoSnapshot(function (start, end) {\r\n                    _this.setTableColumnWidth(newWidth_1 + 'px');\r\n                    _this.editor.select(start, end);\r\n                }, \"Format\" /* Format */);\r\n            }\r\n            _this.pageX = -1;\r\n            _this.calcAndShowHandle();\r\n            _this.editor.focus();\r\n            _this.cancelEvent(e);\r\n        };\r\n    }\r\n    TableResize.prototype.initialize = function (editor) {\r\n        this.editor = editor;\r\n        this.onMouseOverDisposer = this.editor.addDomEventHandler('mouseover', this.onMouseOver);\r\n    };\r\n    TableResize.prototype.dispose = function () {\r\n        this.detachMouseEvents();\r\n        this.editor = null;\r\n        this.onMouseOverDisposer();\r\n    };\r\n    TableResize.prototype.onPluginEvent = function (event) {\r\n        if (this.td &&\r\n            (event.eventType == 0 /* KeyDown */ ||\r\n                event.eventType == 6 /* ContentChanged */ ||\r\n                (event.eventType == 4 /* MouseDown */ && !this.clickIntoCurrentTd(event)))) {\r\n            this.td = null;\r\n            this.calcAndShowHandle();\r\n        }\r\n    };\r\n    TableResize.prototype.clickIntoCurrentTd = function (event) {\r\n        var mouseEvent = event.rawEvent;\r\n        var target = mouseEvent.target;\r\n        return (target instanceof Node &&\r\n            roosterjs_editor_dom_1.contains(this.td, target, true /*treatSameNodeAsContain*/));\r\n    };\r\n    TableResize.prototype.calcAndShowHandle = function () {\r\n        if (this.td) {\r\n            var tr = this.editor.getElementAtCursor('TR', this.td);\r\n            var table = this.editor.getElementAtCursor('TABLE', tr);\r\n            if (tr && table) {\r\n                var _a = this.getPosition(table), left = _a[0], top_1 = _a[1];\r\n                var handle = this.getResizeHandle();\r\n                left +=\r\n                    this.td.offsetLeft +\r\n                        (this.isRtl(table) ? 0 : this.td.offsetWidth - HANDLE_WIDTH);\r\n                handle.style.display = '';\r\n                handle.style.top = top_1 + 'px';\r\n                handle.style.height = table.offsetHeight + 'px';\r\n                handle.style.left = left + 'px';\r\n            }\r\n        }\r\n        else {\r\n            this.getResizeHandle().style.display = 'none';\r\n        }\r\n    };\r\n    TableResize.prototype.adjustHandle = function (pageX) {\r\n        var handle = this.getResizeHandle();\r\n        handle.style.left = handle.offsetLeft + pageX - this.pageX + 'px';\r\n        this.pageX = pageX;\r\n    };\r\n    TableResize.prototype.getPosition = function (e) {\r\n        var parent = e.offsetParent;\r\n        var _a = parent ? this.getPosition(parent) : [0, 0], left = _a[0], top = _a[1];\r\n        return [left + e.offsetLeft - e.scrollLeft, top + e.offsetTop - e.scrollTop];\r\n    };\r\n    TableResize.prototype.getResizeHandle = function () {\r\n        var _this = this;\r\n        return this.editor.getCustomData(TABLE_RESIZE_HANDLE_KEY, function () {\r\n            var document = _this.editor.getDocument();\r\n            var handle = roosterjs_editor_dom_1.fromHtml(CONTAINER_HTML, document)[0];\r\n            _this.editor.insertNode(handle, {\r\n                position: 3 /* Outside */,\r\n                updateCursor: false,\r\n                replaceSelection: false,\r\n                insertOnNewLine: false,\r\n            });\r\n            handle.addEventListener('mousedown', _this.onMouseDown);\r\n            return handle;\r\n        }, function (handle) {\r\n            handle.removeEventListener('mousedown', _this.onMouseDown);\r\n            handle.parentNode.removeChild(handle);\r\n        });\r\n    };\r\n    TableResize.prototype.cancelEvent = function (e) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    };\r\n    TableResize.prototype.attachMouseEvents = function () {\r\n        if (this.editor && !this.editor.isDisposed()) {\r\n            var document_1 = this.editor.getDocument();\r\n            document_1.addEventListener('mousemove', this.onMouseMove, true);\r\n            document_1.addEventListener('mouseup', this.onMouseUp, true);\r\n        }\r\n    };\r\n    TableResize.prototype.detachMouseEvents = function () {\r\n        if (this.editor && !this.editor.isDisposed()) {\r\n            var document_2 = this.editor.getDocument();\r\n            document_2.removeEventListener('mousemove', this.onMouseMove, true);\r\n            document_2.removeEventListener('mouseup', this.onMouseUp, true);\r\n        }\r\n    };\r\n    TableResize.prototype.setTableColumnWidth = function (width) {\r\n        var _this = this;\r\n        var vtable = new roosterjs_editor_dom_1.VTable(this.td);\r\n        vtable.table.style.width = '';\r\n        vtable.table.width = '';\r\n        vtable.forEachCellOfCurrentColumn(function (cell) {\r\n            if (cell.td) {\r\n                cell.td.style.width = cell.td == _this.td ? width : '';\r\n            }\r\n        });\r\n        vtable.writeBack();\r\n        return this.editor.contains(this.td) ? this.td : vtable.getCurrentTd();\r\n    };\r\n    TableResize.prototype.isRtl = function (element) {\r\n        return roosterjs_editor_dom_1.getComputedStyle(element, 'direction') == 'rtl';\r\n    };\r\n    return TableResize;\r\n}());\r\nexports.default = TableResize;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_dom_1 = require(\"roosterjs-editor-dom\");\r\nvar BEGIN_TAG = 'RoosterJsImageResizingBegin';\r\nvar END_TAG = 'RoosterJsImageResizingEnd';\r\nvar EXTRACT_HTML_REGEX = new RegExp(\"<!--\" + BEGIN_TAG + \"-->[\\\\s\\\\S]*(<img\\\\s[^>]+>)[\\\\s\\\\S]*<!--\" + END_TAG + \"-->\", 'gim');\r\nvar DELETE_KEYCODE = 46;\r\nvar BACKSPACE_KEYCODE = 8;\r\nvar SHIFT_KEYCODE = 16;\r\nvar CTRL_KEYCODE = 17;\r\nvar ALT_KEYCODE = 18;\r\nvar ImageResize = /** @class */ (function () {\r\n    /**\r\n     * Create a new instance of ImageResize\r\n     * @param minWidth Minimum width of image when resize in pixel, default value is 10\r\n     * @param minHeight Minimum height of image when resize in pixel, default value is 10\r\n     * @param selectionBorderColor Color of resize border and handles, default value is #DB626C\r\n     * @param forcePreserveRatio Whether always preserve width/height ratio when resize, default value is false\r\n     * @param resizableImageSelector Selector for picking which image is resizable (e.g. for all images not placeholders), note\r\n     * that the tag must be IMG regardless what the selector is\r\n     */\r\n    function ImageResize(minWidth, minHeight, selectionBorderColor, forcePreserveRatio, resizableImageSelector) {\r\n        if (minWidth === void 0) { minWidth = 10; }\r\n        if (minHeight === void 0) { minHeight = 10; }\r\n        if (selectionBorderColor === void 0) { selectionBorderColor = '#DB626C'; }\r\n        if (forcePreserveRatio === void 0) { forcePreserveRatio = false; }\r\n        if (resizableImageSelector === void 0) { resizableImageSelector = 'img'; }\r\n        var _this = this;\r\n        this.minWidth = minWidth;\r\n        this.minHeight = minHeight;\r\n        this.selectionBorderColor = selectionBorderColor;\r\n        this.forcePreserveRatio = forcePreserveRatio;\r\n        this.resizableImageSelector = resizableImageSelector;\r\n        this.startResize = function (e) {\r\n            var img = _this.getSelectedImage();\r\n            if (_this.editor && img) {\r\n                _this.startPageX = e.pageX;\r\n                _this.startPageY = e.pageY;\r\n                _this.startWidth = img.clientWidth;\r\n                _this.startHeight = img.clientHeight;\r\n                _this.editor.addUndoSnapshot();\r\n                var document_1 = _this.editor.getDocument();\r\n                document_1.addEventListener('mousemove', _this.doResize, true /*useCapture*/);\r\n                document_1.addEventListener('mouseup', _this.finishResize, true /*useCapture*/);\r\n                _this.direction = (e.srcElement || e.target).style.cursor;\r\n            }\r\n            e.preventDefault();\r\n        };\r\n        this.doResize = function (e) {\r\n            var img = _this.getSelectedImage();\r\n            if (_this.editor && img) {\r\n                var widthChange = e.pageX - _this.startPageX;\r\n                var heightChange = e.pageY - _this.startPageY;\r\n                var newWidth = Math.max(_this.startWidth + (_this.isWest(_this.direction) ? -widthChange : widthChange), _this.minWidth);\r\n                var newHeight = Math.max(_this.startHeight + (_this.isNorth(_this.direction) ? -heightChange : heightChange), _this.minHeight);\r\n                if (_this.forcePreserveRatio || e.shiftKey) {\r\n                    var ratio = _this.startWidth > 0 && _this.startHeight > 0\r\n                        ? (_this.startWidth * 1.0) / _this.startHeight\r\n                        : 0;\r\n                    if (ratio > 0) {\r\n                        if (newWidth < newHeight * ratio) {\r\n                            newWidth = newHeight * ratio;\r\n                        }\r\n                        else {\r\n                            newHeight = newWidth / ratio;\r\n                        }\r\n                    }\r\n                }\r\n                img.style.width = newWidth + 'px';\r\n                img.style.height = newHeight + 'px';\r\n            }\r\n            e.preventDefault();\r\n        };\r\n        this.finishResize = function (e) {\r\n            var img = _this.getSelectedImage();\r\n            if (_this.editor && img) {\r\n                var document_2 = _this.editor.getDocument();\r\n                document_2.removeEventListener('mousemove', _this.doResize, true /*useCapture*/);\r\n                document_2.removeEventListener('mouseup', _this.finishResize, true /*useCapture*/);\r\n                var width = img.clientWidth;\r\n                var height = img.clientHeight;\r\n                img.style.width = width + 'px';\r\n                img.style.height = height + 'px';\r\n                img.width = width;\r\n                img.height = height;\r\n                _this.resizeDiv.style.width = '';\r\n                _this.resizeDiv.style.height = '';\r\n            }\r\n            _this.direction = null;\r\n            _this.editor.addUndoSnapshot();\r\n            _this.editor.triggerContentChangedEvent(\"ImageResize\" /* ImageResize */);\r\n            e.preventDefault();\r\n        };\r\n        this.removeResizeDivIfAny = function (img) {\r\n            var div = img && img.parentNode;\r\n            var previous = div && div.previousSibling;\r\n            var next = div && div.nextSibling;\r\n            if (previous &&\r\n                previous.nodeType == 8 /* Comment */ &&\r\n                previous.nodeValue == BEGIN_TAG &&\r\n                next &&\r\n                next.nodeType == 8 /* Comment */ &&\r\n                next.nodeValue == END_TAG) {\r\n                div.parentNode.insertBefore(img, div);\r\n                _this.removeResizeDiv(div);\r\n            }\r\n        };\r\n        this.onDragStart = function (e) {\r\n            if ((e.srcElement || e.target) == _this.getSelectedImage()) {\r\n                _this.hideResizeHandle(true);\r\n            }\r\n        };\r\n    }\r\n    ImageResize.prototype.initialize = function (editor) {\r\n        this.editor = editor;\r\n        this.dragStartDisposer = editor.addDomEventHandler('dragstart', this.onDragStart);\r\n    };\r\n    ImageResize.prototype.dispose = function () {\r\n        if (this.resizeDiv) {\r\n            this.hideResizeHandle();\r\n        }\r\n        if (this.dragStartDisposer) {\r\n            this.dragStartDisposer();\r\n            this.dragStartDisposer = null;\r\n        }\r\n        this.editor = null;\r\n    };\r\n    ImageResize.prototype.onPluginEvent = function (e) {\r\n        var _this = this;\r\n        if (e.eventType == 4 /* MouseDown */) {\r\n            var event_1 = e.rawEvent;\r\n            var target = (event_1.srcElement || event_1.target);\r\n            if (roosterjs_editor_dom_1.getTagOfNode(target) == 'IMG') {\r\n                var parent_1 = target.parentNode;\r\n                var elements = parent_1\r\n                    ? [].slice.call(parent_1.querySelectorAll(this.resizableImageSelector))\r\n                    : [];\r\n                if (elements.indexOf(target) < 0) {\r\n                    return;\r\n                }\r\n                target.contentEditable = 'false';\r\n                var currentImg = this.getSelectedImage();\r\n                if (currentImg && currentImg != target) {\r\n                    this.hideResizeHandle();\r\n                }\r\n                if (!this.resizeDiv) {\r\n                    this.showResizeHandle(target);\r\n                }\r\n            }\r\n            else if (this.resizeDiv && !roosterjs_editor_dom_1.contains(this.resizeDiv, target)) {\r\n                this.hideResizeHandle();\r\n            }\r\n        }\r\n        else if (e.eventType == 0 /* KeyDown */ && this.resizeDiv) {\r\n            var event_2 = e.rawEvent;\r\n            if (event_2.which == DELETE_KEYCODE || event_2.which == BACKSPACE_KEYCODE) {\r\n                this.editor.addUndoSnapshot(function () {\r\n                    _this.removeResizeDiv(_this.resizeDiv);\r\n                });\r\n                this.resizeDiv = null;\r\n                event_2.preventDefault();\r\n                this.resizeDiv = null;\r\n            }\r\n            else if (event_2.which != SHIFT_KEYCODE &&\r\n                event_2.which != CTRL_KEYCODE &&\r\n                event_2.which != ALT_KEYCODE) {\r\n                this.hideResizeHandle();\r\n            }\r\n        }\r\n        else if (e.eventType == 6 /* ContentChanged */ &&\r\n            e.source != \"ImageResize\" /* ImageResize */) {\r\n            this.editor.queryElements('img', this.removeResizeDivIfAny);\r\n            this.resizeDiv = null;\r\n        }\r\n        else if (e.eventType == 7 /* ExtractContent */) {\r\n            var event_3 = e;\r\n            event_3.content = this.extractHtml(event_3.content);\r\n        }\r\n    };\r\n    /**\r\n     * Select a given IMG element, show the resize handle\r\n     * @param img The IMG element to select\r\n     */\r\n    ImageResize.prototype.showResizeHandle = function (img) {\r\n        this.resizeDiv = this.createResizeDiv(img);\r\n        img.contentEditable = 'false';\r\n        this.editor.select(this.resizeDiv, -3 /* After */);\r\n    };\r\n    /**\r\n     * Hide resize handle of current selected image\r\n     * @param selectImageAfterUnSelect Optional, when set to true, select the image element after hide the resize handle\r\n     */\r\n    ImageResize.prototype.hideResizeHandle = function (selectImageAfterUnSelect) {\r\n        var img = this.getSelectedImage();\r\n        var parent = this.resizeDiv && this.resizeDiv.parentNode;\r\n        if (parent) {\r\n            if (img) {\r\n                img.removeAttribute('contentEditable');\r\n                var referenceNode = this.resizeDiv.previousSibling &&\r\n                    this.resizeDiv.previousSibling.nodeType == 8 /* Comment */\r\n                    ? this.resizeDiv.previousSibling\r\n                    : this.resizeDiv;\r\n                parent.insertBefore(img, referenceNode);\r\n                if (selectImageAfterUnSelect) {\r\n                    this.editor.select(img);\r\n                }\r\n                else {\r\n                    this.editor.select(img, -3 /* After */);\r\n                }\r\n            }\r\n            this.removeResizeDiv(this.resizeDiv);\r\n            this.resizeDiv = null;\r\n        }\r\n    };\r\n    ImageResize.prototype.createResizeDiv = function (target) {\r\n        var _this = this;\r\n        var document = this.editor.getDocument();\r\n        var resizeDiv = document.createElement('DIV');\r\n        var parent = target.parentNode;\r\n        parent.insertBefore(resizeDiv, target);\r\n        parent.insertBefore(document.createComment(BEGIN_TAG), resizeDiv);\r\n        parent.insertBefore(document.createComment(END_TAG), resizeDiv.nextSibling);\r\n        resizeDiv.style.position = 'relative';\r\n        resizeDiv.style.display = 'inline-flex';\r\n        resizeDiv.contentEditable = 'false';\r\n        resizeDiv.appendChild(target);\r\n        ['nw', 'ne', 'sw', 'se'].forEach(function (pos) {\r\n            var div = document.createElement('DIV');\r\n            resizeDiv.appendChild(div);\r\n            div.style.position = 'absolute';\r\n            div.style.width = '7px';\r\n            div.style.height = '7px';\r\n            div.style.backgroundColor = _this.selectionBorderColor;\r\n            div.style.cursor = pos + '-resize';\r\n            if (_this.isNorth(pos)) {\r\n                div.style.top = '-3px';\r\n            }\r\n            else {\r\n                div.style.bottom = '-3px';\r\n            }\r\n            if (_this.isWest(pos)) {\r\n                div.style.left = '-3px';\r\n            }\r\n            else {\r\n                div.style.right = '-3px';\r\n            }\r\n            div.addEventListener('mousedown', _this.startResize);\r\n        });\r\n        var div = document.createElement('DIV');\r\n        resizeDiv.appendChild(div);\r\n        div.style.position = 'absolute';\r\n        div.style.top = '0';\r\n        div.style.left = '0';\r\n        div.style.right = '0';\r\n        div.style.bottom = '0';\r\n        div.style.border = 'solid 1px ' + this.selectionBorderColor;\r\n        div.style.pointerEvents = 'none';\r\n        return resizeDiv;\r\n    };\r\n    ImageResize.prototype.removeResizeDiv = function (resizeDiv) {\r\n        var _this = this;\r\n        if (this.editor && this.editor.contains(resizeDiv)) {\r\n            [resizeDiv.previousSibling, resizeDiv.nextSibling].forEach(function (comment) {\r\n                if (comment && comment.nodeType == 8 /* Comment */) {\r\n                    _this.editor.deleteNode(comment);\r\n                }\r\n            });\r\n            this.editor.deleteNode(resizeDiv);\r\n        }\r\n    };\r\n    ImageResize.prototype.extractHtml = function (html) {\r\n        return html.replace(EXTRACT_HTML_REGEX, function () {\r\n            var groups = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                groups[_i] = arguments[_i];\r\n            }\r\n            return groups[1].replace(/(\\s*contenteditable=\"false\"(\\/?>)|contenteditable=\"false\"\\s*)/im, '$2');\r\n        });\r\n    };\r\n    ImageResize.prototype.getSelectedImage = function () {\r\n        return this.resizeDiv ? this.resizeDiv.getElementsByTagName('IMG')[0] : null;\r\n    };\r\n    ImageResize.prototype.isNorth = function (direction) {\r\n        return direction && direction.substr(0, 1) == 'n';\r\n    };\r\n    ImageResize.prototype.isWest = function (direction) {\r\n        return direction && direction.substr(1, 1) == 'w';\r\n    };\r\n    return ImageResize;\r\n}());\r\nexports.default = ImageResize;\r\n/**\r\n * @deprecated Use ImageResize instead\r\n */\r\nvar ImageResizePlugin = /** @class */ (function (_super) {\r\n    __extends(ImageResizePlugin, _super);\r\n    /**\r\n     * @deprecated Use ImageResize instead\r\n     */\r\n    function ImageResizePlugin(minWidth, minHeight, selectionBorderColor, forcePreserveRatio) {\r\n        if (minWidth === void 0) { minWidth = 10; }\r\n        if (minHeight === void 0) { minHeight = 10; }\r\n        if (selectionBorderColor === void 0) { selectionBorderColor = '#DB626C'; }\r\n        if (forcePreserveRatio === void 0) { forcePreserveRatio = false; }\r\n        var _this = _super.call(this, minWidth, minHeight, selectionBorderColor, forcePreserveRatio) || this;\r\n        console.warn('ImageResizePlugin class is deprecated. Use ImageResize class instead');\r\n        return _this;\r\n    }\r\n    return ImageResizePlugin;\r\n}(ImageResize));\r\nexports.ImageResizePlugin = ImageResizePlugin;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ShowCursorPosition_1 = require(\"./plugins/ShowCursorPosition\");\r\nvar ShowFormatState_1 = require(\"./plugins/ShowFormatState\");\r\nvar roosterjs_editor_plugins_1 = require(\"roosterjs-editor-plugins\");\r\nvar roosterjs_plugin_image_resize_1 = require(\"roosterjs-plugin-image-resize\");\r\nvar roosterjs_editor_core_1 = require(\"roosterjs-editor-core\");\r\nvar currentEditor_1 = require(\"./currentEditor\");\r\nvar currentEditor_2 = require(\"./currentEditor\");\r\nvar updateSampleCode_1 = require(\"./updateSampleCode\");\r\nfunction initOptions() {\r\n    document.getElementById('showHtmlContent').addEventListener('click', function () {\r\n        window.alert(currentEditor_2.default().getContent(true));\r\n    });\r\n    document.getElementById('showTextContent').addEventListener('click', function () {\r\n        var text = currentEditor_2.default().getTextContent();\r\n        window.alert(text);\r\n    });\r\n    document.getElementById('takeSnapshot').addEventListener('click', function () {\r\n        var snapshot = currentEditor_2.default().getContent(false, true);\r\n        document.getElementById('snapshotTextarea').value = snapshot;\r\n    });\r\n    document.getElementById('resumeSnapshot').addEventListener('click', function () {\r\n        var snapshot = document.getElementById('snapshotTextarea').value;\r\n        var editor = currentEditor_2.default();\r\n        editor.focus();\r\n        editor.setContent(snapshot, false);\r\n    });\r\n    [\r\n        'hyperlinkCheckbox',\r\n        'pasteCheckbox',\r\n        'contentEditCheckbox',\r\n        'watermarkCheckbox',\r\n        'imageResizeCheckbox',\r\n        'tableResizeCheckbox',\r\n        'boldCheckbox',\r\n        'italicCheckbox',\r\n        'underlineCheckbox',\r\n        'textColorDefaultFormat',\r\n        'fontNameDefaultFormat',\r\n        'autoLinkCheckbox',\r\n        'indentWhenTabCheckbox',\r\n        'outdentWhenShiftTabCheckbox',\r\n        'outdentWhenBackspaceOnEmptyFirstLineCheckbox',\r\n        'outdentWhenEnterOnEmptyLineCheckbox',\r\n        'mergeInNewLineWhenBackspaceOnFirstCharCheckbox',\r\n        'unquoteWhenBackspaceOnEmptyFirstLineCheckbox',\r\n        'unquoteWhenEnterOnEmptyLineCheckbox',\r\n        'autoBulletCheckbox',\r\n        'tabInTableCheckbox',\r\n        'upDownInTableCheckbox',\r\n        'unlinkWhenBackspaceAfterLinkCheckbox',\r\n        'defaultShortcutCheckbox',\r\n        'smartOrderedListCheckbox',\r\n    ].forEach(function (id) {\r\n        document.getElementById(id).addEventListener('change', initEditorForOptions);\r\n    });\r\n}\r\nfunction initEditorForOptions() {\r\n    currentEditor_1.setCurrentEditor(null);\r\n    var plugins = [];\r\n    if (document.getElementById('hyperlinkCheckbox').checked) {\r\n        plugins.push(new roosterjs_editor_plugins_1.HyperLink());\r\n    }\r\n    if (document.getElementById('pasteCheckbox').checked) {\r\n        plugins.push(new roosterjs_editor_plugins_1.Paste());\r\n    }\r\n    var features = roosterjs_editor_plugins_1.getDefaultContentEditFeatures();\r\n    var featuresChanged = false;\r\n    if (document.getElementById('contentEditCheckbox').checked) {\r\n        features.autoLink = document.getElementById('autoLinkCheckbox').checked;\r\n        features.indentWhenTab = document.getElementById('indentWhenTabCheckbox').checked;\r\n        features.outdentWhenShiftTab = document.getElementById('outdentWhenShiftTabCheckbox').checked;\r\n        features.outdentWhenBackspaceOnEmptyFirstLine = document.getElementById('outdentWhenBackspaceOnEmptyFirstLineCheckbox').checked;\r\n        features.outdentWhenEnterOnEmptyLine = document.getElementById('outdentWhenEnterOnEmptyLineCheckbox').checked;\r\n        features.mergeInNewLineWhenBackspaceOnFirstChar = document.getElementById('mergeInNewLineWhenBackspaceOnFirstCharCheckbox').checked;\r\n        features.unquoteWhenBackspaceOnEmptyFirstLine = document.getElementById('unquoteWhenBackspaceOnEmptyFirstLineCheckbox').checked;\r\n        features.unquoteWhenEnterOnEmptyLine = document.getElementById('unquoteWhenEnterOnEmptyLineCheckbox').checked;\r\n        features.autoBullet = document.getElementById('autoBulletCheckbox').checked;\r\n        features.tabInTable = document.getElementById('tabInTableCheckbox').checked;\r\n        features.upDownInTable = document.getElementById('upDownInTableCheckbox').checked;\r\n        features.unlinkWhenBackspaceAfterLink = document.getElementById('unlinkWhenBackspaceAfterLinkCheckbox').checked;\r\n        features.defaultShortcut = document.getElementById('defaultShortcutCheckbox').checked;\r\n        features.smartOrderedList = document.getElementById('smartOrderedListCheckbox').checked;\r\n        plugins.push(new roosterjs_editor_plugins_1.ContentEdit(features));\r\n        var defaultFeatures = roosterjs_editor_plugins_1.getDefaultContentEditFeatures();\r\n        var keys = Object.keys(defaultFeatures);\r\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n            var key = keys_1[_i];\r\n            if (key != 'smartOrderedListStyles' && features[key] != defaultFeatures[key]) {\r\n                featuresChanged = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    if (document.getElementById('watermarkCheckbox').checked) {\r\n        plugins.push(new roosterjs_editor_plugins_1.Watermark('Type content here...'));\r\n    }\r\n    if (document.getElementById('imageResizeCheckbox').checked) {\r\n        plugins.push(new roosterjs_plugin_image_resize_1.ImageResize());\r\n    }\r\n    if (document.getElementById('tableResizeCheckbox').checked) {\r\n        plugins.push(new roosterjs_editor_plugins_1.TableResize());\r\n    }\r\n    plugins.push(new ShowCursorPosition_1.default(document.getElementById('cursorPosition')));\r\n    plugins.push(new ShowFormatState_1.default(document.getElementById('formatState')));\r\n    var defaultFormat = {};\r\n    if (document.getElementById('boldCheckbox').checked) {\r\n        defaultFormat.bold = true;\r\n    }\r\n    if (document.getElementById('italicCheckbox').checked) {\r\n        defaultFormat.italic = true;\r\n    }\r\n    if (document.getElementById('underlineCheckbox').checked) {\r\n        defaultFormat.underline = true;\r\n    }\r\n    var textColor = document.getElementById('textColorDefaultFormat').value;\r\n    if (textColor) {\r\n        defaultFormat.textColor = textColor;\r\n    }\r\n    var fontFamily = document.getElementById('fontNameDefaultFormat').value;\r\n    if (fontFamily) {\r\n        defaultFormat.fontFamily = fontFamily;\r\n    }\r\n    var editorOptions = {\r\n        plugins: plugins,\r\n        defaultFormat: defaultFormat\r\n    };\r\n    currentEditor_1.setCurrentEditor(new roosterjs_editor_core_1.Editor(document.getElementById('editor'), editorOptions));\r\n    updateSampleCode_1.default(plugins, defaultFormat, featuresChanged && features);\r\n}\r\nexports.initEditorForOptions = initEditorForOptions;\r\nexports.default = initOptions;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// An editor plugin to show cursor position in demo page\r\nvar ShowCursorPosition = /** @class */ (function () {\r\n    function ShowCursorPosition(resultContainer) {\r\n        this.resultContainer = resultContainer;\r\n    }\r\n    ShowCursorPosition.prototype.initialize = function (editor) {\r\n        this.editor = editor;\r\n    };\r\n    ShowCursorPosition.prototype.dispose = function () {\r\n        this.editor = null;\r\n    };\r\n    ShowCursorPosition.prototype.onPluginEvent = function (event) {\r\n        if (event.eventType == 2 /* KeyUp */ || event.eventType == 5 /* MouseUp */ || event.eventType == 6 /* ContentChanged */) {\r\n            var rect = this.editor.getCursorRect();\r\n            if (rect) {\r\n                var result = 'top=' +\r\n                    rect.top +\r\n                    '; bottom=' +\r\n                    rect.bottom +\r\n                    '; left=' +\r\n                    rect.left +\r\n                    '; right=' +\r\n                    rect.right;\r\n                this.resultContainer.innerText = result;\r\n            }\r\n        }\r\n    };\r\n    return ShowCursorPosition;\r\n}());\r\nexports.default = ShowCursorPosition;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar roosterjs_editor_api_1 = require(\"roosterjs-editor-api\");\r\n// An editor plugin to show cursor position in demo page\r\nvar ShowFormatState = /** @class */ (function () {\r\n    function ShowFormatState(resultContainer) {\r\n        this.resultContainer = resultContainer;\r\n    }\r\n    ShowFormatState.prototype.initialize = function (editor) {\r\n        this.editor = editor;\r\n    };\r\n    ShowFormatState.prototype.dispose = function () {\r\n        this.editor = null;\r\n    };\r\n    ShowFormatState.prototype.onPluginEvent = function (event) {\r\n        if (event.eventType == 2 /* KeyUp */ || event.eventType == 5 /* MouseUp */ || event.eventType == 6 /* ContentChanged */) {\r\n            var formatState = roosterjs_editor_api_1.getFormatState(this.editor);\r\n            if (formatState) {\r\n                var result = '';\r\n                if (formatState.fontName) {\r\n                    result += ' <b>fontName:</b> ' + formatState.fontName;\r\n                }\r\n                if (formatState.fontSize) {\r\n                    result += ' <b>fontSize:</b> ' + formatState.fontSize;\r\n                }\r\n                if (formatState.backgroundColor) {\r\n                    result += ' <b>backgroundColor:</b> ' + formatState.backgroundColor;\r\n                }\r\n                if (formatState.textColor) {\r\n                    result += ' <b>textColor:</b> ' + formatState.textColor;\r\n                }\r\n                if (formatState.isBold) {\r\n                    result += ' <b>Bold</b> ';\r\n                }\r\n                if (formatState.isItalic) {\r\n                    result += ' <b>Italic</b> ';\r\n                }\r\n                if (formatState.isUnderline) {\r\n                    result += ' <b>Underline</b> ';\r\n                }\r\n                if (formatState.isBullet) {\r\n                    result += ' <b>Bullet</b> ';\r\n                }\r\n                if (formatState.isNumbering) {\r\n                    result += ' <b>Numbering</b> ';\r\n                }\r\n                if (formatState.isStrikeThrough) {\r\n                    result += ' <b>StrikeThrough</b> ';\r\n                }\r\n                if (formatState.isSubscript) {\r\n                    result += ' <b>Subscript</b> ';\r\n                }\r\n                if (formatState.isSuperscript) {\r\n                    result += ' <b>Superscript</b> ';\r\n                }\r\n                if (formatState.canUndo) {\r\n                    result += ' <b>CanUndo</b> ';\r\n                }\r\n                if (formatState.canRedo) {\r\n                    result += ' <b>CanReDo</b> ';\r\n                }\r\n                if (formatState.canUnlink) {\r\n                    result += ' <b>CanUnlink</b>';\r\n                }\r\n                if (formatState.canAddImageAltText) {\r\n                    result += ' <b>CanAddImageAltText</b>';\r\n                }\r\n                if (formatState.headerLevel > 0) {\r\n                    result += \" <b>Header\" + formatState.headerLevel + \"</b>\";\r\n                }\r\n                this.resultContainer.innerHTML = result;\r\n            }\r\n        }\r\n    };\r\n    return ShowFormatState;\r\n}());\r\nexports.default = ShowFormatState;\r\n"],"sourceRoot":""}