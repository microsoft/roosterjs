!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/publish/samplesite/scripts/",n(n.s=69)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31);t.NodeBlockElement=r.default;var o=n(10);t.getBlockElementAtNode=o.default;var i=n(39);t.getFirstBlockElement=i.getFirstBlockElement,t.getFirstLastBlockElement=i.getFirstLastBlockElement,t.getLastBlockElement=i.getLastBlockElement;var a=n(32);t.StartEndBlockElement=a.default;var s=n(40);t.ContentTraverser=s.default;var l=n(75);t.PositionContentSearcher=l.default;var u=n(8);t.getNextLeafSibling=u.getNextLeafSibling,t.getPreviousLeafSibling=u.getPreviousLeafSibling;var c=n(38);t.getFirstLeafNode=c.getFirstLeafNode,t.getLastLeafNode=c.getLastLeafNode;var d=n(13);t.getInlineElementAtNode=d.default;var f=n(35);t.ImageInlineElement=f.default;var h=n(36);t.LinkInlineElement=h.default;var p=n(11);t.NodeInlineElement=p.default;var v=n(18);t.PartialInlineElement=v.default;var g=n(76);t.TextInlineElement=g.default;var m=n(19);t.getInlineElementBefore=m.getInlineElementBefore,t.getInlineElementAfter=m.getInlineElementAfter;var y=n(24);t.applyTextStyle=y.default;var E=n(77);t.Browser=E.default,t.getBrowserInfo=E.getBrowserInfo;var b=n(78);t.applyFormat=b.default;var C=n(79);t.changeElementTag=C.default;var S=n(21);t.collapseNodes=S.default;var N=n(1);t.contains=N.default;var O=n(23);t.findClosestElementAncestor=O.default;var w=n(34);t.fromHtml=w.default;var I=n(26);t.getComputedStyles=I.default,t.getComputedStyle=I.getComputedStyle;var k=n(4);t.getTagOfNode=k.default;var B=n(22);t.isBlockElement=B.default;var T=n(43);t.isNodeEmpty=T.default;var L=n(33);t.isVoidHtmlElement=L.default;var P=n(80);t.matchLink=P.default;var x=n(42);t.matchWhiteSpaces=x.default;var _=n(44);t.queryElements=_.default;var A=n(16);t.splitParentNode=A.default,t.splitBalancedNodeRange=A.splitBalancedNodeRange;var D=n(81);t.unwrap=D.default;var M=n(17);t.wrap=M.default;var R=n(82);t.VTable=R.default;var F=n(2);t.Position=F.default;var j=n(7);t.createRange=j.default;var z=n(83);t.getPositionRect=z.default;var H=n(84);t.isPositionAtBeginningOf=H.default;var U=n(85);t.getSelectionPath=U.default,t.getRangeFromSelectionPath=U.getRangeFromSelectionPath;var W=n(86);t.isTextualInlineElement=W.default;var q=n(87);t.wrapAll=q.default;var G=n(88);t.convertInlineCss=G.default;var V=n(91);t.sanitizeHtml=V.default;var K=n(92);t.markSelection=K.markSelection,t.removeMarker=K.removeMarker},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return!(!e||!t)&&(!(!n||e!=t)||(t instanceof Node||(t=t&&t.commonAncestorContainer,n=!0),t&&3==t.nodeType&&(t=t.parentNode,n=!0),1!=e.nodeType?!!n&&e==t:!(!n&&e==t)&&e.contains(t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),o=n(14),i=function(){function e(e,t){switch(e.node?(this.node=e.node,t=e.offset):this.node=e,t){case-2:this.offset=a(this.node),this.node=this.node.parentNode,this.isAtEnd=!1;break;case-3:this.offset=a(this.node)+1,this.isAtEnd=!this.node.nextSibling,this.node=this.node.parentNode;break;case-1:this.offset=s(this.node),this.isAtEnd=!0;break;default:var n=s(this.node);this.offset=Math.max(0,Math.min(t,n)),this.isAtEnd=t>0&&t>=n}this.element=r.default(this.node)}return e.prototype.normalize=function(){if(3==this.node.nodeType||!this.node.firstChild)return this;for(var t=this.node,n=this.isAtEnd?-1:this.offset;1==t.nodeType&&t.firstChild;)t=0==n?t.firstChild:-1==n?t.lastChild:t.childNodes[n],n=this.isAtEnd?-1:0;return new e(t,n)},e.prototype.equalTo=function(e){return e&&(this==e||this.node==e.node&&this.offset==e.offset&&this.isAtEnd==e.isAtEnd)},e.prototype.isAfter=function(e){return this.node==e.node?this.isAtEnd&&!e.isAtEnd||this.offset>e.offset:o.default(this.node,e.node)},e.prototype.move=function(t){return new e(this.node,Math.max(this.offset+t,0))},e.getStart=function(t){return new e(t.startContainer,t.startOffset)},e.getEnd=function(t){return new e(t.endContainer,t.endOffset)},e}();function a(e){for(var t=0;e=e.previousSibling;)t++;return t}function s(e){return 3==e.nodeType?e.nodeValue.length:1==e.nodeType?e.childNodes.length:1}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55);t.CorePlugin=r.default;var o=n(96);t.Editor=o.default;var i=n(57);t.Undo=i.default;var a=n(58);t.UndoSnapshotsService=a.default;var s=n(106);t.browserData=s.default;var l=n(27);t.cacheGetEventData=l.default;var u=n(59);t.clearEventDataCache=u.default;var c=n(107);t.cacheGetContentSearcher=c.cacheGetContentSearcher,t.clearContentSearcherCache=c.clearContentSearcherCache;var d=n(108);t.cacheGetElementAtCursor=d.default;var f=n(109);t.buildSnapshot=f.buildSnapshot,t.restoreSnapshot=f.restoreSnapshot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&1==e.nodeType?e.tagName.toUpperCase():""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.focus();var n=function(){return e.getDocument().execCommand(t,!1,null)},r=e.getSelectionRange();r&&r.collapsed?(e.addUndoSnapshot(),n()):e.addUndoSnapshot(n,"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71);t.changeFontSize=r.default,t.FONT_SIZES=r.FONT_SIZES;var o=n(93);t.clearFormat=o.default;var i=n(94);t.createLink=i.default;var a=n(95);t.getFormatState=a.default;var s=n(110);t.insertImage=s.default;var l=n(111);t.insertTable=l.default;var u=n(112);t.editTable=u.default;var c=n(60);t.formatTable=c.default;var d=n(113);t.removeLink=d.default;var f=n(28);t.replaceWithNode=f.default;var h=n(114);t.setAlignment=h.default;var p=n(48);t.setBackgroundColor=p.default;var v=n(51);t.setTextColor=v.default;var g=n(115);t.setDirection=g.default;var m=n(49);t.setFontName=m.default;var y=n(50);t.setFontSize=y.default;var E=n(116);t.setImageAltText=E.default;var b=n(117);t.setIndentation=b.default;var C=n(52);t.toggleBold=C.default;var S=n(118);t.toggleBullet=S.default;var N=n(53);t.toggleItalic=N.default;var O=n(119);t.toggleNumbering=O.default;var w=n(120);t.toggleBlockQuote=w.default;var I=n(121);t.toggleCodeBlock=I.default;var k=n(122);t.toggleStrikethrough=k.default;var B=n(123);t.toggleSubscript=B.default;var T=n(124);t.toggleSuperscript=T.default;var L=n(54);t.toggleUnderline=L.default;var P=n(125);t.toggleHeader=P.default;var x=n(126);t.cacheGetListState=x.default;var _=n(127);t.execFormatWithUndo=_.default;var A=n(128);t.CursorData=A.default,t.cacheGetCursorEventData=A.cacheGetCursorEventData,t.clearCursorEventDataCache=A.clearCursorEventDataCache;var D=n(129);t.queryNodesWithSelection=D.default;var M=n(130);t.replaceTextBeforeCursorWithNode=M.default,t.validateAndGetRangeForTextBeforeCursor=M.validateAndGetRangeForTextBeforeCursor;var R=n(131);t.replaceRangeWithNode=R.default;var F=n(132);t.getNodeAtCursor=F.default,t.cacheGetListElement=F.cacheGetListElement,t.cacheGetNodeAtCursor=F.cacheGetNodeAtCursor},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),o=n(2);function i(e){return 1==e.node.nodeType&&r.default(e.node)?new o.default(e.node,e.isAtEnd?-3:-2):e}t.default=function(e,t){if(!e)return null;e instanceof Node?(t=new o.default(t||e,-3),e=new o.default(e,-2)):t=t||e;var n=e.node.ownerDocument.createRange();return e=i(e),t=i(t),n.setStart(e.node,e.offset),n.setEnd(t.node,t.offset),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(25);function i(e,t,n){var i=null,a=n?function(e){return e.nextSibling}:function(e){return e.previousSibling},s=n?function(e){return e.firstChild}:function(e){return e.lastChild};if(r.default(e,t))for(var l=t,u=!0;u;){var c=l.parentNode;for(l=a(l);!l&&c!=e;)l=a(c),c=c.parentNode;for(;l&&s(l);)l=s(l);if(!(u=l&&o.default(l))){i=l;break}}return i}t.getLeafSibling=i,t.getNextLeafSibling=function(e,t){return i(e,t,!0)},t.getPreviousLeafSibling=function(e,t){return i(e,t,!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(89);t.HtmlSanitizer=r.default;var o=n(47);t.htmlToDom=o.default,t.splitWithFragment=o.splitWithFragment;var i=n(46);t.getInheritableStyles=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),o=n(1),i=n(4),a=n(22),s=n(31),l=n(32);function u(e,t,n){for(var r=e;r;){for(var o=e;!(o=n?e.nextSibling:e.previousSibling);)if((e=e.parentNode)==t)return r;for(;o;){if(a.default(o))return r;if("BR"==i.default(o))return n?o:r;e=o,o=n?e.firstChild:e.lastChild}r=e}return r}t.default=function(e,t){if(!o.default(e,t))return null;var n=l.default.getBlockContext(t);if(n==t)return new s.default(n);var i=u(t,n,!1),c=u(t,n,!0),d=r.default(e,i,c,!1);if(i=d[0],c=d[d.length-1],i.parentNode!=c.parentNode)return new l.default(e,i,c);for(;!i.previousSibling&&!c.nextSibling;){var f=i.parentNode;if(f==n){n!=e&&(i=c=f);break}i=c=f}return i==c&&a.default(i)?new s.default(i):new l.default(e,i,c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),o=n(14),i=n(2),a=n(15),s=n(15),l=function(){function e(e,t){this.containerNode=e,this.parentBlock=t}return e.prototype.getTextContent=function(){return 3==this.containerNode.nodeType?this.containerNode.nodeValue:this.containerNode.textContent},e.prototype.getContainerNode=function(){return this.containerNode},e.prototype.getParentBlock=function(){return this.parentBlock},e.prototype.getStartPosition=function(){return new i.default(this.containerNode,0).normalize()},e.prototype.getEndPosition=function(){return new i.default(this.containerNode,-1).normalize()},e.prototype.isTextualInlineElement=function(){return this.containerNode&&3==this.containerNode.nodeType},e.prototype.isAfter=function(e){return e&&o.default(this.containerNode,e.getContainerNode())},e.prototype.contains=function(e){var t=this.getStartPosition(),n=this.getEndPosition(),r=a.safeGetPosition(e);return r&&r.isAfter(t)&&n.isAfter(r)},e.prototype.applyStyle=function(e){r.default(this.containerNode,e)},e.prototype.getStartPoint=function(){return s.toEditorPoint(this.getStartPosition())},e.prototype.getEndPoint=function(){return s.toEditorPoint(this.getEndPosition())},e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o="â€‹";t.default=function(e,t){e.focus();var n=e.getSelectionRange();if(n&&n.collapsed){var i=n.startContainer;"SPAN"!=r.getTagOfNode(i)||i.firstChild&&("BR"!=r.getTagOfNode(i.firstChild)||i.firstChild.nextSibling)?(i&&3==i.nodeType&&i.nodeValue==o&&"SPAN"==r.getTagOfNode(i.parentNode)||(e.addUndoSnapshot(),i=e.getDocument().createTextNode(o),n.insertNode(i)),r.applyTextStyle(i,t),e.select(i,-1)):(e.addUndoSnapshot(),t(i))}else e.addUndoSnapshot(function(){for(var n,r,o=e.getSelectionTraverser(),i=o&&o.currentInlineElement;i;){var a=o.getNextInlineElement();i.applyStyle(function(e){t(e),n=n||e,r=e}),i=a}n&&r&&e.select(n,-2,r,-3)},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(4),i=n(35),a=n(36),s=n(11),l=n(11);t.default=function(e,t){var n=e instanceof Node?r.default(e,t):e;return t&&n&&function(e,t){for(var n,r=[e],u=e.parentNode;u&&t.contains(u);u=u.parentNode)r.push(u);for(var c=r.length-1;c>=0&&!n;c--){var d=r[c],f=o.default(d);"A"==f?n=new a.default(d,t):"IMG"==f?n=new i.default(d,t):3==d.nodeType&&(n=new l.default(d,t))}return n||new s.default(e,t)}(t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return!(!e||!t||4!=(4&t.compareDocumentPosition(e)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.toEditorPoint=function(e){return{containerNode:e.node,offset:0==e.offset&&e.isAtEnd?1:e.offset}},t.safeGetPosition=function(e){return e&&e.containerNode?new r.default(e.containerNode,e.offset):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14);function o(e,t){if(!e||!e.parentNode)return null;var n=e.parentNode,r=n.cloneNode(!1);if(r.removeAttribute("id"),t)for(;n.firstChild&&n.firstChild!=e;)r.appendChild(n.firstChild);else for(;e.nextSibling;)r.appendChild(e.nextSibling);return r.firstChild&&""!=r.innerHTML?n.parentNode.insertBefore(r,t?n:n.nextSibling):r=null,r}t.default=o,t.splitBalancedNodeRange=function(e){var t=e instanceof Array?e[0]:e,n=e instanceof Array?e[e.length-1]:e,i=t&&n&&t.parentNode==n.parentNode?t.parentNode:null;if(i){if(r.default(t,n)){var a=n;n=t,t=a}o(t,!0),o(n,!1)}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34);t.default=function(e,t){if(0==(e=e?e instanceof Node?[e]:e:[]).length||!e[0])return null;if(!(t instanceof Element)){var n=e[0].ownerDocument;t=/^\w+$/.test(t=t||"div")?n.createElement(t):r.default(t,n)[0]}var o=e[0].parentNode;o&&o.insertBefore(t,e[0]);for(var i=0,a=e;i<a.length;i++){var s=a[i];t.appendChild(s)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),o=n(7),i=n(2),a=n(8),s=n(15),l=n(15),u=function(){function e(e,t,n){this.inlineElement=e,this.start=s.safeGetPosition(t),this.end=s.safeGetPosition(n)}return e.prototype.getDecoratedInline=function(){return this.inlineElement},e.prototype.getContainerNode=function(){return this.inlineElement.getContainerNode()},e.prototype.getParentBlock=function(){return this.inlineElement.getParentBlock()},e.prototype.getTextContent=function(){return o.default(this.getStartPosition(),this.getEndPosition()).toString()},e.prototype.getStartPosition=function(){return this.start||this.inlineElement.getStartPosition()},e.prototype.getEndPosition=function(){return this.end||this.inlineElement.getEndPosition()},Object.defineProperty(e.prototype,"nextInlineElement",{get:function(){return this.end&&new e(this.inlineElement,this.end,null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousInlineElement",{get:function(){return this.start&&new e(this.inlineElement,null,this.start)},enumerable:!0,configurable:!0}),e.prototype.contains=function(e){var t=s.safeGetPosition(e);return t&&t.isAfter(this.getStartPosition())&&this.getEndPosition().isAfter(t)},e.prototype.isTextualInlineElement=function(){return this.inlineElement&&this.inlineElement.isTextualInlineElement()},e.prototype.isAfter=function(e){var t=this.getStartPosition(),n=e&&e.getEndPosition();return n&&(t.isAfter(n)||t.equalTo(n))},e.prototype.applyStyle=function(e){var t=this.getStartPosition().normalize(),n=this.getEndPosition().normalize(),o=this.getContainerNode();if(t.isAtEnd){var s=a.getNextLeafSibling(o,t.node);t=s?new i.default(s,0):null}if(0==n.offset){var l=a.getPreviousLeafSibling(o,n.node);n=l?new i.default(l,-1):null}r.default(o,e,t,n)},e.prototype.getStartPoint=function(){return l.toEditorPoint(this.getStartPosition())},e.prototype.getEndPoint=function(){return l.toEditorPoint(this.getEndPosition())},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=n(18),i=n(25),a=n(8);function s(e,t,n){if(!e||!t||!t.node)return null;var s=(t=t.normalize()).node,l=t.offset,u=t.isAtEnd,c=!1;!n&&0==l&&!u||n&&u?s=a.getLeafSibling(e,s,n):3==s.nodeType&&(!n&&!u||n&&l>0)&&(c=!0),s&&i.default(s)&&(s=a.getLeafSibling(e,s,n));var d=r.default(e,s);return d&&(c||d.contains(t))&&(d=n?new o.default(d,t,null):new o.default(d,null,t)),d}t.getInlineElementBefore=function(e,t){return s(e,t,!1)},t.getInlineElementAfter=function(e,t){return s(e,t,!0)},t.getInlineElementBeforeAfter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=n(18),i=n(8);t.default=function(e,t,n){if(!t)return null;if(t instanceof o.default){var a=n?t.nextInlineElement:t.previousInlineElement;if(a)return a}var s=t.getContainerNode();return s=i.getLeafSibling(e,s,n),r.default(e,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(16);function i(e,t,n,i,a){for(;t.parentNode!=e&&!r.default(t.parentNode,n);){if(i&&t.previousSibling||!i&&t.nextSibling){if(!a)break;o.default(t,i)}t=t.parentNode}return t}t.default=function(e,t,n,o){if(!r.default(e,t)||!r.default(e,n))return[];if(n=i(e,n,t=i(e,t,n,!0,o),!1,o),r.default(t,n,!0))return[t];if(r.default(n,t))return[n];if(t.parentNode==n.parentNode){var a=[].slice.call(t.parentNode.childNodes),s=a.indexOf(t),l=a.indexOf(n);return a.slice(s,l+1)}return[t,n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o="ADDRESS,ARTICLE,ASIDE,BLOCKQUOTE,CANVAS,DD,DIV,DL,DT,FIELDSET,FIGCAPTION,FIGURE,FOOTER,FORM,H1,H2,H3,H4,H5,H6,HEADER,HR,LI,MAIN,NAV,NOSCRIPT,OL,OUTPUT,P,PRE,SECTION,TABLE,TD,TFOOT,UL,VIDEO".split(","),i=["block","list-item","table-cell"];t.default=function(e){var t=r.default(e);return!(!t||!(i.indexOf(e.style.display)>=0||o.indexOf(t)>=0))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function(e,t,n){var o=(e=e?1==e.nodeType?e:e.parentNode:null)&&1==e.nodeType?e:null;if(o&&n)if(o.closest)o=o.closest(n);else for(;o&&o!=t&&!(o.matches||o.msMatchesSelector).call(o,n);)o=o.parentElement;return!t||r.default(t,o)?o:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(2),i=n(17),a=n(8),s=n(16);function l(e,t,n){var r=e.nodeValue.substr(0,t),o=e.nodeValue.substr(t),i=e.ownerDocument.createTextNode(n?r:o);return e.nodeValue=n?o:r,e.parentNode.insertBefore(i,n?e:e.nextSibling),i}t.default=function(e,t,n,u){void 0===n&&(n=new o.default(e,0).normalize()),void 0===u&&(u=new o.default(e,-1).normalize());for(var c=[];n&&u&&u.isAfter(n);){var d=n.node,f=r.default(d.parentNode),h=a.getNextLeafSibling(e,d);3==d.nodeType&&["TR","TABLE"].indexOf(f)<0&&(d!=u.node||u.isAtEnd||(d=l(d,u.offset,!0)),n.offset>0&&(d=l(d,n.offset,!1)),c.push(d)),n=h&&new o.default(h,0)}if(c.length>0){if(c.every(function(e){return e.parentNode==c[0].parentNode})){var p=c.shift();c.forEach(function(e){p.nodeValue+=e.nodeValue,e.parentNode.removeChild(e)}),c=[p]}c.forEach(function(e){return t("SPAN"==r.default(e.parentNode)?s.splitBalancedNodeRange(e):i.default(e,"span"))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),o=/^[\r\n]+$/gm;t.default=function(e){return 3==e.nodeType?!e.nodeValue||""==e.textContent||o.test(e.nodeValue):1!=e.nodeType||"none"==r.getComputedStyle(e,"display")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23);function o(e,t){void 0===t&&(t=["font-family","font-size","color","background-color"]);var n=r.default(e),o=[];if(t=t instanceof Array?t:[t],n){var a=(n.ownerDocument.defaultView||window).getComputedStyle(n);if(a)for(var s=0,l=t;s<l.length;s++){var u=l[s],c=(a.getPropertyValue(u)||"").toLowerCase();c="font-size"==u?i(c):c,o.push(c)}}return o}function i(e){return e&&e.indexOf("px")==e.length-2?Math.round(75*parseFloat(e)+.05)/100+"pt":e}t.default=o,t.getComputedStyle=function(e,t){return o(e,t)[0]||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=e&&e.eventDataCache&&e.eventDataCache.hasOwnProperty(t)?e.eventDataCache[t]:n();return e&&(e.eventDataCache=e.eventDataCache||{},e.eventDataCache[t]=r),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o){if(!t||!n)return!1;var i;if(i="string"==typeof t?(o=o||e.getContentSearcherOfCursor())&&o.getRangeFromText(t,r):t){var a=e.getSelectionRange();return i.deleteContents(),i.insertNode(n),r?e.select(n,-3):e.select(a),!0}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o="ROOSTERJS_TEMP_NODE_FOR_LIST",i='<img class="'+o+'">';function a(e,t){r.applyFormat(e,{fontFamily:t[0],fontSize:t[1],textColor:t[2],backgroundColor:t[3]})}t.default=function(e,t){r.Browser.isChrome&&function(e){for(var t=e.getSelectionTraverser(),n=t&&t.currentBlockElement;n;){var o=n.getStartNode();if(o&&!r.isNodeEmpty(o)){var a=r.fromHtml(i,e.getDocument())[0];r.isVoidHtmlElement(o)||!r.isBlockElement(o)?o.parentNode.insertBefore(a,o):o.insertBefore(a,o.firstChild)}n=t.getNextBlockElement()}}(e);var n=e.getElementAtCursor(),s=r.getComputedStyles(n),l=e.getElementAtCursor("OL,UL");e.getDocument().execCommand(t,!1,null),e.queryElements("."+o,function(t){return e.deleteNode(t)});var u=e.getElementAtCursor("OL,UL");if(u==l&&(u=null),u&&"OL"==r.getTagOfNode(u)){var c=[].slice.call(u.childNodes).filter(function(e){return"LI"==r.getTagOfNode(e)});if(1==c.length&&r.isNodeEmpty(c[0],!0))a(c[0],s);else for(var d=0,f=c;d<f.length;d++){var h=f[d],p=r.getFirstLeafNode(h);p&&a(h,r.getComputedStyles(p))}}return u}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r},t.setCurrentEditor=function(e){r&&r.dispose(),r=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(20),i=n(14),a=n(37),s=function(){function e(e){this.element=e}return e.prototype.collapseToSingleElement=function(){return this.element},e.prototype.getTextContent=function(){return this.element.textContent},e.prototype.getStartNode=function(){return this.element},e.prototype.getEndNode=function(){return this.element},e.prototype.getContentNodes=function(){return[this.element]},e.prototype.getFirstInlineElement=function(){return this.firstInline||(this.firstInline=a.getFirstInlineElement(this.element)),this.firstInline},e.prototype.getLastInlineElement=function(){return this.lastInline||(this.lastInline=a.getLastInlineElement(this.element)),this.lastInline},e.prototype.getInlineElements=function(){for(var e=[],t=this.getFirstInlineElement();t;)e.push(t),t=o.default(this.element,t,!0);return e},e.prototype.equals=function(e){return this.element==e.getStartNode()},e.prototype.isAfter=function(e){return i.default(this.element,e.getEndNode())},e.prototype.isInBlock=function(e){return this.contains(e.getContainerNode())},e.prototype.contains=function(e){return r.default(this.element,e,!0)},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),o=n(1),i=n(7),a=n(13),s=n(20),l=n(22),u=n(14),c=n(17),d=n(16),f=function(){function e(e,t,n){this.rootNode=e,this.startNode=t,this.endNode=n}return e.getBlockContext=function(e){for(;e&&!l.default(e);)e=e.parentNode;return e},e.prototype.collapseToSingleElement=function(){for(var t=r.default(e.getBlockContext(this.startNode),this.startNode,this.endNode,!0),n=e.getBlockContext(this.startNode);t[0]&&t[0]!=n&&t[0].parentNode!=this.rootNode;)t=[d.splitBalancedNodeRange(t)];return 1==t.length&&l.default(t[0])?t[0]:c.default(t)},e.prototype.getStartNode=function(){return this.startNode},e.prototype.getEndNode=function(){return this.endNode},e.prototype.equals=function(e){return this.startNode==e.getStartNode()&&this.endNode==e.getEndNode()},e.prototype.isAfter=function(e){return u.default(this.getStartNode(),e.getEndNode())},e.prototype.contains=function(e){return o.default(this.startNode,e,!0)||o.default(this.endNode,e,!0)||u.default(e,this.startNode)&&u.default(this.endNode,e)},e.prototype.getTextContent=function(){return i.default(this.startNode,this.endNode).toString()},e.prototype.getContentNodes=function(){return r.default(e.getBlockContext(this.startNode),this.startNode,this.endNode,!0)},e.prototype.getFirstInlineElement=function(){return this.firstInline||(this.firstInline=a.default(this.rootNode,this.startNode)),this.firstInline},e.prototype.getLastInlineElement=function(){return this.lastInline||(this.lastInline=a.default(this.rootNode,this.endNode)),this.lastInline},e.prototype.getInlineElements=function(){for(var e=[],t=this.getFirstInlineElement();t;)e.push(t),t=s.default(this.rootNode,t,!0);return e},e.prototype.isInBlock=function(e){return this.contains(e.getContainerNode())},e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o="AREA,BASE,BR,COL,COMMAND,EMBED,HR,IMG,INPUT,KEYGEN,LINK,META,PARAM,SOURCE,TRACK,WBR".split(",");t.default=function(e){return!!e&&o.indexOf(r.default(e))>=0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.createElement("DIV");return n.innerHTML=e,[].slice.call(n.childNodes)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t}(n(11).default);t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t}(n(11).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),o=n(13);t.getFirstInlineElement=function(e){var t=r.getFirstLeafNode(e);return t?o.default(e,t):null},t.getLastInlineElement=function(e){var t=r.getLastLeafNode(e);return t?o.default(e,t):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),o=n(8);function i(e,t){for(var n=function(e){return t?e.firstChild:e.lastChild},i=n(e);i&&n(i);)i=n(i);return i&&r.default(i)&&(i=o.getLeafSibling(e,i,t)),i}t.getFirstLeafNode=function(e){return i(e,!0)},t.getLastLeafNode=function(e){return i(e,!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);function o(e,t){var n=e;do{n=n&&(t?n.firstChild:n.lastChild)}while(n&&n.firstChild);return n&&r.default(e,n)}t.getFirstLastBlockElement=o,t.getFirstBlockElement=function(e){return o(e,!0)},t.getLastBlockElement=function(e){return o(e,!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72),o=n(41),i=n(10),a=n(20),s=n(73),l=n(74),u=n(19),c=n(8),d=function(){function e(e){this.scoper=e}return e.createBodyTraverser=function(t){return new e(new r.default(t))},e.createSelectionTraverser=function(t,n){return new e(new l.default(t,n))},e.createBlockTraverser=function(t,n,r){return void 0===r&&(r=2),new e(new s.default(t,n,r))},Object.defineProperty(e.prototype,"currentBlockElement",{get:function(){return this.currentBlock||(this.currentBlock=this.scoper.getStartBlockElement()),this.currentBlock},enumerable:!0,configurable:!0}),e.prototype.getNextBlockElement=function(){return this.getPreviousNextBlockElement(!0)},e.prototype.getPreviousBlockElement=function(){return this.getPreviousNextBlockElement(!1)},e.prototype.getPreviousNextBlockElement=function(e){var t=this.currentBlockElement,n=c.getLeafSibling(this.scoper.rootNode,e?t.getEndNode():t.getStartNode(),e),r=n?i.default(this.scoper.rootNode,n):null;return r&&this.scoper.isBlockInScope(r)&&(e&&r.isAfter(t)||!e&&t.isAfter(r))?(this.currentBlock=r,this.currentBlock):null},Object.defineProperty(e.prototype,"currentInlineElement",{get:function(){return this.currentInline||(this.currentInline=this.scoper.getStartInlineElement()),this.currentInline instanceof o.default?null:this.currentInline},enumerable:!0,configurable:!0}),e.prototype.getNextInlineElement=function(){return this.getPreviousNextInlineElement(!0)},e.prototype.getPreviousInlineElement=function(){return this.getPreviousNextInlineElement(!1)},e.prototype.getPreviousNextInlineElement=function(e){var t,n=this.currentInlineElement||this.currentInline;return n instanceof o.default?(t=u.getInlineElementBeforeAfter(this.scoper.rootNode,n.getStartPosition(),e))&&!n.getParentBlock().isInBlock(t)&&(t=null):t=(t=a.default(this.scoper.rootNode,n,e))&&n&&(e&&t.isAfter(n)||!e&&n.isAfter(t))?t:null,t&&(t=this.scoper.trimInlineElement(t))?(this.currentInline=t,this.currentInline):null},e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),o=function(){function e(e,t){this.position=e,this.parentBlock=t}return e.prototype.getTextContent=function(){return""},e.prototype.getContainerNode=function(){return this.position.node},e.prototype.getParentBlock=function(){return this.parentBlock},e.prototype.getStartPosition=function(){return this.position},e.prototype.getEndPosition=function(){return this.position},e.prototype.isAfter=function(e){return e&&this.position.isAfter(e.getEndPosition())},e.prototype.isTextualInlineElement=function(){return!1},e.prototype.contains=function(e){return!1},e.prototype.applyStyle=function(e){},e.prototype.getStartPoint=function(){return r.toEditorPoint(this.position)},e.prototype.getEndPoint=function(){return r.toEditorPoint(this.position)},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/[\s\u00A0\u200B\u3000]+([^\s\u00A0\u200B\u3000]*)$/i;t.default=function(e){return r.exec(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=["IMG"],i=["TABLE","IMG","LI"].join(","),a=/\u200b/g;function s(e,t){return e=e.replace(a,""),t?e.trim():e}t.default=function(e,t){if(!e)return!1;if(3==e.nodeType)return""==s(e.nodeValue,t);if(1==e.nodeType){var n=e;if(""!=s(n.textContent,t)||o.indexOf(r.default(n))>=0||n.querySelectorAll(i)[0])return!1}return!0}},function(e,t,n){"use strict";function r(e,t){return t.some(function(t){return 0==t?0==e:(e&t)==t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o,i){if(void 0===o&&(o=0),!e||!t)return[];var a=[].slice.call(e.querySelectorAll(t));return 0!=o&&i&&(a=a.filter(function(e){return function(e,t,n){var o=e.compareDocumentPosition(t.startContainer),i=e.compareDocumentPosition(t.endContainer),a=[0,8];return n||a.push(16),r(o,a)||r(i,a)||r(o,[2])&&r(i,[4])&&!r(i,[16])}(e,i,2==o)})),n&&a.forEach(n),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign?function(e,t){return Object.assign(t||{},e)}:function(e,t){var n=t||{};if(e)for(var r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];n[i]=e[i]}return n};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="border-collapse,border-spacing,caption-side,color,cursor,direction,empty-cells,font-family,font-size,font-style,font-variant,font-weight,font,letter-spacing,line-height,list-style-image,list-style-position,list-style-type,list-style,orphans,quotes,text-align,text-indent,text-transform,visibility,white-space,widows,word-spacing".split(",");t.default=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView,n=t&&t.getComputedStyle(e),o={};return r.forEach(function(e){return o[e]=n&&n.getPropertyValue(e)||""}),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="\x3c!--StartFragment--\x3e",o="\x3c!--EndFragment--\x3e";function i(e){var t=e.indexOf(r),n=e.lastIndexOf(o);if(t>=0&&n>=0&&n>=t+r.length){var i=e.substr(0,t),a=e.substr(n+o.length);return[e=e.substring(t+r.length,n),i,a]}return[e,null,null]}t.default=function(e,t,n){var r=(new DOMParser).parseFromString(e||"","text/html");return r&&r.body&&r.body.firstChild?(t&&(n||function(e,t){var n=i(t)[0];e.body.innerHTML=n})(r,e),r):null},t.splitWithFragment=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.default=function(e,t){t=t.trim(),r.default(e,function(e){return e.style.backgroundColor=t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.default=function(e,t){t=t.trim(),r.default(e,function(e){return e.style.fontFamily=t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(0);t.default=function(e,t){t=t.trim(),r.default(e,function(e){e.style.fontSize=t,"normal"!=o.getComputedStyle(e,"line-height")&&(e.style.lineHeight="normal")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.default=function(e,t){t=t.trim(),r.default(e,function(e){return e.style.color=t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=function(e){r.default(e,"bold")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=function(e){r.default(e,"italic")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=function(e){r.default(e,"underline")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){function e(e,t){var n=this;this.contentDiv=e,this.disableRestoreSelectionOnFocus=t,this.name="CorePlugin",this.disposers=null,this.onMouseDown=function(){n.editor&&!n.mouseUpEventListerAdded&&(n.editor.getDocument().addEventListener("mouseup",n.onMouseUp,!0),n.mouseUpEventListerAdded=!0)},this.onMouseUp=function(e){n.editor&&(n.removeMouseUpEventListener(),n.editor.triggerEvent({eventType:5,rawEvent:e}))}}return e.prototype.initialize=function(e){var t=this;this.editor=e,this.disposers=[this.editor.addDomEventHandler("compositionstart",function(){return t.inIME=!0}),this.editor.addDomEventHandler("compositionend",function(e){t.inIME=!1,t.editor.triggerEvent({eventType:3,rawEvent:e})}),this.editor.addDomEventHandler(r.Browser.isIEOrEdge?"beforedeactivate":"blur",function(){return t.editor.saveSelectionRange()}),this.editor.addDomEventHandler("mousedown",this.onMouseDown),this.disableRestoreSelectionOnFocus?null:this.editor.addDomEventHandler("focus",function(){return t.editor.restoreSavedRange()})]},e.prototype.dispose=function(){this.removeMouseUpEventListener(),this.disposers&&(this.disposers.forEach(function(e){return e&&e()}),this.disposers=null),this.editor=null},e.prototype.isInIME=function(){return this.inIME},e.prototype.performAutoComplete=function(e,t){var n=this;this.editor.addUndoSnapshot(function(r,o,i){var a=e();return n.autoCompleteInfo={snapshot:i,changeSource:t},a},t)},e.prototype.ensureTypeInElement=function(e){e=e.normalize();var t,n=r.getBlockElementAtNode(this.contentDiv,e.node);if(n)t=(t=n.collapseToSingleElement())&&r.isNodeEmpty(t)?t:null;else{var o=this.editor.getDocument();t=r.fromHtml(r.Browser.isEdge?"<div><span><br></span></div>":"<div><br></div>",o)[0],this.contentDiv.appendChild(t),e=new r.Position(t.firstChild,0)}return t&&r.applyFormat(t,this.editor.getDefaultFormat()),e},e.prototype.onPluginEvent=function(e){switch(e.eventType){case 6:this.autoCompleteInfo&&this.autoCompleteInfo.changeSource!=e.source&&this.onContentChanged();break;case 4:this.onContentChanged();break;case 0:this.onContentChanged(e.rawEvent);break;case 1:this.onKeyPress()}},e.prototype.willHandleEventExclusively=function(e){return this.autoCompleteInfo&&0==e.eventType&&8==e.rawEvent.which},e.prototype.onContentChanged=function(e){this.autoCompleteInfo&&(e&&8==e.which&&(e.preventDefault(),this.editor.setContent(this.autoCompleteInfo.snapshot,!1)),this.autoCompleteInfo=null)},e.prototype.onKeyPress=function(){var e=this.editor.getSelectionRange();if(e&&e.collapsed&&r.findClosestElementAncestor(e.startContainer)==this.contentDiv){var t=this.ensureTypeInElement(r.Position.getStart(e));this.editor.select(t)}},e.prototype.removeMouseUpEventListener=function(){this.mouseUpEventListerAdded&&(this.mouseUpEventListerAdded=!1,this.editor.getDocument().removeEventListener("mouseup",this.onMouseUp,!0))},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.document.activeElement;return t&&r.contains(e.contentDiv,t,!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58),o=function(){function e(e,t){void 0===t&&(t=1e7);var n=this;this.preserveSnapshots=e,this.maxBufferSize=t,this.name="Undo",this.onNativeEvent=function(e){n.editor.runAsync(function(){n.addUndoSnapshot(),n.editor.triggerContentChangedEvent("cut"==e.type?"Cut":"Drop")})}}return e.prototype.initialize=function(e){this.editor=e,this.onDropDisposer=this.editor.addDomEventHandler("drop",this.onNativeEvent),this.onCutDisposer=this.editor.addDomEventHandler("cut",this.onNativeEvent)},e.prototype.dispose=function(){this.onDropDisposer(),this.onCutDisposer(),this.onDropDisposer=null,this.onCutDisposer=null,this.editor=null,this.preserveSnapshots||this.clear()},e.prototype.onPluginEvent=function(e){if(!this.editor.isInIME())switch(e.eventType){case 10:this.addUndoSnapshot();break;case 0:this.onKeyDown(e.rawEvent);break;case 1:this.onKeyPress(e.rawEvent);break;case 3:this.clearRedoForInput();break;case 6:this.onContentChanged(e)}},e.prototype.clear=function(){this.undoSnapshots=null,this.hasNewContent=!1},e.prototype.undo=function(){this.hasNewContent&&this.addUndoSnapshot(),this.restoreSnapshot(-1)},e.prototype.redo=function(){this.restoreSnapshot(1)},e.prototype.canUndo=function(){return this.hasNewContent||this.getSnapshotsManager().canMove(-1)},e.prototype.canRedo=function(){return this.getSnapshotsManager().canMove(1)},e.prototype.addUndoSnapshot=function(){var e=this.getSnapshot();return this.getSnapshotsManager().addSnapshot(e),this.hasNewContent=!1,e},e.prototype.getSnapshotsManager=function(){return this.undoSnapshots||(this.undoSnapshots=new r.default(this.maxBufferSize)),this.undoSnapshots},e.prototype.restoreSnapshot=function(e){var t=this.getSnapshotsManager().move(e);if(null!=t)try{this.isRestoring=!0,this.editor.setContent(t)}finally{this.isRestoring=!1}},e.prototype.onKeyDown=function(e){if(8==e.which||46==e.which){var t=this.editor.getSelectionRange();t&&(!t.collapsed||this.lastKeyPress!=e.which||e.ctrlKey||e.metaKey)&&this.addUndoSnapshot(),this.hasNewContent=!0,this.lastKeyPress=e.which}else e.which>=33&&e.which<=40&&(this.hasNewContent&&this.addUndoSnapshot(),this.lastKeyPress=0)},e.prototype.onKeyPress=function(e){if(!e.metaKey){var t=!1,n=this.editor.getSelectionRange();n&&!n.collapsed?t=!0:(32==e.which&&32!=this.lastKeyPress||13==e.which)&&(t=!0),t?(this.addUndoSnapshot(),13==e.which&&(this.hasNewContent=!0)):this.clearRedoForInput(),this.lastKeyPress=e.which}},e.prototype.onContentChanged=function(e){if(!this.isRestoring){var t=this.getSnapshot();e.lastSnapshot!=t&&this.clearRedoForInput()}},e.prototype.getSnapshot=function(){return this.editor.getContent(!1,!0)},e.prototype.clearRedoForInput=function(){this.getSnapshotsManager().clearRedo(),this.lastKeyPress=0,this.hasNewContent=!0},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=1e7,o=function(){function e(e){void 0===e&&(e=r),this.maxSize=e,this.snapshots=[],this.totalSize=0,this.currentIndex=-1}return e.prototype.canMove=function(e){var t=this.currentIndex+e;return t>=0&&t<this.snapshots.length},e.prototype.move=function(e){return this.canMove(e)?(this.currentIndex+=e,this.snapshots[this.currentIndex]):null},e.prototype.addSnapshot=function(e){if(this.currentIndex<0||e!=this.snapshots[this.currentIndex]){this.clearRedo(),this.snapshots.push(e),this.currentIndex++,this.totalSize+=e.length;for(var t=0;t<this.snapshots.length&&this.totalSize>this.maxSize;)this.totalSize-=this.snapshots[t].length,t++;t>0&&(this.snapshots.splice(0,t),this.currentIndex-=t)}},e.prototype.clearRedo=function(){if(this.canMove(1)){for(var e=0,t=this.currentIndex+1;t<this.snapshots.length;t++)e+=this.snapshots[t].length;this.snapshots.splice(this.currentIndex+1),this.totalSize-=e}},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e&&e.eventDataCache&&e.eventDataCache.hasOwnProperty(t)&&delete e.eventDataCache[t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t,n){(n=n||e.getElementAtCursor("TABLE"))&&e.addUndoSnapshot(function(o,i){var a=new r.VTable(n);a.applyFormat(t),a.writeBack(),e.focus(),e.select(o,i)},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o="&#8203;",i="LI,THEAD,TBODY,TR,TD,TH".split(","),a=function(e){};t.default=function(e,t,n,s,l){void 0===s&&(s=function(e){return r.wrap(e,t)}),void 0===l&&(l=r.unwrap),e.focus(),e.addUndoSnapshot(function(u,c){var d,f=e.getSelectionRange();if(f&&0==e.queryElements(t,1,l).length){var h=r.Position.getStart(f).normalize().node,p=e.getBlockElementAtNode(h),v=r.Position.getEnd(f).normalize().node,g=e.getBlockElementAtNode(v),m=p&&g?e.collapseNodes(p.getStartNode(),g.getEndNode(),!0):[];if(0==m.length)m=r.fromHtml("<DIV>"+(r.Browser.isIEOrEdge?o:"<BR>")+"</DIV>",e.getDocument()),e.insertNode(m[0]),e.select(m[0],0);else if(1==m.length){var y=r.getTagOfNode(m[0]);"BR"==y?m=[r.wrap(m[0])]:"LI"!=y&&"TD"!=y||(m=[].slice.call(m[0].childNodes))}else for(;m[0]&&e.contains(m[0].parentNode)&&m.some(function(e){return i.indexOf(r.getTagOfNode(e))>=0});)m=[r.splitBalancedNodeRange(m)];d=s(m),(n||a)(d)}return!e.select(u,c)&&d&&e.select(d),d},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63),o=n(68),i=["var plugins = [","  new roosterPlugins.HyperLink(),","  new roosterPlugins.Paste(),","  new roosterPlugins.ContentEdit(),","];\n"].join("\n");function a(e,t){var n=document.createElement("xmp");return n.id=e,document.body.insertBefore(n,document.body.childNodes[0]),n.innerHTML=t,n}t.default=function(e,t,n){!function(){var e=document.getElementById("htmlSample");e.innerHTML="";var t=document.createElement("h2");t.innerHTML="Html Sample Code",e.appendChild(t);var n=["<html>","   <body>",'       <div id="editorDiv" style="width: 500px; height: 300px; overflow: auto;','       border: solid 1px black"></div>','       <script src="editor.js"><\/script>',"   </body>","</html>"].join("\n");e.appendChild(a("htmlSampleCode",n))}(),function(e,t,n){var s=document.getElementById("jsSample");s.innerHTML="";var l=document.createElement("h2");l.innerHTML="JS Sample Code",s.appendChild(l);var u=function(e,t){if(!e&&!t)return"var roosterjs = require('roosterjs');\n";var n="";return e.forEach(function(e){e instanceof o.ImageResize&&(n=n.concat("var roosterjsImageResizePlugin = require('roosterjs-plugin-image-resize');\n"))}),e.length>1&&(n=n.concat("var roosterjsPlugins = require('roosterjs-editor-plugins');\n")),n=n.concat("var roosterjsCore = require('roosterjs-editor-core');\n")}(e,t),c=function(e,t){if(e){var n="",a="";if(t){a+="var options = roosterjsPlugins.getDefaultContentEditFeatures();\n";for(var s=r.getDefaultContentEditFeatures(),l=0,u=Object.keys(s);l<u.length;l++){var c=u[l];"smartOrderedListStyles"!=c&&t[c]!=s[c]&&(a+="options."+c+" = "+(t[c]?"true":"false")+";\n")}n+="  new roosterjsPlugins.ContentEdit(options),\n"}else n="  new roosterjsPlugins.ContentEdit(),\n";if(a+="var plugins = [\n",e.forEach(function(e){e instanceof r.Watermark?a+="  new roosterjsPlugins.Watermark('Type content here...'),\n":e instanceof o.ImageResize?a+="  new roosterjsImageResizePlugin.ImageResize(),\n":e instanceof r.HyperLink?a+="  new roosterjsPlugins.HyperLink(),\n":e instanceof r.Paste?a+="  new roosterjsPlugins.Paste(),\n":e instanceof r.ContentEdit?a+=n:e instanceof r.TableResize&&(a+="  new roosterjsPlugins.TableResize(),\n")}),(a+="];\n")!=i)return a}return""}(e,n),d=function(e){if(!e)return"";var t="var defaultFormat = {\n";return e.bold&&(t+="  bold: true,\n"),e.italic&&(t+="  italic: true,\n"),e.underline&&(t+="  underline: true,\n"),e.textColor&&(t+='  textColor: "'+e.textColor+'",\n'),e.fontFamily&&(t+='  fontFamily: "'+e.fontFamily+'",\n'),t+="};\n"}(t),f=function(e,t){if(!e&&!t)return"";var n="var options = {\n";return e&&(n=n.concat("  plugins: plugins,\n")),t&&(n=n.concat("  defaultFormat: defaultFormat,\n")),n=n.concat("};\n")}(c,d),h=function(e){var t="var editorDiv = document.getElementById('editorDiv');\n";return t=e?t.concat("var editor = new roosterjsCore.Editor(editorDiv, options);"):t.concat("var editor = roosterjs.createEditor(editorDiv);")}(f),p=u+c+d+f+h;s.appendChild(a("jsSampleCode",p))}(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(133);t.DefaultShortcut=r.default;var o=n(134);t.HyperLink=o.default;var i=n(135);t.ContentEdit=i.default;var a=n(141);t.Paste=a.default;var s=n(64);t.getDefaultContentEditFeatures=s.getDefaultContentEditFeatures;var l=n(149);t.Watermark=l.default;var u=n(150);t.TableResize=u.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultContentEditFeatures=function(){return{autoLink:!0,indentWhenTab:!0,outdentWhenShiftTab:!0,outdentWhenBackspaceOnEmptyFirstLine:!0,outdentWhenEnterOnEmptyLine:!0,mergeInNewLineWhenBackspaceOnFirstChar:!1,unquoteWhenBackspaceOnEmptyFirstLine:!0,unquoteWhenEnterOnEmptyLine:!0,autoBullet:!0,tabInTable:!0,upDownInTable:!0,defaultShortcut:!0,unlinkWhenBackspaceAfterLink:!1,smartOrderedList:!1,smartOrderedListStyles:["lower-alpha","lower-roman","decimal"]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o="&#8203;";t.default=function(e){var t=(e=(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/^ /gm,"&nbsp;").replace(/\r/g,"")).split("\n");if(2==t.length)e="<span>"+t[0]+"<br></span><span>"+t[1]+"</span>";else if(t.length>2){e="";var n=r.Browser.isIEOrEdge?o:"<br>";t.forEach(function(r,o){0==o?e+="<span>"+r+"<br></span>":o==t.length-1?e+="<span>"+r+"</span>":e+="<div>"+r+n+"</div>"})}return e=e.replace(/\s\s/g," &nbsp;")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="NodeId";function o(e,t){var n=t.getAttribute(r);return n||(n=e.nextNodeId.toString(),e.nextNodeId++,t.setAttribute(r,n)),n}t.createCustomData=function(){return{dict:{},nextNodeId:1}},t.setObject=function(e,t,n,r){if(1==t.nodeType){var i=o(e,t);""!=i&&(e.dict[i]||(e.dict[i]={}),e.dict[i][n]=r)}},t.getObject=function(e,t,n){if(1==t.nodeType){var r=o(e,t);if(""!=r)return e.dict[r]&&e.dict[r][n]}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLevelLists=function(){return{listsMetadata:{},currentUniqueListId:-1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(151);t.ImageResize=r.default,t.ImageResizePlugin=r.ImageResizePlugin},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),o=n(62),i=n(152);function a(e){document.getElementById("quickstartTab").className="quickstart"==e?"selected":"",document.getElementById("optionsTab").className="options"==e?"selected":"",document.getElementById("advanceTab").className="advance"==e?"selected":"",document.getElementById("options").className="options"==e?"tab selected":"tab",document.getElementById("advance").className="advance"==e?"tab selected":"tab",document.getElementById("sampleCodeContainer").style.display="advance"==e?"none":"",document.getElementById("snapshotContainer").style.display="advance"!=e?"none":""}window.onload=function(){document.getElementById("quickstartTab").addEventListener("click",function(){a("quickstart")}),document.getElementById("optionsTab").addEventListener("click",function(){a("options")}),document.getElementById("advanceTab").addEventListener("click",function(){a("advance")}),document.getElementById("editor").innerHTML="",i.initEditorForOptions(),r.default(),i.default(),o.default(),a("quickstart")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=n(30),i=n(9),a=[s("#FFF","#FFF","#ABABAB","#ABABAB","#ABABAB"),s("#FFF","#FFF",null,"#92C0E0"),s("#C0E4FF","#FFF"),s("#D8D8D8","#FFF"),s("#D8D8D8","#FFF","#ABABAB","#ABABAB","#ABABAB"),s("#FFF","#FFF")];function s(e,t,n,r,o){return{bgColorEven:e,bgColorOdd:t,topBorderColor:n,bottomBorderColor:r,verticalBorderColor:o}}t.default=function(){document.getElementById("boldButton").addEventListener("click",function(){r.toggleBold(o.default())}),document.getElementById("italicButton").addEventListener("click",function(){r.toggleItalic(o.default())}),document.getElementById("underlineButton").addEventListener("click",function(){r.toggleUnderline(o.default())}),document.getElementById("bulletButton").addEventListener("click",function(){r.toggleBullet(o.default())}),document.getElementById("numberingButton").addEventListener("click",function(){r.toggleNumbering(o.default())}),document.getElementById("blockquoteButton").addEventListener("click",function(){r.toggleBlockQuote(o.default())}),document.getElementById("codeButton").addEventListener("click",function(){r.toggleCodeBlock(o.default())}),document.getElementById("strikeThroughButton").addEventListener("click",function(){r.toggleStrikethrough(o.default())}),document.getElementById("superScriptButton").addEventListener("click",function(){r.toggleSuperscript(o.default())}),document.getElementById("subScriptButton").addEventListener("click",function(){r.toggleSubscript(o.default())}),document.getElementById("insertLink").addEventListener("click",function(){var e=o.default(),t=e.getSelectionRange(),n=e.queryElements("a[href]",1)[0],i=window.prompt("Url",n?n.href:"http://"),a=window.prompt("Text of link",n?n.textContent:t.collapsed?i:t.toString());r.createLink(e,i,i,a)}),document.getElementById("clearFormatButton").addEventListener("click",function(){r.clearFormat(o.default())}),document.getElementById("editTable").addEventListener("change",function(){var e=document.getElementById("editTable"),t=parseInt(e.value);if(t>=0){var n=t;r.editTable(o.default(),n),e.value="-1"}}),document.getElementById("formatTable").addEventListener("change",function(){var e=document.getElementById("formatTable"),t=parseInt(e.value);t>=0&&(r.formatTable(o.default(),a[t]),e.value="-1")}),document.getElementById("header").addEventListener("change",function(){var e=document.getElementById("header"),t=parseInt(e.value);r.toggleHeader(o.default(),t),e.value="-1"}),document.getElementById("insertTable").addEventListener("click",function(){var e=Math.min(parseInt(window.prompt("How many columns?")),10),t=Math.min(parseInt(window.prompt("How many rows?")),10);e>0&&t>0&&r.insertTable(o.default(),e,t)}),document.getElementById("insertImage").addEventListener("click",function(){document.getElementById("selectFile").click()}),document.getElementById("selectFile").addEventListener("change",function(){var e=document.getElementById("selectFile"),t=e.files[0];t&&(r.insertImage(o.default(),t),e.value="")}),document.getElementById("indentButton").addEventListener("click",function(){r.setIndentation(o.default(),0)}),document.getElementById("outdentButton").addEventListener("click",function(){r.setIndentation(o.default(),1)}),document.getElementById("alignLeftButton").addEventListener("click",function(){r.setAlignment(o.default(),0)}),document.getElementById("alignCenterButton").addEventListener("click",function(){r.setAlignment(o.default(),1)}),document.getElementById("alignRightButton").addEventListener("click",function(){r.setAlignment(o.default(),2)}),document.getElementById("ltr").addEventListener("click",function(){r.setDirection(o.default(),0)}),document.getElementById("rtl").addEventListener("click",function(){r.setDirection(o.default(),1)}),document.getElementById("undoButton").addEventListener("click",function(){var e=o.default();e.focus(),e.undo()}),document.getElementById("redoButton").addEventListener("click",function(){var e=o.default();e.focus(),e.redo()}),document.getElementById("removeLink").addEventListener("click",function(){var e=o.default();e.focus(),r.removeLink(e)}),document.getElementById("fontNameButton").addEventListener("change",function(){var e=o.default(),t=document.getElementById("fontNameButton"),n=t.value;n&&r.setFontName(e,n),t.value=""}),document.getElementById("fontSizeButton").addEventListener("change",function(){var e=o.default(),t=document.getElementById("fontSizeButton"),n=t.value;n&&r.setFontSize(e,n+"pt"),t.value=""}),document.getElementById("textColorButton").addEventListener("change",function(){var e=o.default(),t=document.getElementById("textColorButton"),n=t.value;n&&r.setTextColor(e,n),t.value=""}),document.getElementById("backColorButton").addEventListener("change",function(){var e=o.default(),t=document.getElementById("backColorButton"),n=t.value;n&&r.setBackgroundColor(e,n),t.value=""}),document.getElementById("sanitizeHtmlButton").addEventListener("click",function(){var e=o.default(),t=e.getContent();t=i.HtmlSanitizer.sanitizeHtml(t),e.setContent(t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(0);t.FONT_SIZES=[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];var i=1,a=1e3;function s(e,t,n){e=1==t?Math.floor(e):Math.ceil(e);var r=n[n.length-1];if(e<=n[0])e=Math.max(e+t,i);else if(e>r||e==r&&1==t)e/=10,e=1==t?Math.floor(e):Math.ceil(e),e=Math.min(Math.max(10*(e+t),r),a);else if(1==t){for(var o=0;o<n.length;o++)if(e<n[o]){e=n[o];break}}else for(o=n.length-1;o>=0;o--)if(e>n[o]){e=n[o];break}return e}t.default=function(e,n,i){void 0===i&&(i=t.FONT_SIZES);var a=0==n?1:-1;r.default(e,function(e){var t=parseFloat(o.getComputedStyle(e,"font-size"));e.style.fontSize=s(t,a,i)+"pt","normal"!=o.getComputedStyle(e,"line-height")&&(e.style.lineHeight="normal")})},t.getNewFontSize=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(39),i=n(37),a=function(){function e(e){this.rootNode=e}return e.prototype.getStartBlockElement=function(){return o.getFirstBlockElement(this.rootNode)},e.prototype.getStartInlineElement=function(){return i.getFirstInlineElement(this.rootNode)},e.prototype.isBlockInScope=function(e){return r.default(this.rootNode,e.getStartNode())},e.prototype.trimInlineElement=function(e){return e},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41),o=n(10),i=n(2),a=n(19),s=function(){function e(e,t,n){this.rootNode=e,this.startFrom=n,t=t instanceof Range?i.default.getStart(t):t,this.position=t.normalize(),this.block=o.default(this.rootNode,this.position.node)}return e.prototype.getStartBlockElement=function(){return this.block},e.prototype.getStartInlineElement=function(){if(this.block)switch(this.startFrom){case 0:return this.block.getFirstInlineElement();case 1:return this.block.getLastInlineElement();case 2:var e=a.getInlineElementAfter(this.rootNode,this.position);return e&&this.block.isInBlock(e)?e:new r.default(this.position,this.block)}return null},e.prototype.isBlockInScope=function(e){return!(!this.block||!e)&&this.block.equals(e)},e.prototype.trimInlineElement=function(e){return this.block&&e&&this.block.isInBlock(e)?e:null},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(18),i=n(2),a=n(19),s=function(){function e(e,t){this.rootNode=e,this.start=i.default.getStart(t).normalize(),this.end=i.default.getEnd(t).normalize()}return e.prototype.getStartBlockElement=function(){return this.startBlock||(this.startBlock=r.default(this.rootNode,this.start.node)),this.startBlock},e.prototype.getStartInlineElement=function(){return this.startInline||(this.startInline=this.trimInlineElement(a.getInlineElementAfter(this.rootNode,this.start))),this.startInline},e.prototype.isBlockInScope=function(e){if(!e)return!1;var t=!1,n=this.getStartBlockElement();if(this.start.equalTo(this.end))t=n&&n.equals(e);else{var o=r.default(this.rootNode,this.end.node);t=n&&o&&(e.equals(n)||e.equals(o)||e.isAfter(n)&&o.isAfter(e))}return t},e.prototype.trimInlineElement=function(e){if(!e||this.start.equalTo(this.end))return null;var t=e.getStartPosition(),n=e.getEndPosition();if(t.isAfter(this.end)||this.start.isAfter(n))return null;var r=!1,i=!1;return this.start.isAfter(t)&&(t=this.start,r=!0),n.isAfter(this.end)&&(n=this.end,i=!0),t.isAfter(n)||t.equalTo(n)?null:r||i?new o.default(e,r&&t,i&&n):e},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),o=n(7),i=n(42),a=function(){function e(e,t){this.rootNode=e,this.position=t,this.text="",this.inlineElements=[]}return e.prototype.getWordBefore=function(){var e=this;return this.word||this.traverse(function(){return e.word}),this.word},e.prototype.getInlineElementBefore=function(){return this.inlineBefore||this.traverse(null),this.inlineBefore},e.prototype.getInlineElementAfter=function(){return this.inlineAfter||(this.inlineAfter=r.default.createBlockTraverser(this.rootNode,this.position).currentInlineElement),this.inlineAfter},e.prototype.getSubStringBefore=function(e){var t=this;return this.text.length<e&&this.traverse(function(){return t.text.length>=e}),this.text.substr(Math.max(0,this.text.length-e))},e.prototype.getRangeFromText=function(e,t){if(!e)return null;var n,r,i=e.length-1;return this.forEachTextInlineElement(function(o){for(var a=o.getTextContent()||"",s=a.length-1;s>=0&&i>=0;s--)if(e.charCodeAt(i)==a.charCodeAt(s))i--,r||(r=o.getStartPosition().move(s+1));else if(t||r)return!0;return-1==i&&(n=o.getStartPosition().move(s+1),!0)}),n&&r&&o.default(n,r)},e.prototype.forEachTextInlineElement=function(e){this.inlineElements.some(e)||this.traverse(e)},e.prototype.getNearestNonTextInlineElement=function(){var e=this;return this.nearestNonTextInlineElement||this.traverse(function(){return e.nearestNonTextInlineElement}),this.nearestNonTextInlineElement},e.prototype.traverse=function(e){if(this.traverser=this.traverser||r.default.createBlockTraverser(this.rootNode,this.position),this.traverser&&!this.traversingComplete)for(var t=this.traverser.getPreviousInlineElement();!this.traversingComplete;){if(this.inlineBefore=this.inlineBefore||t,!t||!t.isTextualInlineElement()){this.nearestNonTextInlineElement=t,this.traversingComplete=!0,this.word||(this.word=this.text);break}var n=t.getTextContent();if(!this.word){var o=i.default(n);o&&2==o.length&&(this.word=o[1]+this.text)}if(this.text=n+this.text,this.inlineElements.push(t),e&&e(t))break;t=this.traverser.getPreviousInlineElement()}},e}();t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t}(n(11).default);t.default=o},function(e,t,n){"use strict";function r(e,t){var n=-1!=e.indexOf("rv:")&&-1!=e.indexOf("Trident"),r=-1!=e.indexOf("MSIE")||n,o=!1,i=!1,a=!1,s=!1,l=-1!=e.indexOf("WebKit");return r||(o=-1!=e.indexOf("Chrome"),i=-1!=e.indexOf("Firefox"),-1!=e.indexOf("Safari")&&(a=-1==e.indexOf("Chrome")&&-1==e.indexOf("Android")),(s=-1!=e.indexOf("Edge"))&&(l=o=i=!1)),{isMac:-1!=t.indexOf("Mac"),isWin:-1!=t.indexOf("Win")||-1!=t.indexOf("NT"),isWebKit:l,isIE:r,isIE11OrGreater:n,isSafari:a,isChrome:o,isFirefox:i,isEdge:s,isIEOrEdge:r||s}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserInfo=r;var o=window?r(window.navigator.userAgent,window.navigator.appVersion):{};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t){var n=e.style,r=t.fontFamily,o=t.fontSize,i=t.textColor,a=t.backgroundColor,s=t.bold,l=t.italic,u=t.underline;r&&(n.fontFamily=r),o&&(n.fontSize=o),i&&(n.color=i),a&&(n.backgroundColor=a),s&&(n.fontWeight="bold"),l&&(n.fontStyle="italic"),u&&(n.textDecoration="underline")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),o=n(4);t.default=function(e,t){var n;if(!e||!t)return null;for(var i=e.ownerDocument.createElement(t),a=0;a<e.attributes.length;a++){var s=e.attributes[a];i.setAttribute(s.name,s.value)}for(;e.firstChild;)i.appendChild(e.firstChild);return"P"!=o.default(e)&&"P"!=o.default(i)||(n=r.default(e,["margin-top","margin-bottom"]),i.style.marginTop=n[0],i.style.marginBottom=n[1]),e.parentNode&&e.parentNode.replaceChild(i,e),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^[^?]+%[^0-9a-f]+|^[^?]+%[0-9a-f][^0-9a-f]+|^[^?]+%00|^[^?]+%$|^https?:\/\/[^?\/]+@|^www\.[^?\/]+@/i,o="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)*[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\\:[0-9]+)?(?:[\\/\\?]\\S*)?",i={http:{match:new RegExp("^(?:microsoft-edge:)?http:\\/\\/"+o+"|www\\."+o,"i"),except:r,normalizeUrl:function(e){return new RegExp("^(?:microsoft-edge:)?http:\\/\\/","i").test(e)?e:"http://"+e}},https:{match:new RegExp("^(?:microsoft-edge:)?https:\\/\\/"+o,"i"),except:r},mailto:{match:new RegExp("^mailto:\\S+@\\S+\\.\\S+","i")},notes:{match:new RegExp("^notes:\\/\\/\\S+","i")},file:{match:new RegExp("^file:\\/\\/\\/?\\S+","i")},unc:{match:new RegExp("^\\\\\\\\\\S+","i")},ftp:{match:new RegExp("^ftp:\\/\\/"+o+"|ftp\\."+o,"i"),normalizeUrl:function(e){return new RegExp("^ftp:\\/\\/","i").test(e)?e:"ftp://"+e}},news:{match:new RegExp("^news:(\\/\\/)?"+o,"i")},telnet:{match:new RegExp("^telnet:(\\/\\/)?"+o,"i")},gopher:{match:new RegExp("^gopher:\\/\\/"+o,"i")},wais:{match:new RegExp("^wais:(\\/\\/)?"+o,"i")}};t.default=function(e){if(e)for(var t=0,n=Object.keys(i);t<n.length;t++){var r=n[t],o=i[r],a=e.match(o.match);if(a&&a[0]==e&&(!o.except||!o.except.test(e)))return{scheme:r,originalUrl:e,normalizedUrl:o.normalizeUrl?o.normalizeUrl(e):e}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e?e.parentNode:null;if(!t)return null;for(;e.firstChild;)t.insertBefore(e.firstChild,e);return t.removeChild(e),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;if(this.trs=[],this.table=e instanceof HTMLTableElement?e:function(e){for(var t=e;t&&"TABLE"!=t.tagName;t=t.parentElement);return t}(e),this.table){var n=e instanceof HTMLTableElement?null:e,r=[].slice.call(this.table.rows);this.cells=r.map(function(e){return[]}),r.forEach(function(e,r){t.trs[r%2]=e;for(var o=0,i=0;o<e.cells.length;o++){for(;t.cells[r][i];i++);var a=e.cells[o];a==n&&(t.col=i,t.row=r);for(var s=0;s<a.colSpan;s++,i++)for(var l=0;l<a.rowSpan;l++)t.cells[r+l][i]={td:s+l==0?a:null,spanLeft:s>0,spanAbove:l>0}}})}}return e.prototype.writeBack=function(){var e=this;this.cells?(s(this.table),this.cells.forEach(function(t,n){var r=a(e.trs[n%2]||e.trs[0]);e.table.appendChild(r),t.forEach(function(t,o){t.td&&(e.recalcSpans(n,o),r.appendChild(t.td))})})):this.table&&this.table.parentNode.removeChild(this.table)},e.prototype.applyFormat=function(e){e&&this.table&&(this.table.style.borderCollapse="collapse",this.trs[0].style.backgroundColor=e.bgColorOdd||"transparent",this.trs[1]&&(this.trs[1].style.backgroundColor=e.bgColorEven||"transparent"),this.cells.forEach(function(t){return t.filter(function(e){return e.td}).forEach(function(t){t.td.style.borderTop=o(e.topBorderColor),t.td.style.borderBottom=o(e.bottomBorderColor),t.td.style.borderLeft=o(e.verticalBorderColor),t.td.style.borderRight=o(e.verticalBorderColor)})}))},e.prototype.edit=function(e){var t=this;if(this.table){var n=this.cells[this.row],r=n[this.col];switch(e){case 0:this.cells.splice(this.row,0,n.map(i));break;case 1:var o=this.row+this.countSpanAbove(this.row,this.col);this.cells.splice(o,0,this.cells[o-1].map(function(e,n){var r=t.getCell(o,n);if(r.spanAbove)return i(r);if(e.spanLeft){var s=i(e);return s.spanAbove=!1,s}return{td:a(t.getTd(t.row,n))}}));break;case 2:this.forEachCellOfCurrentColumn(function(e,n){n.splice(t.col,0,i(e))});break;case 3:var l=this.col+this.countSpanLeft(this.row,this.col);this.forEachCellOfColumn(l-1,function(e,n,r){var o,s=t.getCell(r,l);s.spanLeft?o=i(s):e.spanAbove?(o=i(e)).spanLeft=!1:o={td:a(t.getTd(r,t.col))},n.splice(l,0,o)});break;case 6:this.forEachCellOfCurrentRow(function(e,n){var r=t.getCell(t.row+1,n);e.td&&e.td.rowSpan>1&&r.spanAbove&&(r.td=e.td)}),this.cells.splice(this.row,1);break;case 5:this.forEachCellOfCurrentColumn(function(e,n,r){var o=t.getCell(r,t.col+1);e.td&&e.td.colSpan>1&&o.spanLeft&&(o.td=e.td),n.splice(t.col,1)});break;case 7:case 8:for(var u=7==e?-1:1,c=this.row+u;c>=0&&c<this.cells.length;c+=u){if((v=this.getCell(c,this.col)).td&&!v.spanAbove){var d=c<this.row?v:r,f=c<this.row?r:v;d.td.colSpan==f.td.colSpan&&(s(f.td,d.td),f.td=null,f.spanAbove=!0);break}}break;case 9:case 10:for(var h=9==e?-1:1,p=this.col+h;p>=0&&p<this.cells[this.row].length;p+=h){var v;if((v=this.getCell(this.row,p)).td&&!v.spanLeft){var g=p<this.col?v:r,m=p<this.col?r:v;g.td.rowSpan==m.td.rowSpan&&(s(m.td,g.td),m.td=null,m.spanLeft=!0);break}}break;case 4:this.cells=null;break;case 12:if(r.td.rowSpan>1)this.getCell(this.row+1,this.col).td=a(r.td);else{var y=n.map(function(e){return{td:e==r?a(e.td):null,spanAbove:e!=r,spanLeft:e.spanLeft}});this.cells.splice(this.row+1,0,y)}break;case 11:r.td.colSpan>1?this.getCell(this.row,this.col+1).td=a(r.td):this.forEachCellOfCurrentColumn(function(e,r){r.splice(t.col+1,0,{td:r==n?a(e.td):null,spanAbove:e.spanAbove,spanLeft:r!=n})})}}},e.prototype.forEachCellOfCurrentColumn=function(e){this.forEachCellOfColumn(this.col,e)},e.prototype.forEachCellOfCurrentRow=function(e){this.forEachCellOfRow(this.row,e)},e.prototype.getCell=function(e,t){return this.cells&&this.cells[e]&&this.cells[e][t]||{}},e.prototype.getCurrentTd=function(){return this.getTd(this.row,this.col)},e.prototype.getTd=function(e,t){if(this.cells)for(e=Math.min(this.cells.length-1,e),t=Math.min(this.cells[e].length-1,t);e>=0&&t>=0;){var n=this.getCell(e,t);if(n.td)return n.td;if(n.spanLeft)t--;else{if(!n.spanAbove)break;e--}}return null},e.prototype.forEachCellOfColumn=function(e,t){for(var n=0;n<this.cells.length;n++)t(this.getCell(n,e),this.cells[n],n)},e.prototype.forEachCellOfRow=function(e,t){for(var n=0;n<this.cells[e].length;n++)t(this.getCell(e,n),n)},e.prototype.recalcSpans=function(e,t){var n=this.getCell(e,t).td;n&&(n.colSpan=this.countSpanLeft(e,t),n.rowSpan=this.countSpanAbove(e,t),1==n.colSpan&&n.removeAttribute("colSpan"),1==n.rowSpan&&n.removeAttribute("rowSpan"))},e.prototype.countSpanLeft=function(e,t){for(var n=1,r=t+1;r<this.cells[e].length;r++){var o=this.getCell(e,r);if(o.td||!o.spanLeft)break;n++}return n},e.prototype.countSpanAbove=function(e,t){for(var n=1,r=e+1;r<this.cells.length;r++){var o=this.getCell(r,t);if(o.td||!o.spanAbove)break;n++}return n},e}();function o(e){return"solid 1px "+(e||"transparent")}function i(e){return{td:a(e.td),spanAbove:e.spanAbove,spanLeft:e.spanLeft}}function a(e){var t=e?e.cloneNode(!1):null;return t&&t instanceof HTMLTableCellElement&&(t.removeAttribute("id"),t.firstChild||t.appendChild(e.ownerDocument.createElement("br"))),t}function s(e,t){for(;e.firstChild;)t?t.appendChild(e.firstChild):e.removeChild(e.firstChild)}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);function o(e){var t=e||{},n=t.left,r=t.right,o=t.top,i=t.bottom;return n+r+o+i>0?{left:Math.round(n),right:Math.round(r),top:Math.round(o),bottom:Math.round(i)}:null}t.default=function(e){if(!e)return null;var t=r.default(e),n=t.getBoundingClientRect&&o(t.getBoundingClientRect());if(n)return n;e=e.normalize();var i=t.getClientRects&&t.getClientRects();if(n=i&&1==i.length&&o(i[0]))return n;if(3==e.node.nodeType){var a=document.createElement("SPAN");if(a.innerHTML="â€‹",(t=r.default(e)).insertNode(a),n=a.getBoundingClientRect&&o(a.getBoundingClientRect()),a.parentNode.removeChild(a),n)return n}var s=e.element;return s&&s.getBoundingClientRect&&(n=o(s.getBoundingClientRect()))?n:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(43);function i(e){for(;e.previousSibling;)if(e=e.previousSibling,!o.default(e))return!1;return!0}t.default=function(e,t){if(e){var n=e.normalize(),o=n.node;if(0==n.offset){for(;r.default(t,o)&&i(o);)o=o.parentNode;return o==t}}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(7),i=n(2);function a(e,t){if(!e||!t)return null;for(var n,r=0;r<t.length&&(n=t[r],r<t.length-1&&e&&1==e.nodeType&&e.childNodes.length>n);r++)e=e.childNodes[n];return new i.default(e,n)}function s(e,t){if(!e||!t)return[];var n,o=e.node,i=e.offset,a=[];if(!r.default(t,o,!0))return[];if(3==o.nodeType){for(n=o.parentNode;o.previousSibling&&3==o.previousSibling.nodeType;)i+=o.previousSibling.nodeValue.length,o=o.previousSibling;a.unshift(i)}else n=o,o=o.childNodes[i];do{i=0;for(var s=!1,l=n.firstChild;l&&l!=o;l=l.nextSibling){if(3==l.nodeType){if(0==l.nodeValue.length||s)continue;s=!0}else s=!1;i++}a.unshift(i),o=n,n=n.parentNode}while(o&&o!=t);return a}t.default=function(e,t){return t?{start:s(i.default.getStart(t),e),end:s(i.default.getEnd(t),e)}:null},t.getRangeFromSelectionPath=function(e,t){var n=a(e,t.start),r=a(e,t.end);return o.default(n,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&e.isTextualInlineElement()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);t.default=function(e,t){return void 0===t&&(t="<div></div>"),r.default(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9).HtmlSanitizer.convertInlineCss;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(45),o=n(46),i=n(47),a=n(90),s=function(){function e(e){e=e||{},this.elementCallbacks=r.default(e.elementCallbacks),this.styleCallbacks=a.getStyleCallbacks(e.styleCallbacks),this.attributeCallbacks=r.default(e.attributeCallbacks),this.allowedTags=a.getAllowedTags(e.additionalAllowedTags),this.allowedAttributes=a.getAllowedAttributes(e.additionalAllowAttributes),this.defaultStyleValues=a.getDefaultStyleValues(e.additionalDefaultStyleValues),this.additionalGlobalStyleNodes=e.additionalGlobalStyleNodes||[],this.allowPreserveWhiteSpace=e.allowPreserveWhiteSpace}return e.convertInlineCss=function(t,n){return new e({additionalGlobalStyleNodes:n}).exec(t,!0)},e.sanitizeHtml=function(t,n){var r=new e(n=n||{}),i=n.currentElementOrStyle instanceof HTMLElement?o.default(n.currentElementOrStyle):n.currentElementOrStyle;return r.exec(t,n.convertCssOnly,n.preserveFragmentOnly,i)},e.prototype.exec=function(e,t,n,r){var o=i.default(e,n);return o&&(this.convertGlobalCssToInlineCss(o),t||this.sanitize(o.body,r)),o&&o.body&&o.body.innerHTML||""},e.prototype.sanitize=function(e,t){if(!e)return"";t=r.default(t,o.default(null)),this.processNode(e,t,{})},e.prototype.convertGlobalCssToInlineCss=function(e){for(var t=l(e.querySelectorAll("style")),n=0,r=this.additionalGlobalStyleNodes.reverse().map(function(e){return e.sheet}).concat(t.map(function(e){return e.sheet}).reverse());n<r.length;n++)for(var o=r[n],i=function(t){var n=o.cssRules[t],r=n&&n.style?n.style.cssText:null;if(n.type!=CSSRule.STYLE_RULE||!r||!n.selectorText)return"continue";for(var i=0,a=n.selectorText.split(",");i<a.length;i++){var s=a[i];if(s&&s.trim()&&!(s.indexOf(":")>=0))l(e.querySelectorAll(s)).forEach(function(e){return e.setAttribute("style",r+(e.getAttribute("style")||""))})}},a=o.cssRules.length-1;a>=0;a--)i(a);t.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})},e.prototype.processNode=function(e,t,n){var o=e.nodeType,i=o==Node.ELEMENT_NODE,a=o==Node.TEXT_NODE,s=e,l=i?s.tagName.toUpperCase():"";if(i&&!this.allowElement(s,l,n)||a&&/^[\r\n]*$/g.test(e.nodeValue)||!i&&!a)e.parentNode.removeChild(e);else if(a&&!this.allowPreserveWhiteSpace&&"pre"==t["white-space"])e.nodeValue=e.nodeValue.replace(/^ /gm,"Â ").replace(/ {2}/g," Â ");else if(i){var u=r.default(t);this.processAttributes(s,n),this.processCss(s,l,u,n);for(var c=s.firstChild,d=void 0;c;c=d)d=c.nextSibling,this.processNode(c,u,n)}},e.prototype.processCss=function(e,t,n,r){var o=this,i=e.getAttributeNode("style");if(i){var a=i.value.split(";"),s=a.filter(function(t){var i;if(!t||""==t.trim()||2!=(i=t.split(":")).length)return!1;var a=i[0].trim().toLowerCase(),s=i[1].trim().toLowerCase(),l=o.styleCallbacks[a],u=void 0!=n[a],c=(!l||l(s,e,r))&&"inherit"!=s&&s.indexOf("expression")<0&&"-"!=a.substr(0,1)&&o.defaultStyleValues[a]!=s&&(u&&s!=n[a]||!u&&"initial"!=s&&"normal"!=s);return c&&u&&(n[a]=s),c&&(o.allowPreserveWhiteSpace||"white-space"!=a)});a.length!=s.length&&(s.length>0?e.setAttribute("style",s.map(function(e){return e.trim()}).join("; ")):e.removeAttribute("style"))}},e.prototype.processAttributes=function(e,t){for(var n=e.attributes.length-1;n>=0;n--){var r=e.attributes[n],o=r.name.toLowerCase().trim(),i=r.value,a=this.attributeCallbacks[o];a?i=a(i,e,t):this.allowedAttributes.indexOf(o)<0&&(i=null),null===i||void 0===i||i.toLowerCase().indexOf("script:")>=0?e.removeAttribute(o):r.value=i}},e.prototype.allowElement=function(e,t,n){var r=this.elementCallbacks[t];return r?r(e,n):this.allowedTags.indexOf(t)>=0||t.indexOf(":")>0},e}();function l(e){return[].slice.call(e)}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(45),o="BODY,H1,H2,H3,H4,H5,H6,FORM,P,BR,NOBR,HR,ACRONYM,ABBR,ADDRESS,B,BDI,BDO,BIG,BLOCKQUOTE,CENTER,CITE,CODE,DEL,DFN,EM,FONT,I,INS,KBD,MARK,METER,PRE,PROGRESS,Q,RP,RT,RUBY,S,SAMP,SMALL,STRIKE,STRONG,SUB,SUP,TEMPLATE,TIME,TT,U,VAR,WBR,XMP,INPUT,TEXTAREA,BUTTON,SELECT,OPTGROUP,OPTION,LABEL,FIELDSET,LEGEND,DATALIST,OUTPUT,IMG,MAP,AREA,CANVAS,FIGCAPTION,FIGURE,PICTURE,A,NAV,UL,OL,LI,DIR,UL,DL,DT,DD,MENU,MENUITEM,TABLE,CAPTION,TH,TR,TD,THEAD,TBODY,TFOOT,COL,COLGROUP,DIV,SPAN,HEADER,FOOTER,MAIN,SECTION,ARTICLE,ASIDE,DETAILS,DIALOG,SUMMARY,DATA".split(","),i="accept,align,alt,checked,cite,color,cols,colspan,contextmenu,coords,datetime,default,dir,dirname,disabled,download,face,headers,height,hidden,high,href,hreflang,ismap,kind,label,lang,list,low,max,maxlength,media,min,multiple,open,optimum,pattern,placeholder,readonly,rel,required,reversed,rows,rowspan,scope,selected,shape,size,sizes,span,spellcheck,src,srclang,srcset,start,step,style,tabindex,target,title,translate,type,usemap,value,width,wrap".split(","),a={"background-color":"transparent","border-bottom-color":"rgb(0, 0, 0)","border-bottom-style":"none","border-bottom-width":"0px","border-image-outset":"0","border-image-repeat":"stretch","border-image-slice":"100%","border-image-source":"none","border-image-width":"1","border-left-color":"rgb(0, 0, 0)","border-left-style":"none","border-left-width":"0px","border-right-color":"rgb(0, 0, 0)","border-right-style":"none","border-right-width":"0px","border-top-color":"rgb(0, 0, 0)","border-top-style":"none","border-top-width":"0px","outline-color":"transparent","outline-style":"none","outline-width":"0px",overflow:"visible","text-decoration":"none","-webkit-text-stroke-width":"0px","word-wrap":"break-word","margin-left":"0px","margin-right":"0px",padding:"0px","padding-top":"0px","padding-left":"0px","padding-right":"0px","padding-bottom":"0px",border:"0px","border-top":"0px","border-left":"0px","border-right":"0px","border-bottom":"0px","vertical-align":"baseline",float:"none"};function s(){return null}function l(e,t){var n=t.tagName;return!("LI"==n||"DIV"==n)}function u(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})}t.getAllowedTags=function(e){return u(o.concat(e||[])).map(function(e){return e.toUpperCase()})},t.getAllowedAttributes=function(e){return u(i.concat(e||[])).map(function(e){return e.toLocaleLowerCase()})},t.getDefaultStyleValues=function(e){var t=r.default(a);return e&&Object.keys(e).forEach(function(n){var r=e[n];null!==r&&void 0!==r?t[n]=r:delete t[n]}),t},t.getStyleCallbacks=function(e){var t=r.default(e);return t.position=t.position||s,t.width=t.width||l,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);t.default=function(e,t,n,o,i,a){return r.HtmlSanitizer.sanitizeHtml(e,{additionalGlobalStyleNodes:t,convertCssOnly:n,attributeCallbacks:o,currentElementOrStyle:a,preserveFragmentOnly:i})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(2),i=n(44),a="data-offset1",s="data-offset2",l="cursor-start",u="cursor-end",c="cursor-single",d="SPAN#"+l+",SPAN#"+u+",SPAN#"+c;function f(e,t){var n=e.nextSibling,r=parseInt(e.getAttribute(t))||0;return n?new o.default(n,r):new o.default(e,-3)}function h(e,t,n,r){var o=n.node,i=o.ownerDocument.createElement("SPAN"),l=p(n);if(i.id=e,i.setAttribute(a,t?"0":""+l),i.setAttribute(s,t||!r?"0":""+p(r)),t&&0!=l)if(n.isAtEnd)o.parentNode.insertBefore(i,o.nextSibling);else{var u=o.ownerDocument.createRange();u.setStart(o,l),u.collapse(!0),u.insertNode(i)}else o.parentNode.insertBefore(i,o)}function p(e){return 0==e.offset&&e.isAtEnd?1:e.offset}t.markSelection=function(e,t,n){if(!t||i.default(e,d).length>0)return!1;var r=o.default.getStart(t).normalize(),a=o.default.getEnd(t).normalize();return r.equalTo(a)||!n&&r.node==a.node?h(c,n,r,a):(h(u,n,a),h(l,n,r)),!0},t.removeMarker=function(e,t){var n,o,h,p=i.default(e,d,t?function(e){switch(e.id){case l:n=f(e,a);break;case u:o=f(e,a);break;case c:n=f(e,a),o=f(e,s)}}:null);return n&&o&&p.length<=2&&(h=r.default(n,o)),p.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=n(48),i=n(49),a=n(50),s=n(51),l=n(52),u=n(53),c=n(54),d=["font","text-decoration","color","background"];t.default=function(e){e.focus(),e.addUndoSnapshot(function(){r.default(e,"removeFormat"),e.queryElements("[class]",1,function(e){return e.removeAttribute("class")});var t=e.getDefaultFormat(),n=0===Object.keys(t).length;e.queryElements("[style]",2,function(e){d.forEach(function(t){return e.style.removeProperty(t)}),n&&""===e.getAttribute("style")&&e.removeAttribute("style")}),n||(t.fontFamily&&i.default(e,t.fontFamily),t.fontSize&&a.default(e,t.fontSize),t.textColor&&s.default(e,t.textColor),t.backgroundColor&&o.default(e,t.backgroundColor),t.bold&&l.default(e),t.italic&&u.default(e),t.underline&&c.default(e))},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=/^[a-zA-Z]+:/i,i=/^[\w.%+-]+@/i,a=/^ftp\./i,s="istemptitle";function l(e){return e.queryElements("a[href]",1)[0]}function u(e,t){t&&e.textContent!=t&&(e.textContent=t)}t.default=function(e,t,n,c){e.focus();var d=t?t.trim():"";if(d){var f=r.matchLink(d),h=f?f.normalizedUrl:function(e){if(!e)return e;var t="";return e.search(o)<0&&(t=0==e.search(i)?"mailto:":0==e.search(a)?"ftp://":"http://"),t+e}(d),p=f?f.originalUrl:d;e.addUndoSnapshot(function(){var t=e.getSelectionRange(),r=null;return t&&t.collapsed?(r=l(e))?(r.href=h,u(r,c)):((r=e.getDocument().createElement("A")).textContent=c||p,r.href=h,e.insertNode(r)):(e.getDocument().execCommand("createLink",!1,h),u(r=l(e),c)),n&&r&&(r.removeAttribute(s),r.title=n),r},"CreateLink")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0);t.default=function(e,t){var n=e.getSelectionRange(),i=n&&o.Position.getStart(n).normalize().node,a=i?o.getComputedStyles(i):[],s=o.getTagOfNode(r.cacheGetElementAtCursor(e,t,"OL,UL")),l=o.getTagOfNode(r.cacheGetElementAtCursor(e,t,"H1,H2,H3,H4,H5,H6")),u=e.getDocument();return{fontName:a[0],fontSize:a[1],textColor:a[2],backgroundColor:a[3],isBold:u.queryCommandState("bold"),isItalic:u.queryCommandState("italic"),isUnderline:u.queryCommandState("underline"),isStrikeThrough:u.queryCommandState("strikeThrough"),isSubscript:u.queryCommandState("subscript"),isSuperscript:u.queryCommandState("superscript"),isBullet:"UL"==s,isNumbering:"OL"==s,headerLevel:l&&parseInt(l[1])||0,canUnlink:!!e.queryElements("a[href]",1)[0],canAddImageAltText:!!e.queryElements("img",1)[0],isBlockQuote:!!e.queryElements("blockquote",1)[0],canUndo:e.canUndo(),canRedo:e.canRedo()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(97),o=n(0),i=n(0),a=function(){function e(e,t){void 0===t&&(t={});var n=this;if("DIV"!=i.getTagOfNode(e))throw new Error("contentDiv must be an HTML DIV element");if(this.core=r.default(e,t),this.core.plugins.forEach(function(e){return e.initialize(n)}),this.setContent(t.initialContent||e.innerHTML||""),this.eventDisposers=[this.core.api.attachDomEvent(this.core,"keypress",1),this.core.api.attachDomEvent(this.core,"keydown",0),this.core.api.attachDomEvent(this.core,"keyup",2),this.core.api.attachDomEvent(this.core,"mousedown",4)],!t.omitContentEditableAttributeChanges&&!e.isContentEditable){e.setAttribute("contenteditable","true");var o=e.style;o.userSelect=o.msUserSelect=o.webkitUserSelect="text",this.contenteditableChanged=!0}try{this.core.document.execCommand("enableObjectResizing",!1,!1),this.core.document.execCommand("enableInlineTableEditing",!1,!1)}catch(e){}this.triggerEvent({eventType:10},!0),this.core.corePlugin.ensureTypeInElement(new i.Position(e,0))}return e.prototype.dispose=function(){this.triggerEvent({eventType:11},!0),this.core.plugins.forEach(function(e){return e.dispose()}),this.eventDisposers.forEach(function(e){return e()}),this.eventDisposers=null;for(var e=0,t=Object.keys(this.core.customData);e<t.length;e++){var n=t[e],r=this.core.customData[n];r&&r.disposer&&r.disposer(r.value),delete this.core.customData[n]}if(this.contenteditableChanged){var o=this.core.contentDiv.style;o.userSelect=o.msUserSelect=o.webkitUserSelect="",this.core.contentDiv.removeAttribute("contenteditable")}this.core=null},e.prototype.isDisposed=function(){return!this.core},e.prototype.insertNode=function(e,t){return!!e&&this.core.api.insertNode(this.core,e,t)},e.prototype.deleteNode=function(e){return!(!e||!this.contains(e))&&(e.parentNode.removeChild(e),!0)},e.prototype.replaceNode=function(e,t){return!!(e&&t&&this.contains(e))&&(e.parentNode.replaceChild(t,e),!0)},e.prototype.getInlineElementAtNode=function(e){return i.getInlineElementAtNode(this.core.contentDiv,e)},e.prototype.getBlockElementAtNode=function(e){return i.getBlockElementAtNode(this.core.contentDiv,e)},e.prototype.contains=function(e){return i.contains(this.core.contentDiv,e)},e.prototype.queryElements=function(e,t,n){void 0===t&&(t=0);var r=t instanceof Function?0:t;n=t instanceof Function?t:n;var o=0==r?null:this.getSelectionRange();return i.queryElements(this.core.contentDiv,e,n,r,o)},e.prototype.collapseNodes=function(e,t,n){return i.collapseNodes(this.core.contentDiv,e,t,n)},e.prototype.isEmpty=function(e){return i.isNodeEmpty(this.core.contentDiv,e)},e.prototype.getContent=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);var n,r=this.core.contentDiv,i=r.innerHTML;if(t&&(n=o.getSelectionPath(r,this.getSelectionRange()))&&(i+="\x3c!--"+JSON.stringify(n)+"--\x3e"),e){var a={eventType:7,content:i};this.triggerEvent(a,!0),i=a.content}return i},e.prototype.getTextContent=function(){return this.core.contentDiv.innerText},e.prototype.setContent=function(e,t){void 0===t&&(t=!0);var n=this.core.contentDiv;if(n.innerHTML!=e){n.innerHTML=e||"";var r=n.lastChild;if(r&&8==r.nodeType)try{var i=JSON.parse(r.nodeValue);this.deleteNode(r);var a=o.getRangeFromSelectionPath(n,i);this.select(a)}catch(e){}t&&this.triggerContentChangedEvent()}},e.prototype.insertContent=function(e,t){if(e){var n=i.fromHtml(e,this.core.document);t&&t.insertOnNewLine&&n.length>0&&(n=[i.wrap(n)]);for(var r=0;r<n.length;r++)this.insertNode(n[r],t)}},e.prototype.getSelectionRange=function(){return this.core.api.getSelectionRange(this.core,!0)},e.prototype.hasFocus=function(){return this.core.api.hasFocus(this.core)},e.prototype.focus=function(){this.core.api.focus(this.core)},e.prototype.select=function(e,t,n,r){return this.core.api.select(this.core,e,t,n,r)},e.prototype.runWithSelectionMarker=function(e,t){var n=i.markSelection(this.core.contentDiv,this.getSelectionRange(),t);try{return e&&e()}finally{n&&this.select(i.removeMarker(this.core.contentDiv,i.Browser.isSafari||i.Browser.isChrome))}},e.prototype.saveSelectionRange=function(){this.core.cachedSelectionRange=this.core.api.getSelectionRange(this.core,!1)},e.prototype.restoreSavedRange=function(){this.select(this.core.cachedSelectionRange),this.core.cachedSelectionRange=null},e.prototype.getFocusedPosition=function(){var e=this.getSelection();if(this.contains(e&&e.focusNode))return new i.Position(e.focusNode,e.focusOffset);var t=this.getSelectionRange();return t?i.Position.getStart(t):null},e.prototype.getCursorRect=function(){var e=this.getFocusedPosition();return e&&i.getPositionRect(e)},e.prototype.getElementAtCursor=function(e,t){if(!t){var n=this.getFocusedPosition();t=n&&n.node}return t&&i.findClosestElementAncestor(t,this.core.contentDiv,e)},e.prototype.addDomEventHandler=function(e,t){return this.core.api.attachDomEvent(this.core,e,null,t)},e.prototype.triggerEvent=function(e,t){void 0===t&&(t=!0),this.core.api.triggerEvent(this.core,e,t)},e.prototype.triggerContentChangedEvent=function(e,t){void 0===e&&(e="SetContent"),this.triggerEvent({eventType:6,source:e,data:t})},e.prototype.undo=function(){this.focus(),this.core.undo.undo()},e.prototype.redo=function(){this.focus(),this.core.undo.redo()},e.prototype.addUndoSnapshot=function(e,t){this.core.api.editWithUndo(this.core,e,t)},e.prototype.performAutoComplete=function(e,t){this.core.corePlugin.performAutoComplete(e,t)},e.prototype.canUndo=function(){return this.core.undo.canUndo()},e.prototype.canRedo=function(){return this.core.undo.canRedo()},e.prototype.getDocument=function(){return this.core.document},e.prototype.getCustomData=function(e,t,n){return this.core.api.getCustomData(this.core,e,t,n)},e.prototype.isInIME=function(){return this.core.corePlugin.isInIME()},e.prototype.getDefaultFormat=function(){return this.core.defaultFormat},e.prototype.getBodyTraverser=function(){return i.ContentTraverser.createBodyTraverser(this.core.contentDiv)},e.prototype.getSelectionTraverser=function(){return this.getSelectionRange()&&i.ContentTraverser.createSelectionTraverser(this.core.contentDiv,this.getSelectionRange())},e.prototype.getBlockTraverser=function(e){void 0===e&&(e=2);var t=this.getSelectionRange();return t&&i.ContentTraverser.createBlockTraverser(this.core.contentDiv,t,e)},e.prototype.getContentSearcherOfCursor=function(){var e=this.getSelectionRange();return e&&new i.PositionContentSearcher(this.core.contentDiv,i.Position.getStart(e))},e.prototype.runAsync=function(e){var t=this;(this.core.contentDiv.ownerDocument.defaultView||window).requestAnimationFrame(function(){!t.isDisposed()&&e&&e()})},e.prototype.queryContent=function(e){return this.core.contentDiv.querySelectorAll(e)},e.prototype.getSelection=function(){return this.core.document.defaultView.getSelection()},e.prototype.updateSelection=function(e){return this.select(e)},e.prototype.runWithoutAddingUndoSnapshot=function(e){try{this.core.currentUndoSnapshot=this.getContent(!1,!0),e()}finally{this.core.currentUndoSnapshot=null}},e.prototype.getContentTraverser=function(e,t){switch(void 0===t&&(t=2),e){case 0:return this.getBlockTraverser(t);case 1:return this.getSelectionTraverser();case 2:return this.getBodyTraverser()}return null},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98),o=n(55),i=n(99),a=n(100),s=n(101),l=n(102),u=n(56),c=n(103),d=n(104),f=n(105),h=n(57),p=n(0);function v(e){return{attachDomEvent:(e=e||{}).attachDomEvent||r.default,editWithUndo:e.editWithUndo||i.default,focus:e.focus||a.default,getCustomData:e.getCustomData||s.default,getSelectionRange:e.getSelectionRange||l.default,hasFocus:e.hasFocus||u.default,insertNode:e.insertNode||c.default,select:e.select||d.default,triggerEvent:e.triggerEvent||f.default}}t.default=function(e,t){var n=t.undo||new h.default,r=new o.default(e,t.disableRestoreSelectionOnFocus);return{contentDiv:e,document:e.ownerDocument,defaultFormat:function(e,t){if(t&&0===Object.keys(t).length)return{};t=t||{};var n=p.getComputedStyles(e);return{fontFamily:t.fontFamily||n[0],fontSize:t.fontSize||n[1],textColor:t.textColor||n[2],backgroundColor:t.backgroundColor||"",bold:t.bold,italic:t.italic,underline:t.underline}}(e,t.defaultFormat),corePlugin:r,undo:n,currentUndoSnapshot:null,customData:{},cachedSelectionRange:null,plugins:[r].concat(t.plugins||[],[n]).filter(function(e){return!!e}),api:v(t.coreApiOverride),defaultApi:v()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r){var o=function(t){r&&r(t),null!=n&&e.api.triggerEvent(e,{eventType:n,rawEvent:t},!1)};return e.contentDiv.addEventListener(t,o),function(){e.contentDiv.removeEventListener(t,o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t,n){var o,i,a=null!==e.currentUndoSnapshot;a||(e.currentUndoSnapshot=e.undo.addUndoSnapshot());try{if(t){var s=e.api.getSelectionRange(e,!0);o=t(s&&r.Position.getStart(s).normalize(),s&&r.Position.getEnd(s).normalize(),e.currentUndoSnapshot),a||(i=e.undo.addUndoSnapshot())}}finally{a||(e.currentUndoSnapshot=null)}if(t&&n){var l={eventType:6,source:n,lastSnapshot:i,data:o};e.api.triggerEvent(e,l,!0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){if(!(e.api.hasFocus(e)&&e.api.getSelectionRange(e,!1)||e.cachedSelectionRange&&e.api.select(e,e.cachedSelectionRange))){var t=r.getFirstLeafNode(e.contentDiv)||e.contentDiv;e.api.select(e,t,0)}e.cachedSelectionRange=null,e.api.hasFocus(e)||e.contentDiv.focus()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r){return(e.customData[t]=e.customData[t]||{value:n(),disposer:r}).value}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){var n=null;if(!t||e.api.hasFocus(e)){var o=e.document.defaultView.getSelection();if(o&&o.rangeCount>0){var i=o.getRangeAt(0);r.contains(e.contentDiv,i)&&(n=i)}}return!n&&t&&(n=e.cachedSelectionRange),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t,n){var o=n?n.position:2,i=!n||n.updateCursor,a=!n||n.replaceSelection,s=!!n&&n.insertOnNewLine,l=e.contentDiv;switch(i&&e.api.focus(e),o){case 0:case 1:var u=0==o,c=r.getFirstLastBlockElement(l,u),d=void 0;if(c){var f=u?c.getStartNode():c.getEndNode(),h=f.parentNode;d=s||3==f.nodeType||r.isVoidHtmlElement(f)?h.insertBefore(t,u?f:f.nextSibling):f.insertBefore(t,u?f.firstChild:null)}else d=l.appendChild(t);d&&s&&!r.isBlockElement(d)&&r.wrap(d);break;case 2:var p=e.api.getSelectionRange(e,!0);if(p){a&&!p.collapsed&&p.deleteContents();var v=p.cloneRange(),g=r.Position.getStart(p).normalize(),m=r.getBlockElementAtNode(l,g.node);if(m){var y=m.getEndNode();s?(p.setEndAfter(y),p.collapse(!1)):p=function(e,t,n,o){var i=n;if(11==i.nodeType){var a=[].slice.call(i.childNodes).filter(function(e){return"BR"!=r.getTagOfNode(e)});i=1==a.length?a[0]:null}var s=r.getTagOfNode(i);if(("OL"==s||"UL"==s)&&"LI"==r.getTagOfNode(i.firstChild)){var l=!i.firstChild.nextSibling&&"BR"!=r.getTagOfNode(i.nextSibling);if("BR"==r.getTagOfNode(i.nextSibling)&&i.parentNode&&i.parentNode.removeChild(i.nextSibling),l)r.unwrap(i.firstChild),r.unwrap(i);else{for(var u=o;r.getTagOfNode(u.parentNode)!=s&&r.contains(e.contentDiv,u);)u=u.parentNode;r.getTagOfNode(u.parentNode)==s&&(r.isNodeEmpty(u)||r.isPositionAtBeginningOf(r.Position.getStart(t),u)?t.setEndBefore(u):t.setEndAfter(u),t.collapse(!1),r.unwrap(i))}}if("P"==r.getTagOfNode(o)){var c=r.Position.getStart(t).normalize(),d=r.Position.getEnd(t).normalize(),f=r.changeElementTag(o,"div"),h=r.createRange(c,d);c.node!=f&&d.node!=f&&r.contains(e.contentDiv,h)&&(t=h)}return r.isVoidHtmlElement(t.endContainer)&&t.setEndBefore(t.endContainer),t}(e,p,t,y)}var E=11==t.nodeType?t.lastChild:t;p.insertNode(t),i&&E?e.api.select(e,new r.Position(E,-3).normalize()):e.api.select(e,v)}break;case 3:e.contentDiv.parentNode.insertBefore(t,l.nextSibling)}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(56),o=n(0);t.default=function(e,t,n,i,a){var s;if(!t)return!1;if(t instanceof Range)s=t;else if(t.node)s=o.createRange(new o.Position(t),n&&n.node?new o.Position(n):null);else if(t instanceof Node){var l=void 0,u=void 0;void 0==n?(l=new o.Position(t,-2),u=new o.Position(t,-3)):(l=new o.Position(t,n),u=i instanceof Node?new o.Position(i,a):null),s=o.createRange(l,u)}if(o.contains(e.contentDiv,s)){var c=e.document.defaultView.getSelection();if(c){var d=!0;if(c.rangeCount>0)try{var f=o.Browser.isEdge&&1==c.rangeCount?c.getRangeAt(0):null;f&&f.startContainer==s.startContainer&&f.startOffset==s.startOffset&&f.endContainer==s.endContainer&&f.endOffset==s.endOffset?d=!1:c.removeAllRanges()}catch(e){}return d&&c.addRange(s),r.default(e)||(e.cachedSelectionRange=s),!0}}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){!n&&e.plugins.some(function(e){return function(e,t){return!!(t.onPluginEvent&&t.willHandleEventExclusively&&t.willHandleEventExclusively(e))&&(t.onPluginEvent(e),!0)}(t,e)})||e.plugins.forEach(function(e){e.onPluginEvent&&e.onPluginEvent(t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=r.Browser,i=r.getBrowserInfo;t.getBrowserData=i,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),o=n(59),i="CONTENTSEARCHER";t.cacheGetContentSearcher=function(e,t){return r.default(e,i,function(){return t.getContentSearcherOfCursor()})},t.clearContentSearcherCache=function(e){o.default(e,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),o="GET_ELEMENT_AT_CURSOR_";t.default=function(e,t,n){return r.default(t,o+n,function(){return e.getElementAtCursor(n)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildSnapshot=function(e){return e.getContent(!1,!0)},t.restoreSnapshot=function(e,t){e.setContent(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new FileReader;n.onload=function(t){e.isDisposed()||e.addUndoSnapshot(function(){var n=e.getDocument().createElement("img");n.src=t.target.result,n.style.maxWidth="100%",e.insertNode(n)},"Format")},n.readAsDataURL(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(60);function o(e){return e<=4?"120px":e<=6?"100px":"70px"}t.default=function(e,t,n,i){var a=e.getDocument(),s=a.createDocumentFragment(),l=a.createElement("table");s.appendChild(l),l.cellSpacing="0",l.cellPadding="1";for(var u=0;u<n;u++){var c=a.createElement("tr");l.appendChild(c);for(var d=0;d<t;d++){var f=a.createElement("td");c.appendChild(f),f.appendChild(a.createElement("br")),f.style.width=o(t)}}e.focus(),e.addUndoSnapshot(function(){e.insertNode(s),r.default(e,i||{bgColorEven:"#FFF",bgColorOdd:"#FFF",topBorderColor:"#ABABAB",bottomBorderColor:"#ABABAB",verticalBorderColor:"#ABABAB"},l),e.runAsync(function(){return e.select(l,-3)})},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){var n=e.getElementAtCursor("TD,TH");n&&e.addUndoSnapshot(function(o,i){var a=new r.VTable(n);a.edit(t),a.writeBack(),e.focus(),e.select(o,i)||e.select(e.contains(n)?n:a.getCurrentTd())},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){e.focus(),e.addUndoSnapshot(function(t,n){e.queryElements("a[href]",1,r.unwrap),e.select(t,n)},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=function(e,t){var n="justifyLeft",o="left";1==t?(n="justifyCenter",o="center"):2==t&&(n="justifyRight",o="right"),e.addUndoSnapshot(function(){r.default(e,n),e.queryElements("[align]",1,function(e){return e.style.textAlign=o})},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.focus();for(var n=[],r=e.getSelectionTraverser(),o=r&&r.currentBlockElement;o;)n.push(o),o=r.getNextBlockElement();n.length>0&&e.addUndoSnapshot(function(r,o){for(var i=0,a=n;i<a.length;i++){var s=a[i].collapseToSingleElement();s.setAttribute("dir",0==t?"ltr":"rtl"),s.style.textAlign=0==t?"left":"right"}e.select(r,o)},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.focus(),e.addUndoSnapshot(function(){e.queryElements("img",1,function(e){return e.setAttribute("alt",t)})},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29);t.default=function(e,t){var n=0==t?"indent":"outdent";e.addUndoSnapshot(function(){var t;return e.focus(),e.getElementAtCursor("OL,UL")?t=r.default(e,n):(e.getDocument().execCommand(n,!1,null),e.queryElements("BLOCKQUOTE",1,function(e){t=t||e,e.style.marginTop="0px",e.style.marginBottom="0px"})),t},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29);t.default=function(e){e.focus(),e.addUndoSnapshot(function(){return r.default(e,"insertUnorderedList")},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29);t.default=function(e){e.focus(),e.addUndoSnapshot(function(){return r.default(e,"insertOrderedList")},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(61),o="blockquote",i=function(e){e.style.borderLeft="3px solid",e.style.borderColor="#C8C8C8",e.style.paddingLeft="10px",e.style.color="#666666"};t.default=function(e,t){r.default(e,o,t||i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(61),o=n(0),i="pre",a="code",s="CODE";function l(e){var t=o.wrap(e,a);return o.wrap(t,i)}function u(e){if(!e)return null;var t=e.childNodes[0];return 1==e.childNodes.length&&o.getTagOfNode(t)==s&&o.unwrap(t),o.unwrap(e)}t.default=function(e,t){r.default(e,i,t,l,u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=function(e){r.default(e,"strikeThrough")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=function(e){r.default(e,"subscript")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=function(e){r.default(e,"superscript")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){t=Math.min(Math.max(Math.round(t),0),6),e.addUndoSnapshot(function(){e.focus();var n=!1;if(e.queryElements("H1,H2,H3,H4,H5,H6",1,function(t){n||(e.getDocument().execCommand("formatBlock",!1,"<DIV>"),n=!0);for(var r=e.getDocument().createElement("div");t.firstChild;)r.appendChild(t.firstChild);e.replaceNode(t,r)}),t>0){for(var o=e.getSelectionTraverser(),i=o?o.currentInlineElement:null;i;){var a=r.findClosestElementAncestor(i.getContainerNode());a&&(a.style.fontSize=""),i=o.getNextInlineElement()}e.getDocument().execCommand("formatBlock",!1,"<H"+t+">")}},"Format")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0);t.default=function(e,t){var n=r.cacheGetElementAtCursor(e,t,"OL, UL"),i=o.getTagOfNode(n);return"OL"==i?2:"UL"==i?1:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){e.addUndoSnapshot(function(r,o){var i={containerNode:r.node,offset:r.offset},a={containerNode:o.node,offset:o.offset},s=t(i,a);n&&!e.select(i.containerNode,i.offset,a.containerNode,a.offset)&&s instanceof Node&&e.select(s)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o="CURSORDATA",i=function(){function e(e){this.searcher=e.getContentSearcherOfCursor()}return e.prototype.getContentSearcher=function(){return this.searcher},Object.defineProperty(e.prototype,"wordBeforeCursor",{get:function(){return this.searcher.getWordBefore()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inlineElementBeforeCursor",{get:function(){return this.searcher.getInlineElementBefore()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inlineElementAfterCursor",{get:function(){return this.searcher.getInlineElementAfter()},enumerable:!0,configurable:!0}),e.prototype.getXCharsBeforeCursor=function(e){return this.searcher.getSubStringBefore(e)},e.prototype.getTextSectionBeforeCursorTill=function(e){return this.searcher.forEachTextInlineElement(e)},e.prototype.getFirstNonTextInlineBeforeCursor=function(){return this.searcher.getNearestNonTextInlineElement()},e}();t.default=i,t.cacheGetCursorEventData=function(e,t){return r.cacheGetEventData(e,o,function(){return new i(t)})},t.clearCursorEventDataCache=function(e){r.clearEventDataCache(e,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){return e.queryElements(t,n?2:1,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);t.validateAndGetRangeForTextBeforeCursor=function(e,t,n,r){if(t&&0!=t.length)return(r?r.getContentSearcher():e.getContentSearcherOfCursor()).getRangeFromText(t,n)},t.default=function(e,t,n,o,i){return r.default(e,t,n,o,i&&i.getContentSearcher())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);t.default=function(e,t,n,o){return r.default(e,t,n,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);function o(e,t,n){var r=t instanceof Array?t.join(","):t;return e.getElementAtCursor(r,n)}t.default=o,t.cacheGetNodeAtCursor=function(e,t,n){var i=n instanceof Array?n.join(","):n;return r.cacheGetEventData(t,"GET_NODE_AT_CURSOR_"+i,function(){return o(e,n)})},t.cacheGetListElement=function(e,t){return r.cacheGetElementAtCursor(e,t,"LI")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.initialize=function(e){},e.prototype.dispose=function(){},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o="istemptitle",i=new RegExp("<a\\s+([^>]*\\s+)?(title|"+o+')="[^"]*"\\s*([^>]*)\\s+(title|'+o+')="[^"]*"(\\s+[^>]*)?>',"gm"),a=function(){function e(e,t){void 0===e&&(e=function(e){return e});var n=this;this.getTooltipCallback=e,this.target=t,this.resetAnchor=function(e){try{e.getAttribute(o)&&(e.removeAttribute(o),e.removeAttribute("title")),e.removeEventListener("mouseup",n.onClickLink)}catch(e){}},this.processLink=function(e){!e.title&&n.getTooltipCallback&&(e.setAttribute(o,"true"),e.title=n.getTooltipCallback(n.tryGetHref(e))),e.addEventListener("mouseup",n.onClickLink)},this.onClickLink=function(e){var t;if(!r.Browser.isFirefox&&(t=n.tryGetHref(e.srcElement))&&(r.Browser.isMac?e.metaKey:e.ctrlKey)){var o=n.target||"_blank",i=n.editor.getDocument().defaultView;try{i.open(t,o)}catch(e){}}}}return e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor.queryElements("a[href]",this.resetAnchor),this.editor=null},e.prototype.onPluginEvent=function(e){switch(e.eventType){case 10:this.editor.queryElements("a[href]",this.processLink);break;case 6:"CreateLink"==e.source&&this.resetAnchor(e.data);var t=this.editor.queryElements("a[href]");if(t.length>0){var n=this.getSnapshot();t.forEach(this.processLink),n==e.lastSnapshot&&(e.lastSnapshot=this.editor.getContent(!1,!0))}break;case 7:e.content=this.removeTempTooltip(e.content)}},e.prototype.getSnapshot=function(){return this.editor.getContent(!1,!0)},e.prototype.removeTempTooltip=function(e){return e.replace(i,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null==e[1]?"":e[1].trim(),r=null==e[3]?"":e[3].trim(),o=null==e[5]?"":e[5].trim();return 0===n.length&&0===r.length&&0===o.length?"<a>":"<a "+(0===r.length?n+" "+o:n+" "+r+" "+o).trim()+">"})},e.prototype.tryGetHref=function(e){var t=null;try{do{if("A"==e.tagName){t=e.href;break}e=e.parentElement}while(this.editor.contains(e))}catch(e){}return t},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(136),o=n(137),i=n(138),a=n(64),s=n(139),l=n(140),u=function(){function e(e){this.featureSet=e,this.featureMap={}}return e.prototype.initialize=function(e){var t=this;this.editor=e;var n=this.featureSet||a.getDefaultContentEditFeatures();[s.IndentWhenTab,s.OutdentWhenShiftTab,s.OutdentWhenBackOn1stEmptyLine,s.OutdentWhenEnterOnEmptyLine,s.MergeInNewLine,l.UnquoteWhenBackOnEmpty1stLine,l.UnquoteWhenEnterOnEmptyLine,i.TabInTable,i.UpDownInTable,s.AutoBullet,r.AutoLink,r.UnlinkWhenBackspaceAfterLink,o.DefaultShortcut,s.getSmartOrderedList(n.smartOrderedListStyles)].filter(function(e){return n[e.featureFlag]}).forEach(function(e){e.initialize&&e.initialize(t.editor),e.keys.forEach(function(n){var r=t.featureMap[n]||[];r.push(e),t.featureMap[n]=r})})},e.prototype.dispose=function(){this.editor=null},e.prototype.willHandleEventExclusively=function(e){return this.findFeature(e),!!this.currentFeature},e.prototype.onPluginEvent=function(e){if(this.currentFeature||6!=e.eventType||this.findFeature(e),this.currentFeature){var t=this.currentFeature;this.currentFeature=null,t.handleEvent(e,this.editor)}},e.prototype.findFeature=function(e){var t,n=this,r=!1;if(0==e.eventType){var o=e.rawEvent;r=o.ctrlKey||o.altKey||o.metaKey,t=this.featureMap[o.which]}else 6==e.eventType&&(t=this.featureMap[2048]);this.currentFeature=t&&t.filter(function(t){return(t.allowFunctionKeys||!r)&&t.shouldHandleEvent(e,n.editor)})[0]},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(3),a=/[.+=\s:;"',>]+$/i,s=5;function l(e,t){return 0==e.eventType||6==e.eventType&&"Paste"==e.source?i.cacheGetEventData(e,"LINK_DATA",function(){var n=i.cacheGetContentSearcher(e,t),o=n&&n.getWordBefore();if(o&&o.length>s){var l=(o.match(a)||[])[0]||"",u=o.substring(0,o.length-l.length);return["()","{}","[]"].forEach(function(e){u[u.length-1]==e[1]&&u.indexOf(e[0])<0&&(u=u.substr(0,u.length-1))}),r.matchLink(u)}return null}):null}t.AutoLink={keys:[13,32,2048],initialize:function(e){return r.Browser.isIE&&e.getDocument().execCommand("AutoUrlDetect",!1,!1)},shouldHandleEvent:l,handleEvent:function(e,t){var n=i.cacheGetContentSearcher(e,t),r=t.getDocument().createElement("a"),a=l(e,t);r.textContent=a.originalUrl,r.href=a.normalizedUrl,t.runAsync(function(){t.performAutoComplete(function(){return o.replaceWithNode(t,a.originalUrl,r,!1,n),i.clearContentSearcherCache(e),r},"AutoLink")})},featureFlag:"autoLink"},t.UnlinkWhenBackspaceAfterLink={keys:[8],shouldHandleEvent:function(e,t){return i.cacheGetContentSearcher(e,t).getInlineElementBefore()instanceof r.LinkInlineElement},handleEvent:function(e,t){e.rawEvent.preventDefault(),o.removeLink(t)},featureFlag:"unlinkWhenBackspaceAfterLink"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=n(6);function a(e,t,n){return{winKey:e,macKey:t,action:n}}var s=[a(322,578,i.toggleBold),a(329,585,i.toggleItalic),a(341,597,i.toggleUnderline),a(346,602,function(e){return e.undo()}),a(345,1626,function(e){return e.redo()}),a(446,702,i.toggleBullet),a(447,703,i.toggleNumbering),a(1470,1726,function(e){return i.changeFontSize(e,0)}),a(1468,1724,function(e){return i.changeFontSize(e,1)})];function l(e){return o.cacheGetEventData(e,"DEFAULT_SHORT_COMMAND",function(){var t=e.rawEvent,n=0!=e.eventType||t.altKey?0:t.which|(t.metaKey&&512)|(t.shiftKey&&1024)|(t.ctrlKey&&256);return n&&s.filter(function(e){return(r.Browser.isMac?e.macKey:e.winKey)==n})[0]})}t.DefaultShortcut={allowFunctionKeys:!0,keys:[66,73,85,89,90,188,190,191],shouldHandleEvent:l,handleEvent:function(e,t){var n=l(e);n&&(n.action(t),e.rawEvent.preventDefault(),e.rawEvent.stopPropagation())},featureFlag:"defaultShortcut"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0);function i(e,t){var n=r.cacheGetElementAtCursor(t,e,"TD,TH,LI");return"LI"==o.getTagOfNode(n)?null:n}t.TabInTable={keys:[9],shouldHandleEvent:i,handleEvent:function(e,t){for(var n=e.rawEvent.shiftKey,r=i(e,t),a=new o.VTable(r),s=n?-1:1,l=a.row,u=a.col+s;;u+=s){if(u<0||u>=a.cells[l].length){if((l+=s)<0||l>=a.cells.length){t.select(a.table,n?-2:-3);break}u=n?a.cells[l].length-1:0}var c=a.getCell(l,u);if(c.td){t.select(c.td,0);break}}e.rawEvent.preventDefault()},featureFlag:"tabInTable"},t.UpDownInTable={keys:[38,40],shouldHandleEvent:i,handleEvent:function(e,t){for(var n=i(e,t),r=new o.VTable(n),a=38==e.rawEvent.which,s=a?-1:1,l=null,u=r.row;u>=0&&u<r.cells.length;u+=s){var c=r.getCell(u,r.col);if(c.td&&c.td!=n){l=c.td;break}}t.runAsync(function(){var e=t.getElementAtCursor();o.contains(r.table,e)&&!o.contains(n,e,!0)&&(l?t.select(l,0):t.select(r.table,a?-2:-3))})},featureFlag:"upDownInTable"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(6),i=n(0);function a(e,t){var n=s(e,t);if(n){var r=n[0],a=i.getTagOfNode(r);"UL"==a?o.toggleBullet(t):"OL"==a&&o.toggleNumbering(t),t.focus(),e.rawEvent.preventDefault()}}function s(e,t){var n=r.cacheGetElementAtCursor(t,e,"LI,TABLE"),o=n&&"LI"==i.getTagOfNode(n)&&t.getElementAtCursor("UL,OL",n);return o?[o,n]:null}t.IndentWhenTab={keys:[9],shouldHandleEvent:function(e,t){return!e.rawEvent.shiftKey&&s(e,t)},handleEvent:function(e,t){o.setIndentation(t,0),e.rawEvent.preventDefault()},featureFlag:"indentWhenTab"},t.OutdentWhenShiftTab={keys:[9],shouldHandleEvent:function(e,t){return e.rawEvent.shiftKey&&s(e,t)},handleEvent:function(e,t){o.setIndentation(t,1),e.rawEvent.preventDefault()},featureFlag:"outdentWhenShiftTab"},t.MergeInNewLine={keys:[8],shouldHandleEvent:function(e,t){var n=r.cacheGetElementAtCursor(t,e,"LI"),o=t.getSelectionRange();return n&&o&&i.isPositionAtBeginningOf(i.Position.getStart(o),n)},handleEvent:function(e,t){r.cacheGetElementAtCursor(t,e,"LI").previousSibling?t.runAsync(function(){var e=t.getDocument().createElement("BR");t.insertNode(e),t.select(e,-3)}):a(e,t)},featureFlag:"mergeInNewLineWhenBackspaceOnFirstChar"},t.OutdentWhenBackOn1stEmptyLine={keys:[8],shouldHandleEvent:function(e,t){var n=r.cacheGetElementAtCursor(t,e,"LI");return n&&i.isNodeEmpty(n)&&!n.previousSibling},handleEvent:a,featureFlag:"outdentWhenBackspaceOnEmptyFirstLine"},t.OutdentWhenEnterOnEmptyLine={keys:[13],shouldHandleEvent:function(e,t){var n=r.cacheGetElementAtCursor(t,e,"LI");return!e.rawEvent.shiftKey&&n&&i.isNodeEmpty(n)},handleEvent:function(e,t){t.performAutoComplete(function(){return a(e,t)})},featureFlag:"outdentWhenEnterOnEmptyLine"},t.AutoBullet={keys:[32],shouldHandleEvent:function(e,t){if(!s(e,t)){var n=r.cacheGetContentSearcher(e,t),o=n.getSubStringBefore(3);return["*","-","1."].indexOf(o)>=0&&!n.getNearestNonTextInlineElement()}return!1},handleEvent:function(e,t){t.runAsync(function(){t.performAutoComplete(function(){var e=t.getContentSearcherOfCursor(),n=e.getSubStringBefore(3),r=e.getRangeFromText(n,!0);r&&r.deleteContents();var a=t.getDocument().createElement("BR");(i.Browser.isChrome||i.Browser.isSafari||i.Browser.isIE11OrGreater)&&t.insertNode(a),0==n.indexOf("1.")?o.toggleNumbering(t):o.toggleBullet(t),t.deleteNode(a)})})},featureFlag:"autoBullet"},t.getSmartOrderedList=function(e){return{keys:[2048],shouldHandleEvent:function(e,t){return e.data instanceof HTMLOListElement},handleEvent:function(t,n){var r=t.data,o=n.getElementAtCursor("OL",r.parentNode);if(o){var i=e&&e.length>0?e:["decimal"];r.style.listStyle=i[(i.indexOf(o.style.listStyle)+1)%i.length]}},featureFlag:"smartOrderedList"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0),i="BLOCKQUOTE";function a(e,t){return r.cacheGetEventData(e,"QUOTE_CHILD",function(){var e=t.getElementAtCursor();if(o.getTagOfNode(e)==i)return e.firstChild;for(;t.contains(e)&&o.getTagOfNode(e.parentNode)!=i;)e=e.parentNode;return e&&o.getTagOfNode(e.parentNode)==i?e:null})}function s(e,t){t.addUndoSnapshot(function(){var n=a(e,t),r=o.splitBalancedNodeRange(n);o.unwrap(r),t.select(n,0)}),e.rawEvent.preventDefault()}t.UnquoteWhenBackOnEmpty1stLine={keys:[8],shouldHandleEvent:function(e,t){var n=a(e,t);return n&&o.isNodeEmpty(n)&&!n.previousSibling},handleEvent:s,featureFlag:"unquoteWhenBackspaceOnEmptyFirstLine"},t.UnquoteWhenEnterOnEmptyLine={keys:[13],shouldHandleEvent:function(e,t){var n=a(e,t);return!e.rawEvent.shiftKey&&n&&o.isNodeEmpty(n)},handleEvent:function(e,t){return t.performAutoComplete(function(){return s(e,t)})},featureFlag:"unquoteWhenEnterOnEmptyLine"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(142),o=n(143),i=n(65),a=n(6),s=n(9),l=n(0),u=function(){function e(e,t){var n=this;this.onPaste=function(e){r.default(e,n.editor,function(e){var t=s.htmlToDom(e.html,!0,o.default);if(t&&t.body){n.sanitizer.convertGlobalCssToInlineCss(t);var r=n.editor.getSelectionRange(),i=r&&l.Position.getStart(r).normalize().element,a=s.getInheritableStyles(i);n.sanitizer.sanitize(t.body,a),e.html=t.body.innerHTML}n.pasteOriginal(e)})},this.sanitizer=new s.HtmlSanitizer({attributeCallbacks:t})}return e.prototype.initialize=function(e){this.editor=e,this.pasteDisposer=e.addDomEventHandler("paste",this.onPaste)},e.prototype.dispose=function(){this.pasteDisposer(),this.pasteDisposer=null,this.editor=null},e.prototype.pasteOriginal=function(e){this.paste(e,this.detectPasteOption(e))},e.prototype.pasteText=function(e){this.paste(e,1)},e.prototype.pasteAndMergeFormat=function(e){this.paste(e,this.detectPasteOption(e),!0)},e.prototype.detectPasteOption=function(e){return e.text||!e.image?0:2},e.prototype.paste=function(e,t,n){var r=this.editor.getDocument(),o=r.createDocumentFragment();if(0==t)for(var i=e.html,a=0,s=l.fromHtml(i,r);a<s.length;a++){var u=s[a];n&&this.applyTextFormat(u,e.originalFormat),o.appendChild(u)}var c={eventType:8,clipboardData:e,fragment:o,pasteOption:t};this.editor.triggerEvent(c,!0),this.internalPaste(c)},e.prototype.internalPaste=function(e){var t=this,n=e.clipboardData,r=e.fragment,o=e.pasteOption;this.editor.focus(),this.editor.addUndoSnapshot(function(){switch(null==n.snapshotBeforePaste?n.snapshotBeforePaste=t.editor.getContent(!1,!0):t.editor.setContent(n.snapshotBeforePaste),o){case 0:t.editor.insertNode(r);break;case 1:var e=i.default(n.text);t.editor.insertContent(e);break;case 2:a.insertImage(t.editor,n.image)}return n},"Paste")},e.prototype.applyTextFormat=function(e,t){for(var n=l.getFirstLeafNode(e),r=[];n;)3==n.nodeType&&n.parentNode&&r.indexOf(n.parentNode)<0&&r.push(n.parentNode),n=l.getNextLeafSibling(e,n);for(var o=0,i=r;o<i.length;o++){var a=i[o];l.applyFormat(a,t)}},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65),o=n(0),i=n(6),a='<div contenteditable style="width: 1px; height: 1px; overflow: hidden; position: fixed; top: 0; left; 0; -webkit-user-select: text"></div>',s=/^Version:[0-9\.]+\s+StartHTML:\s*([0-9]+)\s+EndHTML:\s*([0-9]+)\s+/i;t.default=function(e,t,n){var l=e.clipboardData||t.getDocument().defaultView.clipboardData,u=l.types?[].slice.call(l.types):[],c=l.getData("text"),d=function(e){o.Browser.isEdge&&(e=function(e){var t=s.exec(e);if(t&&3==t.length){var n=parseInt(t[1]),r=parseInt(t[2]);n>0&&r>n&&(e=e.substring(n,r))}return e}(e)),n({snapshotBeforePaste:null,originalFormat:function(e){var t=i.getFormatState(e);return t?{fontFamily:t.fontName,fontSize:t.fontSize,textColor:t.textColor,backgroundColor:t.backgroundColor,bold:t.isBold,italic:t.isItalic,underline:t.isUnderline}:{}}(t),types:u,image:function(e){for(var t=e.items?e.items.length:0,n=0;n<t;n++){var r=e.items[n];if(r.type&&0==r.type.indexOf("image/"))return r.getAsFile()}t=e.files?e.files.length:0;for(var n=0;n<t;n++){var o=e.files.item(n);if(o.type&&0==o.type.indexOf("image/"))return o}return null}(l),text:c,html:e||r.default(c||"")})};e.clipboardData&&e.clipboardData.items?function(e,t){e.preventDefault();for(var n=e.clipboardData.items,r=0;r<n.length;r++){var o=n[r];if(o.type&&0==o.type.indexOf("text/html"))return void o.getAsString(t)}t(null)}(e,d):function(e,t){var n=e.getSelectionRange(),r=function(e){var t=e.getCustomData("PasteDiv",function(){var t=o.fromHtml(a,e.getDocument())[0];return e.insertNode(t,{position:3,updateCursor:!1,replaceSelection:!1,insertOnNewLine:!1}),t},function(e){e.parentNode.removeChild(e)});return t.style.display="",t}(e);r.focus(),e.runAsync(function(){e.select(n),t(r.innerHTML),r.style.display="none",r.innerHTML=""})}(t,d)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(144),o=n(145),i=n(0),a=n(9),s="xmlns:w",l="urn:schemas-microsoft-com:office:word",u="xmlns:x",c="urn:schemas-microsoft-com:office:excel",d=/<\/\s*td\s*>((?!<\/\s*tr\s*>)[\s\S])*$/i,f=/<\/\s*tr\s*>((?!<\/\s*table\s*>)[\s\S])*$/i,h=/<tr[^>]*>[^<]*/i,p=/<table[^>]*>[^<]*/i;t.default=function(e,t){var n=a.splitWithFragment(t),v=n[0],g=n[1],m=e&&e.body&&e.querySelector("html");if("HTML"==i.getTagOfNode(m))if(m.getAttribute(s)==l)e.body.innerHTML=v,o.default(e);else if(m.getAttribute(u)==c){if(v.match(d)){var y=g.match(h);v=(y?y[0]:"<TR>")+v+"</TR>"}if(v.match(f)){var E=g.match(p);v=(E?E[0]:"<TABLE>")+v+"</TABLE>"}e.body.innerHTML=v,r.default(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);t.default=function(e){var t=new r.HtmlSanitizer({styleCallbacks:{border:function(e,t){return"none"!=e||"none"!=t.style.border}},additionalAllowAttributes:["class"]});t.sanitize(e.body);var n=e.createElement("style");e.body.appendChild(n),n.innerHTML="td {border: solid 1px #d4d4d4}",t.convertGlobalCssToInlineCss(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(146),o=n(147),i=n(9),a=n(148);t.default=function(e){var t;new i.HtmlSanitizer({elementCallbacks:(t={},t["O:P"]=function(){return!1},t),additionalAllowAttributes:["class"]}).sanitize(e.body);var n=r.createWordConverter(),s=e.querySelectorAll("p");s.length>0&&(n.wordConverterArgs=o.createWordConverterArguments(s),a.processNodesDiscovery(n)&&a.processNodeConvert(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66);t.createWordConverter=function(){return{nextUniqueId:1,numBulletsConverted:0,numNumberedConverted:0,wordConverterArgs:null,customData:r.createCustomData()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67);t.createWordConverterArguments=function(e){return{nodes:e,currentIndex:0,lists:{},listItems:[],currentListIdsByLevels:[r.createLevelLists()],lastProcessedItem:null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67),o=n(66),i=n(0),a=5,s="UniqueListId",l="mso-list",u=/[\n|\r]/gi;function c(e,t,n,r){var a=function e(t,n,r){var o=null;var a;1==n?a=g(t):(o=e(t,n-1,null),a=o.lastChild);if(a&&1==a.nodeType){var s=i.getTagOfNode(a);if("UL"==s||"OL"==s)return a}var l=t.ownerDocument.createElement(r?r.tagName:"UL");1==n?t.parentNode.insertBefore(l,t):o.appendChild(l);return l}(t,n.level,r),l=o.getObject(e.customData,a,s);if(l&&l!=n.uniqueListId||!l&&a.firstChild){var u=t.ownerDocument.createElement(r.tagName);a.parentNode.insertBefore(u,a.nextSibling),a=u}return o.setObject(e.customData,a,s,n.uniqueListId),function(e,t,n){if(n.tagName!=i.getTagOfNode(t)){var r=t.ownerDocument.createElement(n.tagName);for(o.setObject(e.customData,r,s,o.getObject(e.customData,t,s));t.firstChild;)r.appendChild(t.firstChild);t.parentNode.insertBefore(r,t),t.parentNode.removeChild(t),t=r}return t}(e,a,r)}function d(e,t){for(var n=[],r=e.firstChild;r;r=r.nextSibling)1==r.nodeType&&t>1&&d(r,t-1),(E(r=v(r,!0))||y(r))&&n.push(r);n.forEach(function(t){return e.removeChild(t)})}function f(e){if(1==e.nodeType){var t=b(e,l);if(t&&t.length>0)try{var n=t.split(" ");if(3==n.length)return{level:parseInt(n[1].substr("level".length)),wordListId:t,originalNode:e,uniqueListId:0}}catch(e){}}return null}function h(e){return function(e){return["o","Â·","Â§","-"].indexOf(e)>=0}(e)?"UL":"OL"}function p(e,t){for(var n=null,r=e.firstChild;!n&&r;)y(r=v(r,!0))?0==(n=r.textContent.trim()).length&&(n="o"):1==r.nodeType&&t>1&&(n=p(r,t-1)),r=r.nextSibling;return n}function v(e,t){if(8==e.nodeType){var n=e.data;if(n&&"[if !supportlists]"==n.trim().toLowerCase()){for(var r=e,o=null,i=0;i<4&&(r=m(r));i++)if(8==r.nodeType&&(n=r.data)&&"[endif]"==n.trim().toLowerCase()){o=r;break}if(o){var a=e.ownerDocument.createElement("span");for(a.setAttribute("style","mso-list: ignore"),r=m(e);r!=o;)r=r.nextSibling,a.appendChild(r.previousSibling);o.parentNode.insertBefore(a,o),t&&(e.parentNode.removeChild(e),o.parentNode.removeChild(o)),e=a}}}return e}function g(e){var t=e;do{t=t.previousSibling}while(t&&C(t));return t}function m(e){var t=e;do{t=t.nextSibling}while(t&&C(t));return t}function y(e){if(1==e.nodeType){var t=b(e,l);if(t&&t.length>0&&"ignore"==t.trim().toLowerCase())return!0}return!1}function E(e){return"SPAN"==i.getTagOfNode(e)&&!e.firstChild}function b(e,t){var n=e.getAttribute("style");if(n&&n.length>0&&n.indexOf(t)>=0)for(var r=n.split(";"),o=0;o<r.length;o++){var i=r[o].split(":");if(2==i.length&&i[0].trim()==t)return i[1].trim()}return null}function C(e){if(!e)return!0;if(3==e.nodeType){var t=e.nodeValue;return 0==(t=t.replace(u,"")).trim().length}var n=i.getTagOfNode(e);return e.firstChild==e.lastChild&&("SPAN"==n||"FONT"==n)&&C(e.firstChild)}function S(e){for(var t=0;t<e.currentListIdsByLevels.length;t++){var n=e.currentListIdsByLevels[t];n&&(n.currentUniqueListId=-1)}}t.processNodesDiscovery=function(e){for(var t=e.wordConverterArgs;t.currentIndex<t.nodes.length;){var n=t.nodes.item(t.currentIndex),o=f(n);if(o){var i=t.currentListIdsByLevels[o.level-1]||r.createLevelLists();t.currentListIdsByLevels[o.level-1]=i,t.lastProcessedItem&&g(n)!=t.lastProcessedItem&&S(t);var s=i.listsMetadata[o.wordListId];if(s){if(!s.ignore&&1==s.numberOfItems){var l=p(n,a);s.tagName=s.firstFakeBullet==l?"UL":"OL"}}else{var u=p(n,a);s={numberOfItems:0,uniqueListId:e.nextUniqueId++,firstFakeBullet:u,ignore:!u||0==u.length,tagName:h(u)},i.listsMetadata[o.wordListId]=s,t.lists[s.uniqueListId.toString()]=s}o.uniqueListId=s.uniqueListId,s.ignore||"OL"==s.tagName&&s.numberOfItems>0&&i.currentUniqueListId!=o.uniqueListId?(s.ignore=!0,t.currentListIdsByLevels[0].currentUniqueListId=-1,t.currentListIdsByLevels=t.currentListIdsByLevels.slice(0,1)):(t.currentListIdsByLevels.length>o.level&&(t.currentListIdsByLevels=t.currentListIdsByLevels.slice(0,o.level)),i.currentUniqueListId=o.uniqueListId,t.listItems.push(o),s.numberOfItems++),t.lastProcessedItem=n}else{var c=t.lastProcessedItem;if(c&&g(n)==c&&n.tagName==c.tagName&&n.className==c.className){for(c.appendChild(c.ownerDocument.createElement("br")),c.appendChild(c.ownerDocument.createElement("br"));null!=n.firstChild;)c.appendChild(n.firstChild);n.parentNode.removeChild(n)}}t.currentIndex++}return t.listItems.length>0},t.processNodeConvert=function(e){var t=e.wordConverterArgs;for(t.currentIndex=0;t.currentIndex<t.listItems.length;){var n=t.listItems[t.currentIndex],r=n.originalNode,o=t.lists[n.uniqueListId.toString()];if(!o.ignore){var i=c(e,r,n,o);if(i){d(r,a);for(var s=r.ownerDocument.createElement("LI");r.firstChild;)s.appendChild(r.firstChild);i.appendChild(s),r.parentNode.removeChild(r),"UL"==o.tagName?e.numBulletsConverted++:e.numNumberedConverted++}}t.currentIndex++}return e.numBulletsConverted>0||e.numNumberedConverted>0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=new RegExp("<span[^>]*id=['\"]?_rooster_watermarkSpan['\"]?[^>]*>[^<]*</span>","ig"),i=function(){function e(e,t){var n=this;this.watermark=e,this.format=t,this.handleWatermark=function(){n.showHideWatermark(!1)},this.format=this.format||{fontSize:"14px",textColor:"#aaa"}}return e.prototype.initialize=function(e){this.editor=e,this.showHideWatermark(!1),this.focusDisposer=this.editor.addDomEventHandler("focus",this.handleWatermark),this.blurDisposer=this.editor.addDomEventHandler("blur",this.handleWatermark)},e.prototype.dispose=function(){this.focusDisposer(),this.blurDisposer(),this.focusDisposer=null,this.blurDisposer=null,this.hideWatermark(),this.editor=null},e.prototype.onPluginEvent=function(e){6==e.eventType?this.showHideWatermark("SetContent"==e.source):7==e.eventType&&this.isWatermarkShowing&&this.removeWartermarkFromHtml(e)},e.prototype.showHideWatermark=function(e){this.editor.hasFocus()&&(e||this.isWatermarkShowing)?(this.hideWatermark(),this.editor.focus()):this.editor.hasFocus()||!e&&this.isWatermarkShowing||!this.editor.isEmpty(!0)||this.showWatermark()},e.prototype.showWatermark=function(){var e=this.editor.getDocument(),t=r.wrap(e.createTextNode(this.watermark),'<span id="_rooster_watermarkSpan"></span>');r.applyFormat(t,this.format),this.editor.insertNode(t,{position:0,updateCursor:!1,replaceSelection:!1,insertOnNewLine:!1}),this.isWatermarkShowing=!0},e.prototype.hideWatermark=function(){var e=this;this.editor.queryElements('span[id="_rooster_watermarkSpan"]',function(t){return e.editor.deleteNode(t)}),this.isWatermarkShowing=!1},e.prototype.removeWartermarkFromHtml=function(e){var t=e.content;t=t.replace(o,""),e.content=t},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){function e(e){var t=this;this.pageX=-1,this.onMouseOver=function(e){var n=e.srcElement||e.target;t.pageX<0&&n&&("TD"==n.tagName||"TH"==n.tagName)&&n!=t.td&&(t.td=n,t.calcAndShowHandle())},this.onMouseDown=function(e){t.editor&&!t.editor.isDisposed()&&(t.pageX=e.pageX,t.initialPageX=e.pageX,t.attachMouseEvents(),t.getResizeHandle().style.borderWidth="0 1px",t.cancelEvent(e))},this.onMouseMove=function(e){t.adjustHandle(e.pageX),t.cancelEvent(e)},this.onMouseUp=function(e){t.detachMouseEvents(),t.getResizeHandle().style.borderWidth="0";var n=t.editor.getElementAtCursor("TABLE",t.td),r=parseInt(n.cellPadding);if(r=isNaN(r)?0:r,e.pageX!=t.initialPageX){var o=t.td.clientWidth-2*r+(e.pageX-t.initialPageX)*(t.isRtl(n)?-1:1);t.editor.addUndoSnapshot(function(e,n){t.setTableColumnWidth(o+"px"),t.editor.select(e,n)},"Format")}t.pageX=-1,t.calcAndShowHandle(),t.editor.focus(),t.cancelEvent(e)}}return e.prototype.initialize=function(e){this.editor=e,this.onMouseOverDisposer=this.editor.addDomEventHandler("mouseover",this.onMouseOver)},e.prototype.dispose=function(){this.detachMouseEvents(),this.editor=null,this.onMouseOverDisposer()},e.prototype.onPluginEvent=function(e){this.td&&(0==e.eventType||6==e.eventType||4==e.eventType&&!this.clickIntoCurrentTd(e))&&(this.td=null,this.calcAndShowHandle())},e.prototype.clickIntoCurrentTd=function(e){var t=e.rawEvent.target;return t instanceof Node&&r.contains(this.td,t,!0)},e.prototype.calcAndShowHandle=function(){if(this.td){var e=this.editor.getElementAtCursor("TR",this.td),t=this.editor.getElementAtCursor("TABLE",e);if(e&&t){var n=this.getPosition(t),r=n[0],o=n[1],i=this.getResizeHandle();r+=this.td.offsetLeft+(this.isRtl(t)?0:this.td.offsetWidth-6),i.style.display="",i.style.top=o+"px",i.style.height=t.offsetHeight+"px",i.style.left=r+"px"}}else this.getResizeHandle().style.display="none"},e.prototype.adjustHandle=function(e){var t=this.getResizeHandle();t.style.left=t.offsetLeft+e-this.pageX+"px",this.pageX=e},e.prototype.getPosition=function(e){var t=e.offsetParent,n=t?this.getPosition(t):[0,0],r=n[0],o=n[1];return[r+e.offsetLeft-e.scrollLeft,o+e.offsetTop-e.scrollTop]},e.prototype.getResizeHandle=function(){var e=this;return this.editor.getCustomData("TABLE_RESIZE_HANDLE",function(){var t=e.editor.getDocument(),n=r.fromHtml('<div style="position: fixed; cursor: col-resize; width: 6px; border: solid 0 #C6C6C6;"></div>',t)[0];return e.editor.insertNode(n,{position:3,updateCursor:!1,replaceSelection:!1,insertOnNewLine:!1}),n.addEventListener("mousedown",e.onMouseDown),n},function(t){t.removeEventListener("mousedown",e.onMouseDown),t.parentNode.removeChild(t)})},e.prototype.cancelEvent=function(e){e.stopPropagation(),e.preventDefault()},e.prototype.attachMouseEvents=function(){if(this.editor&&!this.editor.isDisposed()){var e=this.editor.getDocument();e.addEventListener("mousemove",this.onMouseMove,!0),e.addEventListener("mouseup",this.onMouseUp,!0)}},e.prototype.detachMouseEvents=function(){if(this.editor&&!this.editor.isDisposed()){var e=this.editor.getDocument();e.removeEventListener("mousemove",this.onMouseMove,!0),e.removeEventListener("mouseup",this.onMouseUp,!0)}},e.prototype.setTableColumnWidth=function(e){var t=this,n=new r.VTable(this.td);return n.table.style.width="",n.table.width="",n.forEachCellOfCurrentColumn(function(n){n.td&&(n.td.style.width=n.td==t.td?e:"")}),n.writeBack(),this.editor.contains(this.td)?this.td:n.getCurrentTd()},e.prototype.isRtl=function(e){return"rtl"==r.getComputedStyle(e,"direction")},e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i="RoosterJsImageResizingBegin",a="RoosterJsImageResizingEnd",s=new RegExp("\x3c!--"+i+"--\x3e[\\s\\S]*(<img\\s[^>]+>)[\\s\\S]*\x3c!--"+a+"--\x3e","gim"),l=function(){function e(e,t,n,r,o){void 0===e&&(e=10),void 0===t&&(t=10),void 0===n&&(n="#DB626C"),void 0===r&&(r=!1),void 0===o&&(o="img");var s=this;this.minWidth=e,this.minHeight=t,this.selectionBorderColor=n,this.forcePreserveRatio=r,this.resizableImageSelector=o,this.startResize=function(e){var t=s.getSelectedImage();if(s.editor&&t){s.startPageX=e.pageX,s.startPageY=e.pageY,s.startWidth=t.clientWidth,s.startHeight=t.clientHeight,s.editor.addUndoSnapshot();var n=s.editor.getDocument();n.addEventListener("mousemove",s.doResize,!0),n.addEventListener("mouseup",s.finishResize,!0),s.direction=(e.srcElement||e.target).style.cursor}e.preventDefault()},this.doResize=function(e){var t=s.getSelectedImage();if(s.editor&&t){var n=e.pageX-s.startPageX,r=e.pageY-s.startPageY,o=Math.max(s.startWidth+(s.isWest(s.direction)?-n:n),s.minWidth),i=Math.max(s.startHeight+(s.isNorth(s.direction)?-r:r),s.minHeight);if(s.forcePreserveRatio||e.shiftKey){var a=s.startWidth>0&&s.startHeight>0?1*s.startWidth/s.startHeight:0;a>0&&(o<i*a?o=i*a:i=o/a)}t.style.width=o+"px",t.style.height=i+"px"}e.preventDefault()},this.finishResize=function(e){var t=s.getSelectedImage();if(s.editor&&t){var n=s.editor.getDocument();n.removeEventListener("mousemove",s.doResize,!0),n.removeEventListener("mouseup",s.finishResize,!0);var r=t.clientWidth,o=t.clientHeight;t.style.width=r+"px",t.style.height=o+"px",t.width=r,t.height=o,s.resizeDiv.style.width="",s.resizeDiv.style.height=""}s.direction=null,s.editor.addUndoSnapshot(),s.editor.triggerContentChangedEvent("ImageResize"),e.preventDefault()},this.removeResizeDivIfAny=function(e){var t=e&&e.parentNode,n=t&&t.previousSibling,r=t&&t.nextSibling;n&&8==n.nodeType&&n.nodeValue==i&&r&&8==r.nodeType&&r.nodeValue==a&&(t.parentNode.insertBefore(e,t),s.removeResizeDiv(t))},this.onDragStart=function(e){(e.srcElement||e.target)==s.getSelectedImage()&&s.hideResizeHandle(!0)}}return e.prototype.initialize=function(e){this.editor=e,this.dragStartDisposer=e.addDomEventHandler("dragstart",this.onDragStart)},e.prototype.dispose=function(){this.resizeDiv&&this.hideResizeHandle(),this.dragStartDisposer&&(this.dragStartDisposer(),this.dragStartDisposer=null),this.editor=null},e.prototype.onPluginEvent=function(e){var t=this;if(4==e.eventType){var n=e.rawEvent,r=n.srcElement||n.target;if("IMG"==o.getTagOfNode(r)){var i=r.parentNode;if((i?[].slice.call(i.querySelectorAll(this.resizableImageSelector)):[]).indexOf(r)<0)return;r.contentEditable="false";var a=this.getSelectedImage();a&&a!=r&&this.hideResizeHandle(),this.resizeDiv||this.showResizeHandle(r)}else this.resizeDiv&&!o.contains(this.resizeDiv,r)&&this.hideResizeHandle()}else if(0==e.eventType&&this.resizeDiv){var s=e.rawEvent;46==s.which||8==s.which?(this.editor.addUndoSnapshot(function(){t.removeResizeDiv(t.resizeDiv)}),this.resizeDiv=null,s.preventDefault(),this.resizeDiv=null):16!=s.which&&17!=s.which&&18!=s.which&&this.hideResizeHandle()}else if(6==e.eventType&&"ImageResize"!=e.source)this.editor.queryElements("img",this.removeResizeDivIfAny),this.resizeDiv=null;else if(7==e.eventType){var l=e;l.content=this.extractHtml(l.content)}},e.prototype.showResizeHandle=function(e){this.resizeDiv=this.createResizeDiv(e),e.contentEditable="false",this.editor.select(this.resizeDiv,-3)},e.prototype.hideResizeHandle=function(e){var t=this.getSelectedImage(),n=this.resizeDiv&&this.resizeDiv.parentNode;if(n){if(t){t.removeAttribute("contentEditable");var r=this.resizeDiv.previousSibling&&8==this.resizeDiv.previousSibling.nodeType?this.resizeDiv.previousSibling:this.resizeDiv;n.insertBefore(t,r),e?this.editor.select(t):this.editor.select(t,-3)}this.removeResizeDiv(this.resizeDiv),this.resizeDiv=null}},e.prototype.createResizeDiv=function(e){var t=this,n=this.editor.getDocument(),r=n.createElement("DIV"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(n.createComment(i),r),o.insertBefore(n.createComment(a),r.nextSibling),r.style.position="relative",r.style.display="inline-flex",r.contentEditable="false",r.appendChild(e),["nw","ne","sw","se"].forEach(function(e){var o=n.createElement("DIV");r.appendChild(o),o.style.position="absolute",o.style.width="7px",o.style.height="7px",o.style.backgroundColor=t.selectionBorderColor,o.style.cursor=e+"-resize",t.isNorth(e)?o.style.top="-3px":o.style.bottom="-3px",t.isWest(e)?o.style.left="-3px":o.style.right="-3px",o.addEventListener("mousedown",t.startResize)});var s=n.createElement("DIV");return r.appendChild(s),s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.right="0",s.style.bottom="0",s.style.border="solid 1px "+this.selectionBorderColor,s.style.pointerEvents="none",r},e.prototype.removeResizeDiv=function(e){var t=this;this.editor&&this.editor.contains(e)&&([e.previousSibling,e.nextSibling].forEach(function(e){e&&8==e.nodeType&&t.editor.deleteNode(e)}),this.editor.deleteNode(e))},e.prototype.extractHtml=function(e){return e.replace(s,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[1].replace(/(\s*contenteditable="false"(\/?>)|contenteditable="false"\s*)/im,"$2")})},e.prototype.getSelectedImage=function(){return this.resizeDiv?this.resizeDiv.getElementsByTagName("IMG")[0]:null},e.prototype.isNorth=function(e){return e&&"n"==e.substr(0,1)},e.prototype.isWest=function(e){return e&&"w"==e.substr(1,1)},e}();t.default=l;var u=function(e){function t(t,n,r,o){void 0===t&&(t=10),void 0===n&&(n=10),void 0===r&&(r="#DB626C"),void 0===o&&(o=!1);var i=e.call(this,t,n,r,o)||this;return console.warn("ImageResizePlugin class is deprecated. Use ImageResize class instead"),i}return r(t,e),t}(l);t.ImageResizePlugin=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(153),o=n(154),i=n(63),a=n(68),s=n(3),l=n(30),u=n(30),c=n(62);function d(){l.setCurrentEditor(null);var e=[];document.getElementById("hyperlinkCheckbox").checked&&e.push(new i.HyperLink),document.getElementById("pasteCheckbox").checked&&e.push(new i.Paste);var t=i.getDefaultContentEditFeatures(),n=!1;if(document.getElementById("contentEditCheckbox").checked){t.autoLink=document.getElementById("autoLinkCheckbox").checked,t.indentWhenTab=document.getElementById("indentWhenTabCheckbox").checked,t.outdentWhenShiftTab=document.getElementById("outdentWhenShiftTabCheckbox").checked,t.outdentWhenBackspaceOnEmptyFirstLine=document.getElementById("outdentWhenBackspaceOnEmptyFirstLineCheckbox").checked,t.outdentWhenEnterOnEmptyLine=document.getElementById("outdentWhenEnterOnEmptyLineCheckbox").checked,t.mergeInNewLineWhenBackspaceOnFirstChar=document.getElementById("mergeInNewLineWhenBackspaceOnFirstCharCheckbox").checked,t.unquoteWhenBackspaceOnEmptyFirstLine=document.getElementById("unquoteWhenBackspaceOnEmptyFirstLineCheckbox").checked,t.unquoteWhenEnterOnEmptyLine=document.getElementById("unquoteWhenEnterOnEmptyLineCheckbox").checked,t.autoBullet=document.getElementById("autoBulletCheckbox").checked,t.tabInTable=document.getElementById("tabInTableCheckbox").checked,t.upDownInTable=document.getElementById("upDownInTableCheckbox").checked,t.unlinkWhenBackspaceAfterLink=document.getElementById("unlinkWhenBackspaceAfterLinkCheckbox").checked,t.defaultShortcut=document.getElementById("defaultShortcutCheckbox").checked,t.smartOrderedList=document.getElementById("smartOrderedListCheckbox").checked,e.push(new i.ContentEdit(t));for(var u=i.getDefaultContentEditFeatures(),d=0,f=Object.keys(u);d<f.length;d++){var h=f[d];if("smartOrderedListStyles"!=h&&t[h]!=u[h]){n=!0;break}}}document.getElementById("watermarkCheckbox").checked&&e.push(new i.Watermark("Type content here...")),document.getElementById("imageResizeCheckbox").checked&&e.push(new a.ImageResize),document.getElementById("tableResizeCheckbox").checked&&e.push(new i.TableResize),e.push(new r.default(document.getElementById("cursorPosition"))),e.push(new o.default(document.getElementById("formatState")));var p={};document.getElementById("boldCheckbox").checked&&(p.bold=!0),document.getElementById("italicCheckbox").checked&&(p.italic=!0),document.getElementById("underlineCheckbox").checked&&(p.underline=!0);var v=document.getElementById("textColorDefaultFormat").value;v&&(p.textColor=v);var g=document.getElementById("fontNameDefaultFormat").value;g&&(p.fontFamily=g);var m={plugins:e,defaultFormat:p};l.setCurrentEditor(new s.Editor(document.getElementById("editor"),m)),c.default(e,p,n&&t)}t.initEditorForOptions=d,t.default=function(){document.getElementById("showHtmlContent").addEventListener("click",function(){window.alert(u.default().getContent(!0))}),document.getElementById("showTextContent").addEventListener("click",function(){var e=u.default().getTextContent();window.alert(e)}),document.getElementById("takeSnapshot").addEventListener("click",function(){var e=u.default().getContent(!1,!0);document.getElementById("snapshotTextarea").value=e}),document.getElementById("resumeSnapshot").addEventListener("click",function(){var e=document.getElementById("snapshotTextarea").value,t=u.default();t.focus(),t.setContent(e,!1)}),["hyperlinkCheckbox","pasteCheckbox","contentEditCheckbox","watermarkCheckbox","imageResizeCheckbox","tableResizeCheckbox","boldCheckbox","italicCheckbox","underlineCheckbox","textColorDefaultFormat","fontNameDefaultFormat","autoLinkCheckbox","indentWhenTabCheckbox","outdentWhenShiftTabCheckbox","outdentWhenBackspaceOnEmptyFirstLineCheckbox","outdentWhenEnterOnEmptyLineCheckbox","mergeInNewLineWhenBackspaceOnFirstCharCheckbox","unquoteWhenBackspaceOnEmptyFirstLineCheckbox","unquoteWhenEnterOnEmptyLineCheckbox","autoBulletCheckbox","tabInTableCheckbox","upDownInTableCheckbox","unlinkWhenBackspaceAfterLinkCheckbox","defaultShortcutCheckbox","smartOrderedListCheckbox"].forEach(function(e){document.getElementById(e).addEventListener("change",d)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.resultContainer=e}return e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.onPluginEvent=function(e){if(2==e.eventType||5==e.eventType||6==e.eventType){var t=this.editor.getCursorRect();if(t){var n="top="+t.top+"; bottom="+t.bottom+"; left="+t.left+"; right="+t.right;this.resultContainer.innerText=n}}},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=function(){function e(e){this.resultContainer=e}return e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.onPluginEvent=function(e){if(2==e.eventType||5==e.eventType||6==e.eventType){var t=r.getFormatState(this.editor);if(t){var n="";t.fontName&&(n+=" <b>fontName:</b> "+t.fontName),t.fontSize&&(n+=" <b>fontSize:</b> "+t.fontSize),t.backgroundColor&&(n+=" <b>backgroundColor:</b> "+t.backgroundColor),t.textColor&&(n+=" <b>textColor:</b> "+t.textColor),t.isBold&&(n+=" <b>Bold</b> "),t.isItalic&&(n+=" <b>Italic</b> "),t.isUnderline&&(n+=" <b>Underline</b> "),t.isBullet&&(n+=" <b>Bullet</b> "),t.isNumbering&&(n+=" <b>Numbering</b> "),t.isStrikeThrough&&(n+=" <b>StrikeThrough</b> "),t.isSubscript&&(n+=" <b>Subscript</b> "),t.isSuperscript&&(n+=" <b>Superscript</b> "),t.canUndo&&(n+=" <b>CanUndo</b> "),t.canRedo&&(n+=" <b>CanReDo</b> "),t.canUnlink&&(n+=" <b>CanUnlink</b>"),t.canAddImageAltText&&(n+=" <b>CanAddImageAltText</b>"),t.headerLevel>0&&(n+=" <b>Header"+t.headerLevel+"</b>"),this.resultContainer.innerHTML=n}}},e}();t.default=o}]);
//# sourceMappingURL=main.map